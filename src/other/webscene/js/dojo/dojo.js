// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/4.0beta2/esri/copyright.txt for details.
//>>built
(function(b,h){var l,m=function(){},g=function(f){for(var s in f)return 0;return 1},e={}.toString,d=function(f){return"[object Function]"==e.call(f)},c=function(f){return"[object String]"==e.call(f)},a=function(f){return"[object Array]"==e.call(f)},k=function(f,s){if(f)for(var a=0;a<f.length;)s(f[a++])},p=function(f,s){for(var a in s)f[a]=s[a];return f},n=function(f,s){return p(Error(f),{src:"dojoLoader",info:s})},u=1,q=function(){return"_"+u++},t=function(f,s,a){return P(f,s,a,0,t)},r=this,v=r.document,
x=v&&v.createElement("DiV"),w=t.has=function(s){return d(f[s])?f[s]=f[s](r,v,x):f[s]},f=w.cache=h.hasCache;w.add=function(s,a,c,k){(void 0===f[s]||k)&&(f[s]=a);return c&&w(s)};w.add("host-webworker","undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope);w("host-webworker")&&(p(h.hasCache,{"host-browser":0,dom:0,"dojo-dom-ready-api":0,"dojo-sniff":0,"dojo-inject-api":1,"host-webworker":1}),h.loaderPatch={injectUrl:function(f,s){try{importScripts(f),s()}catch(a){console.info("failed to load resource ("+
f+")"),console.error(a)}}});for(var s in b.has)w.add(s,b.has[s],0,1);t.async=1;var z=new Function("return eval(arguments[0]);");t.eval=function(f,s){return z(f+"\r\n//# sourceURL\x3d"+s)};var y={},A=t.signal=function(f,s){var c=y[f];k(c&&c.slice(0),function(f){f.apply(null,a(s)?s:[s])})},B=t.on=function(f,s){var a=y[f]||(y[f]=[]);a.push(s);return{remove:function(){for(var f=0;f<a.length;f++)if(a[f]===s){a.splice(f,1);break}}}},E=[],F={},G=[],Q={},M=t.map={},T=[],K={},C="",D={},L={};s={};var W=0,ca=
function(f){var s,a,c,k;for(s in L)a=L[s],(c=s.match(/^url\:(.+)/))?D["url:"+wa(c[1],f)]=a:"*now"==s?k=a:"*noref"!=s&&(c=sa(s,f,!0),D[c.mid]=D["url:"+c.url]=a);k&&k(aa(f));L={}},V=function(f){return f.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,function(f){return"\\"+f})},R=function(f,s){s.splice(0,s.length);for(var a in f)s.push([a,f[a],RegExp("^"+V(a)+"(/|$)"),a.length]);s.sort(function(f,s){return s[3]-f[3]});return s},N=function(f,s){k(f,function(f){s.push([c(f[0])?RegExp("^"+V(f[0])+"$"):f[0],f[1]])})},
H=function(f){var s=f.name;s||(s=f,f={name:s});f=p({main:"main"},f);f.location=f.location?f.location:s;f.packageMap&&(M[s]=f.packageMap);f.main.indexOf("./")||(f.main=f.main.substring(2));Q[s]=f},O=[],I=function(s,a,d){for(var n in s){"waitSeconds"==n&&(t.waitms=1E3*(s[n]||0));"cacheBust"==n&&(C=s[n]?c(s[n])?s[n]:(new Date).getTime()+"":"");if("baseUrl"==n||"combo"==n)t[n]=s[n];s[n]!==f&&(t.rawConfig[n]=s[n],"has"!=n&&w.add("config-"+n,s[n],0,a))}t.baseUrl||(t.baseUrl="./");/\/$/.test(t.baseUrl)||
(t.baseUrl+="/");for(n in s.has)w.add(n,s.has[n],0,a);k(s.packages,H);for(var e in s.packagePaths)k(s.packagePaths[e],function(f){var s=e+"/"+f;c(f)&&(f={name:f});f.location=s;H(f)});R(p(M,s.map),T);k(T,function(f){f[1]=R(f[1],[]);"*"==f[0]&&(T.star=f)});R(p(F,s.paths),G);N(s.aliases,E);if(a)O.push({config:s.config});else for(n in s.config)a=ya(n,d),a.config=p(a.config||{},s.config[n]);s.cache&&(ca(),L=s.cache,s.cache["*noref"]&&ca());A("config",[s,t.rawConfig])};if(w("dojo-cdn")){var J=v.getElementsByTagName("script");
l=0;for(var S,U,ba,X;l<J.length;){S=J[l++];if((ba=S.getAttribute("src"))&&(X=ba.match(/(((.*)\/)|^)dojo\.js(\W|$)/i)))U=X[3]||"",h.baseUrl=h.baseUrl||U,W=S;if(ba=S.getAttribute("data-dojo-config")||S.getAttribute("djConfig"))s=t.eval("({ "+ba+" })","data-dojo-config"),W=S}}t.rawConfig={};I(h,1);w("dojo-cdn")&&((Q.dojo.location=U)&&(U+="/"),Q.dijit.location=U+"../dijit/",Q.dojox.location=U+"../dojox/");I(b,1);I(s,1);var $=function(f){bb(function(){k(f.deps,Wa)})},P=function(f,s,k,d,e){var b;if(c(f)){if((b=
ya(f,d,!0))&&b.executed)return b.result;throw n("undefinedModule",f);}a(f)||(I(f,0,d),f=s,s=k);if(a(f))if(f.length){k="require*"+q();for(var z,u=[],r=0;r<f.length;)z=f[r++],u.push(ya(z,d));b=p(ha("",k,0,""),{injected:2,deps:u,def:s||m,require:d?d.require:t,gc:1});K[b.mid]=b;$(b);var F=Qa&&0!="sync";bb(function(){za(b,F)});b.executed||da.push(b);Ea()}else s&&s();return e},aa=function(f){if(!f)return t;var s=f.require;s||(s=function(a,c,k){return P(a,c,k,f,s)},f.require=p(s,t),s.module=f,s.toUrl=function(s){return wa(s,
f)},s.toAbsMid=function(s){return Fa(s,f)});return s},da=[],Y=[],fa={},ga=function(f){f.injected=1;fa[f.mid]=1;f.url&&(fa[f.url]=f.pack||1);ub()},ea=function(f){f.injected=2;delete fa[f.mid];f.url&&delete fa[f.url];g(fa)&&vb()},ia=t.idle=function(){return!Y.length&&g(fa)&&!da.length&&!Qa},ja=function(f,s){if(s)for(var a=0;a<s.length;a++)if(s[a][2].test(f))return s[a];return 0},Z=function(f){var s=[],a,c;for(f=f.replace(/\\/g,"/").split("/");f.length;)a=f.shift(),".."==a&&s.length&&".."!=c?(s.pop(),
c=s[s.length-1]):"."!=a&&s.push(c=a);return s.join("/")},ha=function(f,s,a,c){return{pid:f,mid:s,pack:a,url:c,executed:0,def:0}},na=function(f,s,a,c,e,b,z,p,q){var u,t,r,F;F=/^\./.test(f);if(/(^\/)|(\:)|(\.js$)/.test(f)||F&&!s)return ha(0,f,0,f);f=Z(F?s.mid+"/../"+f:f);if(/^\./.test(f))throw n("irrationalPath",f);s&&(r=ja(s.mid,b));(r=(r=r||b.star)&&ja(f,r[1]))&&(f=r[1]+f.substring(r[3]));s=(X=f.match(/^([^\/]+)(\/(.+))?$/))?X[1]:"";(u=a[s])?f=s+"/"+(t=X[3]||u.main):s="";var g=0;k(p,function(s){var a=
f.match(s[0]);a&&0<a.length&&(g=d(s[1])?f.replace(s[0],s[1]):s[1])});if(g)return na(g,0,a,c,e,b,z,p,q);if(a=c[f])return q?ha(a.pid,a.mid,a.pack,a.url):c[f];c=(r=ja(f,z))?r[1]+f.substring(r[3]):s?u.location+"/"+t:f;/(^\/)|(\:)/.test(c)||(c=e+c);return ha(s,f,u,Z(c+".js"))},sa=function(f,s,a){return na(f,s,Q,K,t.baseUrl,a?[]:T,a?[]:G,a?[]:E)},xa=function(f,s,a){return f.normalize?f.normalize(s,function(f){return Fa(f,a)}):Fa(s,a)},qa=0,ya=function(f,s,a){var c,k;(c=f.match(/^(.+?)\!(.*)$/))?(k=ya(c[1],
s,a),5===k.executed&&!k.load&&Aa(k),k.load?(c=xa(k,c[2],s),f=k.mid+"!"+(k.dynamic?++qa+"!":"")+c):(c=c[2],f=k.mid+"!"+ ++qa+"!waitingForPlugin"),f={plugin:k,mid:f,req:aa(s),prid:c}):f=sa(f,s);return K[f.mid]||!a&&(K[f.mid]=f)},Fa=t.toAbsMid=function(f,s){return sa(f,s).mid},wa=t.toUrl=function(f,s){var a=sa(f+"/x",s),c=a.url;return Xa(0===a.pid?f:c.substring(0,c.length-5))},ma={injected:2,executed:5,def:3,result:3};U=function(f){return K[f]=p({mid:f},ma)};var oa=U("require"),Ga=U("exports"),Ia=U("module"),
ra={},ta=0,Aa=function(f){var s=f.result;f.dynamic=s.dynamic;f.normalize=s.normalize;f.load=s.load;return f},Ca=function(f){var s={};k(f.loadQ,function(a){var c=xa(f,a.prid,a.req.module),k=f.dynamic?a.mid.replace(/waitingForPlugin$/,c):f.mid+"!"+c,c=p(p({},a),{mid:k,prid:c,injected:0});K[k]||Ya(K[k]=c);s[a.mid]=K[k];ea(a);delete K[a.mid]});f.loadQ=0;var a=function(f){for(var a=f.deps||[],c=0;c<a.length;c++)(f=s[a[c].mid])&&(a[c]=f)},c;for(c in K)a(K[c]);k(da,a)},Ja=function(f){t.trace("loader-finish-exec",
[f.mid]);f.executed=5;f.defOrder=ta++;f.loadQ&&(Aa(f),Ca(f));for(l=0;l<da.length;)da[l]===f?da.splice(l,1):l++;/^require\*/.test(f.mid)&&delete K[f.mid]},Ra=[],za=function(f,s){if(4===f.executed)return t.trace("loader-circular-dependency",[Ra.concat(f.mid).join("-\x3e")]),!f.def||s?ra:f.cjs&&f.cjs.exports;if(!f.executed){if(!f.def)return ra;var a=f.mid,c=f.deps||[],k,n=[],e=0;for(f.executed=4;k=c[e++];){k=k===oa?aa(f):k===Ga?f.cjs.exports:k===Ia?f.cjs:za(k,s);if(k===ra)return f.executed=0,t.trace("loader-exec-module",
["abort",a]),ra;n.push(k)}t.trace("loader-run-factory",[f.mid]);a=f.def;n=d(a)?a.apply(null,n):a;f.result=void 0===n&&f.cjs?f.cjs.exports:n;Ja(f)}return f.result},Qa=0,bb=function(f){try{Qa++,f()}finally{Qa--}ia()&&A("idle",[])},Ea=function(){Qa||bb(function(){for(var f,s,a=0;a<da.length;)f=ta,s=da[a],za(s),f!=ta?a=0:a++})};void 0===w("dojo-loader-eval-hint-url")&&w.add("dojo-loader-eval-hint-url",1);var Xa="function"==typeof b.fixupUrl?b.fixupUrl:function(f){f+="";return f+(C?(/\?/.test(f)?"\x26":
"?")+C:"")},Ya=function(f){var s=f.plugin;5===s.executed&&!s.load&&Aa(s);var a=function(s){f.result=s;ea(f);Ja(f);Ea()};s.load?s.load(f.prid,f.req,a):s.loadQ?s.loadQ.push(f):(s.loadQ=[f],da.unshift(s),Wa(s))},cb=0,kb=0,Ma=0,db=function(f,s){w("config-stripStrict")&&(f=f.replace(/"use strict"/g,""));Ma=1;f===cb?cb.call(null):t.eval(f,w("dojo-loader-eval-hint-url")?s.url:s.mid);Ma=0},Wa=function(f){var s=f.mid,a=f.url;if(!f.executed&&!f.injected&&!(fa[s]||f.url&&(f.pack&&fa[f.url]===f.pack||1==fa[f.url])))if(ga(f),
f.plugin)Ya(f);else{var c=function(){Da(f);if(2!==f.injected){if(w("dojo-enforceDefine")){A("error",n("noDefine",f));return}ea(f);p(f,ma);t.trace("loader-define-nonmodule",[f.url])}Ea()};(cb=D[s]||D["url:"+f.url])?(t.trace("loader-inject",["cache",f.mid,a]),db(cb,f),c()):(t.trace("loader-inject",["script",f.mid,a]),kb=f,t.injectUrl(Xa(a),c,f),kb=0)}},lb=function(f,s,a){t.trace("loader-define-module",[f.mid,s]);if(2===f.injected)return A("error",n("multipleDefine",f)),f;p(f,{deps:s,def:a,cjs:{id:f.mid,
uri:f.url,exports:f.result={},setExports:function(s){f.cjs.exports=s},config:function(){return f.config}}});for(var c=0;s[c];c++)s[c]=ya(s[c],f);ea(f);!d(a)&&!s.length&&(f.result=a,Ja(f));return f},Da=function(f,s){for(var a=[],c,d;Y.length;)d=Y.shift(),s&&(d[0]=s.shift()),c=d[0]&&ya(d[0])||f,a.push([c,d[1],d[2]]);ca(f);k(a,function(f){$(lb.apply(null,f))})},vb=m,ub=m;w.add("ie-event-behavior",v.attachEvent&&"undefined"===typeof Windows&&("undefined"===typeof opera||"[object Opera]"!=opera.toString()));
var Na=function(f,s,a,c){if(w("ie-event-behavior"))return f.attachEvent(a,c),function(){f.detachEvent(a,c)};f.addEventListener(s,c,!1);return function(){f.removeEventListener(s,c,!1)}},qb=Na(window,"load","onload",function(){t.pageLoaded=1;"complete"!=v.readyState&&(v.readyState="complete");qb()}),J=v.getElementsByTagName("script");for(l=0;!W;)if(!/^dojo/.test((S=J[l++])&&S.type))W=S;t.injectUrl=function(f,s,a){a=a.node=v.createElement("script");var c=Na(a,"load","onreadystatechange",function(f){f=
f||window.event;var a=f.target||f.srcElement;if("load"===f.type||/complete|loaded/.test(a.readyState))c(),k(),s&&s()}),k=Na(a,"error","onerror",function(s){c();k();A("error",n("scriptError",[f,s]))});a.type="text/javascript";a.charset="utf-8";a.src=f;W.parentNode.insertBefore(a,W);return a};t.log=m;t.trace=m;S=function(f,s,a){var k=arguments.length,e=["require","exports","module"],b=[0,f,s];1==k?b=[0,d(f)?e:[],f]:2==k&&c(f)?b=[f,d(s)?e:[],s]:3==k&&(b=[f,s,a]);t.trace("loader-define",b.slice(0,2));
if((k=b[0]&&ya(b[0]))&&!fa[k.mid])$(lb(k,b[1],b[2]));else if(!w("ie-event-behavior")||Ma)Y.push(b);else{k=k||kb;if(!k)for(f in fa)if((e=K[f])&&e.node&&"interactive"===e.node.readyState){k=e;break}k?(ca(k),$(lb(k,b[1],b[2]))):A("error",n("ieDefineFailed",b[0]));Ea()}};S.amd={vendor:"dojotoolkit.org"};p(p(t,h.loaderPatch),b.loaderPatch);B("error",function(f){try{if(console.error(f),f instanceof Error){for(var s in f)console.log(s+":",f[s]);console.log(".")}}catch(a){}});p(t,{uid:q,cache:D,packs:Q});
r.define||(r.define=S,r.require=t,k(O,function(f){I(f)}),B=s.deps||b.deps||h.deps,s=s.callback||b.callback||h.callback,t.boot=B||s?[B||[],s]:0)})(this.dojoConfig||this.djConfig||this.require||{},{aliases:[[/^webgl-engine/,function(){return"esri/views/3d/webgl-engine"}],[/^engine/,function(){return"esri/views/3d/webgl-engine"}]],async:1,baseUrl:"js/dojo",hasCache:{"config-selectorEngine":"acme","config-tlmSiblingOfDojo":1,"dojo-built":1,"dojo-has-api":1,"dojo-loader":1,"dojo-undef-api":0,dom:1,"host-browser":1},
packages:[{location:"../put-selector",main:"put",name:"put-selector"},{location:"../xstyle",name:"xstyle"},{location:"../dojox",name:"dojox"},{location:"../webSceneViewer",main:"WebSceneViewer.js",name:"webSceneViewer"},{location:"../dstore",main:"Store",name:"dstore"},{location:"../esri",name:"esri"},{location:"../dijit",name:"dijit"},{location:".",name:"dojo"},{location:"../dgrid",main:"OnDemandGrid",name:"dgrid"}]});
require({cache:{"dojo/request/default":function(){define(["exports","require","../has"],function(b,h,l){var m=l("config-requestProvider");m||(m="./xhr");b.getPlatformDefaultId=function(){return"./xhr"};b.load=function(b,e,d,c){h(["platform"==b?"./xhr":m],function(a){d(a)})}})},"dojo/date":function(){define(["./has","./_base/lang"],function(b,h){var l={getDaysInMonth:function(b){var g=b.getMonth();return 1==g&&l.isLeapYear(b)?29:[31,28,31,30,31,30,31,31,30,31,30,31][g]},isLeapYear:function(b){b=b.getFullYear();
return!(b%400)||!(b%4)&&!!(b%100)},getTimezoneName:function(b){var g=b.toString(),e="",d=g.indexOf("(");if(-1<d)e=g.substring(++d,g.indexOf(")"));else if(d=/([A-Z\/]+) \d{4}$/,g=g.match(d))e=g[1];else if(g=b.toLocaleString(),d=/ ([A-Z\/]+)$/,g=g.match(d))e=g[1];return"AM"==e||"PM"==e?"":e},compare:function(b,g,e){b=new Date(+b);g=new Date(+(g||new Date));"date"==e?(b.setHours(0,0,0,0),g.setHours(0,0,0,0)):"time"==e&&(b.setFullYear(0,0,0),g.setFullYear(0,0,0));return b>g?1:b<g?-1:0},add:function(b,
g,e){var d=new Date(+b),c=!1,a="Date";switch(g){case "day":break;case "weekday":var k;(g=e%5)?k=parseInt(e/5):(g=0<e?5:-5,k=0<e?(e-5)/5:(e+5)/5);var p=b.getDay(),n=0;6==p&&0<e?n=1:0==p&&0>e&&(n=-1);p+=g;if(0==p||6==p)n=0<e?2:-2;e=7*k+g+n;break;case "year":a="FullYear";c=!0;break;case "week":e*=7;break;case "quarter":e*=3;case "month":c=!0;a="Month";break;default:a="UTC"+g.charAt(0).toUpperCase()+g.substring(1)+"s"}if(a)d["set"+a](d["get"+a]()+e);c&&d.getDate()<b.getDate()&&d.setDate(0);return d},
difference:function(b,g,e){g=g||new Date;e=e||"day";var d=g.getFullYear()-b.getFullYear(),c=1;switch(e){case "quarter":b=b.getMonth();g=g.getMonth();b=Math.floor(b/3)+1;g=Math.floor(g/3)+1;c=g+4*d-b;break;case "weekday":d=Math.round(l.difference(b,g,"day"));e=parseInt(l.difference(b,g,"week"));c=d%7;if(0==c)d=5*e;else{var a=0,k=b.getDay();g=g.getDay();e=parseInt(d/7);c=d%7;b=new Date(b);b.setDate(b.getDate()+7*e);b=b.getDay();if(0<d)switch(!0){case 6==k:a=-1;break;case 0==k:a=0;break;case 6==g:a=
-1;break;case 0==g:a=-2;break;case 5<b+c:a=-2}else if(0>d)switch(!0){case 6==k:a=0;break;case 0==k:a=1;break;case 6==g:a=2;break;case 0==g:a=1;break;case 0>b+c:a=2}d=d+a-2*e}c=d;break;case "year":c=d;break;case "month":c=g.getMonth()-b.getMonth()+12*d;break;case "week":c=parseInt(l.difference(b,g,"day")/7);break;case "day":c/=24;case "hour":c/=60;case "minute":c/=60;case "second":c/=1E3;case "millisecond":c*=g.getTime()-b.getTime()}return Math.round(c)}};h.mixin(h.getObject("dojo.date",!0),l);return l})},
"dojo/_base/array":function(){define(["./kernel","../has","./lang"],function(b,h,l){function m(a){return d[a]=new Function("item","index","array",a)}function g(a){var c=!a;return function(n,b,e){var t=0,r=n&&n.length||0,g;r&&"string"==typeof n&&(n=n.split(""));"string"==typeof b&&(b=d[b]||m(b));if(e)for(;t<r;++t){if(g=!b.call(e,n[t],t,n),a^g)return!g}else for(;t<r;++t)if(g=!b(n[t],t,n),a^g)return!g;return c}}function e(k){var d=1,n=0,b=0;k||(d=n=b=-1);return function(e,t,r,g){if(g&&0<d)return a.lastIndexOf(e,
t,r);g=e&&e.length||0;var l=k?g+b:n;r===c?r=k?n:g+b:0>r?(r=g+r,0>r&&(r=n)):r=r>=g?g+b:r;for(g&&"string"==typeof e&&(e=e.split(""));r!=l;r+=d)if(e[r]==t)return r;return-1}}var d={},c,a={every:g(!1),some:g(!0),indexOf:e(!0),lastIndexOf:e(!1),forEach:function(a,c,n){var b=0,e=a&&a.length||0;e&&"string"==typeof a&&(a=a.split(""));"string"==typeof c&&(c=d[c]||m(c));if(n)for(;b<e;++b)c.call(n,a[b],b,a);else for(;b<e;++b)c(a[b],b,a)},map:function(a,c,n,b){var e=0,t=a&&a.length||0;b=new (b||Array)(t);t&&
"string"==typeof a&&(a=a.split(""));"string"==typeof c&&(c=d[c]||m(c));if(n)for(;e<t;++e)b[e]=c.call(n,a[e],e,a);else for(;e<t;++e)b[e]=c(a[e],e,a);return b},filter:function(a,c,n){var b=0,e=a&&a.length||0,t=[],r;e&&"string"==typeof a&&(a=a.split(""));"string"==typeof c&&(c=d[c]||m(c));if(n)for(;b<e;++b)r=a[b],c.call(n,r,b,a)&&t.push(r);else for(;b<e;++b)r=a[b],c(r,b,a)&&t.push(r);return t},clearCache:function(){d={}}};l.mixin(b,a);return a})},"esri/views/3d/navigation/mixins/ConstraintsMixin":function(){define("../../../../core/declare ../../../../core/watchUtils ../../../../geometry/Point ../../support/mathUtils ../../lib/glMatrix ../../constraints/SceneViewAltitudeConstraint ../../webgl-engine/lib/Camera ../../webgl-engine/lib/IntervalUtilities".split(" "),
function(b,h,l,m,g,e,d,c){function a(f){return new B.Tilt({min:function(){return 0.01},max:function(){return m.deg2rad(f.tilt.max)}})}function k(f){return new B.Altitude({min:function(){return f.altitude.min},max:function(){return f.altitude.max}})}var p=g.vec3d,n=g.mat4d,u=new l,q=p.create(),t=p.create(),r=n.create(),v=p.create(),x=p.create(),w=p.create(),f=new d,s=new d,z=p.create(),y={tilt:0,distance:0},A={distance:0,maxFarNearRatio:0},B=b([],{declaredClass:"esri.views.3d.navigation.mixins.ConstraintsMixin",
classMetadata:{properties:{userConstraints:{setter:function(f){this._disconnectUserConstraints();this._connectUserConstraints(f);return f}},elevationProvider:{value:null,setter:function(f){null!==this._elevationChangeHandle&&(this._elevationChangeHandle.remove(),this._elevationChangeHandle=null);null!==this._elevationChangeTileHandle&&(this._elevationChangeTileHandle.remove(),this._elevationChangeTileHandle=null);null!==f&&(this._elevationChangeHandle=f.on("elevation-change",this._elevationChangeHandler.bind(this)),
this._elevationChangeTileHandle=f.on("elevation-change-tile",this._elevationChangeTileHandler.bind(this)));return f}},minPoiDist:{getter:function(){return this._minPoiDistInMeters/this.mapUnitInMeters},dependsOn:["mapUnitInMeters"]},cameraElevationMargin:{getter:function(){return this._cameraElevationMarginInMeters/this.mapUnitInMeters},dependsOn:["mapUnitInMeters"]},minNearDistance:{getter:function(){return this._minNearDistanceInMeters/this.mapUnitInMeters},dependsOn:["mapUnitInMeters"]},constraintsEnabled:{value:!0}}},
constructor:function(){this._userConstraints=null;this._userConstraintsHandles=[];this._clipDistanceHandles=[];this._tiltHandles=[];this._altitudeHandles=[];this.constraints={tilt:this.defaultConstraints.tilt,altitude:this.defaultConstraints.altitude,collision:this.defaultConstraints.collision};this._tiltModeHandler=this._tiltModeHandler.bind(this);this._tiltMaxHandler=this._tiltMaxHandler.bind(this);this._altitudeModeHandler=this._altitudeModeHandler.bind(this);this._altitudeMinMaxHandler=this._altitudeMinMaxHandler.bind(this);
this._clipDistanceModeHandler=this._clipDistanceModeHandler.bind(this);this._clipDistanceNearFarHandler=this._clipDistanceNearFarHandler.bind(this);this._collisionEnabledHandler=this._collisionEnabledHandler.bind(this);this.enableElevationUpdates=!0;this._recomputeTargetCenterForElevationChange=!1;this._terrainElevationAtCameraEye=this._terrainElevationBelowCamera=this._elevationChangeTileHandle=this._elevationChangeHandle=null;this._autoAltitudeConstraints={min:e.MIN_DEFAULT,max:e.MAX_DEFAULT};this.maxFarNearRatio=
2E4;this._minNearDistanceInMeters=2;this._minPoiDistInMeters=4;this._cameraElevationMarginInMeters=5},initialize:function(){this._targetCameraBeforeElevationUpdate=this.cameras.current.copy();this._sceneExtentChangeHandle=this.view.watch("fullExtent",function(f){this._updateAltitudeConstraintFromExtent(f);this._reapplyConstraints();this._camerasChanged()}.bind(this))},_updateAutoAltitudeConstraints:function(f){},updateMapCoordsHelper:function(f,s){this.inherited(arguments);if(!this._userConstraints||
"auto"===this._userConstraints.altitude.mode)this.constraints.altitude=B.Altitude.scale(this.defaultConstraints.altitude,f.mapUnitInMeters);if(!this._userConstraints||"auto"===this._userConstraints.tilt.mode)this.constraints.tilt=B.Tilt.scale(this.defaultConstraints.tilt,f.mapUnitInMeters);this._updateAltitudeConstraintFromExtent(this.view.fullExtent);this._reapplyConstraints();this._camerasChanged()},_updateAltitudeConstraintFromExtent:function(f){f.spatialReference.equals(this.mapCoordsHelper.spatialReference)&&
0<f.xmax-f.xmin&&(this._updateAutoAltitudeConstraints(f),(!this._userConstraints||"auto"===this._userConstraints.altitude.mode)&&this._autoUpdateAltitudeConstraint())},destroy:function(){this._disconnectUserConstraints();this._sceneExtentChangeHandle.remove()},_updateTargetCenterForElevation:function(){if(this.enableElevationUpdates){var f=this.getCameraIntersectTerrain(this.cameras.target.eye,this.cameras.target.center,this.cameras.target.up,0.02);f&&!f.equals(this.cameras.target)&&this.setCamera(f,
{internalUpdate:!0})}},step:function(f){if(!(this.pan&&this.pan.continuous&&this.pan.continuous.active||this.pan.active||this.zoom.active||this.rotate.active)&&this._recomputeTargetCenterForElevationChange){var s=this._targetCameraChangedByElevationUpdate;this._updateTargetCenterForElevation();s&&(this._targetCameraChangedByElevationUpdate=!0);this._recomputeTargetCenterForElevationChange=!1}this.inherited(arguments)},applyConstraints:function(f,s){if(!this.constraintsEnabled)return!1;var a=this._cameraElevationAngle(f,
y),c=this.constraints.tilt.min(a.distance),k=this.constraints.tilt.max(a.distance),d=0;!s&&a.tilt>k?d=a.tilt-k:a.tilt<c&&(d=a.tilt-c);a=!1;0.01<Math.abs(d)&&(p.cross(q,f.up,t),n.identity(r),n.rotate(r,d,t),n.multiplyVec3(r,q),p.add(f.center,q,f.eye),n.multiplyVec3(r,f.up),a=!0);p.subtract(f.center,f.eye,v);d=f.distance;c=this.limitAltitude(d,f.center,v,d);d!==c&&(p.scale(v,-c/d),p.add(f.center,v,f.eye),a=!0);this._autoUpdateTiltConstraint(k);return a},limitTiltByConstraints:function(f,s,a,c){if(!this.constraintsEnabled)return f;
var k=this.constraints.tilt.min(a),d=this.constraints.tilt.max(a);if((void 0===c||0<c)&&f>=d)f=d;else if((void 0===c||0>c)&&f<=k)f=k;f=this.limitTiltByAltitudeConstraints(f,s,a,c);this._autoUpdateTiltConstraint(d);return f},_autoUpdateAltitudeConstraint:function(){var f=this._userConstraints&&this._userConstraints.altitude;f&&"auto"===f.mode&&f.autoUpdate(this.constraints.altitude.min(this),this.constraints.altitude.max(this))},_autoUpdateTiltConstraint:function(f){var s=this._userConstraints&&this._userConstraints.tilt;
void 0===f&&(f=this.constraints.tilt.max(this.cameras.target.distance));s&&"auto"===s.mode&&s.autoUpdate(m.rad2deg(f))},_disconnectUserConstraints:function(){if(this._userConstraints){this._userConstraintsHandles.forEach(function(f){f.remove()});this._userConstraints=null;this._userConstraintsHandles.length=0;var f=this.mapUnitInMeters;this.constraints.tilt=B.Tilt.scale(this.defaultConstraints.tilt,f);this.constraints.altitude=B.Altitude.scale(this.defaultConstraints.altitude,f)}},_connectUserConstraints:function(f){f&&
(this._userConstraints=f,this._userConstraintsHandles.push(h.init(f,"tilt.mode",this._tiltModeHandler),h.init(f,"clipDistance.mode",this._clipDistanceModeHandler),h.init(f,"altitude.mode",this._altitudeModeHandler),h.init(f,"collision.enabled",this._collisionEnabledHandler)))},_camerasChanged:function(){this.targetChanged();this.currentChanged();this.currentHasReachedTarget()&&this.currentReachedTarget()},_reapplyConstraints:function(){var f=!1;this.applyConstraints(this.cameras.current)&&(f=!0);
this.applyConstraints(this.cameras.target)&&(f=!0);f&&this._camerasChanged()},_userConstraintsChanged:function(){this._reapplyConstraints()},_altitudeMinMaxHandler:function(f,s,a){this._userConstraintsChanged()},_tiltMaxHandler:function(f,s,a){this._userConstraintsChanged()},_tiltModeHandler:function(f){this._tiltHandles.forEach(function(f){f.remove()});this._tiltHandles.length=0;"auto"===f?this.constraints.tilt=B.Tilt.scale(this.defaultConstraints.tilt,this.mapUnitInMeters):(this._tiltHandles.push(this._userConstraints.watch("tilt.max",
this._tiltMaxHandler)),this.constraints.tilt=a(this._userConstraints));this._tiltMaxHandler()},_altitudeModeHandler:function(f){this._altitudeHandles.forEach(function(f){f.remove()});this._altitudeHandles.length=0;"auto"===f?(this.constraints.altitude=B.Altitude.scale(this.defaultConstraints.altitude,this.mapUnitInMeters),this._autoUpdateAltitudeConstraint()):(this._altitudeHandles.push(this._userConstraints.watch("altitude.min",this._altitudeMinMaxHandler),this._userConstraints.watch("altitude.max",
this._altitudeMinMaxHandler)),this.constraints.altitude=k(this._userConstraints));this._altitudeMinMaxHandler()},_collisionEnabledHandler:function(f,s,a){this.constraints.collision=new B.Collision(this._userConstraints.collision.enabled);this._userConstraintsChanged()},_clipDistanceNearFarHandler:function(f,s,a){"auto"!==this._userConstraints.clipDistance.mode&&(this.cameras.target.near=this._userConstraints.clipDistance.near,this.cameras.target.far=this._userConstraints.clipDistance.far,this.cameras.current.near=
this._userConstraints.clipDistance.near,this.cameras.current.far=this._userConstraints.clipDistance.far);this._camerasChanged()},_clipDistanceModeHandler:function(f){this._clipDistanceHandles.forEach(function(f){f.remove()});this._clipDistanceHandles.length=0;"auto"!==f&&this._clipDistanceHandles.push(this._userConstraints.watch(["clipDistance.near","clipDistance.far"],this._clipDistanceNearFarHandler));this._clipDistanceNearFarHandler()},_updateAutoNearFar:function(f){var s=this._userConstraints&&
this._userConstraints.clipDistance;if(!(s&&"auto"!==s.mode)){var a=this.mapUnitInMeters,c=this.distanceToSilhouette(f,this.view.fullExtent,a,this._getTerrainElevationBelowCamera(f),A);f.far=c.distance/a;f.far/c.maxFarNearRatio>this.minNearDistance?f.near=f.far/c.maxFarNearRatio:(f.near=this.minNearDistance,f.far=f.near*c.maxFarNearRatio);s&&f===this.cameras.current&&s.autoUpdate(f.near,f.far)}},constrainTargetEyeByElevation:function(f){if(!this.elevationProvider||!this.elevationProvider.spatialReference)return!1;
var s=this.cameras.target;f&&this._targetCameraBeforeElevationUpdate.copyFrom(s);return this._applyTargetEyeElevationConstraint(s.eye,this._getTerrainElevationBelowCamera(s))},constrainTargetEyeByElevationAndMoveLookAt:function(){p.set(this.cameras.target.eye,w);this.constrainTargetEyeByElevation()&&(p.subtract(w,this.cameras.target.eye),p.subtract(this.cameras.target.center,w))},targetChanged:function(f){this.inherited(arguments);this._targetCameraChangedByElevationUpdate=!1;this._updateAutoNearFar(this.cameras.target)},
currentChanged:function(){this._updateAutoNearFar(this.cameras.current);this.inherited(arguments)},_applyTargetEyeElevationConstraint:function(f,s){if(!this.constraintsEnabled)return!1;var a=this.renderCoordsHelper,c=a.getAltitude(f);return this.constraints.collision.enabled&&c-s<this.cameraElevationMargin?(a.setAltitude(s+this.cameraElevationMargin,f,0),!0):!1},_cameraElevationAngle:function(f,s){s=s||{tilt:0,distance:0};this.renderCoordsHelper.worldUpAtPosition(f.center,x);p.subtract(f.eye,f.center,
q);var a=p.length(q),c=Math.acos(p.dot(q,x)/a/p.length(x));s.tilt=c;s.distance=a;return s},_elevationChangeTileHandler:function(a){if(this.enableElevationUpdates&&this._targetCameraChangedByElevationUpdate&&this.constraintsEnabled){var c=!1;a=a.tile.extent;var k=this.renderCoordsHelper.fromRenderCoords(this._targetCameraBeforeElevationUpdate.eye,u,this.mapCoordsHelper.spatialReference);a[0]<k.x&&(a[1]<k.y&&a[2]>k.x&&a[3]>k.y)&&(f.copyFrom(this.cameras.target),this.cameras.target.copyFrom(this._targetCameraBeforeElevationUpdate),
this.constrainTargetEyeByElevation(),c=!s.equals(this.cameras.target),c=this.applyConstraints(this.cameras.target)||c);c&&(this.targetChanged(),this._targetCameraChangedByElevationUpdate=!0)}},_elevationChangeHandler:function(f){if(this.enableElevationUpdates&&this.constraintsEnabled){var s=this.renderCoordsHelper,a=this.mapCoordsHelper.spatialReference,k=this.cameras.target.eye,d=!1;f=f.extent;var n=s.fromRenderCoords(k,a);f[0]<n.x&&(f[1]<n.y&&f[2]>n.x&&f[3]>n.y)&&(this._targetCameraChangedByElevationUpdate||
this._targetCameraBeforeElevationUpdate.copyFrom(this.cameras.target),d=this._applyTargetEyeElevationConstraint(k,this._getTerrainElevationBelowCamera(this.cameras.target)));d&&(this.targetChanged(),this._targetCameraChangedByElevationUpdate=!0);this._recomputeTargetCenterForElevationChange||(d=s.fromRenderCoords(this.cameras.target.center,a),a=Math.max(d.x,n.x),k=Math.min(d.x,n.x),s=Math.max(d.y,n.y),n=Math.min(d.y,n.y),a=c.intersectIntervals([[k,a]],[[f[0],f[2]]]),f=c.intersectIntervals([[n,s]],
[[f[1],f[3]]]),0<a.length&&0<f.length&&(this._recomputeTargetCenterForElevationChange=!0))}},_getTerrainElevationBelowCamera:function(f){if(!this.elevationProvider||!this.elevationProvider.spatialReference)this._terrainElevationBelowCamera=0;else if(null===this._terrainElevationBelowCamera||this._terrainElevationAtCameraEye!==f.eye){var s=this.renderCoordsHelper.fromRenderCoords(f.eye,this.elevationProvider.spatialReference);this._terrainElevationBelowCamera=this.elevationProvider.getElevation(s)||
0;this._terrainElevationAtCameraEye=f.eye}return this._terrainElevationBelowCamera},getCenterIntersectTerrain:function(f,s,a){a||(a=p.create());p.set(s,a);var c=this.picker.pickAlongRay(f,a);this.picker.pickedIntersectionPoint(c,a)||this.getCenterIntersectManifold(f,s,a)||this.getCenterIntersectTerrainFallback(f,s,a);return a},getCenterIntersectManifold:function(f,s,a){p.subtract(s,f,a);return this.intersectManifold(f,a,0,a)},getCameraIntersectTerrain:function(f,s,a,c){var k=this.cameras.current.copy();
f&&(k.eye=f);s&&(k.center=s);a&&(k.up=a);this.getCenterIntersectTerrain(k.eye,k.center,z);p.dist2(k.eye,z)<this.minPoiDist&&this.constraintsEnabled&&(p.scale(k.computeDirection(q),this.minPoiDist),p.subtract(z,q,k.eye),f=this.renderCoordsHelper,s=f.getAltitude(k.eye),this.constraints.collision.enabled&&s<this.cameraElevationMargin&&(p.subtract(z,k.eye,q),f.setAltitude(this.cameraElevationMargin,k.eye),p.add(k.eye,q,z)),k.markViewDirty());0<c?(f=p.dist(k.eye,k.center),p.dist(z,k.center)>f*c&&(k.center=
z)):k.center=z;return k}});B.Tilt=function(f){this.min=f.min;this.max=f.max};B.Tilt.scale=function(f,s){return 1===s?f:new B.Tilt({min:function(a){return f.min(a*s)},max:function(a){return f.max(a*s)}})};B.Tilt.prototype.apply=function(f,s){return m.clamp(f,this.min(s),this.max(s))};B.Altitude=function(f){this.min=f.min;this.max=f.max};B.Altitude.scale=function(f,s){return 1===s?f:new B.Altitude({min:function(a){return f.min(a)/s},max:function(a){return f.max(a)/s}})};B.Altitude.prototype.apply=function(f,
s){return m.clamp(s,this.min(f),this.max(f))};B.Collision=function(f){this.enabled=null!=f?f:!0};return B})},"esri/symbols/MarkerSymbol":function(){define(["../core/declare","dojo/_base/lang","../core/screenUtils","./Symbol"],function(b,h,l,m){return b(m,{declaredClass:"esri.symbols.MarkerSymbol",angle:0,_angleReader:function(b){return b&&-1*b},type:null,xoffset:0,_xoffsetReader:l.pt2px,yoffset:0,_yoffsetReader:l.pt2px,size:12,_sizeReader:function(b){return"auto"===b?b:l.pt2px(b)},toJSON:function(){var b=
l.px2pt(this.size),b=isNaN(b)?void 0:b,e=l.px2pt(this.xoffset),e=isNaN(e)?void 0:e,d=l.px2pt(this.yoffset),d=isNaN(d)?void 0:d;return h.mixin(this.inherited(arguments),{size:"auto"===this.size?this.size:b,angle:this.angle&&-1*this.angle,xoffset:e,yoffset:d})}})})},"esri/views/3d/support/mathUtils":function(){define(["../lib/glMatrix"],function(b){var h=b.vec3d,l=b.mat4d,m=h.create(),g=l.create(),e={deg2rad:function(d){return d*Math.PI/180},rad2deg:function(d){return 180*d/Math.PI},asin:function(d){return Math.asin(1<
d?1:-1>d?-1:d)},acos:function(d){return Math.acos(1<d?1:-1>d?-1:d)},fovx2fovy:function(d,c,a){return 2*Math.atan(a*Math.tan(0.5*d)/c)},fovy2fovx:function(d,c,a){return 2*Math.atan(c*Math.tan(0.5*d)/a)},lerp:function(d,c,a){return d+(c-d)*a},slerp:function(d,c,a,k){k||(k=d);var b=h.length(d),n=h.length(c),e=h.dot(d,c)/b/n;0.999999999999>e&&(h.cross(d,c,m),l.identity(g),l.rotate(g,a*Math.acos(e),m),l.multiplyVec3(g,d,k));h.scale(k,((1-a)*b+a*n)/b)},slerpOrLerp:function(d,c,a,k,b){var n=h.length(d),
e=h.length(c);h.cross(d,c,m);h.length(m)/n/e>b?(c=Math.acos(h.dot(d,c)/n/e),l.identity(g),l.rotate(g,a*c,m),l.multiplyVec3(g,d,k),h.scale(k,((1-a)*n+a*e)/n)):h.lerp(d,c,a,k)},clamp:function(d,c,a){return d<c?c:d>a?a:d},makePiecewiseLinearFunction:function(d){var c=d.length;return function(a){var k=0;if(a<=d[0][0])return d[0][1];if(a>=d[c-1][0])return d[c-1][1];for(;a>d[k][0];)k++;var b=d[k][0];a=(b-a)/(b-d[k-1][0]);return a*d[k-1][1]+(1-a)*d[k][1]}},vectorEquals:function(d,c){if(null==d||null==c)return d!==
c;if(d.length!==c.length)return!1;for(var a=0;a<d.length;a++)if(d[a]!==c[a])return!1;return!0},floatEqualRelative:function(d,c,a){void 0===a&&(a=1E-6);if(isNaN(d)||isNaN(c))return!1;if(d===c)return!0;var k=Math.abs(d-c),b=Math.abs(d),n=Math.abs(c);if(0===d||0===c||1E-12>b&&1E-12>n){if(k>0.01*a)return!1}else if(k/(b+n)>a)return!1;return!0},floatEqualAbsolute:function(d,c,a){void 0===a&&(a=1E-6);return isNaN(d)||isNaN(c)?!1:(d>c?d-c:c-d)<=a},Cyclical:function(d,c){this.min=d;this.max=c;this.range=c-
d;this.ndiff=function(a,c){c=c||0;return Math.ceil((a-c)/this.range)*this.range+c};this._normalize=function(a,c,d,n){n=n||0;d-=n;d<a?d+=this.ndiff(a-d):d>c&&(d-=this.ndiff(d-c));return d+n};this.normalize=function(a,c){return this._normalize(this.min,this.max,a,c)};this.clamp=function(a,k){k=k||0;return e.clamp(a-k,d,c)+k};this.monotonic=function(a,c,d){return a<c?c:c+this.ndiff(a-c,d)};this.minimalMonotonic=function(a,c,d){return this._normalize(a,a+this.range,c,d)};this.center=function(a,c,d){c=
this.monotonic(a,c,d);return this.normalize((a+c)/2,d)};this.diff=function(a,c,d){return this.monotonic(a,c,d)-a};this.contains=function(a,c,d){c=this.minimalMonotonic(a,c);d=this.minimalMonotonic(a,d);return d>a&&d<c}}};e.cyclical2PI=new e.Cyclical(0,2*Math.PI);e.cyclicalPI=new e.Cyclical(-Math.PI,Math.PI);e.cyclicalDeg=new e.Cyclical(0,360);return e})},"esri/layers/SceneLayer":function(){define("require ../core/declare dojo/_base/lang dojo/Deferred dojo/io-query ../core/JSONSupport ../core/urlUtils ../request ../geometry/Extent ../geometry/SpatialReference ./GraphicsLayer ./support/LabelClass ./support/Field ../renderers/support/jsonUtils ../widgets/PopupLegacy/PopupTemplate".split(" "),
function(b,h,l,m,g,e,d,c,a,k,p,n,u,q,t){return h([p,e],{declaredClass:"esri.layers.SceneLayer",classMetadata:{reader:{add:"copyright initialExtent fullExtent geometryType renderer labelingInfo cachedDrawingInfo spatialReference objectIdField popupTemplate".split(" "),exclude:"id version name href ZFactor alias description copyrightText popupInfo".split(" ")}},normalizeCtorArgs:function(a,c){var d=a;"string"===typeof a&&(d=l.mixin({},{url:a},c));this._addTrailingSlash&&"/"!==d.url.charAt(d.url.length-
1)&&(d.url+="/");return d},initialize:function(){this.addResolvingPromise(this._fetchService())},_canUseXhr:null,_addTrailingSlash:!1,_alreadyIssuedWarnings:{},copyright:null,_copyrightReader:function(a,c){return c.copyrightText},fields:null,_fieldsReader:function(a){return a.map(function(a){return new u(a)})},fullExtent:null,_fullExtentReader:function(c,d){var n=d.store,b=n.indexCRS||n.geographicCRS,b=b&&parseInt(b.substring(b.lastIndexOf("/")+1,b.length),10);return new a(n.extent[0],n.extent[1],
n.extent[2],n.extent[3],new k(b))},elevationInfo:null,geometryType:null,_geometryTypeReader:function(a,c){var d=c.store;switch(d&&d.profile){case "features-points":d="esriGeometryPoint";break;case "features-lines":d="esriGeometryPolyline";break;case "features-polygons":d="esriGeometryPolygon";break;default:d="esriGeometryMesh"}return d},initialExtent:null,_initialExtentReader:function(a,c){return this._fullExtentReader(a,c)},_labelingInfoReader:function(a,c){if(a=c.drawingInfo&&c.drawingInfo.labelingInfo){var d=
/\[([^\[\]]+)\]/ig,k,f=this,s=function(s,a){var d=f.getField(a,c.fields);return"["+(d&&d.name||a)+"]"};a=a.map(function(f){f=new n(f);if(k=f.labelExpression)f.labelExpression=k.replace(d,s);return f})}return a},_rendererReader:function(a,c){(a=c.drawingInfo&&c.drawingInfo.renderer)&&(a=q.fromJSON(a));return a},_cachedDrawingInfoReader:function(a,c){a=c.cachedDrawingInfo;if(null==a||"object"!==typeof a)a={};null==a.color&&(a.color=!1);return a},_spatialReferenceReader:function(a,c){return null!=c.spatialReference?
new k(c.spatialReference):this._fullExtentReader(void 0,c).spatialReference},_popupTemplateReader:function(a,c){return c.popupInfo?new t(c.popupInfo):void 0},_objectIdFieldReader:function(a,c){!a&&c.fields&&c.fields.some(function(c){"esriFieldTypeOID"===c.type&&(a=c.name);return!!a});return a},viewModulePaths:{"3d":"../views/3d/layers/SceneLayerView3DFactory"},createGraphicsController:function(a){var c=new m;a.layer=this;a.addUrlTokenFunction=this._addUrlToken.bind(this);a.warningEvent=this.warningEvent.bind(this);
b(["./graphics/controllers/I3SOnDemandController"],function(d){var k=new d(a);k.then(function(){this.emit("graphics-controller-create",{graphicsController:k});c.resolve(k)}.bind(this),function(f){c.reject(f)})}.bind(this));return c.promise},getField:function(a){return!this._companionFeatureLayer?void 0:this._companionFeatureLayer.getField(a)},warningEvent:function(a,c){null==this._alreadyIssuedWarnings[a]&&(this._alreadyIssuedWarnings[a]=!0,this.emit("i3s-load-log",{type:1===c?"fatal":"warning",msg:a}),
console.warn("i3s-load-log warningEvent severity "+c," message "+a))},_addUrlToken:function(a){var c=l.mixin({},this.parsedUrl.query,{token:this.token}),c=g.objectToQuery(c);a+=c?"?"+c:"";null==this._canUseXhr&&(this._canUseXhr=d.canUseXhr(a));return!this._canUseXhr?d.addProxy(a):a},_fetchService:function(){return c({url:this._addUrlToken(this.parsedUrl.path),handleAs:"json"}).then(function(a){a._ssl&&(delete a._ssl,this.url=this.url.replace(/^http:/i,"https:"));var d=a.store;null==d.indexCRS&&null==
d.geographicCRS&&this.warningEvent("Input data invalid: layer.layerInfo.indexCRS is undefined.",1);this.read(a);a=l.getObject("store.profile",!1,a);if(-1<["meshpyramids","features-points"].indexOf(a)){var k=function(s){console.warn("Companion FeatureLayer could not be loaded. Popups will not work for this SceneLayer: "+this.title);f.resolve(this)}.bind(this),n=function(s,a){b(["./FeatureLayer"],function(a){this._companionFeatureLayer=new a(s);this._companionFeatureLayer.then(function(s){if(!this.fields||
0===this.fields.length)this.fields=s.fields;f.resolve(this)}.bind(this),k)}.bind(this))}.bind(this),f=new m;a=this.url.replace("/SceneServer/","/FeatureServer/");var d=a.indexOf("/layers/"),s;0<=d&&(s=parseInt(a.substr(d+8)),a=a.substr(0,d)+"/"+s);var e=a.replace(/\/[\d]*\/?$/,"");c({url:this._addUrlToken(e),content:{f:"json"},handleAs:"json"}).then(function(a){n(e+"/"+a.layers[s].id,f)},k);return f.promise}}.bind(this))}})})},"esri/symbols/FillSymbol":function(){define(["../core/declare","./Symbol",
"./SimpleLineSymbol"],function(b,h,l){return b(h,{declaredClass:"esri.symbols.FillSymbol",classMetadata:{properties:{outline:{type:l}}},type:null,_outlineReader:l.fromJSON,toJSON:function(){var b=this.inherited(arguments);this.outline&&(b.outline=this.outline.toJSON());return b}})})},"esri/portal/PortalListing":function(){define(["./PortalComment","../core/declare","dojo/_base/lang","dojo/_base/array"],function(b,h,l,m){return h([],{declaredClass:"esri.arcgis.PortalListing",portal:null,constructor:function(b){l.mixin(this,
b);this.id=this.itemId;this.url=(this.portal&&this.portal.portalUrl)+"content/"+(this.userItemUrl?"items/":"listings/")+this.itemId;this.commentsUrl=this.url+"/comments";this.created=this.created?new Date(this.created):null;this.banner=this.banner?this.portal.portalUtil.formatUrl(this.url+"/info/"+this.banner):"";this.thumbnail=this.thumbnail?this.portal.portalUtil.formatUrl(this.url+"/info/"+this.thumbnail):"";this.largeThumbnail=this.largeThumbnail?this.portal.portalUtil.formatUrl(this.url+"/info/"+
this.largeThumbnail):"";this.avgRating=this.avgRating||0;this.numRatings=this.numRatings||0;this.numComments=this.numComments||0;this.listingProperties=this.listingProperties||{priceDesc:"",creditsPerTransaction:0,licenseType:"free",trialSupported:!1,trialDuration:0,listingAccess:"private"};for(var e in this.listingProperties)this.listingProperties.hasOwnProperty(e)&&this[e]&&(this.listingProperties[e]=this[e]);this.properties=this.properties||{systemRequirements:"",termsAndConditions:"",version:"1.0"};
this.screenshots=m.map(this.screenshots,function(d){return this.portal.portalUtil.formatUrl(this.url+"/info/"+d)},this);this.vendorName=this.vendor.name;this.vendor.thumbnail=this.vendor.thumbnail?this.userItemUrl?this.portal.portalUtil.formatUrl(this.portal.portalUrl+"/accounts/self/resources/"+this.vendor.thumbnail):this.portal.portalUtil.formatUrl(this.url+"/vendorinfo/"+this.vendor.thumbnail):""},getComments:function(){return this.portal.portalUtil.requestToTypedArray(this.commentsUrl,null,null,
b,{item:this})},getVendor:function(){return this.vendor}})})},"esri/geometry/support/scaleUtils":function(){define(["../../config","../../core/lang","./WKIDUnitConversion"],function(b,h,l){var m=20015077/180,g={getUnitValueForSR:function(b){return this.getUnitValue(b)||m},getUnitValue:function(b){var d,c,a;b&&("object"===typeof b?(d=b.wkid,c=b.wkt):"number"===typeof b?d=b:"string"===typeof b&&(c=b));d?a=l.values[l[d]]:c&&-1!==c.search(/^PROJCS/i)&&(b=/UNIT\[([^\]]+)\]\]$/i.exec(c))&&b[1]&&(a=parseFloat(b[1].split(",")[1]));
return a},getScale:function(e,d,c){var a,k,p;1<arguments.length&&h.isDefined(d)&&!d.declaredClass?(a=e,k=d,d=null,p=g.getUnitValue(c)):(a=d||e.extent,k=e.width,p=g.getUnitValue(a&&a.spatialReference));return a&&k?39.37*(a.getWidth()/k*(p||m))*b.screenDPI:0},getExtentForScale:function(e,d){var c=e.get("extent"),a=e.get("width"),k=g.getUnitValue(c.get("spatialReference"));return c.expand(d*a/(39.37*(k||m)*b.screenDPI)/c.get("width"))}};return g})},"dojo/dom-form":function(){define(["./_base/lang","./dom",
"./io-query","./json"],function(b,h,l,m){var g={fieldToObject:function(b){var d=null;if(b=h.byId(b)){var c=b.name,a=(b.type||"").toLowerCase();if(c&&a&&!b.disabled)if("radio"==a||"checkbox"==a)b.checked&&(d=b.value);else if(b.multiple){d=[];for(b=[b.firstChild];b.length;)for(c=b.pop();c;c=c.nextSibling)if(1==c.nodeType&&"option"==c.tagName.toLowerCase())c.selected&&d.push(c.value);else{c.nextSibling&&b.push(c.nextSibling);c.firstChild&&b.push(c.firstChild);break}}else d=b.value}return d},toObject:function(e){var d=
{};e=h.byId(e).elements;for(var c=0,a=e.length;c<a;++c){var k=e[c],p=k.name,n=(k.type||"").toLowerCase();if(p&&n&&0>"file|submit|image|reset|button".indexOf(n)&&!k.disabled){var u=d,q=p,k=g.fieldToObject(k);if(null!==k){var t=u[q];"string"==typeof t?u[q]=[t,k]:b.isArray(t)?t.push(k):u[q]=k}"image"==n&&(d[p+".x"]=d[p+".y"]=d[p].x=d[p].y=0)}}return d},toQuery:function(b){return l.objectToQuery(g.toObject(b))},toJson:function(b,d){return m.stringify(g.toObject(b),null,d?4:0)}};return g})},"esri/views/3d/SceneViewEnvironmentManager":function(){define("dojo/_base/lang dojo/on ../../core/declare ../../core/Accessor ../../core/Evented ../../core/watchUtils ../../geometry/Point ../../geometry/support/webMercatorUtils ../../geometry/SpatialReference ./support/ViewReadyMixin ./support/sunUtils ./support/earthUtils ./environment/EnvironmentRenderer".split(" "),
function(b,h,l,m,g,e,d,c,a,k,p,n,u){function q(a){a.remove()}var t=new Date,r={hours:0,minutes:0,seconds:0};return l([m,g,k],{declaredClass:"esri.views.3d.SceneViewEnvironmentManager",referencePointUpdateInterval:3E3,referencePointUpdateDistThreshold:1E6,classMetadata:{properties:{realisticAtmosphere:{getter:function(){return this._realisticAtmosphere},setter:function(a){a=!!a;a!==this._realisticAtmosphere&&(this._transparentGround?this._realisticAtmosphere=!1:(this._realisticAtmosphere=a,this._environmentRenderer.realistic=
a));return this._realisticAtmosphere}},transparentGround:{getter:function(){return this._transparentGround},setter:function(a){a=!!a;a!==this._transparentGround&&(this._transparentGround=a,this._environmentRenderer.transparent=a,this.realisticAtmosphere=!a&&this.realisticAtmosphere);return a}},lightingReady:{readOnly:!0,getter:function(){return this._lightingReady}},updating:{readOnly:!0,getter:function(){return!!this._referencePosUpdateQuery||null!=this._referencePosUpdateTimer}}}},getDefaults:function(){return b.mixin({autoAdjustTimezone:!0},
this.inherited(arguments))},constructor:function(){this._lightingReady=!1;this._lastTz={hours:0,minutes:0,seconds:0};this._viewHandles=[];this._environmentHandles=[];this._lightingHandles=[];this._atmosphereHandles=[];this._autoAdjustTimezone=!0;this._pendingCameraChange=this._cameraHandle=null;this._realisticAtmosphere=!1;this._basemapTerrainLoadHandle=this._environmentRenderer=null;this._blockUpdate=!1;this._resetReferencePosition();for(var a="environment spatialReference globeMode camera interacting lighting atmosphere lightingDate lightingDirectShadows lightingAmbientOcclusion atmosphereEnabled".split(" "),
c=0;c<a.length;c++){var d="_"+a[c]+"Handler";this[d]=this[d].bind(this)}},dispose:function(){this._disconnectView();this._resetReferencePosition()},_viewSetter:function(a){this.inherited(arguments);this._autoAdjustTimezoneDisconnect();this._cancelReferencePosUpdates();a&&(this._autoAdjustTimezoneConnect(a),this._viewHandles.push(a.watch("spatialReference",this._spatialReferenceHandler)));return a},_connectView:function(a){this._blockUpdate=!0;this._viewHandles.push(a.watch("interacting",this._interactingHandler),
e.init(a,"environment",this._environmentHandler),e.init(a,"globeMode",this._globeModeHandler),e.init(a.basemapTerrain,"opacity,wireframe",function(){this._environmentRenderer&&(this.transparentGround=this._testTerrainTransparency())}.bind(this)));this._blockUpdate=!1;(a=this.get("view.environment.lighting.date"))&&this._updateLight(a);this._pendingCameraChange&&(this._cameraHandler(this._pendingCameraChange),this._pendingCameraChange=null)},_disconnectView:function(a){this._viewHandles.forEach(q);
this._viewHandles.length=0;this._environmentHandler(null)},_spatialReferenceHandler:function(){this._resetReady()},_globeModeHandler:function(a){this._environmentRenderer&&(this._environmentRenderer.planar="planar"===a);this._resetReady();this._updateLight(this.get("view.environment.lighting.date"))},_resetReady:function(){var a="spherical"===this.view.globeMode;a!==this._lightingReady&&(this._lightingReady=a,this._resetReferencePosition(),this.notifyChange("lightingReady"));this._pushReadyToLighting()},
_setReady:function(){this._lightingReady||(this._lightingReady=!0,this._updateLight(this.get("view.environment.lighting.date")),this.notifyChange("lightingReady"));this._pushReadyToLighting()},_pushReadyToLighting:function(){var a=this.view.environment.lighting;a.ready!==this._lightingReady&&(a._ready=this._lightingReady,a.notifyChange("ready"))},_environmentHandler:function(a){this._environmentHandles.forEach(q);this._environmentHandles.length=0;a?this._environmentHandles.push(e.init(this.view.get("environment"),
"lighting",this._lightingHandler),e.init(this.view.get("environment"),"atmosphere",this._atmosphereHandler)):(this._lightingHandler(null),this._atmosphereHandler(null))},_disableAtmosphere:function(){this._basemapTerrainLoadHandle&&(this._basemapTerrainLoadHandle.remove(),this._basemapTerrainLoadHandle=null);this._environmentRenderer&&(this._environmentRenderer.destroy(),this._environmentRenderer=null)},_atmosphereHandler:function(a){this._atmosphereHandles.forEach(q);this._atmosphereHandles.length=
0;a?this._atmosphereHandles.push(e.init(a,"enabled",this._atmosphereEnabledHandler)):this._disableAtmosphere()},_testTerrainTransparency:function(){return this.view.basemapTerrain&&this.view.basemapTerrain._renderer.isTransparent()},_atmosphereEnabledHandler:function(a){var c="planar"===this.view.globeMode;a=a&&this.view.basemapTerrain;!a&&this._environmentRenderer?this._disableAtmosphere():a&&!this._environmentRenderer&&(this._environmentRenderer=new u({view:this.view,realistic:this._realisticAtmosphere,
planar:c,transparent:this._testTerrainTransparency()}),this.view.basemapTerrain.loaded||c?this._environmentRenderer.init():this._basemapTerrainLoadHandle=this.view.basemapTerrain.on("load",function(){this._environmentRenderer.init();this._basemapTerrainLoadHandle.remove();this._basemapTerrainLoadHandle=null}.bind(this)))},_lightingHandler:function(a){this._lightingHandles.forEach(q);this._lightingHandles.length=0;return a?(this._lightingHandles.push(e.init(a,"date",this._lightingDateHandler),e.init(a,
"directShadows",this._lightingDirectShadowsHandler),e.init(a,"ambientOcclusion",this._lightingAmbientOcclusionHandler)),this._pushReadyToLighting(),!0):!1},_lightingDateHandler:function(a){this.lightingReady&&this._updateLight(a)},_lightingDirectShadowsHandler:function(a){this.view.setRenderingParameters({shadowMap:a})},_lightingAmbientOcclusionHandler:function(a){this.view.setRenderingParameters({ssao:a})},_autoAdjustTimezoneDisconnect:function(){this._cameraHandle&&(this._cameraHandle.remove(),
this._cameraHandle=null)},_autoAdjustTimezoneConnect:function(a){this._cameraHandle=a.watch("camera",this._cameraHandler);e.whenOnce(a,"camera",function(a){n.positionToTimezone(a.position,this._lastTz);this.autoAdjustTimezone&&h.emit(this,"_timezone-change",this._lastTz.hours)})},_autoAdjustTimezoneGetter:function(){return this._autoAdjustTimezone},_autoAdjustTimezoneSetter:function(a){this._autoAdjustTimezone!==a&&(this._autoAdjustTimezone=a)&&(this.view&&this.view.camera)&&n.positionToTimezone(this.view.camera.position,
this._lastTz)},_cameraHandler:function(k){if(k){var n=k.position;"spherical"===this.view.globeMode?(this._referencePosWGS84||(this._referencePosWGS84=new d({spatialReference:a.WGS84})),c.webMercatorToGeographic(n,!1,this._referencePosWGS84),this._referencePosWGS84.z=n.z,this.view.mapCoordsHelper&&(this._referencePosWGS84.z*=this.view.mapCoordsHelper.mapUnitInMeters),this.autoAdjustTimezone&&this._updateTimezone(n)):this.view.ready?(!this._referencePosMapCoords||this._exceedsReferencePosDistThreshold(n))&&
this._requestReferencePositionUpdate(n):this._pendingCameraChange=k}},_interactingHandler:function(a){a||this._executePendingReferencePositionUpdate()},_updateLight:function(a){if(!this._blockUpdate)if(this._referencePosWGS84){var c=p.computeColorAndIntensity(a,this._referencePosWGS84);p.computeDirection(a,this._referencePosWGS84,this.view.globeMode,c.diffuse.direction);this.view.setLightingParameters(c);h.emit(this,"_date-change",a)}else this.view.setLightingParameters({diffuse:{color:[1,1,1],intensity:0.5,
direction:this.view.renderCoordsHelper.worldUp},ambient:{color:[1,1,1],intensity:0.5}})},_updateTimezone:function(a){t.setTime(this.view.get("environment").lighting.date.getTime());a=n.positionToTimezone(a,r);var c=t.getUTCHours()-(a.hours-this._lastTz.hours),d=t.getUTCMinutes()-(a.minutes-this._lastTz.minutes),f=t.getUTCSeconds()-(a.seconds-this._lastTz.seconds);t.setUTCHours(c);t.setUTCMinutes(d);t.setUTCSeconds(f);a.hours!==this._lastTz.hours&&h.emit(this,"_timezone-change",a.hours);this._blockUpdate=
!0;this.view.get("environment").lighting.date=t;this._blockUpdate=!1;this._updateLight(t);this._lastTz.hours=a.hours;this._lastTz.minutes=a.minutes;this._lastTz.seconds=a.seconds},_resetReferencePosition:function(){this._cancelReferencePosUpdates();this._referencePosWGS84=this._referencePosMapCoordsDesired=this._referencePosMapCoords=null},_requestReferencePositionUpdate:function(c){this.view.mapCoordsHelper.canProject()&&(this._referencePosUpdateQuery||null!=this._referencePosUpdateTimer||this.view.interacting?
this._referencePosMapCoordsDesired?this._referencePosMapCoordsDesired.copy(c):this._referencePosMapCoordsDesired=c.clone():(this._referencePosMapCoords?this._referencePosMapCoords.copy(c):this._referencePosMapCoords=c.clone(),this._referencePosUpdateQuery=this.view.mapCoordsHelper.toGeographic(this._referencePosMapCoords).then(function(c){this._referencePosUpdateQuery=null;if(!isNaN(c[0])&&!isNaN(c[1])){var k=this._referencePosMapCoords.z*this.view.mapCoordsHelper.mapUnitInMeters;this._referencePosWGS84?
(this._referencePosWGS84.x=c[0],this._referencePosWGS84.y=c[1],this._referencePosWGS84.z=k):this._referencePosWGS84=new d({x:c[0],y:c[1],z:k,spatialReference:a.WGS84});this._referencePosChanged();null==this._referencePosUpdateTimer&&this._executePendingReferencePositionUpdate()}this.notifyChange("updating")}.bind(this),function(a){this._referencePosUpdateQuery=null;this.notifyChange("updating")}.bind(this)),this._referencePosUpdateTimer=window.setTimeout(function(){this._referencePosUpdateTimer=null;
this._referencePosUpdateQuery||this._executePendingReferencePositionUpdate();this.notifyChange("updating")}.bind(this),this.referencePointUpdateInterval),this.notifyChange("updating")))},_executePendingReferencePositionUpdate:function(){var a=this._referencePosMapCoordsDesired;a&&this._exceedsReferencePosDistThreshold(a)&&(this._referencePosMapCoordsDesired=null,this._requestReferencePositionUpdate(a))},_referencePosChanged:function(){this.autoAdjustTimezone&&this._updateTimezone(this._referencePosWGS84);
this._setReady()},_exceedsReferencePosDistThreshold:function(a){return this._referencePosMapCoords?(a=this._referencePosMapCoords.distance(a),this.view.mapCoordsHelper&&(a*=this.view.mapCoordsHelper.mapUnitInMeters),a>this.referencePointUpdateDistThreshold):!0},_cancelReferencePosUpdates:function(){this._referencePosUpdateQuery&&(this._referencePosUpdateQuery.cancel(),this._referencePosUpdateQuery=null);null!=this._referencePosUpdateTimer&&(window.clearTimeout(this._referencePosUpdateTimer),this._referencePosUpdateTimer=
null)}})})},"dijit/Viewport":function(){define(["dojo/Evented","dojo/on","dojo/domReady","dojo/sniff","dojo/window"],function(b,h,l,m,g){var e=new b,d;l(function(){var c=g.getBox();e._rlh=h(window,"resize",function(){var a=g.getBox();c.h==a.h&&c.w==a.w||(c=a,e.emit("resize"))});if(8==m("ie")){var a=screen.deviceXDPI;setInterval(function(){screen.deviceXDPI!=a&&(a=screen.deviceXDPI,e.emit("resize"))},500)}m("ios")&&(h(document,"focusin",function(a){d=a.target}),h(document,"focusout",function(a){d=
null}))});e.getEffectiveBox=function(c){c=g.getBox(c);var a=d&&d.tagName&&d.tagName.toLowerCase();if(m("ios")&&d&&!d.readOnly&&("textarea"==a||"input"==a&&/^(color|email|number|password|search|tel|text|url)$/.test(d.type)))c.h*=0==orientation||180==orientation?0.66:0.4,a=d.getBoundingClientRect(),c.h=Math.max(c.h,a.top+a.height);return c};return e})},"esri/views/3d/lib/glMatrix":function(){define([],function(){var b={};(function(b,l){l(b,!0);l(b,!1)})(b,function(b,l){var m={};(function(){if("undefined"!=
typeof Float32Array){var f=new Float32Array(1),s=new Int32Array(f.buffer);m.invsqrt=function(a){f[0]=a;s[0]=1597463007-(s[0]>>1);var c=f[0];return c*(1.5-0.5*a*c*c)}}else m.invsqrt=function(f){return 1/Math.sqrt(f)}})();var g=Array;"undefined"!=typeof Float32Array&&(g=l?Float32Array:Array);var e={create:function(f){var s=new g(3);f?(s[0]=f[0],s[1]=f[1],s[2]=f[2]):s[0]=s[1]=s[2]=0;return s},createFrom:function(f,s,a){var c=new g(3);c[0]=f;c[1]=s;c[2]=a;return c},set:function(f,s){s[0]=f[0];s[1]=f[1];
s[2]=f[2];return s},set3:function(f,s,a,c){c[0]=f;c[1]=s;c[2]=a;return c},add:function(f,s,a){if(!a||f===a)return f[0]+=s[0],f[1]+=s[1],f[2]+=s[2],f;a[0]=f[0]+s[0];a[1]=f[1]+s[1];a[2]=f[2]+s[2];return a},subtract:function(f,s,a){if(!a||f===a)return f[0]-=s[0],f[1]-=s[1],f[2]-=s[2],f;a[0]=f[0]-s[0];a[1]=f[1]-s[1];a[2]=f[2]-s[2];return a},multiply:function(f,s,a){if(!a||f===a)return f[0]*=s[0],f[1]*=s[1],f[2]*=s[2],f;a[0]=f[0]*s[0];a[1]=f[1]*s[1];a[2]=f[2]*s[2];return a},max:function(f,s,a){a[0]=Math.max(f[0],
s[0]);a[1]=Math.max(f[1],s[1]);a[2]=Math.max(f[2],s[2]);return a},min:function(f,s,a){a[0]=Math.min(f[0],s[0]);a[1]=Math.min(f[1],s[1]);a[2]=Math.min(f[2],s[2]);return a},negate:function(f,s){s||(s=f);s[0]=-f[0];s[1]=-f[1];s[2]=-f[2];return s},scale:function(f,s,a){if(!a||f===a)return f[0]*=s,f[1]*=s,f[2]*=s,f;a[0]=f[0]*s;a[1]=f[1]*s;a[2]=f[2]*s;return a},normalize:function(f,s){s||(s=f);var a=f[0],c=f[1],d=f[2],k=Math.sqrt(a*a+c*c+d*d);if(k){if(1===k)return s[0]=a,s[1]=c,s[2]=d,s}else return s[0]=
0,s[1]=0,s[2]=0,s;k=1/k;s[0]=a*k;s[1]=c*k;s[2]=d*k;return s},cross:function(f,s,a){a||(a=f);var c=f[0],d=f[1];f=f[2];var k=s[0],n=s[1];s=s[2];a[0]=d*s-f*n;a[1]=f*k-c*s;a[2]=c*n-d*k;return a},length:function(f){var s=f[0],a=f[1];f=f[2];return Math.sqrt(s*s+a*a+f*f)},length2:function(f){var s=f[0],a=f[1];f=f[2];return s*s+a*a+f*f},dot:function(f,s){return f[0]*s[0]+f[1]*s[1]+f[2]*s[2]},direction:function(f,s,a){a||(a=f);var c=f[0]-s[0],d=f[1]-s[1];f=f[2]-s[2];s=Math.sqrt(c*c+d*d+f*f);if(!s)return a[0]=
0,a[1]=0,a[2]=0,a;s=1/s;a[0]=c*s;a[1]=d*s;a[2]=f*s;return a},lerp:function(f,a,c,d){d||(d=f);d[0]=f[0]+c*(a[0]-f[0]);d[1]=f[1]+c*(a[1]-f[1]);d[2]=f[2]+c*(a[2]-f[2]);return d},dist:function(f,a){var c=a[0]-f[0],d=a[1]-f[1],k=a[2]-f[2];return Math.sqrt(c*c+d*d+k*k)},dist2:function(f,a){var c=a[0]-f[0],d=a[1]-f[1],k=a[2]-f[2];return c*c+d*d+k*k}},d=null,c=new g(4);e.unproject=function(f,a,k,n,b){b||(b=f);d||(d=t.create());var e=d;c[0]=2*(f[0]-n[0])/n[2]-1;c[1]=2*(f[1]-n[1])/n[3]-1;c[2]=2*f[2]-1;c[3]=
1;t.multiply(k,a,e);if(!t.inverse(e))return null;t.multiplyVec4(e,c);if(0===c[3])return null;b[0]=c[0]/c[3];b[1]=c[1]/c[3];b[2]=c[2]/c[3];return b};var a=e.createFrom(1,0,0),k=e.createFrom(0,1,0),p=e.createFrom(0,0,1);e.rotationTo=function(f,s,c){c||(c=r.create());var d=e.dot(f,s),n=e.create();if(1<=d)r.set(v,c);else if(-0.999999>d)e.cross(a,f,n),1E-6>n.length&&e.cross(k,f,n),1E-6>n.length&&e.cross(p,f,n),e.normalize(n),r.fromAxisAngle(n,Math.PI,c);else{var d=Math.sqrt(2*(1+d)),b=1/d;e.cross(f,s,
n);c[0]=n[0]*b;c[1]=n[1]*b;c[2]=n[2]*b;c[3]=0.5*d;r.normalize(c)}1<c[3]?c[3]=1:-1>c[3]&&(c[3]=-1);return c};var n=e.create(),u=e.create();e.project=function(f,a,c,d){d||(d=f);e.direction(a,c,n);e.subtract(f,a,u);f=e.dot(n,u);e.scale(n,f,d);e.add(d,a,d)};e.str=function(f){return"["+f[0]+", "+f[1]+", "+f[2]+"]"};var q={create:function(f){var a=new g(9);f?(a[0]=f[0],a[1]=f[1],a[2]=f[2],a[3]=f[3],a[4]=f[4],a[5]=f[5],a[6]=f[6],a[7]=f[7],a[8]=f[8]):a[0]=a[1]=a[2]=a[3]=a[4]=a[5]=a[6]=a[7]=a[8]=0;return a},
createFrom:function(f,a,c,d,k,n,b,e,p){var q=new g(9);q[0]=f;q[1]=a;q[2]=c;q[3]=d;q[4]=k;q[5]=n;q[6]=b;q[7]=e;q[8]=p;return q},determinant:function(f){var a=f[3],c=f[4],d=f[5],k=f[6],n=f[7],b=f[8];return f[0]*(b*c-d*n)+f[1]*(-b*a+d*k)+f[2]*(n*a-c*k)},inverse:function(f,a){var c=f[0],d=f[1],k=f[2],n=f[3],b=f[4],e=f[5],p=f[6],u=f[7],t=f[8],g=t*b-e*u,r=-t*n+e*p,l=u*n-b*p,v=c*g+d*r+k*l;if(!v)return null;v=1/v;a||(a=q.create());a[0]=g*v;a[1]=(-t*d+k*u)*v;a[2]=(e*d-k*b)*v;a[3]=r*v;a[4]=(t*c-k*p)*v;a[5]=
(-e*c+k*n)*v;a[6]=l*v;a[7]=(-u*c+d*p)*v;a[8]=(b*c-d*n)*v;return a},multiply:function(f,a,c){c||(c=f);var d=f[0],k=f[1],n=f[2],b=f[3],e=f[4],p=f[5],q=f[6],u=f[7];f=f[8];var t=a[0],g=a[1],r=a[2],l=a[3],v=a[4],m=a[5],h=a[6],x=a[7];a=a[8];c[0]=t*d+g*b+r*q;c[1]=t*k+g*e+r*u;c[2]=t*n+g*p+r*f;c[3]=l*d+v*b+m*q;c[4]=l*k+v*e+m*u;c[5]=l*n+v*p+m*f;c[6]=h*d+x*b+a*q;c[7]=h*k+x*e+a*u;c[8]=h*n+x*p+a*f;return c},multiplyVec2:function(f,a,c){c||(c=a);var d=a[0];a=a[1];c[0]=d*f[0]+a*f[3]+f[6];c[1]=d*f[1]+a*f[4]+f[7];
return c},multiplyVec3:function(f,a,c){c||(c=a);var d=a[0],k=a[1];a=a[2];c[0]=d*f[0]+k*f[3]+a*f[6];c[1]=d*f[1]+k*f[4]+a*f[7];c[2]=d*f[2]+k*f[5]+a*f[8];return c},set:function(f,a){a[0]=f[0];a[1]=f[1];a[2]=f[2];a[3]=f[3];a[4]=f[4];a[5]=f[5];a[6]=f[6];a[7]=f[7];a[8]=f[8];return a},identity:function(f){f||(f=q.create());f[0]=1;f[1]=0;f[2]=0;f[3]=0;f[4]=1;f[5]=0;f[6]=0;f[7]=0;f[8]=1;return f},transpose:function(f,a){if(!a||f===a){var c=f[1],d=f[2],k=f[5];f[1]=f[3];f[2]=f[6];f[3]=c;f[5]=f[7];f[6]=d;f[7]=
k;return f}a[0]=f[0];a[1]=f[3];a[2]=f[6];a[3]=f[1];a[4]=f[4];a[5]=f[7];a[6]=f[2];a[7]=f[5];a[8]=f[8];return a},toMat4:function(f,a){a||(a=t.create());a[15]=1;a[14]=0;a[13]=0;a[12]=0;a[11]=0;a[10]=f[8];a[9]=f[7];a[8]=f[6];a[7]=0;a[6]=f[5];a[5]=f[4];a[4]=f[3];a[3]=0;a[2]=f[2];a[1]=f[1];a[0]=f[0];return a},str:function(f){return"["+f[0]+", "+f[1]+", "+f[2]+", "+f[3]+", "+f[4]+", "+f[5]+", "+f[6]+", "+f[7]+", "+f[8]+"]"}},t={create:function(f){var a=new g(16);4===arguments.length?(a[0]=arguments[0],a[1]=
arguments[1],a[2]=arguments[2],a[3]=arguments[3],a[4]=arguments[4],a[5]=arguments[5],a[6]=arguments[6],a[7]=arguments[7],a[8]=arguments[8],a[9]=arguments[9],a[10]=arguments[10],a[11]=arguments[11],a[12]=arguments[12],a[13]=arguments[13],a[14]=arguments[14],a[15]=arguments[15]):f&&(a[0]=f[0],a[1]=f[1],a[2]=f[2],a[3]=f[3],a[4]=f[4],a[5]=f[5],a[6]=f[6],a[7]=f[7],a[8]=f[8],a[9]=f[9],a[10]=f[10],a[11]=f[11],a[12]=f[12],a[13]=f[13],a[14]=f[14],a[15]=f[15]);return a},createFrom:function(f,a,c,d,k,n,b,e,
p,q,u,t,r,l,v,m){var h=new g(16);h[0]=f;h[1]=a;h[2]=c;h[3]=d;h[4]=k;h[5]=n;h[6]=b;h[7]=e;h[8]=p;h[9]=q;h[10]=u;h[11]=t;h[12]=r;h[13]=l;h[14]=v;h[15]=m;return h},createFromMatrixRowMajor:function(f){var a=new g(16);a[0]=f[0];a[4]=f[1];a[8]=f[2];a[12]=f[3];a[1]=f[4];a[5]=f[5];a[9]=f[6];a[13]=f[7];a[2]=f[8];a[6]=f[9];a[10]=f[10];a[14]=f[11];a[3]=f[12];a[7]=f[13];a[11]=f[14];a[15]=f[15];return a},createFromMatrix:function(f){var a=new g(16);a[0]=f[0];a[1]=f[1];a[2]=f[2];a[3]=f[3];a[4]=f[4];a[5]=f[5];
a[6]=f[6];a[7]=f[7];a[8]=f[8];a[9]=f[9];a[10]=f[10];a[11]=f[11];a[12]=f[12];a[13]=f[13];a[14]=f[14];a[15]=f[15];return a},set:function(f,a){a[0]=f[0];a[1]=f[1];a[2]=f[2];a[3]=f[3];a[4]=f[4];a[5]=f[5];a[6]=f[6];a[7]=f[7];a[8]=f[8];a[9]=f[9];a[10]=f[10];a[11]=f[11];a[12]=f[12];a[13]=f[13];a[14]=f[14];a[15]=f[15];return a},setRowMajor:function(f,a){a[0]=f[0];a[4]=f[1];a[8]=f[2];a[12]=f[3];a[1]=f[4];a[5]=f[5];a[9]=f[6];a[13]=f[7];a[2]=f[8];a[6]=f[9];a[10]=f[10];a[14]=f[11];a[3]=f[12];a[7]=f[13];a[11]=
f[14];a[15]=f[15];return a},identity:function(f){f||(f=t.create());f[0]=1;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=1;f[6]=0;f[7]=0;f[8]=0;f[9]=0;f[10]=1;f[11]=0;f[12]=0;f[13]=0;f[14]=0;f[15]=1;return f},transpose:function(f,a){if(!a||f===a){var c=f[1],d=f[2],k=f[3],n=f[6],b=f[7],e=f[11];f[1]=f[4];f[2]=f[8];f[3]=f[12];f[4]=c;f[6]=f[9];f[7]=f[13];f[8]=d;f[9]=n;f[11]=f[14];f[12]=k;f[13]=b;f[14]=e;return f}a[0]=f[0];a[1]=f[4];a[2]=f[8];a[3]=f[12];a[4]=f[1];a[5]=f[5];a[6]=f[9];a[7]=f[13];a[8]=f[2];a[9]=f[6];a[10]=
f[10];a[11]=f[14];a[12]=f[3];a[13]=f[7];a[14]=f[11];a[15]=f[15];return a},determinant:function(f){var a=f[0],c=f[1],d=f[2],k=f[3],n=f[4],b=f[5],e=f[6],p=f[7],q=f[8],u=f[9],t=f[10],g=f[11],r=f[12],l=f[13],v=f[14];f=f[15];return r*u*e*k-q*l*e*k-r*b*t*k+n*l*t*k+q*b*v*k-n*u*v*k-r*u*d*p+q*l*d*p+r*c*t*p-a*l*t*p-q*c*v*p+a*u*v*p+r*b*d*g-n*l*d*g-r*c*e*g+a*l*e*g+n*c*v*g-a*b*v*g-q*b*d*f+n*u*d*f+q*c*e*f-a*u*e*f-n*c*t*f+a*b*t*f},inverse:function(f,a){a||(a=f);var c=f[0],d=f[1],k=f[2],n=f[3],b=f[4],e=f[5],p=f[6],
q=f[7],u=f[8],t=f[9],g=f[10],r=f[11],l=f[12],v=f[13],m=f[14],h=f[15],x=c*e-d*b,w=c*p-k*b,N=c*q-n*b,H=d*p-k*e,O=d*q-n*e,I=k*q-n*p,J=u*v-t*l,S=u*m-g*l,U=u*h-r*l,ba=t*m-g*v,X=t*h-r*v,$=g*h-r*m,P=x*$-w*X+N*ba+H*U-O*S+I*J;if(!P)return null;P=1/P;a[0]=(e*$-p*X+q*ba)*P;a[1]=(-d*$+k*X-n*ba)*P;a[2]=(v*I-m*O+h*H)*P;a[3]=(-t*I+g*O-r*H)*P;a[4]=(-b*$+p*U-q*S)*P;a[5]=(c*$-k*U+n*S)*P;a[6]=(-l*I+m*N-h*w)*P;a[7]=(u*I-g*N+r*w)*P;a[8]=(b*X-e*U+q*J)*P;a[9]=(-c*X+d*U-n*J)*P;a[10]=(l*O-v*N+h*x)*P;a[11]=(-u*O+t*N-r*x)*
P;a[12]=(-b*ba+e*S-p*J)*P;a[13]=(c*ba-d*S+k*J)*P;a[14]=(-l*H+v*w-m*x)*P;a[15]=(u*H-t*w+g*x)*P;return a},toRotationMat:function(f,a){a||(a=t.create());a[0]=f[0];a[1]=f[1];a[2]=f[2];a[3]=f[3];a[4]=f[4];a[5]=f[5];a[6]=f[6];a[7]=f[7];a[8]=f[8];a[9]=f[9];a[10]=f[10];a[11]=f[11];a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a},toMat3:function(f,a){a||(a=q.create());a[0]=f[0];a[1]=f[1];a[2]=f[2];a[3]=f[4];a[4]=f[5];a[5]=f[6];a[6]=f[8];a[7]=f[9];a[8]=f[10];return a},toInverseMat3:function(f,a){var c=f[0],d=f[1],
k=f[2],n=f[4],b=f[5],e=f[6],p=f[8],u=f[9],t=f[10],g=t*b-e*u,r=-t*n+e*p,l=u*n-b*p,v=c*g+d*r+k*l;if(!v)return null;v=1/v;a||(a=q.create());a[0]=g*v;a[1]=(-t*d+k*u)*v;a[2]=(e*d-k*b)*v;a[3]=r*v;a[4]=(t*c-k*p)*v;a[5]=(-e*c+k*n)*v;a[6]=l*v;a[7]=(-u*c+d*p)*v;a[8]=(b*c-d*n)*v;return a},multiply:function(f,a,c){c||(c=f);var d=f[0],k=f[1],n=f[2],b=f[3],e=f[4],p=f[5],q=f[6],u=f[7],t=f[8],g=f[9],r=f[10],l=f[11],v=f[12],m=f[13],h=f[14];f=f[15];var x=a[0],w=a[1],N=a[2],H=a[3],O=a[4],I=a[5],J=a[6],S=a[7],U=a[8],
ba=a[9],X=a[10],$=a[11],P=a[12],aa=a[13],da=a[14];a=a[15];c[0]=x*d+w*e+N*t+H*v;c[1]=x*k+w*p+N*g+H*m;c[2]=x*n+w*q+N*r+H*h;c[3]=x*b+w*u+N*l+H*f;c[4]=O*d+I*e+J*t+S*v;c[5]=O*k+I*p+J*g+S*m;c[6]=O*n+I*q+J*r+S*h;c[7]=O*b+I*u+J*l+S*f;c[8]=U*d+ba*e+X*t+$*v;c[9]=U*k+ba*p+X*g+$*m;c[10]=U*n+ba*q+X*r+$*h;c[11]=U*b+ba*u+X*l+$*f;c[12]=P*d+aa*e+da*t+a*v;c[13]=P*k+aa*p+da*g+a*m;c[14]=P*n+aa*q+da*r+a*h;c[15]=P*b+aa*u+da*l+a*f;return c},multiplyVec3:function(f,a,c){c||(c=a);var d=a[0],k=a[1];a=a[2];c[0]=f[0]*d+f[4]*
k+f[8]*a+f[12];c[1]=f[1]*d+f[5]*k+f[9]*a+f[13];c[2]=f[2]*d+f[6]*k+f[10]*a+f[14];return c},multiplyVec4:function(f,a,c){c||(c=a);var d=a[0],k=a[1],n=a[2];a=a[3];c[0]=f[0]*d+f[4]*k+f[8]*n+f[12]*a;c[1]=f[1]*d+f[5]*k+f[9]*n+f[13]*a;c[2]=f[2]*d+f[6]*k+f[10]*n+f[14]*a;c[3]=f[3]*d+f[7]*k+f[11]*n+f[15]*a;return c},translate:function(f,a,c){var d=a[0],k=a[1];a=a[2];var n,b,e,p,q,u,t,g,r,l,v,m;if(!c||f===c)return f[12]=f[0]*d+f[4]*k+f[8]*a+f[12],f[13]=f[1]*d+f[5]*k+f[9]*a+f[13],f[14]=f[2]*d+f[6]*k+f[10]*a+
f[14],f[15]=f[3]*d+f[7]*k+f[11]*a+f[15],f;n=f[0];b=f[1];e=f[2];p=f[3];q=f[4];u=f[5];t=f[6];g=f[7];r=f[8];l=f[9];v=f[10];m=f[11];c[0]=n;c[1]=b;c[2]=e;c[3]=p;c[4]=q;c[5]=u;c[6]=t;c[7]=g;c[8]=r;c[9]=l;c[10]=v;c[11]=m;c[12]=n*d+q*k+r*a+f[12];c[13]=b*d+u*k+l*a+f[13];c[14]=e*d+t*k+v*a+f[14];c[15]=p*d+g*k+m*a+f[15];return c},scale:function(f,a,c){var d=a[0],k=a[1];a=a[2];if(!c||f===c)return f[0]*=d,f[1]*=d,f[2]*=d,f[3]*=d,f[4]*=k,f[5]*=k,f[6]*=k,f[7]*=k,f[8]*=a,f[9]*=a,f[10]*=a,f[11]*=a,f;c[0]=f[0]*d;c[1]=
f[1]*d;c[2]=f[2]*d;c[3]=f[3]*d;c[4]=f[4]*k;c[5]=f[5]*k;c[6]=f[6]*k;c[7]=f[7]*k;c[8]=f[8]*a;c[9]=f[9]*a;c[10]=f[10]*a;c[11]=f[11]*a;c[12]=f[12];c[13]=f[13];c[14]=f[14];c[15]=f[15];return c},maxScale:function(f){var a=Math.sqrt(f[0]*f[0]+f[4]*f[4]+f[8]*f[8]),c=Math.sqrt(f[1]*f[1]+f[5]*f[5]+f[9]*f[9]);f=Math.sqrt(f[2]*f[2]+f[6]*f[6]+f[10]*f[10]);return Math.max(Math.max(a,c),f)},rotate:function(f,a,c,d){var k=c[0],n=c[1];c=c[2];var b=Math.sqrt(k*k+n*n+c*c),e,p,q,u,t,g,r,l,v,m,h,x,w,N,H,O,I,J,S,U;if(!b)return null;
1!==b&&(b=1/b,k*=b,n*=b,c*=b);e=Math.sin(a);p=Math.cos(a);q=1-p;a=f[0];b=f[1];u=f[2];t=f[3];g=f[4];r=f[5];l=f[6];v=f[7];m=f[8];h=f[9];x=f[10];w=f[11];N=k*k*q+p;H=n*k*q+c*e;O=c*k*q-n*e;I=k*n*q-c*e;J=n*n*q+p;S=c*n*q+k*e;U=k*c*q+n*e;k=n*c*q-k*e;n=c*c*q+p;d?f!==d&&(d[12]=f[12],d[13]=f[13],d[14]=f[14],d[15]=f[15]):d=f;d[0]=a*N+g*H+m*O;d[1]=b*N+r*H+h*O;d[2]=u*N+l*H+x*O;d[3]=t*N+v*H+w*O;d[4]=a*I+g*J+m*S;d[5]=b*I+r*J+h*S;d[6]=u*I+l*J+x*S;d[7]=t*I+v*J+w*S;d[8]=a*U+g*k+m*n;d[9]=b*U+r*k+h*n;d[10]=u*U+l*k+x*
n;d[11]=t*U+v*k+w*n;return d},rotateX:function(f,a,c){var d=Math.sin(a);a=Math.cos(a);var k=f[4],n=f[5],b=f[6],e=f[7],p=f[8],q=f[9],u=f[10],t=f[11];c?f!==c&&(c[0]=f[0],c[1]=f[1],c[2]=f[2],c[3]=f[3],c[12]=f[12],c[13]=f[13],c[14]=f[14],c[15]=f[15]):c=f;c[4]=k*a+p*d;c[5]=n*a+q*d;c[6]=b*a+u*d;c[7]=e*a+t*d;c[8]=k*-d+p*a;c[9]=n*-d+q*a;c[10]=b*-d+u*a;c[11]=e*-d+t*a;return c},rotateY:function(f,a,c){var d=Math.sin(a);a=Math.cos(a);var k=f[0],n=f[1],b=f[2],e=f[3],p=f[8],q=f[9],u=f[10],t=f[11];c?f!==c&&(c[4]=
f[4],c[5]=f[5],c[6]=f[6],c[7]=f[7],c[12]=f[12],c[13]=f[13],c[14]=f[14],c[15]=f[15]):c=f;c[0]=k*a+p*-d;c[1]=n*a+q*-d;c[2]=b*a+u*-d;c[3]=e*a+t*-d;c[8]=k*d+p*a;c[9]=n*d+q*a;c[10]=b*d+u*a;c[11]=e*d+t*a;return c},rotateZ:function(f,a,c){var d=Math.sin(a);a=Math.cos(a);var k=f[0],n=f[1],b=f[2],e=f[3],p=f[4],q=f[5],u=f[6],t=f[7];c?f!==c&&(c[8]=f[8],c[9]=f[9],c[10]=f[10],c[11]=f[11],c[12]=f[12],c[13]=f[13],c[14]=f[14],c[15]=f[15]):c=f;c[0]=k*a+p*d;c[1]=n*a+q*d;c[2]=b*a+u*d;c[3]=e*a+t*d;c[4]=k*-d+p*a;c[5]=
n*-d+q*a;c[6]=b*-d+u*a;c[7]=e*-d+t*a;return c},frustum:function(f,a,c,d,k,n,b){b||(b=t.create());var e=a-f,p=d-c,q=n-k;b[0]=2*k/e;b[1]=0;b[2]=0;b[3]=0;b[4]=0;b[5]=2*k/p;b[6]=0;b[7]=0;b[8]=(a+f)/e;b[9]=(d+c)/p;b[10]=-(n+k)/q;b[11]=-1;b[12]=0;b[13]=0;b[14]=-(2*n*k)/q;b[15]=0;return b},perspective:function(f,a,c,d,k){f=c*Math.tan(f*Math.PI/360);a*=f;return t.frustum(-a,a,-f,f,c,d,k)},ortho:function(f,a,c,d,k,n,b){b||(b=t.create());var e=a-f,p=d-c,q=n-k;b[0]=2/e;b[1]=0;b[2]=0;b[3]=0;b[4]=0;b[5]=2/p;b[6]=
0;b[7]=0;b[8]=0;b[9]=0;b[10]=-2/q;b[11]=0;b[12]=-(f+a)/e;b[13]=-(d+c)/p;b[14]=-(n+k)/q;b[15]=1;return b},lookAt:function(f,a,c,d){d||(d=t.create());var k,n,b,e,p,q,u,g,r=f[0],l=f[1];f=f[2];b=c[0];e=c[1];n=c[2];u=a[0];c=a[1];k=a[2];if(r===u&&l===c&&f===k)return t.identity(d);a=r-u;c=l-c;u=f-k;g=1/Math.sqrt(a*a+c*c+u*u);a*=g;c*=g;u*=g;k=e*u-n*c;n=n*a-b*u;b=b*c-e*a;(g=Math.sqrt(k*k+n*n+b*b))?(g=1/g,k*=g,n*=g,b*=g):b=n=k=0;e=c*b-u*n;p=u*k-a*b;q=a*n-c*k;(g=Math.sqrt(e*e+p*p+q*q))?(g=1/g,e*=g,p*=g,q*=g):
q=p=e=0;d[0]=k;d[1]=e;d[2]=a;d[3]=0;d[4]=n;d[5]=p;d[6]=c;d[7]=0;d[8]=b;d[9]=q;d[10]=u;d[11]=0;d[12]=-(k*r+n*l+b*f);d[13]=-(e*r+p*l+q*f);d[14]=-(a*r+c*l+u*f);d[15]=1;return d},fromRotationTranslation:function(f,a,c){c||(c=t.create());var d=f[0],k=f[1],n=f[2],b=f[3],e=d+d,p=k+k,q=n+n;f=d*e;var u=d*p,d=d*q,g=k*p,k=k*q,n=n*q,e=b*e,p=b*p,b=b*q;c[0]=1-(g+n);c[1]=u+b;c[2]=d-p;c[3]=0;c[4]=u-b;c[5]=1-(f+n);c[6]=k+e;c[7]=0;c[8]=d+p;c[9]=k-e;c[10]=1-(f+g);c[11]=0;c[12]=a[0];c[13]=a[1];c[14]=a[2];c[15]=1;return c},
str:function(f){return"["+f[0]+", "+f[1]+", "+f[2]+", "+f[3]+", "+f[4]+", "+f[5]+", "+f[6]+", "+f[7]+", "+f[8]+", "+f[9]+", "+f[10]+", "+f[11]+", "+f[12]+", "+f[13]+", "+f[14]+", "+f[15]+"]"}},r={create:function(f){var a=new g(4);f?(a[0]=f[0],a[1]=f[1],a[2]=f[2],a[3]=f[3]):a[0]=a[1]=a[2]=a[3]=0;return a},createFrom:function(f,a,c,d){var k=new g(4);k[0]=f;k[1]=a;k[2]=c;k[3]=d;return k},set:function(f,a){a[0]=f[0];a[1]=f[1];a[2]=f[2];a[3]=f[3];return a},identity:function(f){f||(f=r.create());f[0]=0;
f[1]=0;f[2]=0;f[3]=1;return f}},v=r.identity();r.calculateW=function(f,a){var c=f[0],d=f[1],k=f[2];if(!a||f===a)return f[3]=-Math.sqrt(Math.abs(1-c*c-d*d-k*k)),f;a[0]=c;a[1]=d;a[2]=k;a[3]=-Math.sqrt(Math.abs(1-c*c-d*d-k*k));return a};r.dot=function(f,a){return f[0]*a[0]+f[1]*a[1]+f[2]*a[2]+f[3]*a[3]};r.inverse=function(f,a){var c=f[0],d=f[1],k=f[2],n=f[3],c=(c=c*c+d*d+k*k+n*n)?1/c:0;if(!a||f===a)return f[0]*=-c,f[1]*=-c,f[2]*=-c,f[3]*=c,f;a[0]=-f[0]*c;a[1]=-f[1]*c;a[2]=-f[2]*c;a[3]=f[3]*c;return a};
r.conjugate=function(f,a){if(!a||f===a)return f[0]*=-1,f[1]*=-1,f[2]*=-1,f;a[0]=-f[0];a[1]=-f[1];a[2]=-f[2];a[3]=f[3];return a};r.length=function(f){var a=f[0],c=f[1],d=f[2];f=f[3];return Math.sqrt(a*a+c*c+d*d+f*f)};r.normalize=function(f,a){a||(a=f);var c=f[0],d=f[1],k=f[2],n=f[3],b=Math.sqrt(c*c+d*d+k*k+n*n);if(0===b)return a[0]=0,a[1]=0,a[2]=0,a[3]=0,a;b=1/b;a[0]=c*b;a[1]=d*b;a[2]=k*b;a[3]=n*b;return a};r.add=function(f,a,c){if(!c||f===c)return f[0]+=a[0],f[1]+=a[1],f[2]+=a[2],f[3]+=a[3],f;c[0]=
f[0]+a[0];c[1]=f[1]+a[1];c[2]=f[2]+a[2];c[3]=f[3]+a[3];return c};r.multiply=function(f,a,c){c||(c=f);var d=f[0],k=f[1],n=f[2];f=f[3];var b=a[0],e=a[1],p=a[2];a=a[3];c[0]=d*a+f*b+k*p-n*e;c[1]=k*a+f*e+n*b-d*p;c[2]=n*a+f*p+d*e-k*b;c[3]=f*a-d*b-k*e-n*p;return c};r.multiplyVec3=function(f,a,c){c||(c=a);var d=a[0],k=a[1],n=a[2];a=f[0];var b=f[1],e=f[2];f=f[3];var p=f*d+b*n-e*k,q=f*k+e*d-a*n,u=f*n+a*k-b*d,d=-a*d-b*k-e*n;c[0]=p*f+d*-a+q*-e-u*-b;c[1]=q*f+d*-b+u*-a-p*-e;c[2]=u*f+d*-e+p*-b-q*-a;return c};r.scale=
function(f,a,c){if(!c||f===c)return f[0]*=a,f[1]*=a,f[2]*=a,f[3]*=a,f;c[0]=f[0]*a;c[1]=f[1]*a;c[2]=f[2]*a;c[3]=f[3]*a;return c};r.toMat3=function(f,a){a||(a=q.create());var c=f[0],d=f[1],k=f[2],n=f[3],b=c+c,e=d+d,p=k+k,u=c*b,t=c*e,c=c*p,g=d*e,d=d*p,k=k*p,b=n*b,e=n*e,n=n*p;a[0]=1-(g+k);a[1]=t+n;a[2]=c-e;a[3]=t-n;a[4]=1-(u+k);a[5]=d+b;a[6]=c+e;a[7]=d-b;a[8]=1-(u+g);return a};r.toMat4=function(f,a){a||(a=t.create());var c=f[0],d=f[1],k=f[2],n=f[3],b=c+c,e=d+d,p=k+k,q=c*b,u=c*e,c=c*p,g=d*e,d=d*p,k=k*
p,b=n*b,e=n*e,n=n*p;a[0]=1-(g+k);a[1]=u+n;a[2]=c-e;a[3]=0;a[4]=u-n;a[5]=1-(q+k);a[6]=d+b;a[7]=0;a[8]=c+e;a[9]=d-b;a[10]=1-(q+g);a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a};r.slerp=function(f,a,c,d){d||(d=f);var k=f[0]*a[0]+f[1]*a[1]+f[2]*a[2]+f[3]*a[3],n,b;if(1<=Math.abs(k))return d!==f&&(d[0]=f[0],d[1]=f[1],d[2]=f[2],d[3]=f[3]),d;n=Math.acos(k);b=Math.sqrt(1-k*k);if(0.0010>Math.abs(b))return d[0]=0.5*f[0]+0.5*a[0],d[1]=0.5*f[1]+0.5*a[1],d[2]=0.5*f[2]+0.5*a[2],d[3]=0.5*f[3]+0.5*a[3],d;k=Math.sin((1-
c)*n)/b;c=Math.sin(c*n)/b;d[0]=f[0]*k+a[0]*c;d[1]=f[1]*k+a[1]*c;d[2]=f[2]*k+a[2]*c;d[3]=f[3]*k+a[3]*c;return d};r.fromRotationMatrix=function(f,a){a||(a=r.create());var c=f[0]+f[4]+f[8],d;if(0<c)d=Math.sqrt(c+1),a[3]=0.5*d,d=0.5/d,a[0]=(f[7]-f[5])*d,a[1]=(f[2]-f[6])*d,a[2]=(f[3]-f[1])*d;else{d=r.fromRotationMatrix.s_iNext=r.fromRotationMatrix.s_iNext||[1,2,0];c=0;f[4]>f[0]&&(c=1);f[8]>f[3*c+c]&&(c=2);var k=d[c],n=d[k];d=Math.sqrt(f[3*c+c]-f[3*k+k]-f[3*n+n]+1);a[c]=0.5*d;d=0.5/d;a[3]=(f[3*n+k]-f[3*
k+n])*d;a[k]=(f[3*k+c]+f[3*c+k])*d;a[n]=(f[3*n+c]+f[3*c+n])*d}return a};q.toQuat4=r.fromRotationMatrix;(function(){var f=q.create();r.fromAxes=function(a,c,d,k){f[0]=c[0];f[3]=c[1];f[6]=c[2];f[1]=d[0];f[4]=d[1];f[7]=d[2];f[2]=a[0];f[5]=a[1];f[8]=a[2];return r.fromRotationMatrix(f,k)}})();r.identity=function(f){f||(f=r.create());f[0]=0;f[1]=0;f[2]=0;f[3]=1;return f};r.fromAngleAxis=function(f,a,c){c||(c=r.create());f*=0.5;var d=Math.sin(f);c[3]=Math.cos(f);c[0]=d*a[0];c[1]=d*a[1];c[2]=d*a[2];return c};
r.toAngleAxis=function(f,a){a||(a=f);var c=f[0]*f[0]+f[1]*f[1]+f[2]*f[2];0<c?(a[3]=2*Math.acos(f[3]),c=m.invsqrt(c),a[0]=f[0]*c,a[1]=f[1]*c,a[2]=f[2]*c):(a[3]=0,a[0]=1,a[1]=0,a[2]=0);return a};r.str=function(f){return"["+f[0]+", "+f[1]+", "+f[2]+", "+f[3]+"]"};var x={create:function(f){var a=new g(4);f?(a[0]=f[0],a[1]=f[1],a[2]=f[2],a[3]=f[3]):a[0]=a[1]=a[2]=a[3]=0;return a},createFrom:function(f,a,c,d){var k=new g(4);k[0]=f;k[1]=a;k[2]=c;k[3]=d;return k},set:function(f,a){a[0]=f[0];a[1]=f[1];a[2]=
f[2];a[3]=f[3];return a},identity:function(f){f||(f=x.create());f[0]=1;f[1]=0;f[2]=0;f[3]=1;return f},transpose:function(f,a){if(!a||f===a){var c=f[1];f[1]=f[2];f[2]=c;return f}a[0]=f[0];a[1]=f[2];a[2]=f[1];a[3]=f[3];return a},determinant:function(f){return f[0]*f[3]-f[2]*f[1]},inverse:function(f,a){a||(a=f);var c=f[0],d=f[1],k=f[2],n=f[3],b=c*n-k*d;if(!b)return null;b=1/b;a[0]=n*b;a[1]=-d*b;a[2]=-k*b;a[3]=c*b;return a},multiply:function(f,a,c){c||(c=f);var d=f[0],k=f[1],n=f[2];f=f[3];c[0]=d*a[0]+
k*a[2];c[1]=d*a[1]+k*a[3];c[2]=n*a[0]+f*a[2];c[3]=n*a[1]+f*a[3];return c},rotate:function(f,a,c){c||(c=f);var d=f[0],k=f[1],n=f[2];f=f[3];var b=Math.sin(a);a=Math.cos(a);c[0]=d*a+k*b;c[1]=d*-b+k*a;c[2]=n*a+f*b;c[3]=n*-b+f*a;return c},multiplyVec2:function(f,a,c){c||(c=a);var d=a[0];a=a[1];c[0]=d*f[0]+a*f[1];c[1]=d*f[2]+a*f[3];return c},scale:function(f,a,c){c||(c=f);var d=f[1],k=f[2],n=f[3],b=a[0];a=a[1];c[0]=f[0]*b;c[1]=d*a;c[2]=k*b;c[3]=n*a;return c},str:function(f){return"["+f[0]+", "+f[1]+", "+
f[2]+", "+f[3]+"]"}},w=l?"":"d";b["glMath"+w]=m;b["vec2"+w]={create:function(f){var a=new g(2);f?(a[0]=f[0],a[1]=f[1]):(a[0]=0,a[1]=0);return a},createFrom:function(f,a){var c=new g(2);c[0]=f;c[1]=a;return c},add:function(f,a,c){c||(c=a);c[0]=f[0]+a[0];c[1]=f[1]+a[1];return c},subtract:function(f,a,c){c||(c=a);c[0]=f[0]-a[0];c[1]=f[1]-a[1];return c},multiply:function(f,a,c){c||(c=a);c[0]=f[0]*a[0];c[1]=f[1]*a[1];return c},divide:function(f,a,c){c||(c=a);c[0]=f[0]/a[0];c[1]=f[1]/a[1];return c},scale:function(f,
a,c){c||(c=f);c[0]=f[0]*a;c[1]=f[1]*a;return c},dist:function(f,a){var c=a[0]-f[0],d=a[1]-f[1];return Math.sqrt(c*c+d*d)},dist2:function(f,a){var c=a[0]-f[0],d=a[1]-f[1];return c*c+d*d},set:function(f,a){a[0]=f[0];a[1]=f[1];return a},set2:function(f,a,c){c[0]=f;c[1]=a;return c},negate:function(f,a){a||(a=f);a[0]=-f[0];a[1]=-f[1];return a},normalize:function(f,a){a||(a=f);var c=f[0]*f[0]+f[1]*f[1];0<c?(c=Math.sqrt(c),a[0]=f[0]/c,a[1]=f[1]/c):a[0]=a[1]=0;return a},cross:function(f,a,c){f=f[0]*a[1]-
f[1]*a[0];if(!c)return f;c[0]=c[1]=0;c[2]=f;return c},length:function(f){var a=f[0];f=f[1];return Math.sqrt(a*a+f*f)},dot:function(f,a){return f[0]*a[0]+f[1]*a[1]},direction:function(f,a,c){c||(c=f);var d=f[0]-a[0];f=f[1]-a[1];a=d*d+f*f;if(!a)return c[0]=0,c[1]=0,c[2]=0,c;a=1/Math.sqrt(a);c[0]=d*a;c[1]=f*a;return c},lerp:function(f,a,c,d){d||(d=f);d[0]=f[0]+c*(a[0]-f[0]);d[1]=f[1]+c*(a[1]-f[1]);return d},str:function(f){return"["+f[0]+", "+f[1]+"]"}};b["vec3"+w]=e;b["vec4"+w]={create:function(f){var a=
new g(4);f?(a[0]=f[0],a[1]=f[1],a[2]=f[2],a[3]=f[3]):(a[0]=0,a[1]=0,a[2]=0,a[3]=0);return a},createFrom:function(f,a,c,d){var k=new g(4);k[0]=f;k[1]=a;k[2]=c;k[3]=d;return k},add:function(f,a,c){c||(c=a);c[0]=f[0]+a[0];c[1]=f[1]+a[1];c[2]=f[2]+a[2];c[3]=f[3]+a[3];return c},subtract:function(f,a,c){c||(c=a);c[0]=f[0]-a[0];c[1]=f[1]-a[1];c[2]=f[2]-a[2];c[3]=f[3]-a[3];return c},multiply:function(f,a,c){c||(c=a);c[0]=f[0]*a[0];c[1]=f[1]*a[1];c[2]=f[2]*a[2];c[3]=f[3]*a[3];return c},divide:function(f,a,
c){c||(c=a);c[0]=f[0]/a[0];c[1]=f[1]/a[1];c[2]=f[2]/a[2];c[3]=f[3]/a[3];return c},scale:function(f,a,c){c||(c=f);c[0]=f[0]*a;c[1]=f[1]*a;c[2]=f[2]*a;c[3]=f[3]*a;return c},dot:function(f,a){return f[0]*a[0]+f[1]*a[1]+f[2]*a[2]+f[3]*a[3]},set:function(f,a){a[0]=f[0];a[1]=f[1];a[2]=f[2];a[3]=f[3];return a},set4:function(f,a,c,d,k){k[0]=f;k[1]=a;k[2]=c;k[3]=d;return k},negate:function(f,a){a||(a=f);a[0]=-f[0];a[1]=-f[1];a[2]=-f[2];a[3]=-f[3];return a},lerp:function(f,a,c,d){d||(d=f);d[0]=f[0]+c*(a[0]-
f[0]);d[1]=f[1]+c*(a[1]-f[1]);d[2]=f[2]+c*(a[2]-f[2]);d[3]=f[3]+c*(a[3]-f[3]);return d},str:function(f){return"["+f[0]+", "+f[1]+", "+f[2]+", "+f[3]+"]"}};b["mat2"+w]=x;b["mat3"+w]=q;b["mat4"+w]=t;b["quat4"+w]=r});return b})},"esri/views/3d/webgl-engine/materials/internal/SimpleGLMaterial":function(){define(["dojo/text!./SimpleGLMaterial.xml","./MaterialUtil","../../lib/GLSLProgram","../../lib/GLSLShader"],function(b,h,l,m){var g=h.Layouts.Pos,e=function(d,c,a,k){this.id=h.__GLMaterial_id++;var b=
d.get("simple");this.getId=function(){return this.id};this.beginSlot=function(a){return 0===a};this.getProgram=function(){return b};this.bind=function(d,k){b.use();b.uniformMatrix4fv("model",h.IDENTITY);b.uniformMatrix4fv("proj",k.proj);b.uniform4fv("color",c);g.enableVertexAttribArrays(d,b);d.enable(d.BLEND);void 0!==a&&d.depthFunc(a)};this.release=function(c){void 0!==a&&c.depthFunc(c.LESS);c.disable(c.BLEND);g.disableVertexAttribArrays(c,b)};this.bindView=function(a,c){h.bindView(c.origin,c.view,
b)};this.bindInstance=function(a,c){b.uniformMatrix4fv("model",c.transformation)};this.getDrawMode=function(a){return void 0===k?a.TRIANGLES:k}};e.loadShaders=function(d,c,a,k){d._parse(b);c=new m(k.VERTEX_SHADER,d.vertexShaderSimple,k);d=new m(k.FRAGMENT_SHADER,d.fragmentShaderSimple,k);k=new l([c,d],k);a.add("simple",k)};return e})},"esri/geometry/support/graphicsUtils":function(){define(["dojo/_base/array","../Extent"],function(b,h){return{graphicsExtent:function(b){var m=b[0].geometry,g=m.getExtent(),
e,d,c=b.length;null===g&&(g=new h(m.x,m.y,m.x,m.y,m.spatialReference));for(d=1;d<c;d++)e=(m=b[d].geometry).getExtent(),null===e&&(e=new h(m.x,m.y,m.x,m.y,m.spatialReference)),g=g.union(e);return 0>g.getWidth()&&0>g.getHeight()?null:g},getGeometries:function(l){return b.map(l,function(b){return b.geometry})},_encodeGraphics:function(l,m){var g=[],e,d,c;b.forEach(l,function(a,k){e=a.toJSON();d={};e.geometry&&(c=m&&m[k],d.geometry=c&&c.toJSON()||e.geometry);e.attributes&&(d.attributes=e.attributes);
g[k]=d});return g}}})},"dijit/Dialog":function(){define("require dojo/_base/array dojo/aspect dojo/_base/declare dojo/Deferred dojo/dom dojo/dom-class dojo/dom-geometry dojo/dom-style dojo/_base/fx dojo/i18n dojo/keys dojo/_base/lang dojo/on dojo/ready dojo/sniff dojo/window dojo/dnd/Moveable dojo/dnd/TimedMoveable ./focus ./_base/manager ./_Widget ./_TemplatedMixin ./_CssStateMixin ./form/_FormMixin ./_DialogMixin ./DialogUnderlay ./layout/ContentPane ./layout/utils dojo/text!./templates/Dialog.html ./a11yclick dojo/i18n!./nls/common".split(" "),
function(b,h,l,m,g,e,d,c,a,k,p,n,u,q,t,r,v,x,w,f,s,z,y,A,B,E,F,G,Q,M){var T=new g;T.resolve(!0);s=m("dijit._DialogBase"+(r("dojo-bidi")?"_NoBidi":""),[y,B,E,A],{templateString:M,baseClass:"dijitDialog",cssStateNodes:{closeButtonNode:"dijitDialogCloseIcon"},_setTitleAttr:{node:"titleNode",type:"innerHTML"},open:!1,duration:s.defaultDuration,refocus:!0,autofocus:!0,_firstFocusItem:null,_lastFocusItem:null,draggable:!0,_setDraggableAttr:function(f){this._set("draggable",f)},maxRatio:0.9,closable:!0,
_setClosableAttr:function(f){this.closeButtonNode.style.display=f?"":"none";this._set("closable",f)},postMixInProperties:function(){var f=p.getLocalization("dijit","common");u.mixin(this,f);this.inherited(arguments)},postCreate:function(){a.set(this.domNode,{display:"none",position:"absolute"});this.ownerDocumentBody.appendChild(this.domNode);this.inherited(arguments);l.after(this,"onExecute",u.hitch(this,"hide"),!0);l.after(this,"onCancel",u.hitch(this,"hide"),!0);this._modalconnects=[]},onLoad:function(){this.resize();
this._position();this.autofocus&&C.isTop(this)&&(this._getFocusItems(),f.focus(this._firstFocusItem));this.inherited(arguments)},focus:function(){this._getFocusItems();f.focus(this._firstFocusItem)},_endDrag:function(){var f=c.position(this.domNode),a=v.getBox(this.ownerDocument);f.y=Math.min(Math.max(f.y,0),a.h-f.h);f.x=Math.min(Math.max(f.x,0),a.w-f.w);this._relativePosition=f;this._position()},_setup:function(){var f=this.domNode;this.titleBar&&this.draggable?(this._moveable=new (6==r("ie")?w:
x)(f,{handle:this.titleBar}),l.after(this._moveable,"onMoveStop",u.hitch(this,"_endDrag"),!0)):d.add(f,"dijitDialogFixed");this.underlayAttrs={dialogId:this.id,"class":h.map(this["class"].split(/\s/),function(f){return f+"_underlay"}).join(" "),_onKeyDown:u.hitch(this,"_onKey"),ownerDocument:this.ownerDocument}},_size:function(){this.resize()},_position:function(){if(!d.contains(this.ownerDocumentBody,"dojoMove")){var f=this.domNode,k=v.getBox(this.ownerDocument),b=this._relativePosition,n=b?null:
c.position(f);a.set(f,{left:Math.floor(k.l+(b?b.x:(k.w-n.w)/2))+"px",top:Math.floor(k.t+(b?b.y:(k.h-n.h)/2))+"px"})}},_onKey:function(a){if(a.keyCode==n.TAB){this._getFocusItems();var c=a.target;this._firstFocusItem==this._lastFocusItem?(a.stopPropagation(),a.preventDefault()):c==this._firstFocusItem&&a.shiftKey?(f.focus(this._lastFocusItem),a.stopPropagation(),a.preventDefault()):c==this._lastFocusItem&&!a.shiftKey&&(f.focus(this._firstFocusItem),a.stopPropagation(),a.preventDefault())}else this.closable&&
a.keyCode==n.ESCAPE&&(this.onCancel(),a.stopPropagation(),a.preventDefault())},show:function(){if(this.open)return T.promise;this._started||this.startup();this._alreadyInitialized||(this._setup(),this._alreadyInitialized=!0);this._fadeOutDeferred&&(this._fadeOutDeferred.cancel(),C.hide(this));var c=v.get(this.ownerDocument);this._modalconnects.push(q(c,"scroll",u.hitch(this,"resize",null)));this._modalconnects.push(q(this.domNode,"keydown",u.hitch(this,"_onKey")));a.set(this.domNode,{opacity:0,display:""});
this._set("open",!0);this._onShow();this.resize();this._position();var d;this._fadeInDeferred=new g(u.hitch(this,function(){d.stop();delete this._fadeInDeferred}));c=this._fadeInDeferred.promise;d=k.fadeIn({node:this.domNode,duration:this.duration,beforeBegin:u.hitch(this,function(){C.show(this,this.underlayAttrs)}),onEnd:u.hitch(this,function(){this.autofocus&&C.isTop(this)&&(this._getFocusItems(),f.focus(this._firstFocusItem));this._fadeInDeferred.resolve(!0);delete this._fadeInDeferred})}).play();
return c},hide:function(){if(!this._alreadyInitialized||!this.open)return T.promise;this._fadeInDeferred&&this._fadeInDeferred.cancel();var f;this._fadeOutDeferred=new g(u.hitch(this,function(){f.stop();delete this._fadeOutDeferred}));this._fadeOutDeferred.then(u.hitch(this,"onHide"));var a=this._fadeOutDeferred.promise;f=k.fadeOut({node:this.domNode,duration:this.duration,onEnd:u.hitch(this,function(){this.domNode.style.display="none";C.hide(this);this._fadeOutDeferred.resolve(!0);delete this._fadeOutDeferred})}).play();
this._scrollConnected&&(this._scrollConnected=!1);for(var c;c=this._modalconnects.pop();)c.remove();this._relativePosition&&delete this._relativePosition;this._set("open",!1);return a},resize:function(f){if("none"!=this.domNode.style.display){this._checkIfSingleChild();if(!f){this._shrunk&&(this._singleChild&&"undefined"!=typeof this._singleChildOriginalStyle&&(this._singleChild.domNode.style.cssText=this._singleChildOriginalStyle,delete this._singleChildOriginalStyle),h.forEach([this.domNode,this.containerNode,
this.titleBar,this.actionBarNode],function(f){f&&a.set(f,{position:"static",width:"auto",height:"auto"})}),this.domNode.style.position="absolute");var d=v.getBox(this.ownerDocument);d.w*=this.maxRatio;d.h*=this.maxRatio;var k=c.position(this.domNode);k.w>=d.w||k.h>=d.h?(f={w:Math.min(k.w,d.w),h:Math.min(k.h,d.h)},this._shrunk=!0):this._shrunk=!1}if(f){c.setMarginBox(this.domNode,f);d=[];this.titleBar&&d.push({domNode:this.titleBar,region:"top"});this.actionBarNode&&d.push({domNode:this.actionBarNode,
region:"bottom"});k={domNode:this.containerNode,region:"center"};d.push(k);var b=Q.marginBox2contentBox(this.domNode,f);Q.layoutChildren(this.domNode,b,d);this._singleChild?(d=Q.marginBox2contentBox(this.containerNode,k),this._singleChild.resize({w:d.w,h:d.h})):(this.containerNode.style.overflow="auto",this._layoutChildren())}else this._layoutChildren();!r("touch")&&!f&&this._position()}},_layoutChildren:function(){h.forEach(this.getChildren(),function(f){f.resize&&f.resize()})},destroy:function(){this._fadeInDeferred&&
this._fadeInDeferred.cancel();this._fadeOutDeferred&&this._fadeOutDeferred.cancel();this._moveable&&this._moveable.destroy();for(var f;f=this._modalconnects.pop();)f.remove();C.hide(this);this.inherited(arguments)}});r("dojo-bidi")&&(s=m("dijit._DialogBase",s,{_setTitleAttr:function(f){this._set("title",f);this.titleNode.innerHTML=f;this.applyTextDir(this.titleNode)},_setTextDirAttr:function(f){this._created&&this.textDir!=f&&(this._set("textDir",f),this.set("title",this.title))}}));var K=m("dijit.Dialog",
[G,s],{});K._DialogBase=s;var C=K._DialogLevelManager={_beginZIndex:950,show:function(c,d){D[D.length-1].focus=f.curNode;var k=D[D.length-1].dialog?D[D.length-1].zIndex+2:K._DialogLevelManager._beginZIndex;a.set(c.domNode,"zIndex",k);F.show(d,k-1);D.push({dialog:c,underlayAttrs:d,zIndex:k})},hide:function(f){if(D[D.length-1].dialog==f){D.pop();var a=D[D.length-1];1==D.length?F.hide():F.show(a.underlayAttrs,a.zIndex-1);if(f.refocus){f=a.focus;if(a.dialog&&(!f||!e.isDescendant(f,a.dialog.domNode)))a.dialog._getFocusItems(),
f=a.dialog._firstFocusItem;if(f)try{f.focus()}catch(c){}}}else a=h.indexOf(h.map(D,function(f){return f.dialog}),f),-1!=a&&D.splice(a,1)},isTop:function(f){return D[D.length-1].dialog==f}},D=K._dialogStack=[{dialog:null,focus:null,underlayAttrs:null}];f.watch("curNode",function(f,a,c){f=D[D.length-1].dialog;if(c&&f&&!f._fadeOutDeferred&&c.ownerDocument==f.ownerDocument){do if(c==f.domNode||d.contains(c,"dijitPopup"))return;while(c=c.parentNode);f.focus()}});r("dijit-legacy-requires")&&t(0,function(){b(["dijit/TooltipDialog"])});
return K})},"dojo/dom-construct":function(){define("exports ./_base/kernel ./sniff ./_base/window ./dom ./dom-attr".split(" "),function(b,h,l,m,g,e){function d(a,c){var f=c.parentNode;f&&f.insertBefore(a,c)}function c(a){if("innerHTML"in a)try{a.innerHTML="";return}catch(c){}for(var f;f=a.lastChild;)a.removeChild(f)}var a={option:["select"],tbody:["table"],thead:["table"],tfoot:["table"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","thead","tr"],legend:["fieldset"],caption:["table"],
colgroup:["table"],col:["table","colgroup"],li:["ul"]},k=/<\s*([\w\:]+)/,p={},n=0,u="__"+h._scopeName+"ToDomId",q;for(q in a)a.hasOwnProperty(q)&&(h=a[q],h.pre="option"==q?'\x3cselect multiple\x3d"multiple"\x3e':"\x3c"+h.join("\x3e\x3c")+"\x3e",h.post="\x3c/"+h.reverse().join("\x3e\x3c/")+"\x3e");var t;8>=l("ie")&&(t=function(a){a.__dojo_html5_tested="yes";var c=r("div",{innerHTML:"\x3cnav\x3ea\x3c/nav\x3e",style:{visibility:"hidden"}},a.body);1!==c.childNodes.length&&"abbr article aside audio canvas details figcaption figure footer header hgroup mark meter nav output progress section summary time video".replace(/\b\w+\b/g,
function(f){a.createElement(f)});v(c)});b.toDom=function(c,d){d=d||m.doc;var f=d[u];f||(d[u]=f=++n+"",p[f]=d.createElement("div"));8>=l("ie")&&!d.__dojo_html5_tested&&d.body&&t(d);c+="";var b=c.match(k),e=b?b[1].toLowerCase():"",f=p[f];if(b&&a[e]){b=a[e];f.innerHTML=b.pre+c+b.post;for(b=b.length;b;--b)f=f.firstChild}else f.innerHTML=c;if(1==f.childNodes.length)return f.removeChild(f.firstChild);for(e=d.createDocumentFragment();b=f.firstChild;)e.appendChild(b);return e};b.place=function(a,c,f){c=g.byId(c);
"string"==typeof a&&(a=/^\s*</.test(a)?b.toDom(a,c.ownerDocument):g.byId(a));if("number"==typeof f){var k=c.childNodes;!k.length||k.length<=f?c.appendChild(a):d(a,k[0>f?0:f])}else switch(f){case "before":d(a,c);break;case "after":f=a;(k=c.parentNode)&&(k.lastChild==c?k.appendChild(f):k.insertBefore(f,c.nextSibling));break;case "replace":c.parentNode.replaceChild(a,c);break;case "only":b.empty(c);c.appendChild(a);break;case "first":if(c.firstChild){d(a,c.firstChild);break}default:c.appendChild(a)}return a};
var r=b.create=function(a,c,f,d){var k=m.doc;f&&(f=g.byId(f),k=f.ownerDocument);"string"==typeof a&&(a=k.createElement(a));c&&e.set(a,c);f&&b.place(a,f,d);return a};b.empty=function(a){c(g.byId(a))};var v=b.destroy=function(a){if(a=g.byId(a)){var d=a;a=a.parentNode;d.firstChild&&c(d);a&&(l("ie")&&a.canHaveChildren&&"removeNode"in d?d.removeNode(!1):a.removeChild(d))}}})},"esri/views/3d/navigation/Picker":function(){define(["../../../core/declare","../support/RenderCoordsHelper","../lib/glMatrix",
"../webgl-engine/lib/Selector"],function(b,h,l,m){var g=l.vec3d,e=g.create(),d=g.create();return b([],{constructor:function(c,a){this.navigation=c;this.pickAlongRay=a._pickRay.bind(a);this.createPickRay=a._pickRayWithBeginPoint.bind(a);this.selector=new m},pickPointInScreen:function(c,a){return this.pickedIntersectionPoint(this.pickInScreen(c,!1),a)},pickFreePointInScreen:function(c,a){this.createPickRay(c,void 0,this.navigation.currentCamera.viewMatrix,e,d);a||(a=g.create());g.subtract(d,e);g.normalize(d);
var k=this.navigation.view.fullExtent,b=Math.max(k.xmax-k.xmin,k.ymax-k.ymin,k.zmax-k.zmin),n=this.navigation.currentCamera,u=Math.max(0,k.xmin-n.eye[0],n.eye[0]-k.xmax),k=Math.max(0,k.ymin-n.eye[1],n.eye[1]-k.ymax),u=Math.sqrt(u*u+k*k),k="spherical"==this.navigation.view.globeMode?h.Spherical.prototype.getAltitude(n.eye):h.Planar.prototype.getAltitude(n.eye),n=this.navigation._getTerrainElevationBelowCamera(n),n=Math.abs(k-n)+Number.MIN_VALUE,n=Math.pow(Math.max(0,Math.log(b/n)),2),n=b/Math.max(1,
n),n=Math.max(n,Math.min(u,b));g.scale(d,n);g.add(e,d,a)},pickInScreen:function(c,a){this.createPickRay(c,void 0,this.navigation.currentCamera.viewMatrix,e,d);a&&g.set(this.navigation.currentCamera.eye,e);return this.pickAlongRay(e,d,c,c,null,null,null,null,this.selector)},pickedIntersectionPoint:function(c,a){if(!c)return!1;a||(a=g.create());return c.getMinResult().getIntersectionPoint(a)}})})},"dojo/date/locale":function(){define("../_base/lang ../_base/array ../date ../cldr/supplemental ../i18n ../regexp ../string ../i18n!../cldr/nls/gregorian module".split(" "),
function(b,h,l,m,g,e,d,c,a){function k(a,c,k,b){return b.replace(/([a-z])\1*/ig,function(n){var f,e,p=n.charAt(0);n=n.length;var q=["abbr","wide","narrow"];switch(p){case "G":f=c[4>n?"eraAbbr":"eraNames"][0>a.getFullYear()?0:1];break;case "y":f=a.getFullYear();switch(n){case 1:break;case 2:if(!k.fullYear){f=String(f);f=f.substr(f.length-2);break}default:e=!0}break;case "Q":case "q":f=Math.ceil((a.getMonth()+1)/3);e=!0;break;case "M":case "L":f=a.getMonth();3>n?(f+=1,e=!0):(p=["months","L"==p?"standAlone":
"format",q[n-3]].join("-"),f=c[p][f]);break;case "w":f=u._getWeekOfYear(a,0);e=!0;break;case "d":f=a.getDate();e=!0;break;case "D":f=u._getDayOfYear(a);e=!0;break;case "e":case "c":if(f=a.getDay(),2>n){f=(f-m.getFirstDayOfWeek(k.locale)+8)%7;break}case "E":f=a.getDay();3>n?(f+=1,e=!0):(p=["days","c"==p?"standAlone":"format",q[n-3]].join("-"),f=c[p][f]);break;case "a":p=12>a.getHours()?"am":"pm";f=k[p]||c["dayPeriods-format-wide-"+p];break;case "h":case "H":case "K":case "k":e=a.getHours();switch(p){case "h":f=
e%12||12;break;case "H":f=e;break;case "K":f=e%12;break;case "k":f=e||24}e=!0;break;case "m":f=a.getMinutes();e=!0;break;case "s":f=a.getSeconds();e=!0;break;case "S":f=Math.round(a.getMilliseconds()*Math.pow(10,n-3));e=!0;break;case "v":case "z":if(f=u._getZone(a,!0,k))break;n=4;case "Z":p=u._getZone(a,!1,k);p=[0>=p?"+":"-",d.pad(Math.floor(Math.abs(p)/60),2),d.pad(Math.abs(p)%60,2)];4==n&&(p.splice(0,0,"GMT"),p.splice(3,0,":"));f=p.join("");break;default:throw Error("dojo.date.locale.format: invalid pattern char: "+
b);}e&&(f=d.pad(f,n));return f})}function p(a,c,d,k){var b=function(f){return f};c=c||b;d=d||b;k=k||b;var f=a.match(/(''|[^'])+/g),n="'"==a.charAt(0);h.forEach(f,function(a,k){a?(f[k]=(n?d:c)(a.replace(/''/g,"'")),n=!n):f[k]=""});return k(f.join(""))}function n(a,c,d,k){k=e.escapeString(k);d.strict||(k=k.replace(" a"," ?a"));return k.replace(/([a-z])\1*/ig,function(k){var f;f=k.charAt(0);var b=k.length,n="",e="";d.strict?(1<b&&(n="0{"+(b-1)+"}"),2<b&&(e="0{"+(b-2)+"}")):(n="0?",e="0{0,2}");switch(f){case "y":f=
"\\d{2,4}";break;case "M":case "L":f=2<b?"\\S+?":"1[0-2]|"+n+"[1-9]";break;case "D":f="[12][0-9][0-9]|3[0-5][0-9]|36[0-6]|"+n+"[1-9][0-9]|"+e+"[1-9]";break;case "d":f="3[01]|[12]\\d|"+n+"[1-9]";break;case "w":f="[1-4][0-9]|5[0-3]|"+n+"[1-9]";break;case "E":case "e":case "c":f=".+?";break;case "h":f="1[0-2]|"+n+"[1-9]";break;case "k":f="1[01]|"+n+"\\d";break;case "H":f="1\\d|2[0-3]|"+n+"\\d";break;case "K":f="1\\d|2[0-4]|"+n+"[1-9]";break;case "m":case "s":f="[0-5]\\d";break;case "S":f="\\d{"+b+"}";
break;case "a":b=d.am||c["dayPeriods-format-wide-am"];n=d.pm||c["dayPeriods-format-wide-pm"];f=b+"|"+n;d.strict||(b!=b.toLowerCase()&&(f+="|"+b.toLowerCase()),n!=n.toLowerCase()&&(f+="|"+n.toLowerCase()),-1!=f.indexOf(".")&&(f+="|"+f.replace(/\./g,"")));f=f.replace(/\./g,"\\.");break;default:f=".*"}a&&a.push(k);return"("+f+")"}).replace(/[\xa0 ]/g,"[\\s\\xa0]")}var u={};b.setObject(a.id.replace(/\//g,"."),u);u._getZone=function(a,c,d){return c?l.getTimezoneName(a):a.getTimezoneOffset()};u.format=
function(a,c){c=c||{};var d=g.normalizeLocale(c.locale),n=c.formatLength||"short",d=u._getGregorianBundle(d),e=[],f=b.hitch(this,k,a,d,c);if("year"==c.selector)return p(d["dateFormatItem-yyyy"]||"yyyy",f);var s;"date"!=c.selector&&(s=c.timePattern||d["timeFormat-"+n])&&e.push(p(s,f));"time"!=c.selector&&(s=c.datePattern||d["dateFormat-"+n])&&e.push(p(s,f));return 1==e.length?e[0]:d["dateTimeFormat-"+n].replace(/\'/g,"").replace(/\{(\d+)\}/g,function(f,a){return e[a]})};u.regexp=function(a){return u._parseInfo(a).regexp};
u._parseInfo=function(a){a=a||{};var c=g.normalizeLocale(a.locale),c=u._getGregorianBundle(c),d=a.formatLength||"short",k=a.datePattern||c["dateFormat-"+d],e=a.timePattern||c["timeFormat-"+d],d="date"==a.selector?k:"time"==a.selector?e:c["dateTimeFormat-"+d].replace(/\{(\d+)\}/g,function(f,a){return[e,k][a]}),f=[];return{regexp:p(d,b.hitch(this,n,f,c,a)),tokens:f,bundle:c}};u.parse=function(a,c){var d=/[\u200E\u200F\u202A\u202E]/g,k=u._parseInfo(c),b=k.tokens,f=k.bundle,d=RegExp("^"+k.regexp.replace(d,
"")+"$",k.strict?"":"i").exec(a&&a.replace(d,""));if(!d)return null;var n=["abbr","wide","narrow"],e=[1970,0,1,0,0,0,0],p="",d=h.every(d,function(a,d){if(!d)return!0;var k=b[d-1],q=k.length,k=k.charAt(0);switch(k){case "y":if(2!=q&&c.strict)e[0]=a;else if(100>a)a=Number(a),k=""+(new Date).getFullYear(),q=100*k.substring(0,2),k=Math.min(Number(k.substring(2,4))+20,99),e[0]=a<k?q+a:q-100+a;else{if(c.strict)return!1;e[0]=a}break;case "M":case "L":if(2<q){if(q=f["months-"+("L"==k?"standAlone":"format")+
"-"+n[q-3]].concat(),c.strict||(a=a.replace(".","").toLowerCase(),q=h.map(q,function(a){return a.replace(".","").toLowerCase()})),a=h.indexOf(q,a),-1==a)return!1}else a--;e[1]=a;break;case "E":case "e":case "c":q=f["days-"+("c"==k?"standAlone":"format")+"-"+n[q-3]].concat();c.strict||(a=a.toLowerCase(),q=h.map(q,function(a){return a.toLowerCase()}));a=h.indexOf(q,a);if(-1==a)return!1;break;case "D":e[1]=0;case "d":e[2]=a;break;case "a":q=c.am||f["dayPeriods-format-wide-am"];k=c.pm||f["dayPeriods-format-wide-pm"];
if(!c.strict){var u=/\./g;a=a.replace(u,"").toLowerCase();q=q.replace(u,"").toLowerCase();k=k.replace(u,"").toLowerCase()}if(c.strict&&a!=q&&a!=k)return!1;p=a==k?"p":a==q?"a":"";break;case "K":24==a&&(a=0);case "h":case "H":case "k":if(23<a)return!1;e[3]=a;break;case "m":e[4]=a;break;case "s":e[5]=a;break;case "S":e[6]=a}return!0}),k=+e[3];"p"===p&&12>k?e[3]=k+12:"a"===p&&12==k&&(e[3]=0);k=new Date(e[0],e[1],e[2],e[3],e[4],e[5],e[6]);c.strict&&k.setFullYear(e[0]);var q=b.join(""),g=-1!=q.indexOf("d"),
q=-1!=q.indexOf("M");if(!d||q&&k.getMonth()>e[1]||g&&k.getDate()>e[2])return null;if(q&&k.getMonth()<e[1]||g&&k.getDate()<e[2])k=l.add(k,"hour",1);return k};var q=[];u.addCustomFormats=function(a,c){q.push({pkg:a,name:c})};u._getGregorianBundle=function(a){var c={};h.forEach(q,function(d){d=g.getLocalization(d.pkg,d.name,a);c=b.mixin(c,d)},this);return c};u.addCustomFormats(a.id.replace(/\/date\/locale$/,".cldr"),"gregorian");u.getNames=function(a,c,d,k){var b;k=u._getGregorianBundle(k);a=[a,d,c];
"standAlone"==d&&(d=a.join("-"),b=k[d],1==b[0]&&(b=void 0));a[1]="format";return(b||k[a.join("-")]).concat()};u.isWeekend=function(a,c){var d=m.getWeekend(c),k=(a||new Date).getDay();d.end<d.start&&(d.end+=7,k<d.start&&(k+=7));return k>=d.start&&k<=d.end};u._getDayOfYear=function(a){return l.difference(new Date(a.getFullYear(),0,1,a.getHours()),a)+1};u._getWeekOfYear=function(a,c){1==arguments.length&&(c=0);var d=(new Date(a.getFullYear(),0,1)).getDay(),k=Math.floor((u._getDayOfYear(a)+(d-c+7)%7-
1)/7);d==c&&k++;return k};return u})},"esri/views/3d/navigation/mixins/PanMixin":function(){define(["../../../../core/declare"],function(b){return b([],{declaredClass:"esri.views.3d.navigation.mixins.PanMixin",type:"pan",begin:function(b){this.navigation.begin(this);this.active=!0;this.emit("begin")},update:function(b){this.emit("update")},end:function(b){this.active=!1;this.emit("end");this.navigation.end(this)},beginContinuous:function(b){this.navigation.begin(this);this.active=!0;this.emit("begin")},
updateContinuous:function(b){this.continuous&&this.continuous.active&&this.emit("update")},endContinuous:function(b){this.active=!1;this.emit("end");this.navigation.end(this)}})})},"esri/layers/support/PixelBlock":function(){define(["../../core/declare","dojo/_base/lang"],function(b,h){return b([],{declaredClass:"esri.layers.support.PixelBlock",planes:null,width:null,height:null,pixelType:null,pixels:[],statistics:[],constructor:function(b){if(b){if(!b.width||Math.floor(b.width)!==b.width)throw"PixelBlock: incorrect width";
if(!b.height||Math.floor(b.height)!==b.height)throw"PixelBlock: incorrect height";if(!b.pixels||!b.statistics)throw"PixelBlock: pixel data or statistics not present";this.width=b.width;this.height=b.height;this.pixels=b.pixels;this.pixelType=b.pixelType||null;this.statistics=b.statistics;this.mask=b.mask||null}},getPlaneCount:function(){return this.pixels.length!==this.statistics.length?console.error("Inconsistent pixel data and statistics"):this.statistics.length},addData:function(b){if(!b.pixels||
!b.statistics)throw"Pixel data or statistics are not present";if(b.pixels.length!==this.width*this.height)throw"Inconsistent pixel data size";this.statistics.push(b.statistics);this.pixels.push(b.pixels)},getAsRGBA:function(){var b=new ArrayBuffer(4*this.width*this.height);switch(this.pixelType){case "S8":case "S16":case "U16":case "S32":case "U32":case "F32":case "F64":this._fillFromNon8Bit(b);break;default:this._fillFrom8Bit(b)}return new Uint8ClampedArray(b)},getAsRGBAFloat:function(){var b=new Float32Array(4*
this.width*this.height);this._fillFrom32Bit(b);return b},clone:function(){var b=new this.constructor;b.width=this.width;b.height=this.height;b.pixelType=this.pixelType;this.mask&&(b.mask=new Uint8Array(this.mask));var m,g;if(this.pixels){b.pixels=[];g=this.pixels.length;for(m=0;m<g;m++)b.pixels[m]=new Float32Array(this.pixels[m])}if(this.statistics){b.statistics=[];g=this.statistics.length;for(m=0;m<g;m++)b.statistics[m]=h.clone(this.statistics[m])}return b},_fillFrom8Bit:function(b){var m=this.pixels,
g=this.mask;if(!b||!m||!m.length)return console.error("Unable to convert to RGBA. The input pixel block is empty.");var e,d,c;e=d=c=m[0];3<=m.length&&(d=m[1],c=m[2]);var m=new Uint32Array(b),a=this.width*this.height;if(e.length!==a)return console.error("Unable to convert to RGBA. The pixelblock is invalid.");if(g&&g.length===a)for(b=0;b<a;b++)g[b]&&(m[b]=-16777216|c[b]<<16|d[b]<<8|e[b]);else for(b=0;b<a;b++)m[b]=-16777216|c[b]<<16|d[b]<<8|e[b]},_fillFromNon8Bit:function(b){var m=this.pixels,g=this.mask,
e=this.statistics;if(!b||!m||!m.length)return console.error("Unable to convert to RGBA. The input pixel block is empty.");var d=1,c=0;e&&0<e.length?(c=e[0].minValue,d=255/(e[0].maxValue-e[0].minValue)):(d=255,"S8"===this.pixelType?(c=-128,d=127):"U16"===this.pixelType?d=65535:"S16"===this.pixelType?(c=-32768,d=32767):"U32"===this.pixelType?d=4294967295:"S32"===this.pixelType?(c=-2147483648,d=2147483647):"F32"===this.pixelType?(c=-3.4*1E39,d=3.4*1E39):"F64"===this.pixelType&&(c=-Number.MAX_VALUE,d=
Number.MAX_VALUE),d=255/(d-c));b=new Uint32Array(b);var e=this.width*this.height,a,k,p;a=m[0];if(a.length!==e)return console.error("Unable to convert to RGBA. The pixelblock is invalid.");if(3<=m.length)if(k=m[1],p=m[2],g&&g.length===e)for(m=0;m<e;m++)g[m]&&(b[m]=-16777216|(p[m]-c)*d<<16|(k[m]-c)*d<<8|(a[m]-c)*d);else for(m=0;m<e;m++)b[m]=-16777216|(p[m]-c)*d<<16|(k[m]-c)*d<<8|(a[m]-c)*d;else if(g&&g.length===e)for(m=0;m<e;m++)k=(a[m]-c)*d,g[m]&&(b[m]=-16777216|k<<16|k<<8|k);else for(m=0;m<e;m++)k=
(a[m]-c)*d,b[m]=-16777216|k<<16|k<<8|k},_fillFrom32Bit:function(b){var m=this.pixels,g=this.mask;if(!b||!m||!m.length)return console.error("Unable to convert to RGBA. The input pixel block is empty.");var e,d,c;e=d=c=m[0];3<=m.length&&(d=m[1],c=m[2]);var a=this.width*this.height;if(e.length!==a)return console.error("Unable to convert to RGBA. The pixelblock is invalid.");var k=0;if(g&&g.length===a)for(m=0;m<a;m++)b[k++]=e[m],b[k++]=d[m],b[k++]=c[m],b[k++]=g[m];else for(m=0;m<a;m++)b[k++]=e[m],b[k++]=
d[m],b[k++]=c[m],b[k++]=255}})})},"dijit/_Templated":function(){define("./_WidgetBase ./_TemplatedMixin ./_WidgetsInTemplateMixin dojo/_base/array dojo/_base/declare dojo/_base/lang dojo/_base/kernel".split(" "),function(b,h,l,m,g,e,d){e.extend(b,{waiRole:"",waiState:""});return g("dijit._Templated",[h,l],{widgetsInTemplate:!1,constructor:function(){d.deprecated(this.declaredClass+": dijit._Templated deprecated, use dijit._TemplatedMixin and if necessary dijit._WidgetsInTemplateMixin","","2.0")},
_processNode:function(c,a){var d=this.inherited(arguments),b=a(c,"waiRole");b&&c.setAttribute("role",b);(b=a(c,"waiState"))&&m.forEach(b.split(/\s*,\s*/),function(a){-1!=a.indexOf("-")&&(a=a.split("-"),c.setAttribute("aria-"+a[0],a[1]))});return d}})})},"esri/views/3d/navigation/mixins/CamerasMixin":function(){define("../../../../core/declare ../../../../core/Evented ../../../../geometry/Point ../../webgl-engine/lib/Camera ../../support/earthUtils ../../support/mathUtils ../../lib/glMatrix dojo/on".split(" "),
function(b,h,l,m,g,e,d,c){var a=d.vec3d;d=d.vec4d;var k=new l,p=a.create(),n=a.create(),u=a.create(),q=d.create();return b([h],{declaredClass:"esri.views.3d.navigation.mixins.CamerasMixin",classMetadata:{properties:{targetCamera:{getter:function(){return this.cameras.target}},currentCamera:{getter:function(){return this.cameras.current}},windowSize:{setter:function(a){var c=a[0],d=a[1],k=!1,b=this.cameras.target.x-this.cameras.target.padding[3],f=this.cameras.target.y-this.cameras.target.padding[2];
if(this.cameras.target.width+b!==c||this.cameras.target.height+f!==d)this.cameras.target.width=c-b,this.cameras.target.height=d-f,this.targetChanged(),k=!0;b=this.cameras.current.x-this.cameras.current.padding[3];f=this.cameras.current.y-this.cameras.current.padding[2];if(this.cameras.current.width+b!==c||this.cameras.current.height+f!==d)this.cameras.current.width=c-b,this.cameras.current.height=d-f,this.currentChanged(),k=!0;k&&this.currentHasReachedTarget()&&this.currentReachedTarget();return a}},
padding:{setter:function(a){var c=!1,d=!1;q[0]=a.top;q[1]=a.right;q[2]=a.bottom;q[3]=a.left;e.vectorEquals(this.cameras.current.padding,q)||(this.cameras.current.padding=q,d=!0);e.vectorEquals(this.cameras.target.padding,q)||(this.cameras.target.padding=q,c=!0);c&&this.targetChanged();d&&this.currentChanged();this.currentHasReachedTarget()&&(c||d)&&this.currentReachedTarget()}}}},initialize:function(){var c=new m(a.createFrom(4*g.earthRadius,0,0),a.createFrom(g.earthRadius,0,0),a.createFrom(0,0,1));
this.cameras={current:c,target:c.copy()}},currentHasReachedTarget:function(){return this.cameras.current.equals(this.cameras.target)},currentHasAlmostReachedTarget:function(){return this.cameras.current.almostEquals(this.cameras.target,5E-4/this.mapUnitInMeters)},setCamera:function(a,c){this.pan&&this.pan.continuous&&this.pan.continuous.stop();this.cameras.target.copyFrom(a);var d=!(c&&c.internalUpdate)||!this._targetCameraChangedByElevationUpdate,k=this.constrainTargetEyeByElevation(d),k=this.applyConstraints(this.cameras.target,
!0)||k;this.fixTargetUpVector();this.currentHasReachedTarget()?(this.targetChanged(),k&&d&&(this._targetCameraChangedByElevationUpdate=!0),this.currentReachedTarget()):(void 0!==c&&void 0!==c.animate&&!c.animate?this.targetAndCurrentChanged():this.targetAnimatedChanged(),k&&d&&(this._targetCameraChangedByElevationUpdate=!0),this._autoUpdateTiltConstraint())},getTargetCamera:function(){console.warn("[Navigation.getTargetCamera()] deprecated; use .targetCamera instead");return this.targetCamera},getCurrentCamera:function(){console.warn("[Navigation.getCurrentCamera()] deprecated; use .currentCamera instead");
return this.currentCamera},_cameraFromEyeCenterUp:function(a,c,d){var k=this.cameras.target.copy();k.eye=a;k.center=c;k.up=d;return k},setCameraFromEyeAndCenter:function(a,c,d){this.setCamera(this._cameraFromEyeCenterUp(a,c,this.cameras.target.up),d)},setCameraFromEyeCenterAndUp:function(a,c,d,k){this.setCamera(this._cameraFromEyeCenterUp(a,c,d),k)},_frameAboveGround:function(a,c){var d=this.renderCoordsHelper;d.fromRenderCoords(a,k,this.mapCoordsHelper.spatialReference);k.z=Math.max(k.z,this.elevationProvider.getElevation(k)||
0);d.toRenderCoords(k,p);return p},preserveHeadingTiltFrame:function(a){},frame:function(c,d){var b=!1;if(this.constraints.collision.enabled)c=this._frameAboveGround(c,d);else if(this.renderCoordsHelper.fromRenderCoords(c,k,this.view.map.spatialReference)){var e=this.elevationProvider.getElevation(k)||0;k.z<e&&(b=!0)}this.pan&&this.pan.continuous&&this.pan.continuous.stop();d=Math.max(d,this.minPoiDist);d<1E5/this.mapUnitInMeters||b?(this.preserveHeadingTiltFrame(c),a.subtract(this.cameras.target.eye,
this.cameras.target.center,n),a.normalize(n),a.scale(n,d),a.add(c,n,this.cameras.target.eye)):(this.renderCoordsHelper.worldUpAtPosition(c,u),a.scale(u,d,this.cameras.target.eye),a.add(this.cameras.target.eye,c));a.set(c,this.cameras.target.center);this.fixTargetUpVector();this.targetAnimatedChanged()},frameStageObject:function(a){this.frame(a.getCenter(),this.cameras.target.computeDistanceFromRadius(a.getBSRadiusApprox(),1.1))},_cameraEvents:{},_prepareCameraEvent:function(a,c){var d=this._cameraEvents[a];
d||(d={camera:new m},this._cameraEvents[a]=d);d.camera.copyFrom(c);return d},emitWithCamera:function(a,d){c.emit(this,a,this._prepareCameraEvent(a,d))},targetChanged:function(a){this.inherited(arguments);this.cameras.target.markViewDirty();var d=this._prepareCameraEvent("targetViewChanged",this.cameras.target);d.interruptedAnimation=!!a;c.emit(this,"targetViewChanged",d)},targetAnimatedChanged:function(a){this.targetChanged(a);this.animationStarted()},targetAndCurrentChanged:function(a){this.targetChanged(a);
this.setCurrentToTarget()},currentChanged:function(){this.inherited(arguments);this.cameras.current.markViewDirty();this.emitWithCamera("currentViewChanged",this.cameras.current)},currentReachedTarget:function(a){this.currentChanged();if(!this.pan||!this.pan.continuous||!this.pan.continuous.active){var d=this._prepareCameraEvent("currentViewReachedTarget",this.cameras.current);d.finishedAnimation=!!a;c.emit(this,"currentViewReachedTarget",d)}},setCurrentToTarget:function(a){this.cameras.current.copyFrom(this.cameras.target);
this.currentReachedTarget(a)}})})},"esri/geometry/support/webMercatorUtils":function(){define(["dojo/_base/array","../SpatialReference","../Point"],function(b,h,l){function m(c,a,k,p,n){if("point"===c.type){var u=a(c.x,c.y,p,e);return n?(n.x=u[0],n.y=u[1],n.spatialReference=k,n):new c.constructor(u[0],u[1],k)}if("extent"===c.type){var u=a(c.xmin,c.ymin,p,e),q=a(c.xmax,c.ymax,p,d);return n?(n.xmin=u[0],n.ymin=u[1],n.xmax=q[0],n.ymax=q[1],n.spatialReference=k,n):new c.constructor(u[0],u[1],q[0],q[1],
k)}if("polyline"===c.type||"polygon"===c.type){var u="polyline"===c.type,g=[],r;b.forEach(u?c.paths:c.rings,function(c){g.push(r=[]);b.forEach(c,function(c){r.push(a(c[0],c[1],p))})});return u?n?(n.paths=g,n.spatialReference=k,n):new c.constructor({paths:g,spatialReference:k}):n?(n.rings=g,n.spatialReference=k,n):new c.constructor({rings:g,spatialReference:k})}if("multipoint"===c.type){var l=[];b.forEach(c.points,function(c){l.push(a(c[0],c[1],p))});return n?(n.points=l,n.spatialReference=k,n):new c.constructor({points:l,
spatialReference:k})}}function g(c,a){var d=c&&(null!=c.wkid?c:c.spatialReference),b=a&&(null!=a.wkid?a:a.spatialReference);return!d||!b?!1:b.equals(d)?!0:b._canProject(d)}var e=[0,0],d=[0,0];return{canProject:g,project:function(c,a){var d=c&&c.spatialReference,b=a&&(null!=a.wkid?a:a.spatialReference);d&&b?d.equals(b)?c=c.clone():g(d,b)?b.isWebMercator()?c=m(c,l.lngLatToXY,h.WebMercator):4326===b.wkid&&(c=m(c,l.xyToLngLat,h.WGS84)):c=null:c=null;return c},lngLatToXY:l.lngLatToXY,xyToLngLat:l.xyToLngLat,
geographicToWebMercator:function(c,a,d){return d?m(c,l.lngLatToXY,h.WebMercator,a,d):m(c,l.lngLatToXY,h.WebMercator,a)},webMercatorToGeographic:function(c,a,d){return d?m(c,l.xyToLngLat,h.WGS84,a,d):m(c,l.xyToLngLat,h.WGS84,a)}}})},"esri/views/3d/webgl-engine/Stage":function(){define("./parts/Model ./parts/View ./lib/Selector ./lib/Camera ./lib/gl-matrix ./lib/Util".split(" "),function(b,h,l,m,g,e){var d=e.assert,c=g.vec2d,a=g.vec2,k=g.vec3d,p=function(n,u){var q=!0,g=l.DEFAULT_TOLERANCE;this.needsRender=
function(){return q};this.setNeedsRender=function(){q=!0};this.resetNeedsRender=function(){q=!1};this.dispose=function(){y.dispose();z=y=null};this.setSelectionObject=function(a,f,c){z.setSelection(a,c);y.setSelectionObject(void 0!==a?a.getId():void 0,c);if(!f)this.onSelectionChange(a,c)};this.getSelectionObject=function(){return z.getSelection()};this.setHighlightObjects=function(a,f){y.setHighlightObjects(a,f);this.highlightedObjectIds=f&&-1===f.holdTime?a:void 0};this.frame=function(a,f){var c=
m.frameCenterRadiusWithPadding(a.getCenter(),a.getBSRadiusApprox(),f),d=this.getCamera(),b=d.computeDirection(),n=1.5*c.radius/Math.tan(d.fov);k.scale(b,-n);k.set(c.center,d.center);k.add(c.center,b,d.eye);d=new m(d.eye,d.center,d.up);this.setCamera(d)};this.beginMod=function(){p.DebugSettings.fineGrainedContentValidation&&z.validateContent()};this.add=function(a,f){z.add(a,f);"function"==typeof f.addParentStage&&f.addParentStage(this)};this.remove=function(a,f){var c=z.remove(a,f);"function"==typeof c.removeParentStage&&
c.removeParentStage(this);return c};this.endMod=function(a){p.DebugSettings.fineGrainedContentValidation&&!a&&z.validateContent()};this.notifyDirty=function(a,f,c,d){z.notifyDirty(a,f,c,d)};this.processDirty=function(){var a=z.getDirtySet(),f=a.getDirtyMaterials();if(a.hasDirtyGeometryRecords()||f){p.DebugSettings.endFrameContentValidation&&z.validateContent();p.DebugSettings.logDirtySet&&console.log("Dirty set: "+z.getDirtySet().formatDebugInfo(!1));d(0===A[1].length,"Method not implemented for multiple visualizers");
var c=a.getAddRemoveUpdateListFilteredByLayers(A[0],!0);(0<c[0].length+c[1].length+c[2].length||f)&&y.modify(c[0],c[1],c[2],f,0);p.DebugSettings.logDirtySet&&(console.log("RGs add: "+c[0].map(function(a){return a.uniqueName})),console.log("RGs remove: "+c[1].map(function(a){return a.uniqueName})));a.getAddRemoveUpdateList(!0);this._updateViewExtent();a.clearDirtyMaterials();q=!0}};this.processDirtyLayer=function(a){d(0===A[1].length,"Method not implemented for multiple visualizers");var f=z.getDirtySet(),
c=f.getDirtyMaterials();a=f.getAddRemoveUpdateListFilteredByLayers([a],!0);(0<a[0].length+a[1].length+a[2].length||c)&&y.modify(a[0],a[1],a[2],c,0);f.clearDirtyMaterials()};this.get=function(a,f){return z.get(a,f)};this.getAll=function(a){return z.getAll(a)};this.addTextureListener=function(a){y.addTextureListener(a)};this.removeTextureListener=function(a){y.removeTextureListener(a)};this.getContainer=function(){return s};this.getCamera=function(){return y.getCamera()};this.setCamera=function(a){y.setCamera(a)};
this.getViewParams=function(a){return y.getViewParams(a)};this.setViewParams=function(a){y.setViewParams(a);void 0!==a.fovX&&this._updateViewExtent();void 0!==a.viewMode&&(y.setLights(z.getAmbientLight(),z.getDirectionalLight()),A=[[],[]])};this.getLayers=function(){return z.getAll(p.ModelContentType.LAYER)};this.getAmbientLight=function(){return z.getAmbientLight()};this.getDirectionalLight=function(){return z.getDirectionalLight()};this.setAmbientLight=function(a){z.setAmbientLight(a);y.setLights(z.getAmbientLight(),
z.getDirectionalLight())};this.setDirectionalLight=function(a){z.setDirectionalLight(a);y.setLights(z.getAmbientLight(),z.getDirectionalLight())};this.getCanvas=function(){return y.getCanvas()};this.setRenderParams=function(a){y.setRenderParams(a)};this.getRenderParams=function(){return y.getRenderParams()};this.has=function(a){return y.has(a)};this.getViewContent=function(a){return A[a||0].slice(0)};this.setViewContent=function(a,f){f||(f=0);d(0<=f&&f<A.length,"Stage.setViewContent: invalid index");
var c=e.array2object(A[f]),k=e.array2object(a),b=e.subtractObjects(k,c),c=e.subtractObjects(c,k);this.processDirty();k=z.getDirtySet();b=k.getResidentRenderGeometriesFilteredByLayers(e.object2array(b));c=k.getResidentRenderGeometriesFilteredByLayers(e.object2array(c));y.modify(b,c,{},f);A[f]=a.slice(0)};this.addToViewContent=function(a,f){f||(f=0);d(0<=f&&f<A.length,"Stage.addToViewContent: invalid index");for(var c=[],k=0;k<a.length;k++)-1===A[f].indexOf(a[k])&&c.push(a[k]);0<a.length&&(this.processDirty(),
k=z.getDirtySet().getResidentRenderGeometriesFilteredByLayers(c),y.modify(k,[],{},f),A[f].push.apply(A[f],c))};this.removeFromViewContent=function(a,f){f||(f=0);d(0<=f&&f<A.length,"Stage.RemoveFromViewContent: invalid index");this.processDirty();for(var c=z.getDirtySet(),k=A[f],b=[],n=0;n<a.length;n++){var e=k.indexOf(a[n]);-1<e&&(k[e]=k[k.length-1],k.pop(),b.push(a[n]))}c=c.getResidentRenderGeometriesFilteredByLayers(b);y.modify([],c,{},f)};this.getViewFrustumObjects=function(){return y.getFrustumObjects()};
this.getLocalOrigin=function(a,f,c){return z.getOrigin(a,f,c)};this.resize=function(){return y.resize()};this.onReady=function(){};this.onRender=function(){};this.onSelectionChange=function(){};this.onGeometryPicked=function(){};this.onViewExtentUpdated=function(){};this.addModelListener=function(a){return z.addModelListener(a)};this.removeModelListener=function(a){z.removeModelListener(a)};this.addFPSListener=function(a){y.addFPSListener(a)};this.removeFPSListener=function(a){y.removeFPSListener(a)};
this.renderScreenshots=function(a,f,c){return y.renderScreenshots(a,f,c)};this.getFrameTask=function(){return y.getFrameTask()};this.requestScreenCapture=function(a,f){y.requestScreenCapture(a,f)};this.getAllTexturesLoaded=function(){return y.getAllTexturesLoaded()};this.getTextureLoaded=function(a){return y.getTextureLoaded(a)};this.addExternalRenderer=function(a,f){"function"===typeof f.intersect&&B.push(f);return y.addExternalRenderer(a,f)};this.removeExternalRenderer=function(a,f){var c=B.indexOf(f);
-1<c&&(B[c]=B[B.length-1],B.pop());return y.removeExternalRenderer(a,f)};this.getContentDebugStrings=function(a){return z.formatDebugInfo(a)};this.getRenderStats=function(){return y.getCombinedStats()};this.getRenderStatString=function(a){var f=this.getRenderStats(),c="";if(a){var c=c+"\x3ctable\x3e",d;for(d in f)c+="\x3ctr\x3e\x3ctd\x3e"+d+'\x3c/td\x3e\x3ctd style\x3d"text-align: right"\x3e'+Math.round(f[d])+"\x3c/td\x3e\x3c/tr\x3e";c+="\x3c/table\x3e"}else for(d in f)c+=d+": "+f[d]+"\n";return c};
this._pick=function(a,f,c,d,b){var n=k.create(),e=k.create();y.getPickRay(a,n,e);return this.pickRay(n,e,a,a,f,c,d,b)}.bind(this);this.pickRayWithBeginPoint=function(a,f,c,d,k){y.pickRayWithBeginPoint(a,f,c,d,k)};var r=c.create(),v=a.create(),x=k.create(),w=new l;this.pickRay=function(a,f,c,d,k,n,e,s){var p;p=d?y.getSideIndexForPoint(d):0;var q=y.getCamera();c||(c=r,q.projectPoint(f,c));if(k){d=Array(k.length);for(p=0;p<d.length;p++)d[p]=z.get(b.ContentType.LAYER,k[p])}else{d=[];k=this.getViewContent(p);
var u=z.getAll(b.ContentType.LAYER);for(p=0;p<k.length;p++){var m=u[k[p]];m&&"VISIBLE"===m.getState()&&d.push(m)}}s?s.init(d,n,a,f,c,q,g,e):s=new l(d,n,a,f,c,q,g,e);for(p=0;p<B.length;p++)B[p].intersect(s,a,f,c);if(s.getHudResults().length){f=s.getHudResults();f.sort(function(a,f){return f.dist-a.dist});f=f[f.length-1];q.projectPoint(f.center,v);v[0]=Math.round(v[0]);v[1]=Math.round(v[1]);y.getPickRay(v,a,x);w.init(d,n,a,x,v,q,g,!1);for(p=0;p<B.length;p++)B[p].intersect(w,a,x,v);if(null==w.getMinResult().dist||
f.dist<=w.getMinResult().dist)s.getMinResult().set(f.object,f.name,f.dist,f.normal,f.priority),s.getMinResult().setIntersector("stage")}return s}.bind(this);var f=new l;f.mode="select";this.getIntersectTolerance=function(){return g};this.setIntersectTolerance=function(a){null==a&&(a=1E-5);g=a};this._select=function(a){var c=this._pick(a,this.highlightedObjectIds,null,!0,f).getMinResult(),d=c.object;this.onGeometryPicked(d,a,c);if(d&&(a=d.getParentLayer(),d===z.getSelection()||a&&"PICKABLE"!==a.getInteraction())){var k=
d.getFaceRangeFromTriangleNr(c.triangleNr);if(null==k||null!=z.getSelectionFaceRange()&&JSON.stringify(k)===JSON.stringify(z.getSelectionFaceRange()))d=void 0}this.selectionState&&this.setSelectionObject(d,!1,k)};this.getViewExtent=function(){var a=Number.MAX_VALUE,a={min:k.create([a,a,a]),max:k.create([-a,-a,-a])},f=z.getAll(p.ModelContentType.LAYER),c;for(c in f)if(0<f[c].getObjects().length){var d=f[c].getFullExtent();if(void 0!==d)for(var b=0;3>b;++b)a.min[b]=Math.min(a.min[b],d[0][b]),a.max[b]=
Math.max(a.max[b],d[1][b])}return a};this._updateViewExtent=function(){var a=null;this.onViewExtentUpdated(function(){null===a&&(a=this.getViewExtent());return a}.bind(this))};this.getTextureGraphicsRenderer=function(){return y.getTextureGraphicsRenderer()};this._getModule=function(a){switch(a){case "model":return z;case "view":return y;default:return y._getModule(a)}};var s=n,z=new b,y=new h(s,this,z.getDirtySet(),u),A=[[],[]],B=[];y.setLights(z.getAmbientLight(),z.getDirectionalLight());this._debugHideFaceRange=
function(a,f){var c=this.getAll("objects")[a];c.hideFaceRange(c.getGeometryRecords()[0],0,[c.getMetadata().faceRanges[f]])};this._debugHideAllFaceRange=function(a){a=this.getAll("objects")[a];for(var f in a.getMetadata().faceRanges)a.hideFaceRange(a.getGeometryRecords()[0],0,[a.getMetadata().faceRanges[f]])};this._debugUnhideFaceRange=function(a,f){this.getAll("objects")[a].unhideAllFaceRange()};this.registerMaterial=function(a){y.registerMaterial(a)}};p.DebugSettings={fineGrainedContentValidation:!1,
endFrameContentValidation:!1,logDirtySet:!1};p.ModelContentType=b.ContentType;return p})},"esri/symbols/ShieldLabelSymbol":function(){define("../core/declare dojo/_base/lang dojo/sniff dojox/gfx/_base ../core/lang ../core/urlUtils ./MarkerSymbol ./Font".split(" "),function(b,h,l,m,g,e,d,c){var a={url:"",width:12,height:12,angle:0,xoffset:0,yoffset:0};b=b(d,{declaredClass:"esri.symbol.ShieldLabelSymbol",type:"shieldlabelsymbol",color:[255,255,255,1],width:32,height:32,font:m.defaultFont,constructor:function(c,
d,b,e,q){c?h.isString(c)?(this.url=c,d&&(this.color=d),b&&(this.width=b),e&&(this.height=e),void 0!==q&&(this.font=q)):(this.width=m.pt2px(c.width),this.height=m.pt2px(c.height),d=c.imageData,!(9>l("ie"))&&d&&(b=this.url,this.url="data:"+(c.contentType||"image")+";base64,"+d,this.imageData=b)):h.mixin(this,a)},getStroke:function(){return null},getFill:function(){return this.color},setWidth:function(a){this.width=a;return this},setHeight:function(a){this.height=a;return this},setUrl:function(a){a!==
this.url&&(delete this.imageData,delete this.contentType);this.url=a;return this},setFont:function(a){this.font=a;return this},setText:function(a){this.text=a;return this},getWidth:function(){return this.width},getHeight:function(){return this.height},getShapeDescriptors:function(){return{defaultShape:{type:"image",x:-Math.round(this.width/2),y:-Math.round(this.height/2),width:this.width,height:this.height,src:this.url||""},fill:null,stroke:null}},toJSON:function(){var a=this.url,d=this.imageData;
if(0===a.indexOf("data:"))var b=a,a=d,d=b.indexOf(";base64,")+8,d=b.substr(d);var a=e.getAbsoluteUrl(a),b=m.px2pt(this.width),b=isNaN(b)?void 0:b,u=m.px2pt(this.height),u=isNaN(u)?void 0:u,a=g.fixJson(h.mixin(this.inherited(arguments),{type:"esriSHD",url:a,imageData:d,contentType:this.contentType,width:b,height:u}));this.font?(d=new c(this.font),a.font=d.toJSON()):a.font=null;delete a.size;a.imageData||delete a.imageData;return a}});b.defaultProps=a;return b})},"dijit/form/ToggleButton":function(){define(["dojo/_base/declare",
"dojo/_base/kernel","./Button","./_ToggleButtonMixin"],function(b,h,l,m){return b("dijit.form.ToggleButton",[l,m],{baseClass:"dijitToggleButton",setChecked:function(b){h.deprecated("setChecked("+b+") is deprecated. Use set('checked',"+b+") instead.","","2.0");this.set("checked",b)}})})},"esri/core/promiseList":function(){define(["dojo/_base/array","dojo/Deferred","dojo/when"],function(b,h,l){var m=b.forEach;return function(b){function e(c,d){a[d]=c;n.progress([c,d]);0===--u&&n.resolve(a)}var d,c;
b instanceof Array?c=b:b&&"object"===typeof b&&(d=b);var a,k=[];if(d){c=[];for(var p in d)Object.hasOwnProperty.call(d,p)&&(k.push(p),c.push(d[p]));a={}}else c&&(a=[]);if(!c||!c.length)return(new h).resolve(a);var n=new h;n.promise.always(function(){a=k=null});var u=c.length;m(c,function(a,c){d||k.push(c);l(a,function(a){e(a,k[c])},function(a){e(a,k[c])})});return n.promise}})},"dojo/dom-prop":function(){define("exports ./_base/kernel ./sniff ./_base/lang ./dom ./dom-style ./dom-construct ./_base/connect".split(" "),
function(b,h,l,m,g,e,d,c){function a(c){var d="";c=c.childNodes;for(var k=0,b;b=c[k];k++)8!=b.nodeType&&(d=1==b.nodeType?d+a(b):d+b.nodeValue);return d}var k={},p=0,n=h._scopeName+"attrid";l.add("dom-textContent",function(a,c,d){return"textContent"in d});b.names={"class":"className","for":"htmlFor",tabindex:"tabIndex",readonly:"readOnly",colspan:"colSpan",frameborder:"frameBorder",rowspan:"rowSpan",textcontent:"textContent",valuetype:"valueType"};b.get=function(c,d){c=g.byId(c);var k=d.toLowerCase(),
k=b.names[k]||d;return"textContent"==k&&!l("dom-textContent")?a(c):c[k]};b.set=function(a,q,t){a=g.byId(a);if(2==arguments.length&&"string"!=typeof q){for(var r in q)b.set(a,r,q[r]);return a}r=q.toLowerCase();r=b.names[r]||q;if("style"==r&&"string"!=typeof t)return e.set(a,t),a;if("innerHTML"==r)return l("ie")&&a.tagName.toLowerCase()in{col:1,colgroup:1,table:1,tbody:1,tfoot:1,thead:1,tr:1,title:1}?(d.empty(a),a.appendChild(d.toDom(t,a.ownerDocument))):a[r]=t,a;if("textContent"==r&&!l("dom-textContent"))return d.empty(a),
a.appendChild(a.ownerDocument.createTextNode(t)),a;if(m.isFunction(t)){var v=a[n];v||(v=p++,a[n]=v);k[v]||(k[v]={});var h=k[v][r];if(h)c.disconnect(h);else try{delete a[r]}catch(w){}t?k[v][r]=c.connect(a,r,t):a[r]=null;return a}a[r]=t;return a}})},"esri/symbols/IconSymbol3DLayer":function(){define("../core/declare dojo/_base/lang ../core/lang ../core/screenUtils ./Symbol3DLayer ../core/JSONSupport ../Color".split(" "),function(b,h,l,m,g,e,d){var c=e.createSubclass({classMetadata:{properties:{color:{type:d}},
reader:{exclude:["transparency"]}},color:void 0,toJSON:function(){return{color:this.color?[this.color.r,this.color.g,this.color.b]:void 0,transparency:this.color?100*(1-this.color.a):void 0,size:null!=this.size?m.px2pt(this.size):void 0}},_colorReader:function(a,c){var d=null!=c.transparency?1-0.01*c.transparency:1;if(a&&l.isDefined(a[0]))return[a[0],a[1],a[2],d]},_sizeReader:m.pt2px});return b(g,{classMetadata:{properties:{outline:{type:c}}},type:"Icon",material:void 0,resource:void 0,size:void 0,
_sizeReader:m.pt2px,anchor:void 0,outline:void 0,_outlineReader:function(a){return c.fromJSON(a)},toJSON:function(){var a={resource:h.clone(this.resource),size:null!=this.size?m.px2pt(this.size):void 0,anchor:this.anchor,outline:this.outline?this.outline.toJSON():void 0};h.mixin(a,this.inherited(arguments));return l.fixJson(a,!0)}})})},"esri/views/3d/terrain/TilemapOnlyTile":function(){define(["./TerrainConst","./TileBase"],function(b,h){var l=function(l){this.lij=l;this.layerInfo=Array(b.LayerClass.LAYER_CLASS_COUNT)};
l.prototype.tileDataAvailable=h.prototype.tileDataAvailable;l.prototype.modifyLayers=function(b,g,e){b=g.length;for(var d=this.layerInfo[e],c=Array(b),a=0;a<b;a++){var k=g[a];c[a]=-1<k?d[k]:{tilemapData:null,tilemapRequest:null,pendingUpdates:0}}this.layerInfo[e]=c};return l})},"esri/symbols/Symbol3DLayer":function(){define(["dojo/_base/lang","../core/lang","../core/JSONSupport","../Color"],function(b,h,l,m){var g=l.createSubclass({classMetadata:{properties:{color:{type:m}},reader:{exclude:["transparency"]}},
color:void 0,toJSON:function(){return{color:this.color?[this.color.r,this.color.g,this.color.b]:void 0,transparency:this.color?100*(1-this.color.a):void 0}},_colorReader:function(b,d){var c=null!=d.transparency?1-0.01*d.transparency:1;if(b&&h.isDefined(b[0]))return[b[0],b[1],b[2],c]}});return l.createSubclass({classMetadata:{properties:{material:{type:g},enable:{}}},enable:!0,type:null,material:void 0,_materialReader:function(b){var d=new g;d.read(b);return d},toJSON:function(){return{type:this.type,
enable:this.enable,material:this.material?this.material.toJSON():void 0,elevationInfo:this.elevationInfo?b.clone(this.elevationInfo):void 0}}})})},"esri/views/3d/webgl-engine/lib/Selector":function(){define(["./PerformanceTimer","./gl-matrix"],function(b,h){function l(a,c){this.normal=g.create();this.init(a,c)}function m(a,c,d,u,q,t,r,v){this.dir=g.create();this.normalDir=null;this.minResult=new l(d,u);this.maxResult=new l(d,u);this.timer=new b(1);this.invertedM=e.create();this.intersectObject=this.intersectObject.bind(this);
this.init(a,c,d,u,q,t,r,v);this.mode="intersect"}var g=h.vec3d,e=h.mat4d;l.prototype.getIntersectionPoint=function(a){if(void 0===this.dist)return!1;g.lerp(this.p0,this.p1,this.dist,a);return!0};l.prototype.set=function(a,c,d,b,e,t,r,l){this.dist=d;g.set(b,this.normal);this.object=a;this.name=c;this.priority=e;this.center=t;this.geometryId=r;this.triangleNr=l};l.prototype.setIntersector=function(a){this.intersector=a};l.prototype.init=function(a,c){this.priority=this.name=this.object=this.dist=void 0;
this.triangleNr=this.geometryId=this.center=null;this.intersector="stage";this.p0=a;this.p1=c};m.prototype.init=function(a,c,d,b,e,t,r,l){d&&b&&g.subtract(b,d,this.dir);this.minResult.init(d,b);this.maxResult.init(d,b);this.numObjectsTested=0;this.point=e;this.camera=t;this.isSelection=l;this.layers=a;this.objectIds=c;this.p0=d;this.p1=b;this.hudResults=[];null==r&&(r=1E-5);this.tolerance=r;if(this.objectIds){this.objectIdSet=new Set;for(d=0;d<this.objectIds.length;d++)this.objectIdSet.add(this.objectIds[d])}else this.objectIdSet=
null;if(this.layers){this.timer.start();for(a=0;a<this.layers.length;++a)if(c=this.layers[a],d=c.getSpatialQueryAccelerator?c.getSpatialQueryAccelerator():void 0)d.forEachObjectAlongRay(this.p0,this.dir,this.intersectObject);else{c=c.getObjects();d=0;for(b=c.length;d<b;++d)this.intersectObject(c[d])}this.timer.stop();this.performanceInfo={queryDuration:this.timer.getLast(),numObjectsTested:this.numObjectsTested}}};m.prototype.getDirection=function(){this.normalDir||(this.normalDir=g.create(),g.normalize(this.dir,
this.normalDir));return this.normalDir};var d=e.create(),c=g.create(),a=g.create();m.prototype.intersectObject=function(k){if(!this.objectIdSet||this.objectIdSet.has(k.getId())){this.numObjectsTested++;for(var b=k.getId(),n=k.getGeometryRecords(),g=k.getObjectTransformation(),q=0;q<n.length;q++){var t=n[q].geometry,r=t.getId(),m=n[q].materials;e.set(g,d);e.multiply(d,n[q].transformation);e.inverse(d,this.invertedM);e.multiplyVec3(this.invertedM,this.p0,c);e.multiplyVec3(this.invertedM,this.p1,a);
for(var h=0,w=t.getNumGroups();h<w;++h)m[h].intersect(t,h,d,this.point,this.p0,this.p1,c,a,this.camera,this.tolerance,function(a,c,d,n,e){if(0<=a)if(e)e=new l,e.set(k,b,a,c,n,k.getCenter(),r,d),this.hudResults.push(e);else{if(void 0===this.minResult.priority||n>=this.minResult.priority)(void 0===this.minResult.dist||a<this.minResult.dist)&&this.minResult.set(k,b,a,c,n,null,r,d);if(void 0===this.maxResult.priority||n>=this.maxResult.priority)(void 0===this.maxResult.dist||a>this.maxResult.dist)&&this.maxResult.set(k,
b,a,c,n,null,r,d)}}.bind(this),this.isSelection)}}};m.prototype.getMinResult=function(){return this.minResult};m.prototype.getMaxResult=function(){return this.maxResult};m.prototype.getHudResults=function(){return this.hudResults};m.DEFAULT_TOLERANCE=1E-5;return m})},"esri/views/3d/webgl-engine/parts/View":function(){define("dojo/text!../materials/internal/util.xml ../lib/GLTextureRep ../lib/GLSLProgramRep ../lib/GLMaterialRep ../lib/ShaderSnippets ../lib/GLVBO ../lib/GLFBO ../lib/TextureRenderer ../lib/Util ../lib/gl-matrix ../lib/webgl-utils ../lib/GLDefaultState ../materials/BillboardMaterial ../materials/HUDMaterial ../materials/LeafCardMaterial ../materials/Material ../materials/RibbonLineMaterial ../materials/WaterMaterial ../materials/internal/SimpleGLMaterial ../materials/internal/TexOnlyGLMaterial ../materials/internal/BlendLayers ../materials/ColorMaterial ../lib/SSAOHelperObscurance ./Model ./Viewport".split(" "),
function(b,h,l,m,g,e,d,c,a,k,p,n,u,q,t,r,v,x,w,f,s,z,y,A,B){var E=k.vec3d,F=k.vec4d;return function(k,Q,M,T){var K=document.createElement("canvas");K.setAttribute("style","width: 100%; height:100%; display:block;");var C=[1,1,1,1],D={alpha:T.alpha||!1};null!=T.antialias&&(D.antialias=T.antialias);T=p.setupWebGL(K,D);var L=T[0];T=void 0;a.assert(L);L.pixelStorei(L.UNPACK_FLIP_Y_WEBGL,!0);L.web3DDefaultState=new n(L);var W=new a.FPSCounter,ca,V,R;(function(){var c=new g;c._parse(b);V=new l;R={shaders:{},
add:function(f,c){a.assert(void 0===this.shaders[f]);this.shaders[f]=c},get:function(f){a.assert(void 0!==this.shaders[f]);return this.shaders[f]}};w.loadShaders(c,R,V,L);f.loadShaders(c,R,V,L);r.loadShaders(c,R,V,L);y.loadShaders(c,R,V,L);u.loadShaders(c,R,V,L);q.loadShaders(c,R,V,L);t.loadShaders(c,R,V,L);v.loadShaders(c,R,V,L);x.loadShaders(c,R,V,L);s.loadShaders(c,R,V,L);z.loadShaders(c,R,V,L);ca=c;return V})();var N=new e.GLVBORep,H=new h(Q.getAll(A.ContentType.TEXTURE),V,function(){return J.getCamera().viewport},
L),O=new m(H,V),I=E.createFrom(0,1,0),J=new B(V,N,O,H,L);T=k.getBoundingClientRect();D=J.getCamera();D.viewport[2]=T.width;D.viewport[3]=T.height;J.setCamera(D);var S=new c(L,K,V,O,H,M),U=[],ba=!0,X=!0;k.appendChild(K);this.dispose=function(){J.dispose();J=null;S.dispose();S=null;V.dispose();V=null;k.contains(K)&&k.removeChild(K);L=K=null};this.getCombinedStats=function(){return J.getCombinedStats()};var $=function(){ba=!1;Q.resetNeedsRender();J.resetNeedsRender();H.resetNeedsRender()};this.resetNeedsRender=
$;var P=function(){return Q.needsRender()||ba||!X||J.needsRender()||H.needsRender()};this.needsRender=function(){return P()};var aa=!1,da={preRender:function(){Q.processDirty();P()?(aa=!0,J.getCamera().setGLViewport(L),L.clearColor.apply(L,C),L.clear(L.COLOR_BUFFER_BIT|L.DEPTH_BUFFER_BIT)):aa=!1},render:function(){aa&&(L.web3DDefaultState.apply(),J.render(I,null))},postRender:function(){},update:function(){if(0!==U.length){for(var f=0;f<U.length;f++){var c=U[f],d=0,k=0,b=K.width,n=K.height,e=K.width,
s=K.height;if(e=c.settings.area)d=e.x,k=e.y,b=e.width,n=e.height;void 0!==c.settings.width&&void 0!==c.settings.height?(e=c.settings.width/c.settings.height,n*e<b?(e*=n,d+=Math.floor((b-e)/2),b=Math.floor(e)):(e=b/e,k+=Math.floor((n-e)/2),n=Math.floor(e)),e=c.settings.width,s=c.settings.height):(e=b,s=n);var p=K;if(0!==d||0!==k||b!==K.width||n!==K.height||e!==K.width||s!==K.height){fa.width=e;fa.height=s;var p=fa.getContext("2d"),q=new Uint8Array(4*b*n);L.readPixels(d,K.height-(k+n),b,n,L.RGBA,L.UNSIGNED_BYTE,
q);d=p.getImageData(0,0,e,s);a.resampleHermite(q,b,n,d.data,e,s,!0);p.putImageData(d,0,0);p=fa}b={png:"image/png",jpg:"image/jpeg",jpeg:"image/jpeg"}[c.settings.format?c.settings.format.toLowerCase():"png"];n=1;void 0!==c.settings.quality&&(n=c.settings.quality/100);b=p.toDataURL(b,n);c.callback({dataURL:b,x:0,y:0,width:e,height:s})}U=[]}$();f=a.performance.now();W.step(f)}};this.getFrameTask=function(){return da};var Y={ambient:F.create(),diffuse:F.create(),specular:F.create(),direction:E.create()};
this.setLights=function(a,f){E.set(f.direction,I);F.set4(a.color[0],a.color[1],a.color[2],a.intensity,Y.ambient);F.set4(f.color[0],f.color[1],f.color[2],f.intensity,Y.diffuse);F.set4(f.color[0],f.color[1],f.color[2],Math.min(f.intensity+a.intensity,1),Y.specular);E.set(f.direction,Y.direction);J.setLightingData(Y);ba=!0};this.getViewParams=function(a){var f=J.getViewParams(a);if(!a||a.backgroundColor)f.backgroundColor=C;return f};this.setViewParams=function(a){ba=!0;a.backgroundColor&&(C=a.backgroundColor);
J.setViewParams(a)};this.setRenderParams=function(a){ba=!0;"anisotropicFiltering"in a&&H.setMaxAnisotropy(a.anisotropicFiltering);"backfaceCulling"in a&&(L.web3DDefaultState.cullEnabled=a.backfaceCulling);void 0!==a.idleSuspend&&(X=!!a.idleSuspend);J.setRenderParams(a)};this.getRenderParams=function(){var a=J.getRenderParams();a.anisotropicFiltering=H.getMaxAnisotropy();a.backfaceCulling=L.web3DDefaultState.cullEnabled;a.idleSuspend=X;return a};this.has=function(a){return"s3tc"===a?!!L.getExtension("WEBGL_compressed_texture_s3tc"):
!1};this.getFrustumObjects=function(){return J.getFrustumObjects()};this.modify=function(a,f,c,d,k){J.modify(a,f,c,d,k)};this.setSelectionObject=function(a,f){J.setSelectionObject(a,f)};this.setHighlightObjects=function(a,f){J.setHighlightObjects(a,f)};this.frame=function(a,f){J.frame(a,f)};this.setCamera=function(a){J.setCamera(a)};this.getCamera=function(){return J.getCamera()};this.addFPSListener=function(a){W.addListener(a)};this.removeFPSListener=function(a){W.removeListener(a)};this.getPickRay=
function(a,f,c){J.getPickRay(a,f,c)};this.pickRayWithBeginPoint=function(a,f,c,d,k){J.pickRayWithBeginPoint(a,f,c,d,k)};this.getSideIndexForPoint=function(a){return J.getSideIndexForPoint(a)};this.getCanvas=function(){return K};this.getTextureGraphicsRenderer=function(){return S};this.renderScreenshots=function(f){var c=new B(V,N,O,H,L),k=J.getViewParams({frustumCullingEnabled:!0,maxFarNearRatio:!0});c.setLightingData(J.getLightingData());c.setRenderParams(J.getRenderParams());c.modify(a.object2array(J.getContent()),
[]);for(var b=J.getExternalRenderers(),n=0;n<b.length;n++)for(var e=0;e<b[n].length;e++)c.addExternalRenderer(n,b[n][e]);for(var b=Array(f.length),s,n=0,e=f.length;n<e;++n){s=f[n];var p=s.camera;k.pixelRatio=0.5*(p.width/K.width+p.height/K.height);c.setViewParams(k);s=new d(L.RGBA,L.UNSIGNED_BYTE,!0,L.NEAREST,L);s.setSize(p.width,p.height);s.bind();var q=4*p.width*p.height;c.setCamera(p);L.clearColor.apply(L,C);L.clear(L.COLOR_BUFFER_BIT|L.DEPTH_BUFFER_BIT);c.step(0);c.render(I,s.getGLName());var g=
new Uint8Array(q);L.readPixels(0,0,p.width,p.height,L.RGBA,L.UNSIGNED_BYTE,g);for(p=3;p<q;p+=4)g[p]=255;b[n]=g}L.bindFramebuffer(L.FRAMEBUFFER,null);s.dispose();L.viewport(0,0,K.width,K.height);c.dispose();return b};this.requestScreenCapture=function(a,f){U.push({settings:a||{},callback:f});ba=!0};this.getAllTexturesLoaded=function(){return 0===H.getLoadingCount()};this.getTextureLoaded=function(a){return H.getIsLoaded(a)};this.addTextureListener=function(a){H.addTextureListener(a)};this.removeTextureListener=
function(a){H.removeTextureListener(a)};this.addExternalRenderer=function(a,f){return J.addExternalRenderer(a,f)?(f.loadShaders(ca,R,V),!0):!1};this.removeExternalRenderer=function(a,f){return J.removeExternalRenderer(a,f)};this._getModule=function(a){return"viewport"===a?J:J._getModule(a)};this.registerMaterial=function(a){a.loadShaders(ca,R,V,L)};var fa=document.createElement("canvas")}})},"esri/symbols/MeshSymbol3D":function(){define(["../core/declare","./Symbol3D"],function(b,h){var l=b(h,{declaredClass:"esri.symbol.MeshSymbol3D",
type:"MeshSymbol3D",_allowedLayerTypes:["Fill"]});l.fromJSON=function(b){var g=new l;g.read(b);return g};return l})},"esri/views/3d/webgl-engine/lib/RenderGeometry":function(){define(["./gl-matrix"],function(b){var h=b.vec3d,l=b.mat4d;b=function(b,g,e,d,c,a,k,p,n,u,q){this.data=b;this.boundingInfo=g;this.material=e;this.origin=null;this.center=h.create();this.bsRadius=0;this.transformation=null;d&&this.updateTransformation(d,c);this.castShadow=a;this.singleUse=k;this.name=p;this.uniqueName=n;this.idx=
u;this.canBeMerged=!0;this.componentIdx=q;this.instanceParameters=this.displayedIndexRange=void 0};b.prototype.updateTransformation=function(b,g){g=g||l.maxScale(b);this.transformation=b;l.multiplyVec3(b,this.boundingInfo.getCenter(),this.center);this.bsRadius=this.boundingInfo.getBSRadius()*g};return b})},"esri/widgets/Compass":function(){define("../core/watchUtils ./Widget dijit/_TemplatedMixin dijit/a11yclick dojo/dom-attr dojo/dom-class dojo/dom-style dojo/i18n!../nls/jsapi dojo/text!./Compass/templates/Compass.html".split(" "),
function(b,h,l,m,g,e,d,c,a){return h.createSubclass([l],{declaredClass:"esri.widgets.Compass",baseClass:"esri-compass",templateString:a,css:{disabled:"esri-disabled",indicator:"esri-indicator",interactive:"esri-interactive",isWebMercator:"esri-compass-is-web-mercator",compass:"esri-compass-icon",compassNorth:"esri-compass-icon-north",compassStyle:"esri-compass-style"},constructor:function(){this._handleClick=this._handleClick.bind(this);this._updateForCamera=this._updateForCamera.bind(this);this._updateForRotation=
this._updateForRotation.bind(this);this._checkSpatialReference=this._checkSpatialReference.bind(this);this._handleReadyChange=this._handleReadyChange.bind(this);this._i18n=c.widgets.compass},postCreate:function(){this.inherited(arguments);this.on(m,this._handleClick)},_rotationWatcher:null,_srWatcher:null,view:null,_setViewAttr:function(a){this._set("view",a);this._wireUp(a)},_wireUp:function(a){this._removeWatcher(this._srWatcher,this._rotationWatcher,this._readyWatcher);a?(this._srWatcher=b.init(a,
"map.spatialReference",this._checkSpatialReference),this._rotationWatcher="2d"===a.type?b.init(a,"rotation",this._updateForRotation):b.init(a,"camera",this._updateForCamera),this._readyWatcher=b.init(a,"ready",this._handleReadyChange),this.own(this._srWatcher,this._rotationWatcher,this._readyWatcher)):e.add(this.domNode,this.css.disabled)},_removeWatcher:function(){Array.prototype.slice.call(arguments).forEach(function(a){a&&a.remove()})},_checkSpatialReference:function(a){a=a&&(a.isWebMercator()||
4326===a.wkid);e.toggle(this.dap_indicator,this.css.isWebMercator,a)},_applyRotation:function(a){var c="";"x"in a&&(c+="rotateX("+a.x+"deg)");"y"in a&&(c+="rotateY("+a.y+"deg)");"z"in a&&(c+="rotateZ("+a.z+"deg)");d.set(this.dap_indicator,{transform:c,mozTransform:c,webkitTransform:c,oTransform:c,msTransform:c})},_updateForRotation:function(a){void 0===a||null===a||this._applyRotation({z:a})},_updateForCamera:function(a){a&&this._applyRotation({y:0,z:-a.heading})},_handleClick:function(){var a=this.view;
a&&a.ready&&("2d"===a.type?a.animateTo({rotation:0}):a.animateTo({heading:0,tilt:0}))},_handleReadyChange:function(a){e.toggle(this.domNode,this.css.disabled,!a);e.toggle(this.domNode,this.css.interactive,a);a?g.set(this.domNode,"tabindex",0):g.remove(this.domNode,"tabindex")}})})},"esri/portal/support/PortalUtil":function(){define(["../../request","./portalResult","dojo/_base/array","../../core/declare","dojo/_base/lang"],function(b,h,l,m,g){var e=m([],{portal:null,esriPortal:null,constructor:function(d){this.esriPortal=
(this.portal=d)&&d.esriPortal||{}},useSSL:function(d,c){var a=this.esriPortal&&this.esriPortal.self||{};if(a&&!a.isPortal)return-1!==d.indexOf("https:")||a.allSSL?c.replace("http:","https:"):c;var b=e.getLocation(c);if(-1<a.portalHostname.toLowerCase().indexOf(b.hostname.toLowerCase())&&b.port&&"80"!==b.port&&"443"!==b.port){var p=b.pathname,p=0===p.indexOf("/")?p:"/"+p;return a.allSSL||-1<d.indexOf("https:")?"https://"+b.hostname+(a.httpsPort&&"443"!==a.httpsPort?":"+a.httpsPort:"")+p+b.search:"http://"+
b.hostname+(a.httpPort&&"80"!==a.httpPort?":"+a.httpPort:"")+p+b.search}return-1!==d.indexOf("https:")||a.allSSL?c.replace("http:","https:"):c},formatUrl:function(d){var c=this.esriPortal.currentToken;return-1!==d.indexOf("null")?null:this.useSSL(window.location.protocol,c?d+(-1!==d.indexOf("?")?"\x26":"?")+("token\x3d"+c):d)},requestToTypedArray:function(d,c,a,b,p){return h(this.request(d,c,a).then(g.partial(e.resultsToTypedArray,b,p)))},request:function(d,c,a){var k;c&&c.portal&&delete c.portal;
c&&c.form&&(k=c.form,delete c.form);c=g.mixin(g.mixin({},c||{}),this.esriPortal.requestParams);a=g.mixin(a||{},this.esriPortal.options);return b({url:this.useSSL(window.location.protocol,d.url||d),content:c,callbackParamName:"callback",timeout:a&&a.timeout||0,form:k},a)},formatQueryParams:function(d,c,a){d=g.mixin(g.mixin({},d),g.isString(c)?{q:c}:c||{});d.q=!a&&this.esriPortal.extraQuery?"("+d.q+")"+this.esriPortal.extraQuery:d.q;return d}});e.getLocation=function(d){var c=document.createElement("a");
c.href=d;return{protocol:c.protocol,hostname:c.hostname,port:c.port,pathname:c.pathname,search:c.search,hash:c.hash,host:c.host}};e.resultsToTypedArray=function(d,c,a){a=a?a.listings||a.notifications||a.userInvitations||a.tags||a.items||a.groups||a.comments||a.provisions||a.results||a:[];return l.map(a,function(a){a=g.mixin(a,c||{});return d?new d(a):a})};e.clearFieldsFromObject=function(d,c){var a,b=d.length;if(g.isArray(d))for(a=0;a<b;a++)delete c[d[a]];else for(a in d)d.hasOwnProperty(a)&&delete c[a];
return c};return e})},"esri/core/accessorSupport/introspect":function(){define(["dojo/_base/lang","./Property","./PropertyNotifier","./merge"],function(b,h,l,m){var g=function(a){return Object.create(void 0===a?null:a)},e=/^_([a-zA-Z0-9]+)(Getter|Setter|Reader)$/,d=function(a){return a._meta?a:a.constructor},c=Object.prototype.hasOwnProperty,a=function(a){if(!(a&&null!=d(a)._meta))return null;var b=p(a),n=b.mixin;if(n)return n;var f=a.prototype,s=c.call(f,"classMetadata")?f.classMetadata:g(),n=b.mixin=
{declaredClass:f.declaredClass,properties:s.properties?m(g(),s.properties):g(),reader:s.reader?m(g(),s.reader):g(),notifiers:[]},u=n.properties,t=function(a){a=a.split(".")[0];u[a]||(u[a]={});return u[a]};Object.getOwnPropertyNames(f).forEach(function(a){var c=f[a],d=e.exec(a);d&&(a=d[1],d=d[2],a=t(a),a[d.toLowerCase()]=c)});(b=s.computed)&&Object.getOwnPropertyNames(b).forEach(function(a){var f=t(a);m(f,{dependsOn:Array.isArray(b[a])?b[a]:[b[a]]});f.dependsOn.forEach(t)});k(a);Object.getOwnPropertyNames(u).forEach(function(a){q(f,
a)&&(u[a].value=f[a])});n.properties=Object.getOwnPropertyNames(u).reduce(function(a,f){a[f]=new h(f,u[f]);return a},{});return n},k=function(a){var c=p(a).mixin,d=c.properties,f=g(),b,k,n,e,q;if(d){for(k in d)if(b=d[k].dependsOn)for(e=0;n=b[e];e++)f[n]?-1===f[n].indexOf(k)&&f[n].push(k):f[n]=[k];e=[];for(k in f){b=[];q=g();for(e.push(k);e.length;)n=e.shift(),q[n]||(q[n]=!0,b.push(n),(n=f[n])&&Array.prototype.push.apply(e,n));b.shift();-1<k.indexOf(".")&&(c.notifiers||(c.notifiers=[]),c.notifiers.push(new l(k,
b)),k=k.split(".")[0]);d[k]?d[k].chain=b:(n=t(a,k))?p(n).mixin.properties[k]||(p(n).mixin.properties[k]=new h(k,{value:u(a,k),chain:b})):c.properties[k]=new h(k,{chain:b})}}},p=function(c){if(!(c&&null!=d(c)._meta))return null;var b=d(c),k=b._esriMeta;if(k)return k;var k=b._esriMeta={},f=d(c)._meta.bases;c=k.mixins=[];for(var n,e=f.length-1;0<=e;e--)(n=a(f[e]))&&c.unshift(n);var f=k.classMetadata={declaredClass:b.prototype.declaredClass,notifiers:[],properties:{},reader:{}},p=f.properties,q,e;for(e=
c.length-1;0<=e;e--){n=c[e];for(q in n.properties)r(b,q),p[q]?p[q].mixIn(n.properties[q]):(p[q]=new h(q,n.properties[q]),!p[q].hasOwnProperty("value")&&t(b,q)&&(p[q].value=u(b,q)),Object.defineProperty(b.prototype,q,p[q].getDescriptor()));f.notifiers=f.notifiers.concat(k.mixins[e].notifiers);f.reader=m(f.reader,k.mixins[e].reader)}return k},n=function(a,c){if(a){var d=Object.getOwnPropertyDescriptor(a.prototype,c);return d?d.value:a.prototype[c]}},u=function(a,d){if(c.call(a,d))return a[d];var b=
t(a,d);return n(b,d)},q=function(a,d){var b;return c.call(a,d)&&(!(b=Object.getOwnPropertyDescriptor(a,d))||c.call(b,"value"))},t=function(a,b){for(var k=d(a)._meta.bases,f,n,e=0,g=k.length;e<g;e++)if(f=k[e],n=(n=p(f))&&n.mixin.properties[b],q(f.prototype,b)||n&&c.call(n,"value"))return f;return null},r=function(a,c){var b=d(a),f=p(b).classMetadata.properties,k=t(b,c)||b,e=k?p(k).mixin.properties:{},q=e[c];k&&!q&&(q=e[c]=new h(c,{value:n(k,c)}),p(k).mixin.properties[c]=new h(c,q),e=p(k).classMetadata.properties,
e[c]?e[c].value=q.value:(e[c]=q,Object.defineProperty(k.prototype,c,q.getDescriptor())));b!==k&&(f[c]?f[c].value=q.value:(f[c]=new h(c,q),Object.defineProperty(b.prototype,c,q.getDescriptor())));return q};return b.mixin(function(a){return p(a)},{getProperties:function(a){return p(a).classMetadata.properties},isIntrospected:function(a){return null!=d(a)._esriMeta},getPropertyOwnerValue:u,getPropertyOwner:t,installPropertyNotifiers:function(a){var c=p(a).classMetadata.notifiers;return c?c.map(function(a){return a.install(this)},
a):[]},defineProperty:r})})},"dijit/_DialogMixin":function(){define(["dojo/_base/declare","./a11y"],function(b,h){return b("dijit._DialogMixin",null,{actionBarTemplate:"",execute:function(){},onCancel:function(){},onExecute:function(){},_onSubmit:function(){this.onExecute();this.execute(this.get("value"))},_getFocusItems:function(){var b=h._getTabNavigable(this.domNode);this._firstFocusItem=b.lowest||b.first||this.closeButtonNode||this.domNode;this._lastFocusItem=b.last||b.highest||this._firstFocusItem}})})},
"esri/renderers/TimeRampAger":function(){define(["../core/declare","dojo/_base/Color","../symbols/support/jsonUtils","../Color","./SymbolAger"],function(b,h,l,m,g){return b(g,{declaredClass:"esri.renderer.TimeRampAger",constructor:function(b,d,c){this.colorRange=b;this.sizeRange=d;this.alphaRange=c},getAgedSymbol:function(b,d){var c=d.getLayer(),a=d.attributes;b=l.fromJSON(b.toJSON());var k=c._map.timeExtent,p=k.startTime,k=k.endTime;if(!p||!k)return b;p=p.getTime();k=k.getTime();c=new Date(a[c._startTimeField]);
c=c.getTime();c<p&&(c=p);p=k===p?1:(c-p)/(k-p);if(c=this.sizeRange)a=c[0],k=c[1],c=Math.abs(k-a)*p,this._setSymbolSize(b,a<k?a+c:a-c);if(c=this.colorRange){var k=c[0],n=c[1],g=Math.round,a=new h,q=k.r,t=n.r,c=Math.abs(t-q)*p;a.r=g(q<t?q+c:q-c);q=k.g;t=n.g;c=Math.abs(t-q)*p;a.g=g(q<t?q+c:q-c);q=k.b;t=n.b;c=Math.abs(t-q)*p;a.b=g(q<t?q+c:q-c);k=k.a;n=n.a;c=Math.abs(n-k)*p;a.a=k<n?k+c:k-c;b.setColor(a)}a=b.color;if((c=this.alphaRange)&&a)k=c[0],n=c[1],c=Math.abs(n-k)*p,a.a=k<n?k+c:k-c;return b},toJson:function(){try{throw Error("toJson is deprecated, use toJSON instead");
}catch(b){console.warn(b.stack)}return this.toJSON()},toJSON:function(){var b={};this.sizeRange&&(b.sizeRange=this.sizeRange);this.colorRange&&(b.colorRange=[m.toJSON(this.colorRange[0]),m.toJSON(this.colorRange[1])]);this.alphaRange&&(b.alphaRange=[Math.round(255*this.alphaRange[0]),Math.round(255*this.alphaRange[1])]);return b}})})},"dijit/_Widget":function(){define("dojo/aspect dojo/_base/config dojo/_base/connect dojo/_base/declare dojo/has dojo/_base/kernel dojo/_base/lang dojo/query dojo/ready ./registry ./_WidgetBase ./_OnDijitClickMixin ./_FocusMixin dojo/uacss ./hccss".split(" "),
function(b,h,l,m,g,e,d,c,a,k,p,n,u){function q(){}function t(a){return function(c,b,k,f){return c&&"string"==typeof b&&c[b]==q?c.on(b.substring(2).toLowerCase(),d.hitch(k,f)):a.apply(l,arguments)}}b.around(l,"connect",t);e.connect&&b.around(e,"connect",t);b=m("dijit._Widget",[p,n,u],{onClick:q,onDblClick:q,onKeyDown:q,onKeyPress:q,onKeyUp:q,onMouseDown:q,onMouseMove:q,onMouseOut:q,onMouseOver:q,onMouseLeave:q,onMouseEnter:q,onMouseUp:q,constructor:function(a){this._toConnect={};for(var c in a)this[c]===
q&&(this._toConnect[c.replace(/^on/,"").toLowerCase()]=a[c],delete a[c])},postCreate:function(){this.inherited(arguments);for(var a in this._toConnect)this.on(a,this._toConnect[a]);delete this._toConnect},on:function(a,c){return this[this._onMap(a)]===q?l.connect(this.domNode,a.toLowerCase(),this,c):this.inherited(arguments)},_setFocusedAttr:function(a){this._focused=a;this._set("focused",a)},setAttribute:function(a,c){e.deprecated(this.declaredClass+"::setAttribute(attr, value) is deprecated. Use set() instead.",
"","2.0");this.set(a,c)},attr:function(a,c){return 2<=arguments.length||"object"===typeof a?this.set.apply(this,arguments):this.get(a)},getDescendants:function(){e.deprecated(this.declaredClass+"::getDescendants() is deprecated. Use getChildren() instead.","","2.0");return this.containerNode?c("[widgetId]",this.containerNode).map(k.byNode):[]},_onShow:function(){this.onShow()},onShow:function(){},onHide:function(){},onClose:function(){return!0}});g("dijit-legacy-requires")&&a(0,function(){require(["dijit/_base"])});
return b})},"esri/views/3d/navigation/planar/NavigationPlanar":function(){define("../Navigation ./ConstraintsPlanar ./AnimationPlanar ./actions/PanPlanar ./actions/RotatePlanar ./actions/ZoomPlanar ../../lib/glMatrix".split(" "),function(b,h,l,m,g,e,d){var c=d.vec3d,a=c.create(),k=c.create(),p=c.create(),n=c.create();return b.createSubclass([h,l],{declaredClass:"esri.views.3d.navigation.planar.NavigationPlanar",initialize:function(){this.pan=new m(this);this.zoom=new e(this);this.rotate=new g(this)},
fixTargetUpVector:function(){var a=this.renderCoordsHelper.worldUp,d=this.cameras.target;c.direction(d.center,d.eye,n);var b=c.dot(n,a);0.9999<Math.abs(b)||(c.scale(n,b,n),c.subtract(a,n,d.up),c.normalize(d.up))},setPoiAuto:function(d,b){var n=this.picker.pickAlongRay(this.cameras.target.eye,this.cameras.target.center,null,d);if(n.getMinResult().getIntersectionPoint(a)&&n.getMaxResult().getIntersectionPoint(k)){var e=5/this.mapUnitInMeters,g=n.getMinResult().dist-e,e=n.getMaxResult().dist+e,l=c.dist(this.cameras.target.eye,
this.cameras.target.center);if(l<=g||l>=e){if(n.getMinResult().object){n.getMaxResult().dist=void 0;n.intersectObject(n.getMinResult().object);if(void 0===n.getMaxResult().dist){console.error("[NavigationPlanar.setPoiAuto] Did not obtain maximum intersection distance");return}n.getMaxResult().getIntersectionPoint(k);c.lerp(a,k,0.5,p)}else c.set(a,p);this.setCameraFromEyeAndCenter(this.cameras.target.eye,p,{animate:!1})}}}})})},"esri/views/3d/webgl-engine/lib/ShaderSnippets":function(){define(["./Util",
"dojox/xml/parser"],function(b,h){var l=b.assert,m=b.VertexAttrConstants;return function(){for(var b in m)this[m[b]]=m[b];this._parse=function(b){b=h.parse(b).getElementsByTagName("snippet");for(var d=/\$[a-zA-Z0-9]+[ \t]*/,c=/[\$\s]+/g,a=0;a<b.length;a++){var k=b[a].getAttribute("name");l(void 0===this[k]);for(var p=b[a].textContent,n;null!==(n=p.match(d));){var g=this[n[0].replace(c,"")];l(void 0!==g);p=p.replace(n[0],g)}this[k]=p}}}})},"esri/renderers/UniqueValueRenderer":function(){define("../core/declare dojo/_base/array dojo/_base/lang ../core/lang ../symbols/support/jsonUtils ./Renderer".split(" "),
function(b,h,l,m,g,e){return b(e,{declaredClass:"esri.renderer.UniqueValueRenderer",constructor:function(d,c,a,b,e){this.values=[];this._symbols={};this.infos=[];d&&!d.declaredClass?(c=d,this.defaultSymbol=(d=c.defaultSymbol)&&(d.declaredClass?d:g.fromJSON(d)),this.attributeField=c.field1,this.attributeField2=c.field2,this.attributeField3=c.field3,this.fieldDelimiter=c.fieldDelimiter,this.defaultLabel=c.defaultLabel,h.forEach(c.uniqueValueInfos,this._addValueInfo,this)):(this.defaultSymbol=d,this.attributeField=
c,this.attributeField2=a,this.attributeField3=b,this.fieldDelimiter=e);this._multiple=!!this.attributeField2},attributeField:null,attributeField2:null,attributeField3:null,defaultLabel:null,defaultSymbol:null,fieldDelimiter:null,infos:null,addValue:function(d,c){var a=l.isObject(d)?d:{value:d,symbol:c};this._addValueInfo(a)},removeValue:function(d){var c=h.indexOf(this.values,d);-1!==c&&(this.values.splice(c,1),delete this._symbols[d],this.infos.splice(c,1))},getUniqueValueInfo:function(d){var c=
this.attributeField,a=d.attributes,b,e;this._multiple?(d=this.attributeField2,b=this.attributeField3,e=[],c&&e.push(a[c]),d&&e.push(a[d]),b&&e.push(a[b]),c=e.join(this.fieldDelimiter||"")):c=l.isFunction(c)?c(d):a[c];return this._symbols[c]},getSymbol:function(d){return(d=this.getUniqueValueInfo(d))&&d.symbol||this.defaultSymbol},_addValueInfo:function(d){var c=d.value;this.values.push(c);this.infos.push(d);var a=d.symbol;a&&!a.declaredClass&&(d.symbol=g.fromJSON(a));this._symbols[c]=d},collectRequiredFields:function(d){this.inherited(arguments);
[this.attributeField,this.attributeField2,this.attributeField3].forEach(function(c){c&&(d[c]=!0)})},toJson:function(){try{throw Error("toJson is deprecated, use toJSON instead");}catch(d){console.warn(d.stack)}return this.toJSON()},toJSON:function(){var d=m.fixJson,c=l.mixin(this.inherited(arguments),{type:"uniqueValue",field1:this.attributeField,field2:this.attributeField2,field3:this.attributeField3,fieldDelimiter:this.fieldDelimiter,defaultSymbol:this.defaultSymbol&&this.defaultSymbol.toJSON(),
defaultLabel:this.defaultLabel,uniqueValueInfos:h.map(this.infos||[],function(a){a=l.mixin({},a);a.symbol=a.symbol&&a.symbol.toJSON();a.value+="";return d(a)})});return d(c)}})})},"dijit/form/SimpleTextarea":function(){define(["dojo/_base/declare","dojo/dom-class","dojo/sniff","./TextBox"],function(b,h,l,m){return b("dijit.form.SimpleTextarea",m,{baseClass:"dijitTextBox dijitTextArea",rows:"3",cols:"20",templateString:"\x3ctextarea ${!nameAttrSetting} data-dojo-attach-point\x3d'focusNode,containerNode,textbox' autocomplete\x3d'off'\x3e\x3c/textarea\x3e",
postMixInProperties:function(){!this.value&&this.srcNodeRef&&(this.value=this.srcNodeRef.value);this.inherited(arguments)},buildRendering:function(){this.inherited(arguments);l("ie")&&this.cols&&h.add(this.textbox,"dijitTextAreaCols")},filter:function(b){b&&(b=b.replace(/\r/g,""));return this.inherited(arguments)},_onInput:function(b){if(this.maxLength){var e=parseInt(this.maxLength),d=this.textbox.value.replace(/\r/g,""),e=d.length-e;if(0<e){var c=this.textbox;if(c.selectionStart){var a=c.selectionStart,
k=0;l("opera")&&(k=(this.textbox.value.substring(0,a).match(/\r/g)||[]).length);this.textbox.value=d.substring(0,a-e-k)+d.substring(a-k);c.setSelectionRange(a-e,a-e)}else this.ownerDocument.selection&&(c.focus(),d=this.ownerDocument.selection.createRange(),d.moveStart("character",-e),d.text="",d.select())}}this.inherited(arguments)}})})},"dijit/Destroyable":function(){define(["dojo/_base/array","dojo/aspect","dojo/_base/declare"],function(b,h,l){return l("dijit.Destroyable",null,{destroy:function(b){this._destroyed=
!0},own:function(){var l=["destroyRecursive","destroy","remove"];b.forEach(arguments,function(g){function e(){c.remove();b.forEach(a,function(a){a.remove()})}var d,c=h.before(this,"destroy",function(a){g[d](a)}),a=[];g.then?(d="cancel",g.then(e,e)):b.forEach(l,function(c){"function"===typeof g[c]&&(d||(d=c),a.push(h.after(g,c,e,!0)))})},this);return arguments}})})},"dojo/request":function(){define(["./request/default!"],function(b){return b})},"esri/views/3d/SceneViewLighting":function(){define(["dojo/_base/lang",
"../../core/Evented","../../core/JSONSupport"],function(b,h,l){var m=l.createSubclass([h],{declaredClass:"esri.views.3d.SceneViewLighting",classMetadata:{properties:{date:{copy:function(b,e){b.setTime(e.getTime())}},ready:{readOnly:!0,getter:function(){return this._ready}}},reader:{exclude:["datetime"],add:["date"]}},constructor:function(){this._ready=!1},getDefaults:function(){var g=new Date("March 15, 2015 12:00:00");g.setUTCHours(g.getUTCHours()-g.getTimezoneOffset()/60);return b.mixin({date:g},
this.inherited(arguments))},date:null,_dateSetter:function(b,e){if(null==b)return b;e||(e=new Date);"number"===typeof b?e.setTime(b):e.setTime(b.getTime());return e},_dateReader:function(b,e){return null==e.datetime?null:new Date(e.datetime)},directShadows:!1,ambientOcclusion:!1,clone:function(){return new m({date:null!=this.date?new Date(this.date):null,directShadows:!!this.directShadows,ambientOcclusion:!!this.ambientOcclusion})},toJSON:function(){var b={};null!=this.date&&(b.datetime=this.date.getTime());
this.directShadows&&(b.directShadows=!0);this.ambientOcclusion&&(b.ambientOcclusion=!0);return b}});return m})},"esri/core/Accessor":function(){define(["./declare","./accessorSupport/Properties"],function(b,h){var l=function(b,g,e){b=void 0!==(b&&b[g[e]])?b[g[e]]:void 0;return!b||e===g.length-1?b:l(b,g,++e)};return b(null,{declaredClass:"esri.core.Accessor","-chains-":{postIntrospection:"after",initialize:"after",destroy:"before"},constructor:function(b){this._accessorProps=new h(this);0<arguments.length&&
this.normalizeCtorArgs&&(this._accessorProps.ctorArgs=this.normalizeCtorArgs.apply(this,Array.prototype.slice.call(arguments)))},postscript:function(b){var g=this._accessorProps;b=g.ctorArgs||b;var e;(e=this.getDefaults?b?this.getDefaults(b):this.getDefaults({}):null)&&Object.getOwnPropertyNames(e).forEach(function(d){g.setDefault(d,e[d])},this);b&&(this.set(b),g.ctorArgs=null);g.initialize();this.initialize()},postIntrospection:function(){},initialize:function(){},destroy:function(){if(this._accessorProps)this._accessorProps.dispatch(),
this._accessorProps.destroy(),this._accessorProps=null;else try{throw Error("instance is already destroyed");}catch(b){console.warn(b.stack)}},get:function(b){return 0<b.indexOf(".")?l(this,b.split("."),0):this[b]},set:function(b,g){if(b&&"object"===typeof b)return b._accessorProps?b.keys().forEach(function(e){this.set(e,b[e])},this):Object.getOwnPropertyNames(b).forEach(function(e){this.set(e,b[e])},this),this;"_"!==b[0]&&(this[b]=g);return this},watch:function(b,g){return this._accessorProps.watch(b,
g)},hasOwnProperty:function(b){var g=this._accessorProps;return g&&g.properties[b]?g.cache.has(b)||null!==g.defaults&&g.defaults.has(b):Object.prototype.hasOwnProperty.call(this,b)},keys:function(){return this._accessorProps.cache.keys()},notifyChange:function(b){this._accessorProps.propertyWillChange(b)}})})},"dojo/_base/Deferred":function(){define("./kernel ../Deferred ../promise/Promise ../errors/CancelError ../has ./lang ../when".split(" "),function(b,h,l,m,g,e,d){var c=function(){},a=Object.freeze||
function(){},k=b.Deferred=function(d){function b(a){if(t)throw Error("This deferred has already been resolved");q=a;t=!0;u()}function u(){for(var a;!a&&f;){var d=f;f=f.next;if(a=d.progress==c)t=!1;var b=x?d.error:d.resolved;g("config-useDeferredInstrumentation")&&x&&h.instrumentRejected&&h.instrumentRejected(q,!!b);if(b)try{var k=b(q);k&&"function"===typeof k.then?k.then(e.hitch(d.deferred,"resolve"),e.hitch(d.deferred,"reject"),e.hitch(d.deferred,"progress")):(b=a&&void 0===k,a&&!b&&(x=k instanceof
Error),d.deferred[b&&x?"reject":"resolve"](b?q:k))}catch(n){d.deferred.reject(n)}else x?d.deferred.reject(q):d.deferred.resolve(q)}}var q,t,r,v,x,w,f,s=this.promise=new l;this.isResolved=s.isResolved=function(){return 0==v};this.isRejected=s.isRejected=function(){return 1==v};this.isFulfilled=s.isFulfilled=function(){return 0<=v};this.isCanceled=s.isCanceled=function(){return r};this.resolve=this.callback=function(a){this.fired=v=0;this.results=[a,null];b(a)};this.reject=this.errback=function(a){x=
!0;this.fired=v=1;g("config-useDeferredInstrumentation")&&h.instrumentRejected&&h.instrumentRejected(a,!!f);b(a);this.results=[null,a]};this.progress=function(a){for(var c=f;c;){var d=c.progress;d&&d(a);c=c.next}};this.addCallbacks=function(a,f){this.then(a,f,c);return this};s.then=this.then=function(a,d,b){var n=b==c?this:new k(s.cancel);a={resolved:a,error:d,progress:b,deferred:n};f?w=w.next=a:f=w=a;t&&u();return n.promise};var z=this;s.cancel=this.cancel=function(){if(!t){var a=d&&d(z);t||(a instanceof
Error||(a=new m(a)),a.log=!1,z.reject(a))}r=!0};a(s)};e.extend(k,{addCallback:function(a){return this.addCallbacks(e.hitch.apply(b,arguments))},addErrback:function(a){return this.addCallbacks(null,e.hitch.apply(b,arguments))},addBoth:function(a){var c=e.hitch.apply(b,arguments);return this.addCallbacks(c,c)},fired:-1});k.when=b.when=d;return k})},"esri/layers/support/InheritedDomain":function(){define(["../../core/declare","./Domain"],function(b,h){return b([h],{declaredClass:"esri.layers.support.InheritedDomain"})})},
"dojo/keys":function(){define(["./_base/kernel","./sniff"],function(b,h){return b.keys={BACKSPACE:8,TAB:9,CLEAR:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,META:h("webkit")?91:224,PAUSE:19,CAPS_LOCK:20,ESCAPE:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,INSERT:45,DELETE:46,HELP:47,LEFT_WINDOW:91,RIGHT_WINDOW:92,SELECT:93,NUMPAD_0:96,NUMPAD_1:97,NUMPAD_2:98,NUMPAD_3:99,NUMPAD_4:100,NUMPAD_5:101,NUMPAD_6:102,NUMPAD_7:103,NUMPAD_8:104,NUMPAD_9:105,
NUMPAD_MULTIPLY:106,NUMPAD_PLUS:107,NUMPAD_ENTER:108,NUMPAD_MINUS:109,NUMPAD_PERIOD:110,NUMPAD_DIVIDE:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,NUM_LOCK:144,SCROLL_LOCK:145,UP_DPAD:175,DOWN_DPAD:176,LEFT_DPAD:177,RIGHT_DPAD:178,copyKey:h("mac")&&!h("air")?h("safari")?91:224:17}})},"esri/tasks/support/StatisticDefinition":function(){define(["../../core/declare","../../core/Accessor"],function(b,h){return b(h,{declaredClass:"esri.tasks.StatisticDefinition",
onStatisticField:null,outStatisticFieldName:null,statisticType:null,toJson:function(){try{throw Error("toJson is deprecated, use toJSON instead");}catch(b){console.warn(b.stack)}return this.toJSON()},toJSON:function(){return{statisticType:this.statisticType,onStatisticField:this.onStatisticField,outStatisticFieldName:this.outStatisticFieldName,maxPointCount:this.maxPointCount,maxRecordCount:this.maxRecordCount,maxVertexCount:this.maxVertexCount}}})})},"esri/views/3d/webgl-engine/lib/InstanceBufferData":function(){define(["./Util"],
function(b){return function(h,l){l=void 0===l?4*h:b.nextHighestPowerOfTwo(l*h);var m=new Float32Array(l),g=new Float32Array(h),e=0,d=[],c=0,a={},k=Array(l);this.prepareFree=function(a){d.length+=a};this.free=function(b){b=a[b];null!=b&&(d[c++]=b,k[b]=void 0)};this.prepareAllocate=function(a){a-=c;0<a&&this._resizeArray((e+a)*h)};this.allocate=function(b){var n;n=0<c?d[--c]:e++;a[b]=n;k[n]=b;return n};this.getSlot=function(c){return a[c]};this.getOffset=function(a){return a*h};this.getArray=function(){return m};
this.fill=function(a,c,d){m.set(d,a*h+c)};this.compact=function(){if(0<c){d.length=c;for(d.sort(function(a,c){return a-c});0<c&&d[c-1]===e;)c--,e--;for(;0<c;){c--;var b=e-1,n=d[c],u=b*h,q=n*h;m.set(m.subarray(u,u+h),q);m.set(g,u);u=k[b];k[b]=void 0;k[n]=u;a[u]=n;e--}}this._resizeArray(e*h);d.length=0;return m};this._resizeArray=function(a){var c;if(a>m.length){for(c=m.length||1;c<a;)c*=2;a=new Float32Array(c);a.set(m);m=a}else if(a<=m.length/2){c=m.length;for(a*=2;c>=a;)c/=2;a=new Float32Array(c);
a.set(m.subarray(0,c));m=a}}}})},"esri/BasemapMixin":function(){define("./core/declare dojo/_base/lang ./core/Accessor ./core/Promise ./Basemap ./basemaps".split(" "),function(b,h,l,m,g,e){return b([l,m],{declaredClass:"esri.BasemapMixin",constructor:function(){this._basemapCache={}},destroy:function(){this._basemapCache={}},_cachedServices:{},basemap:null,_basemapSetter:function(d,c){var a=this._basemapCache,b=this._cachedServices,p;if("string"===typeof d){if(!e[d]){a=[];for(p in e)e.hasOwnProperty(p)&&
a.push(p);console.log(h.replace('Map.basemap: Unable to find basemap definition for: "{basemapName}". Try one of these: {list}',{basemapName:d,list:a.join(", ")}));return}p=d;d=a[p]?a[p]:e[p]}else p=d&&d.id;if(c===d)return c;if(d){if("esri.Basemap"!==d.declaredClass)try{d=g.fromJSON(d),d.id=p,a[p]=d}catch(n){console.error("Map.basemap: "+n.message,n);return}d.elevationLayers=d.elevationLayers.map(function(a){return!b[a.id]?b[a.id]=a:b[a.id]},this);if(0===d.baseLayers.length&&0===d.elevationLayers.length){console.log(h.replace('Map.basemap: Unable to add basemap: "{basemapName}".',
{basemapName:p}));return}}else d=null;return d}})})},"esri/geometry/Multipoint":function(){define("../core/declare dojo/_base/lang ./SpatialReference ./Geometry ./Point ./Extent ./support/zmUtils".split(" "),function(b,h,l,m,g,e,d){var c=b(m,{declaredClass:"esri.geometry.Multipoint",classMetadata:{computed:{cache:["points","hasZ","hasM"],extent:["cache"]}},getDefaults:function(a){return{points:[]}},normalizeCtorArgs:function(a,c){var d=null,b=void 0,e=void 0,q=null;a&&!Array.isArray(a)?(d=a.points?
a.points:null,c=c||(d?a.spatialReference:a),b=a.hasZ,e=a.hasM):d=a;d=d||[];c=c||l.WGS84;if(q=d[0])void 0===b&&void 0===e?(b=2<q.length,e=!1):void 0===b?b=3<q.length:void 0===e&&(e=3<q.length);return{points:d,spatialReference:c,hasZ:b,hasM:e}},type:"multipoint",_extentGetter:function(a){function c(a){return function(f,c){return null==f?c:null==c?f:a(f,c)}}if(!this.points.length)return null;a=a||new e;var d=this.points,b=this.hasZ,g=this.hasM,q=d[0],t=c(Math.min),r=c(Math.max),l=s=q[0],m=z=q[1],h,f,
s,z,y,A,B,E,F,G,Q=b?3:2;F=0;for(G=d.length;F<G;F++)q=d[F],B=q[0],E=q[1],l=t(l,B),m=t(m,E),s=r(s,B),z=r(z,E),b&&2<q.length&&(B=q[2],h=t(h,B),y=r(y,B)),g&&q.length>Q&&(q=q[Q],f=t(f,q),A=r(A,q));a.xmin=l;a.ymin=m;a.xmax=s;a.ymax=z;a.spatialReference=this.spatialReference;b?(a.zmin=h,a.zmax=y):(a.zmin=null,a.zmax=null);g?(a.mmin=f,a.mmax=A):(a.mmin=null,a.mmax=null);return a},points:null,addPoint:function(a){this.clearCache();d.updateSupportFromPoint(this,a);Array.isArray(a)?this.points.push(a):this.points.push(a.toArray());
return this},clone:function(){var a={points:h.clone(this.points),spatialReference:this.spatialReference};this.hasZ&&(a.hasZ=!0);this.hasM&&(a.hasM=!0);return new c(a)},getPoint:function(a){if(this._validateInputs(a)){a=this.points[a];var c,d,b=2;this.hasZ&&(c=a[2],b=3);this.hasM&&(d=a[b]);return new g({x:a[0],y:a[1],z:c,m:d,spatialReference:this.spatialReference})}},removePoint:function(a){if(this._validateInputs(a))return this.clearCache(),new g(this.points.splice(a,1)[0],this.spatialReference)},
setPoint:function(a,c){if(this._validateInputs(a))return this.clearCache(),d.updateSupportFromPoint(c),this.points[a]=c.toArray(),this},toJSON:function(){var a=this.spatialReference,a={points:h.clone(this.points),spatialReference:a&&a.toJSON()};this.hasZ&&(a.hasZ=!0);this.hasM&&(a.hasM=!0);return a},_pointsToArrays:function(a){for(var c=0;c<a.points.length;c++){var b=a.points[c];d.updateSupportFromPoint(a,b,!0);Array.isArray(b)||(a.spatialReference||(a.spatialReference=b.spatialReference),a.points[c]=
b.toArray())}return a},_validateInputs:function(a){return null!=a&&0<=a&&a<this.points.length}});return c})},"esri/views/3d/webgl-engine/lib/GLSLProgramRep":function(){define(["./Util"],function(b){return function(){var h={},l=[],m={model:[],modelNormal:[],lightDirection:[],proj:[],shadowMapDistance:[],viewportPixelSz:[]};this.dispose=function(){for(var b in h)h[b].dispose();l=h=null};this.add=function(g,e){b.assert(void 0===h[g]);h[g]=e;e.getId()};this.get=function(b){return h[b]};this.shaderVariators=
{};this.getProgramsUsingUniform=function(b){return m[b]||[]};this.increaseRefCount=function(g){var e=g.getId();if(l[e])l[e]++;else{l[e]=1;for(var d in m)g.hasUniform(d)&&(b.assert(-1===m[d].indexOf(g),"common uniforms of program have already been determined"),m[d].push(g))}};this.decreaseRefCount=function(b){var e=b.getId();if(1<l[e])l[e]--;else{for(var d in m){var c=m[d],a=c.indexOf(b);-1<a&&(c[a]=c[c.length-1],c.pop())}l[e]=0}}}})},"esri/widgets/PopupLegacy/PopupInfo":function(){define("../../core/declare dojo/_base/lang dojo/_base/array dojo/Deferred dojo/sniff dojo/promise/all ../../core/lang ../../request ../../tasks/support/Query ../../tasks/QueryTask ../../tasks/support/StatisticDefinition dojo/i18n!dojo/cldr/nls/number".split(" "),
function(b,h,l,m,g,e,d,c,a,k,p,n){return b(null,{declaredClass:"esri.PopupInfo",initialize:function(a,c){if(a){h.mixin(this,c);this.info=a;this.title=this.getTitle;this.content=this.getContent;var d=this._fieldLabels={},b=this._fieldsMap={};a.fieldInfos&&l.forEach(a.fieldInfos,function(a){var c=a.fieldName.toLowerCase();d[c]=a.label;b[c]=a});this._relatedFieldPrefix="relationships/";this.titleHasRelatedFields=!!(a.title&&-1!==a.title.indexOf("{"+this._relatedFieldPrefix))}},toJson:function(){try{throw Error("toJson is deprecated, use toJSON instead");
}catch(a){console.warn(a.stack)}return this.toJSON()},toJSON:function(){return JSON.parse(JSON.stringify(this.info))},getTitle:function(){},getContent:function(){},getFieldInfo:function(a){var c;l.some(this.info&&this.info.fieldInfos,function(d){d.fieldName===a&&(c=d);return!!c});return c},getComponents:function(a){var c=this.info,d=new m,b,k;c.fieldInfos&&(k=l.filter(c.fieldInfos,function(a){return-1!==a.fieldName.indexOf(this._relatedFieldPrefix)},this));k&&0<k.length&&(b=this._getRelatedRecords({graphic:a,
fieldsInfo:k}));b?b.always(h.hitch(this,function(){d.resolve(this._getPopupValues(a))})):d.resolve(this._getPopupValues(a));return d.promise},getAttachments:function(a){var c=a.layer;a=a.attributes;if(this.info.showAttachments&&(c&&c.hasAttachments&&c.queryAttachmentInfos&&c.objectIdField)&&(a=a&&a[c.objectIdField]))return c.queryAttachmentInfos(a)},_getPopupValues:function(a,c){var b=this.info,k=a.layer,n=h.clone(a.attributes)||{},e=h.clone(n),p=b.fieldInfos,f="",s="",g,m,A,B,E,F=k&&k._getDateOpts&&
k._getDateOpts().properties,G={dateFormat:{properties:F,formatter:"DateFormat"+this._insertOffset(this._dateFormats.shortDateShortTime)}};if(this._relatedInfo)for(B in this._relatedInfo)if(this._relatedInfo.hasOwnProperty(B)){var Q=this._relatedInfo[B],M=this._relatedLayersInfo[B];Q&&(l.forEach(Q.relatedFeatures,function(a){for(E in a.attributes)if(a.attributes.hasOwnProperty(E)&&"esriRelCardinalityOneToOne"===M.relation.cardinality){var f=this._toRelatedFieldName([M.relation.id,E]);n[f]=e[f]=a.attributes[E]}},
this),l.forEach(Q.relatedStatsFeatures,function(a){for(E in a.attributes)if(a.attributes.hasOwnProperty(E)){var f=this._toRelatedFieldName([M.relation.id,E]);n[f]=e[f]=a.attributes[E]}},this))}p&&l.forEach(p,function(a){m=a.fieldName;var f=this._getLayerFieldInfo(k,m);f&&(m=a.fieldName=f.name);e[m]=this._formatValue(e[m],m,G);F&&(a.format&&a.format.dateFormat)&&(a=l.indexOf(F,m),-1<a&&F.splice(a,1))},this);if(k){B=k.types;var T=(Q=k.typeIdField)&&n[Q];for(m in n)if(n.hasOwnProperty(m)&&-1===m.indexOf(this._relatedFieldPrefix)&&
(A=n[m],d.isDefined(A))){var K=this._getDomainName(k,a,B,T,m,A);d.isDefined(K)?e[m]=K:m===Q&&(K=this._getTypeName(k,a,A),d.isDefined(K)&&(e[m]=K))}}b.title&&(f=this._processFieldsInLinks(this._fixTokens(b.title,k),n),f=h.trim(d.substitute(e,f,G)||""));if(c)return{title:f};b.description&&(s=this._processFieldsInLinks(this._fixTokens(b.description,k),n),s=h.trim(d.substitute(e,s,G)||""));p&&(g=[],l.forEach(p,function(a){(m=a.fieldName)&&a.visible&&g.push([a.label||m,d.substitute(e,"${"+m+"}",G)||""])}));
var C,D;b.mediaInfos&&(C=[],l.forEach(b.mediaInfos,function(a){D=0;A=a.value;switch(a.type){case "image":var f=A.sourceURL,f=f&&h.trim(d.substitute(n,this._fixTokens(f,k)));D=!!f;break;case "piechart":case "linechart":case "columnchart":case "barchart":var c,f=A.normalizeField;A.fields=l.map(A.fields,function(a){return(c=this._getLayerFieldInfo(k,a))?c.name:a},this);f&&(c=this._getLayerFieldInfo(k,f),A.normalizeField=c?c.name:f);D=l.some(A.fields,function(a){return d.isDefined(n[a])||-1!==a.indexOf(this._relatedFieldPrefix)&&
this._relatedInfo},this);break;default:return}if(D){a=h.clone(a);A=a.value;var f=a.title?this._processFieldsInLinks(this._fixTokens(a.title,k),n):"",b=a.caption?this._processFieldsInLinks(this._fixTokens(a.caption,k),n):"";a.title=f?h.trim(d.substitute(e,f,G)||""):"";a.caption=b?h.trim(d.substitute(e,b,G)||""):"";if("image"===a.type)A.sourceURL=d.substitute(n,this._fixTokens(A.sourceURL,k)),A.linkURL&&(A.linkURL=h.trim(d.substitute(n,this._fixTokens(A.linkURL,k))||""));else{var s,q;l.forEach(A.fields,
function(a,f){if(-1!==a.indexOf(this._relatedFieldPrefix))q=this._getRelatedChartInfos(a,A,n,G),q instanceof Array?A.fields=q:A.fields[f]=q;else{var c=n[a],c=void 0===c?null:c;s=n[A.normalizeField]||0;c&&s&&(c/=s);A.fields[f]={y:c,tooltip:(this._fieldLabels[a.toLowerCase()]||a)+":\x3cbr/\x3e"+this._formatValue(c,a,G,!!s)}}},this)}C.push(a)}},this));return{title:f,description:s,fields:g&&g.length?g:null,mediaInfos:C&&C.length?C:null,formatted:e,editSummary:k&&k.getEditSummary?k.getEditSummary(a):""}},
_getRelatedChartInfos:function(a,c,d,b){var k,n,e,f,s,p;k=[];p=this._fromRelatedFieldName(a);s=p[0];n=this._relatedInfo[s];s=this._relatedLayersInfo[s];n&&l.forEach(n.relatedFeatures,function(n){n=n.attributes;var s,g;for(g in n)if(n.hasOwnProperty(g)&&g===p[1]){s={};f=n[g];c.normalizeField&&(e=-1!==c.normalizeField.indexOf(this._relatedFieldPrefix)?n[this._fromRelatedFieldName(c.normalizeField)[1]]:d[c.normalizeField]);f&&e&&(f/=e);if(c.tooltipField)if(-1!==c.tooltipField.indexOf(this._relatedFieldPrefix)){var l=
this._fromRelatedFieldName(c.tooltipField)[1];s.tooltip=n[l]+":\x3cbr/\x3e"+this._formatValue(f,n[l],b,!!e)}else s.tooltip=(this._fieldLabels[a.toLowerCase()]||a)+":\x3cbr/\x3e"+this._formatValue(f,c.tooltipField,b,!!e);else s.tooltip=f;s.y=f;k.push(s)}},this);return"esriRelCardinalityOneToMany"===s.relation.cardinality||"esriRelCardinalityManyToMany"===s.relation.cardinality?k:k[0]},_dateFormats:{shortDate:"(datePattern: 'M/d/y', selector: 'date')",shortDateLE:"(datePattern: 'd/M/y', selector: 'date')",
longMonthDayYear:"(datePattern: 'MMMM d, y', selector: 'date')",dayShortMonthYear:"(datePattern: 'd MMM y', selector: 'date')",longDate:"(datePattern: 'EEEE, MMMM d, y', selector: 'date')",shortDateShortTime:"(datePattern: 'M/d/y', timePattern: 'h:mm a', selector: 'date and time')",shortDateLEShortTime:"(datePattern: 'd/M/y', timePattern: 'h:mm a', selector: 'date and time')",shortDateShortTime24:"(datePattern: 'M/d/y', timePattern: 'H:mm', selector: 'date and time')",shortDateLEShortTime24:"(datePattern: 'd/M/y', timePattern: 'H:mm', selector: 'date and time')",
shortDateLongTime:"(datePattern: 'M/d/y', timePattern: 'h:mm:ss a', selector: 'date and time')",shortDateLELongTime:"(datePattern: 'd/M/y', timePattern: 'h:mm:ss a', selector: 'date and time')",shortDateLongTime24:"(datePattern: 'M/d/y', timePattern: 'H:mm:ss', selector: 'date and time')",shortDateLELongTime24:"(datePattern: 'd/M/y', timePattern: 'H:mm:ss', selector: 'date and time')",longMonthYear:"(datePattern: 'MMMM y', selector: 'date')",shortMonthYear:"(datePattern: 'MMM y', selector: 'date')",
year:"(datePattern: 'y', selector: 'date')"},_reHref:/href\s*=\s*\"([^\"]+)\"/ig,_reHrefApos:/href\s*=\s*\'([^\']+)\'/ig,_fixTokens:function(a,c){var d=this;return a.replace(/(\{([^\{\r\n]+)\})/g,function(a,b,k){a=d._getLayerFieldInfo(c,k);return"$"+(a?"{"+a.name+"}":b)})},_encodeAttributes:function(a){a=h.clone(a)||{};var c,d;for(c in a)if((d=a[c])&&"string"===typeof d)d=encodeURIComponent(d).replace(/\'/g,"\x26apos;"),a[c]=d;return a},_processFieldsInLinks:function(a,c){var d=this._encodeAttributes(c),
b=this;a&&(a=a.replace(this._reHref,function(a,k){return b._addValuesToHref(a,k,c,d)}).replace(this._reHrefApos,function(a,k){return b._addValuesToHref(a,k,c,d)}));return a},_addValuesToHref:function(a,c,b,k){c=c&&h.trim(c);return d.substitute(c&&0===c.indexOf("${")?b:k,a)},_getLayerFieldInfo:function(a,c){return a&&a.getField?a.getField(c):null},_formatValue:function(a,c,b,k){var e=this._fieldsMap[c.toLowerCase()],p=e&&e.format;c="number"===typeof a&&-1===l.indexOf(b.dateFormat.properties,c)&&(!p||
!p.dateFormat);if(!d.isDefined(a)||!e||!d.isDefined(p))return c?this._forceLTR(a):a;var g="",f=[],e=p.hasOwnProperty("places")||p.hasOwnProperty("digitSeparator"),s=p.hasOwnProperty("digitSeparator")?p.digitSeparator:!0;if(e)g="NumberFormat",f.push("places: "+(d.isDefined(p.places)&&(!k||0<p.places)?Number(p.places):"Infinity")),f.length&&(g+="("+f.join(",")+")");else if(p.dateFormat)g="DateFormat"+this._insertOffset(this._dateFormats[p.dateFormat]||this._dateFormats.shortDateShortTime);else return c?
this._forceLTR(a):a;a=d.substitute({myKey:a},"${myKey:"+g+"}",b)||"";e&&!s&&n.group&&(a=a.replace(RegExp("\\"+n.group,"g"),""));return c?this._forceLTR(a):a},_forceLTR:function(a){var c=g("ie");return c&&10>=c?a:"\x3cspan class\x3d'esri-numeric-value'\x3e"+a+"\x3c/span\x3e"},_insertOffset:function(a){a&&(a=d.isDefined(this.utcOffset)?a.replace(/\)\s*$/,", utcOffset:"+this.utcOffset+")"):a);return a},_getDomainName:function(a,c,d,b,k,n){return(a=a.getDomain&&a.getDomain(k,{feature:c}))&&a.codedValues?
a.getName(n):null},_getTypeName:function(a,c,d){return(a=a.getType&&a.getType(c))&&a.name},_getRelatedRecords:function(a){var c=a.graphic,d=new m,b;this._relatedLayersInfo?this._queryRelatedLayers(c).then(h.hitch(this,function(a){this._setRelatedRecords(c,a);d.resolve(a)}),h.hitch(this,this._handlerErrorResponse,d)):this._getRelatedLayersInfo(a).then(h.hitch(this,function(a){for(b in a)a.hasOwnProperty(b)&&a[b]&&(this._relatedLayersInfo[b].relatedLayerInfo=a[b]);this._queryRelatedLayers(c).then(h.hitch(this,
function(a){this._setRelatedRecords(c,a);d.resolve(a)}),h.hitch(this,this._handlerErrorResponse,d))}),h.hitch(this,this._handlerErrorResponse,d));return d.promise},_getRelatedLayersInfo:function(a){var d=a.fieldsInfo,b,k,n={};b=a.graphic.layer;this._relatedLayersInfo||(this._relatedLayersInfo={});l.forEach(d,function(a){var c,f,d,k;c=this._fromRelatedFieldName(a.fieldName);f=c[0];c=c[1];f&&(this._relatedLayersInfo[f]||(l.some(b.relationships,function(a){if(a.id==f)return k=a,!0}),k&&(this._relatedLayersInfo[f]=
{relation:k,relatedFields:[],outStatistics:[]})),this._relatedLayersInfo[f]&&(this._relatedLayersInfo[f].relatedFields.push(c),a.statisticType&&(d=new p,d.statisticType=a.statisticType,d.onStatisticField=c,d.outStatisticFieldName=c,this._relatedLayersInfo[f].outStatistics.push(d))))},this);for(k in this._relatedLayersInfo)this._relatedLayersInfo.hasOwnProperty(k)&&this._relatedLayersInfo[k]&&(a=this._relatedLayersInfo[k].relation,a=b.url.replace(/[0-9]+$/,a.relatedTableId),this._relatedLayersInfo[k].relatedLayerUrl=
a,n[k]=c({url:a,content:{f:"json"},callbackParamName:"callback"}));return e(n)},_queryRelatedLayers:function(a){var c={},d;for(d in this._relatedLayersInfo)this._relatedLayersInfo.hasOwnProperty(d)&&(c[d]=this._queryRelatedLayer({graphic:a,relatedInfo:this._relatedLayersInfo[d]}));return e(c)},_queryRelatedLayer:function(c){var d,b,n,p,g,m,f,s,h,y;d=c.graphic;b=d.layer.url.match(/[0-9]+$/g)[0];s=c.relatedInfo;f=s.relatedLayerInfo;h=s.relatedLayerUrl;y=s.relation;l.some(f.relationships,function(a){if(a.relatedTableId===
parseInt(b,10))return n=a,!0},this);n&&(c=new a,l.some(f.fields,function(a){if(a.name===n.keyField)return g=-1!==l.indexOf(["esriFieldTypeSmallInteger","esriFieldTypeInteger","esriFieldTypeSingle","esriFieldTypeDouble"],a.type)?"number":"string",!0}),p="string"===g?n.keyField+"\x3d'"+d.attributes[y.keyField]+"'":n.keyField+"\x3d"+d.attributes[y.keyField],c.where=p,c.outFields=s.relatedFields,s.outStatistics&&(0<s.outStatistics.length&&f.supportsStatistics)&&(m=new a,m.where=c.where,m.outFields=c.outFields,
m.outStatistics=s.outStatistics),d=new k(h),p=[],p.push(d.execute(c)),m&&p.push(d.execute(m)));return e(p)},_setRelatedRecords:function(a,c){this._relatedInfo=[];for(var b in c)if(c.hasOwnProperty(b)&&c[b]){var k=c[b];this._relatedInfo[b]={};this._relatedInfo[b].relatedFeatures=k[0].features;d.isDefined(k[1])&&(this._relatedInfo[b].relatedStatsFeatures=k[1].features)}},_handlerErrorResponse:function(a,c){a.reject(c)},_fromRelatedFieldName:function(a){var c=[];-1!==a.indexOf(this._relatedFieldPrefix)&&
(a=a.split("/"),c=a.slice(1));return c},_toRelatedFieldName:function(a){var c="";a&&0<a.length&&(c=this._relatedFieldPrefix+a[0]+"/"+a[1]);return c}})})},"esri/portal/PortalComment":function(){define(["../core/declare","dojo/_base/lang"],function(b,h){return b([],{declaredClass:"esri.arcgis.PortalComment",constructor:function(b){h.mixin(this,b);this.url=this.item.itemUrl+"/comments/"+this.id;this.created=this.created?new Date(this.created):null}})})},"esri/symbols/SimpleFillSymbol":function(){define(["../core/declare",
"dojo/_base/lang","../core/lang","./FillSymbol","./SimpleLineSymbol"],function(b,h,l,m,g){var e={style:"solid",outline:new g,color:[0,0,0,0.25]};b=b(m,{declaredClass:"esri.symbols.SimpleFillSymbol",_styles:{solid:"esriSFSSolid",none:"esriSFSNull",horizontal:"esriSFSHorizontal",vertical:"esriSFSVertical","forward-diagonal":"esriSFSForwardDiagonal","backward-diagonal":"esriSFSBackwardDiagonal",cross:"esriSFSCross","diagonal-cross":"esriSFSDiagonalCross"},getDefaults:function(){return h.mixin(this.inherited(arguments),
e)},normalizeCtorArgs:function(d,c,a){if(d&&"string"!==typeof d)return d;var b={};d&&(b.style=d);c&&(b.outline=c);a&&(b.color=a);return b},type:"simplefillsymbol",_styleReader:function(d){return l.valueOf(this._styles,d)},toJSON:function(){return l.fixJson(h.mixin(this.inherited(arguments),{type:"esriSFS",style:this._styles[this.style]}))}});h.mixin(b,{STYLE_SOLID:"solid",STYLE_NULL:"none",STYLE_HORIZONTAL:"horizontal",STYLE_VERTICAL:"vertical",STYLE_FORWARD_DIAGONAL:"forward-diagonal",STYLE_BACKWARD_DIAGONAL:"backward-diagonal",
STYLE_CROSS:"cross",STYLE_DIAGONAL_CROSS:"diagonal-cross"});b.defaultProps=e;return b})},"esri/widgets/Logo":function(){define(["./Widget","dijit/_TemplatedMixin","dijit/a11yclick","dojo/dom-class","dojo/text!./Logo/templates/Logo.html"],function(b,h,l,m,g){return b.createSubclass([h],{declaredClass:"esri.widgets.Logo",baseClass:"esri-logo",templateString:g,postCreate:function(){this.inherited(arguments);this.on(l,function(){window.open(this._link,"_blank")}.bind(this))},_link:"http://www.esri.com",
size:"medium",_setSizeAttr:function(b){"medium"!==b&&"small"!==b||(m.toggle(this.domNode,"is-small","small"===b),this._set("size",b))}})})},"esri/layers/support/layerUtils":function(){define(["dojo/_base/array"],function(b){return{_serializeLayerDefinitions:function(h){var l=[],m=!1,g=/[:;]/;if(h&&(b.forEach(h,function(d,c){d&&(l.push([c,d]),!m&&g.test(d)&&(m=!0))}),0<l.length)){var e;m?(e={},b.forEach(l,function(d){e[d[0]]=d[1]}),e=JSON.stringify(e)):(e=[],b.forEach(l,function(d){e.push(d[0]+":"+
d[1])}),e=e.join(";"));return e}return null},_serializeTimeOptions:function(h,l){if(h){var m=[];b.forEach(h,function(g,e){if(g){var d=g.toJSON();l&&-1!==b.indexOf(l,e)&&(d.useTime=!1);m.push('"'+e+'":'+JSON.stringify(d))}});if(m.length)return"{"+m.join(",")+"}"}},_getVisibleLayers:function(h,l){var m=[],g,e,d;if(!h)return m;if(l){m=l.concat();for(d=0;d<h.length;d++)g=h[d],e=b.indexOf(h,g.id),g.subLayerIds&&-1<e&&(m.splice(e,1),m=m.concat(g.subLayerIds))}else m=this._getDefaultVisibleLayers(h);return m},
_getDefaultVisibleLayers:function(h){var l=[],m;if(!h)return l;for(m=0;m<h.length;m++)0<=h[m].parentLayerId&&-1===b.indexOf(l,h[m].parentLayerId)&&b.some(h,function(b){return b.id===h[m].parentLayerId})||h[m].defaultVisibility&&l.push(h[m].id);return l},_getLayersForScale:function(h,l){var m=[];if(0<h&&l){var g;for(g=0;g<l.length;g++)if(!(0<=l[g].parentLayerId&&-1===b.indexOf(m,l[g].parentLayerId)&&b.some(l,function(a){return a.id===l[g].parentLayerId}))&&0<=l[g].id){var e=!0,d=l[g].maxScale,c=l[g].minScale;
if(0<d||0<c)0<d&&0<c?e=d<=h&&h<=c:0<d?e=d<=h:0<c&&(e=h<=c);e&&m.push(l[g].id)}}return m}}})},"dojo/dnd/common":function(){define(["../sniff","../_base/kernel","../_base/lang","../dom"],function(b,h,l,m){var g=l.getObject("dojo.dnd",!0);g.getCopyKeyState=function(e){return e[b("mac")?"metaKey":"ctrlKey"]};g._uniqueId=0;g.getUniqueId=function(){var b;do b=h._scopeName+"Unique"+ ++g._uniqueId;while(m.byId(b));return b};g._empty={};g.isFormElement=function(b){b=b.target;3==b.nodeType&&(b=b.parentNode);
return 0<=" a button textarea input select option ".indexOf(" "+b.tagName.toLowerCase()+" ")};return g})},"esri/views/3d/webgl-engine/parts/Visualizer":function(){define("../lib/Renderer ../lib/SSAOHelperObscurance ../lib/ShadowMap ../lib/NearFarCalc ../lib/Util ../lib/gl-matrix".split(" "),function(b,h,l,m,g,e){var d=e.vec3d,c=e.mat4,a=g.assert;return function(k,e,n,u,q){var t=new b(k,e,n,u,q),r=new l(k,q),v=new h(k,u,q),x=new m,w={},f=!1,s=!1,z=!0;this.getCombinedStats=function(){return t.getCombinedStats()};
this.dispose=function(){t.dispose();r.getEnableState()&&r.disable();v.getEnableState()&&v.disable()};this.setLightingData=function(a){t.setLightingData(a)};this.getLightingData=function(){return t.getLightingData()};this.getViewParams=function(a){var f=a||{};if(!a||a.pixelRatio)f.pixelRatio=t.getPixelRatio();return f};this.setViewParams=function(a){null!=a.pixelRatio&&t.setPixelRatio(a.pixelRatio)};this.setRenderParams=function(a){void 0!==a.shadowMapResolution&&!1===r.getEnableState()&&r.setTextureResolution(a.shadowMapResolution);
void 0!==a.shadowMap&&a.shadowMap!==r.getEnableState()&&r.setEnableState(a.shadowMap);void 0!==a.shadowMapMaxCascades&&r.setMaxNumCascades(a.shadowMapMaxCascades);void 0!==a.ssao&&a.ssao!==v.getEnableState()&&v.setEnableState(a.ssao);void 0!==a.ssaoAttenuation&&v.setAttenuation(a.ssaoAttenuation);void 0!==a.ssaoRadius&&v.setRadius(a.ssaoRadius);void 0!==a.ssaoFilterRadius&&v.setFilterRadius(a.ssaoFilterRadius);void 0!==a.ssaoSamples&&v.setSamples(a.ssaoSamples);void 0!==a.debugInstanceThreshold&&
t.setThreshold(a.debugInstanceThreshold);void 0!==a.drawShadowMapDebugQuad&&(f=a.drawShadowMapDebugQuad);void 0!==a.drawSSAODebugQuad&&(s=a.drawSSAODebugQuad);v.getEnableState()?t.ssaoEnabled=!0:t.ssaoEnabled=!1;z=!0};this.getRenderParams=function(){var a={};r.getIsSupported()&&(a.shadowMap=r.getEnableState(),a.shadowMapResolution=r.getTextureResolution(),a.shadowMapMaxCascades=r.getMaxNumCascades());v.getIsSupported()&&(a.ssao=v.getEnableState(),a.ssaoAttenuation=v.getAttenuation(),a.ssaoRadius=
v.getRadius(),a.ssaoFilterRadius=v.getFilterRadius(),a.ssaoSamples=v.getSamples());return a};this.modify=function(f,c,d,b,k){t.modify(f,c,d,b);b=0;for(k=c.length;b<k;++b)delete w[c[b].uniqueName];b=0;for(k=f.length;b<k;++b)w[f[b].uniqueName]=f[b];b=0;for(k=d.length;b<k;++b)a(w[d[b].renderGeometry.uniqueName]===d[b].renderGeometry)};this.getContent=function(){return w};this.getPickRay=function(a,f,c,b,k,n){d.unproject(d.createFrom(a[0],a[1],0),b,c.projectionMatrix,c.fullViewport,k);d.unproject(d.createFrom(a[0],
a[1],1),b,c.projectionMatrix,c.fullViewport,n)};this.getSideIndexForPoint=function(a,f){return 0};this.getProjectionMatrix=function(a,f,d,b,k){f=g.fovx2fovy(f,a[2],a[3]);c.perspective(180*f/Math.PI,a[2]/a[3],d,b,k)};this.setSelectionObject=function(a,f){t.setSelectionObject(a,f)};this.setHighlightObjects=function(a,f){t.setHighlightObjects(a,f)};this.addExternalRenderer=function(a,f){return t.addExternalRenderer(a,f)};this.removeExternalRenderer=function(a,f){return t.removeExternalRenderer(a,f)};
this.getExternalRenderers=function(){return t.getExternalRenderers()};this.resetNeedsRender=function(){z=!1;t.resetNeedsRender()};this.needsRender=function(){return z||t.needsRender()};this.render=function(a,d,b,n){var e=a.viewport,p;if(r.getEnableState()||v.getEnableState())p=x.calculateSceneNearFar(a,w,b);if(r.getEnableState()){r.prepare(a,d,w,b,p);d=r.getCascades();for(var g=0;g<d.length;++g){var u=d[g];u.camera.setGLViewport(q);t.renderSimple(u.camera,b,"materialDepthShadowMap",u.camera.viewport)}r.finish(n);
a.setGLViewport(q)}r.bindAll(k);t.renderAuxiliaryBuffers(a,b,r,v,p,n);t.render(a,b,r,v,n);f&&r.getEnableState()&&(a=c.ortho(e[0],e[2],e[1],e[3],-1,1),r.drawDebugQuad(a));s&&v.getEnableState()&&(a=c.ortho(e[0],e[2],e[1],e[3],-1,1),v.drawQuad(a))};this._getModule=function(a){if("renderer"===a)return t;g.assert(!1,"Unknown module: "+a)}}})},"dojo/when":function(){define(["./Deferred","./promise/Promise"],function(b,h){return function(l,m,g,e){var d=l&&"function"===typeof l.then,c=d&&l instanceof h;if(d)c||
(d=new b(l.cancel),l.then(d.resolve,d.reject,d.progress),l=d.promise);else return 1<arguments.length?m?m(l):l:(new b).resolve(l);return m||g||e?l.then(m,g,e):l}})},"esri/virtualearth/VETiledLayer":function(){define("../core/declare dojo/_base/lang dojo/_base/array dojo/_base/config dojo/_base/Deferred dojo/string ../core/urlUtils ../geometry/SpatialReference ../layers/support/TileInfo ../layers/TiledLayer ../geometry/Extent ../request".split(" "),function(b,h,l,m,g,e,d,c,a,k,p,n){b=b(k,{declaredClass:"esri.virtualearth.VETiledLayer",
constructor:function(b){try{b=h.mixin({bingMapsKey:null,culture:"en-US"},b||{});var k=window.location.protocol;"file:"===k&&(k="http:");this.url=k+"//dev.virtualearth.net/REST/v1";this._url=d.urlToObject(this.url);this.spatialReference=new c({wkid:102100});this.tileInfo=a.fromJSON({rows:256,cols:256,dpi:96,origin:{x:-2.0037508342787E7,y:2.0037508342787E7},spatialReference:{wkid:102100},lods:[{level:1,resolution:78271.5169639999,scale:2.95828763795777E8},{level:2,resolution:39135.7584820001,scale:1.47914381897889E8},
{level:3,resolution:19567.8792409999,scale:7.3957190948944E7},{level:4,resolution:9783.93962049996,scale:3.6978595474472E7},{level:5,resolution:4891.96981024998,scale:1.8489297737236E7},{level:6,resolution:2445.98490512499,scale:9244648.868618},{level:7,resolution:1222.99245256249,scale:4622324.434309},{level:8,resolution:611.49622628138,scale:2311162.217155},{level:9,resolution:305.748113140558,scale:1155581.108577},{level:10,resolution:152.874056570411,scale:577790.554289},{level:11,resolution:76.4370282850732,
scale:288895.277144},{level:12,resolution:38.2185141425366,scale:144447.638572},{level:13,resolution:19.1092570712683,scale:72223.819286},{level:14,resolution:9.55462853563415,scale:36111.909643},{level:15,resolution:4.77731426794937,scale:18055.954822},{level:16,resolution:2.38865713397468,scale:9027.977411},{level:17,resolution:1.19432856685505,scale:4513.988705},{level:18,resolution:0.597164283559817,scale:2256.994353},{level:19,resolution:0.298582141647617,scale:1128.497176}]});this.initialExtent=
this.fullExtent=new p(-2.0037508342787E7,-2.003750834278E7,2.003750834278E7,2.0037508342787E7,new c({wkid:102100}));h.mixin(this,b);this.hasAttributionData=this.showAttribution;this._initLayer=h.hitch(this,this._initLayer);this._errorHandler=h.hitch(this,this._errorHandler);this._getTileInfo=h.hitch(this,this._getTileInfo);if(this.bingMapsKey)this._getTileInfo();else throw Error("BingMapsKey must be provided.");}catch(n){throw this.onError(n),n;}},_unsetMap:function(a,c){this.inherited("_unsetMap",
arguments)},_getTileInfo:function(){if(this.mapStyle){var a=this._url.path+"/Imagery/Metadata/"+this.mapStyle;if(this.bingMapsKey){var c=this.resourceInfo;!this.loaded&&c?this._initLayer(c):n({url:a,content:h.mixin({},{key:this.bingMapsKey,ss:!0,c:this.culture,include:this.hasAttributionData?"imageryProviders":null}),callbackParamName:"jsonp",load:this._initLayer,error:this._errorHandler})}}},_initLayer:function(a,c){if(200!==a.statusCode){var d=Error();d.code=a.statusCode;d.message=a.statusDescription;
d.details=a.errorDetails;d.authenticationResultCode=a.authenticationResultCode;this.onError(d)}else try{this.resourceInfo=JSON.stringify(a);var d=a.resourceSets[0].resources[0],b=d.imageUrl.replace("{","${");this.tileServers=l.map(d.imageUrlSubdomains,function(a){var f=window.location.protocol;"file:"===f&&(f="http:");return e.substitute(b,{subdomain:a}).replace("http:",f)});this._tsLength=this.tileServers.length;if(this.loaded)this.refresh(),this.onMapStyleChange();else{this.copyright=this.copyright||
"\x26copy; 2012 Microsoft Corporation and its data suppliers";this.loaded=!0;this.onLoad(this);var k=this.loadCallback;k&&(delete this.loadCallback,k(this))}}catch(n){this.onError(n)}},getAttributionData:function(){var a=new g,c=JSON.parse(this.resourceInfo),d;this.hasAttributionData&&c&&(d=h.getObject("resourceSets.0.resources.0.imageryProviders",!1,c));d?a.callback({contributors:d}):(c=Error("Layer does not have attribution data"),c.log=m.isDebug,a.errback(c));return a.promise},getTileUrl:function(a,
c,d){return e.substitute(this.tileServers[c%this._tsLength].replace(/\{/g,"${"),{quadkey:this._getQuadKey(a,c,d),culture:this.culture,token:this.bingMapsKey})},_getQuadKey:function(a,c,d){var b="",k,n;for(n=a;0<n;n--)a="0",k=1<<n-1,0!=(d&k)&&a++,0!=(c&k)&&(a++,a++),b+=a;return b},setMapStyle:function(a){this.mapStyle=a;this._getTileInfo()},setCulture:function(a){this.culture=a;this._getTileInfo()},setBingMapsKey:function(a){this.bingMapsKey=a},onMapStyleChange:function(){}});h.mixin(b,{MAP_STYLE_AERIAL:"aerial",
MAP_STYLE_AERIAL_WITH_LABELS:"aerialWithLabels",MAP_STYLE_ROAD:"road"});return b})},"esri/core/ObjectPool":function(){define([],function(){return function(b,h){var l=[],m=-1;this.get=function(){var g;-1===m?g=new b:(m-=1,g=l.pop(),b.call(g));return g};this.put=function(b){b&&(h.call(b),m+=1,l[m]=b)}}})},"esri/views/3d/support/sunUtils":function(){define(["./mathUtils","../lib/glMatrix","../lib/SunCalc"],function(b,h,l){var m=h.vec3d,g=h.mat4d,e=b.lerp,d=g.identity(),c={azimuth:0,altitude:0},a={ambient:{color:m.create(),
intensity:0},diffuse:{color:m.create(),intensity:0,direction:m.create()}},k={settings:{local:{altitude:2E3,ambientAtNight:0.2,ambientAtNoon:0.75,ambientAtTwilight:0.5,diffuseAtNoon:0.25,diffuseAtTwilight:0.5},global:{altitude:2E4,ambient:0.5,diffuse:0.5}},computeDirection:function(a,b,k,e){e||(e=m.create());var p=g.identity(d);"spherical"===k?(l.getPosition(a,0,0,c),m.set3(0,0,-1,e),g.rotateX(p,-c.azimuth),g.rotateY(p,-c.altitude)):(l.getPosition(a,b.y,b.x,c),m.set3(0,-1,0,e),g.rotateZ(p,-c.azimuth),
g.rotateX(p,-c.altitude));g.multiplyVec3(p,e);return e},computeColorAndIntensity:function(c,d){var q,g,r,h=d.z;g=k.settings;m.set3(1,1,1,a.ambient.color);a.ambient.intensity=g.global.ambient;m.set3(1,1,1,a.diffuse.color);a.diffuse.intensity=g.global.diffuse;h=(h-g.local.altitude)/(g.global.altitude-g.local.altitude);h=b.clamp(h,0,1);if(1>h){r=l.getTimes(c,d.y,d.x);g=c.valueOf();var x,w;r.polarException===l.POLAR_EXCEPTION.MIDNIGHT_SUN?(x=g-36E5*(c.getHours()+48)-6E4*c.getMinutes(),w=x+432E6):r.polarException===
l.POLAR_EXCEPTION.POLAR_NIGHT?(x=g-2,w=g-1):(x=r.sunrise.valueOf(),w=r.sunset.valueOf());var f=w-x;r=x+f/2;var s=f/4;q=r-s;var s=r+s,z=0.06*f,f=x-z/2;x+=z/2;var y=w-z/2,A=w+z/2;w=k.settings.local;var B=[0.01,w.ambientAtNight],E=[0.8,0.8,1],F=[0.01,0.01,0.01],G=[w.diffuseAtTwilight,w.ambientAtTwilight],Q=[1,0.75,0.75],M=[0.8,0.8,1],T=[0.9*w.diffuseAtNoon,w.ambientAtNoon],K=[1,0.98,0.98],C=[0.98,0.98,1],D=[w.diffuseAtNoon,w.ambientAtNoon],L=[1,1,1],W=[1,1,1];w=[0,0];var ca=[0,0],z=[0,0];g<f||g>A?(w=
B,ca=F,z=E):g<x?(z=x-f,w=p(g-f,z,B,G),ca=p(g-f,z,F,Q),z=p(g-f,z,E,M)):g<q?(z=q-x,w=p(g-x,z,G,T),ca=p(g-x,z,Q,K),z=p(g-x,z,M,C)):g<r?(z=r-q,w=p(g-q,z,T,D),ca=p(g-q,z,K,L),z=p(g-q,z,C,W)):g<s?(z=s-r,w=p(g-r,z,D,T),ca=p(g-r,z,L,K),z=p(g-r,z,W,C)):g<y?(z=y-s,w=p(g-s,z,T,G),ca=p(g-s,z,K,Q),z=p(g-s,z,C,M)):g<A&&(z=A-y,w=p(g-y,z,G,B),ca=p(g-y,z,Q,F),z=p(g-y,z,M,E));g=w[0];r=ca;q=w[1];m.lerp(z,a.ambient.color,h,a.ambient.color);a.ambient.intensity=e(q,a.ambient.intensity,h);m.lerp(r,a.diffuse.color,h,a.diffuse.color);
a.diffuse.intensity=e(g,a.diffuse.intensity,h)}return a}},p=function(a,c,d,b){for(var k=[],e=0;e<d.length;e++)k[e]=(b[e]-d[e])*a/c+d[e];return k};return k})},"esri/views/3d/terrain/TileAgentBase":function(){define(["./UpsampleInfo"],function(b){var h=Error("Abstract method called on TileAgentBase"),l=function(){};l.prototype.init=function(g,e,d,c){this.tile=g;this.layerIdx=e;this.layerClass=d;this._tileLayerInfo=g.getLayerInfo(e,d);this._dataRequested=null;this.suspended=c;if(!g.data)return(g=this._findAncestorWithData())?
(this._setUpsamplingTile(g.tile),b.Pool.release(g)):(this._tileLayerInfo.upsampleFromTile&&b.Pool.release(this._tileLayerInfo.upsampleFromTile),this._tileLayerInfo.upsampleFromTile=null),this._requestNext(!0)};l.prototype.dispose=function(){this._dataRequested&&(this._dataRequested.unrequestLayerData(this.layerIdx,this.layerClass,this),this._dataRequested=null);this._tileLayerInfo=this.tile=null};l.prototype.setSuspension=function(b){b!==this.suspended&&((this.suspended=b)?this._dataRequested&&(this._dataRequested.unrequestLayerData(this.layerIdx,
this.layerClass,this),this._dataRequested=null):this._tileLayerInfo.data||this.update())};l.prototype.update=function(){var g=this._findAncestorWithData();g&&this._tileLayerInfo.upsampleFromTile&&g.tile!==this._tileLayerInfo.upsampleFromTile.tile?this._setUpsamplingTile(g.tile):g&&b.Pool.release(g);return this._requestNext()};l.prototype.dataArrived=function(b){throw h;};l.prototype.dataMissing=function(b){this._dataRequested=null;this._agentDone()};l.prototype._agentDone=function(){this.tile.agentDone(this.layerIdx,
this.layerClass);this.dispose()};l.prototype._requestNext=function(b){if(this.suspended)return!0;var e=this._findNextDownload();if(this._dataRequested){if(e===this._dataRequested)return!0;this._dataRequested.unrequestLayerData(this.layerIdx,this.layerClass,this);this._dataRequested=null}e?e.requestLayerData(this.layerIdx,this.layerClass,this)&&(this._dataRequested=e):b||this._agentDone();return!!this._dataRequested};l.prototype._findAncestorWithData=function(){return m(this.tile,this.layerIdx,this.layerClass,
1,0,0,0)};var m=function(g,e,d,c,a,k,p){if(!g.parent||6<p)return null;c*=0.5;a*=0.5;k*=0.5;g.lij[2]&1&&(a+=0.5);0===(g.lij[1]&1)&&(k+=0.5);return g.parent.hasLayerData(e,d)?(e=b.Pool.acquire(),e.init(g.parent,a,k,c),e):m(g.parent,e,d,c,a,k,p+1)};l.prototype._findNextDownload=function(){throw h;};return l})},"esri/tasks/Task":function(){define(["../core/declare","dojo/_base/lang","../core/Accessor","../core/urlUtils"],function(b,h,l,m){return b(l,{declaredClass:"esri.tasks._Task",classMetadata:{properties:{parsedUrl:{readOnly:!0,
dependsOn:["url"]}}},normalizeCtorArgs:function(b,e){if("string"!==typeof b)return b;var d={};b&&(d.url=b);e&&h.mixin(d,e);return d},url:null,parsedUrl:null,_parsedUrlGetter:function(){return this.url?m.urlToObject(this.url):null},requestOptions:null,normalization:!0,_useSSL:function(){var b=this.parsedUrl,e=/^http:/i;this.url&&this.set("url",this.url.replace(e,"https:"));b&&b.path&&(b.path=b.path.replace(e,"https:"))},_encode:function(b,e,d){var c,a,k={},p,n;for(p in b)if("declaredClass"!==p&&(c=
b[p],a=typeof c,null!==c&&void 0!==c&&"function"!==a))if(h.isArray(c)){k[p]=[];n=c.length;for(a=0;a<n;a++)k[p][a]=this._encode(c[a])}else"object"===a?c.toJSON&&(a=c.toJSON(d&&d[p]),"esri.tasks.FeatureSet"===c.declaredClass&&a.spatialReference&&(a.sr=a.spatialReference,delete a.spatialReference),k[p]=e?a:JSON.stringify(a)):k[p]=c;return k}})})},"dojo/dom-attr":function(){define("exports ./sniff ./_base/lang ./dom ./dom-style ./dom-prop".split(" "),function(b,h,l,m,g,e){function d(a,c){var d=a.getAttributeNode&&
a.getAttributeNode(c);return!!d&&d.specified}var c={innerHTML:1,textContent:1,className:1,htmlFor:h("ie"),value:1},a={classname:"class",htmlfor:"for",tabindex:"tabIndex",readonly:"readOnly"};b.has=function(b,p){var n=p.toLowerCase();return c[e.names[n]||p]||d(m.byId(b),a[n]||p)};b.get=function(b,p){b=m.byId(b);var n=p.toLowerCase(),g=e.names[n]||p,q=b[g];if(c[g]&&"undefined"!=typeof q)return q;if("textContent"==g)return e.get(b,g);if("href"!=g&&("boolean"==typeof q||l.isFunction(q)))return q;n=a[n]||
p;return d(b,n)?b.getAttribute(n):null};b.set=function(d,p,n){d=m.byId(d);if(2==arguments.length){for(var u in p)b.set(d,u,p[u]);return d}u=p.toLowerCase();var q=e.names[u]||p,t=c[q];if("style"==q&&"string"!=typeof n)return g.set(d,n),d;if(t||"boolean"==typeof n||l.isFunction(n))return e.set(d,p,n);d.setAttribute(a[u]||p,n);return d};b.remove=function(c,d){m.byId(c).removeAttribute(a[d.toLowerCase()]||d)};b.getNodeProp=function(c,b){c=m.byId(c);var n=b.toLowerCase(),g=e.names[n]||b;if(g in c&&"href"!=
g)return c[g];n=a[n]||b;return d(c,n)?c.getAttribute(n):null}})},"esri/views/3d/navigation/EventController":function(){define(["dojo/_base/array","../lib/glMatrix","../../../core/watchUtils","../webgl-engine/lib/Util","./NavigationConstants"],function(b,h,l,m,g){var e=function(d,c){function a(f){f.preventDefault();if(0!==T&&!(void 0!==typeof f.movementX&&void 0!==typeof f.movementY&&0===f.movementX&&0===f.movementY)){f=v(f,W);var c=T-1;switch(K){case 1:x("mouseDragLeft",f,c);break;case 2:x("mouseDragMiddle",
f,c);break;case 3:case 0:x("mouseDragRight",f,c)}1===T&&!(0===Math.abs(f[0]-D[0])&&0===Math.abs(f[1]-D[1]))?T=2:3===T&&(L&&window.clearTimeout(L),K=T=0,document.removeEventListener("mousemove",a,!0),document.removeEventListener("mouseup",p,!0))}}function k(f){f.preventDefault();G.focus();D=v(f);L&&window.clearTimeout(L);M.stop();T=1;K=f.which;1===K&&(0<C?(x("mouseClickDouble",v(f,W),2),C=0):C=Date.now());document.addEventListener("mousemove",a,!0);document.addEventListener("mouseup",p,!0)}function p(c){c.preventDefault();
var d=v(c,W);1===T&&1===K?0<C&&setTimeout(function(){0<C&&(x("mouseClick",v(c,W)),C=0)},Math.max(f-(Date.now()-C),0)):C=0;2===T?(T=3,L=setTimeout(function(){if(3===T)switch(K){case 1:x("mouseDragLeft",d,2);break;case 2:x("mouseDragMiddle",d,2);break;case 3:case 0:x("mouseDragRight",d,2)}document.removeEventListener("mousemove",a,!0);document.removeEventListener("mouseup",p,!0);K=T=0},s)):(document.removeEventListener("mousemove",a,!0),document.removeEventListener("mouseup",p,!0),K=T=0)}function n(a){a.preventDefault();
if(void 0===typeof a.wheelDeltaY||0!==a.wheelDeltaY)x("mouseWheel",a.detail?-40*a.detail:a.wheelDelta,v(a,ca))}function u(a){a.stopPropagation();var f=a.changedTouches[0],c="";if(!(1<a.touches.length)){var d;switch(a.type){case "touchstart":c="mousedown";break;case "touchmove":c="mousemove";break;case "touchend":c="mouseup";d=document.createEvent("MouseEvent");d.initMouseEvent("click",!0,!0,window,1,f.screenX,f.screenY,f.clientX,f.clientY,!1,!1,!1,!1,0,null);f.target.dispatchEvent(d);a.preventDefault();
break;default:return}d=document.createEvent("MouseEvent");d.initMouseEvent(c,!0,!0,window,1,f.screenX,f.screenY,f.clientX,f.clientY,!1,!1,!1,!1,0,null);f.target.dispatchEvent(d);a.preventDefault()}}function q(a){a.preventDefault()}function t(a){if(!a.shiftKey&&!a.ctrlKey&&!a.altKey&&!a.metaKey){var f=z[a.keyCode];void 0!==f&&(N[f](),a.preventDefault())}}function r(a){var f=z[a.keyCode];void 0!==f&&(f=H[f],void 0!==f&&f(),a.preventDefault())}function v(a,f){f||(f=A.create());var c=G.getBoundingClientRect();
f[0]=a.pageX-c.left;f[1]=c.height-(a.pageY-c.top);return f}function x(a,f,d){a=c[a];if(void 0!==a)V[a](f,d)}var w=/Firefox/i.test(navigator.userAgent),f=200,s=100,z={37:"panLeft",38:"panForward",39:"panRight",40:"panBackward",66:"lookAround",74:"panDown",78:"lookNorth",80:"lookDown",85:"panUp"},y,A=h.vec2d,B=h.vec3d,E=m.assert,F=["touchmove","touchstart","touchend","touchcancel"],G=null;this.connect=function(){if(G=d.get("canvas"))b.forEach(F,function(a){G.addEventListener(a,u,!0)}),G.addEventListener("mousedown",
k,!1),G.addEventListener(w?"DOMMouseScroll":"mousewheel",n,!1),G.addEventListener("contextmenu",q,!1),G.setAttribute("tabindex","1"),G.addEventListener("keydown",t,!1),G.addEventListener("keyup",r,!1)};this.disconnect=function(){G&&(b.forEach(F,function(a){G.removeEventListener(a,u,!0)}),G.removeEventListener("mousedown",k,!1),G.removeEventListener(w?"DOMMouseScroll":"mousewheel",n,!1),G.removeEventListener("contextmenu",q,!1),G.removeEventListener("keydown",t,!1),G.removeEventListener("keyup",r,
!1),G=null)};var Q=l.init(d,"canvas",function(){this.disconnect();this.connect()}.bind(this)),M=d.navigation;this.destroy=function(){this.disconnect();Q.remove()};this.setControls=function(a){y?y=a:c=a};this.getControls=function(){return c};var T=0,K=0,C=0,D=null,L,W=A.create(),ca=A.create(),V={select:function(a){d.get("ready")&&d._stage._select(a)},frame:function(a,f){if(d.get("ready")){var c=B.create(),b=d._stage._pick(a).getMinResult(),k=b.object;if(k){var n=k.getParentLayer();if(n&&"PICKABLE"===
n.getInteraction()){c=k.calcFacerangeBoundingSphere(b.triangleNr);b=M.targetCamera;M.frame(c.center,b.computeDistanceFromRadius(c.radiusScaled,1.1));return}}b.getIntersectionPoint(c)&&(b=M.targetCamera,M.frame(c,0.66*b.distance))}},pan:function(a,f){switch(f){case 0:M.pan.begin(a);break;case 1:M.pan.update(a);break;case 2:M.pan.end(a);break;default:E(!1)}},tumble:function(a,f){switch(f){case 0:M.rotate.begin(a,g.Rotate.PivotPoint.POI);break;case 1:M.rotate.update(a,g.Rotate.PivotPoint.POI);break;
case 2:M.rotate.end(a);break;default:E(!1)}},zoom:function(a,f){switch(f){case 0:M.zoom.begin(a);break;case 1:M.zoom.update(a);break;case 2:M.zoom.end(a);break;default:E(!1)}},zoomStep:function(a,f){M.zoom.stepScreen(a,f)},lookAround:function(a,f){switch(f){case 0:M.rotate.begin(a,g.Rotate.PivotPoint.EYE);break;case 1:M.rotate.update(a,g.Rotate.PivotPoint.EYE);break;case 2:M.rotate.end(a);break;default:E(!1)}}},R=g.Pan.Direction,N={panLeft:function(){M.pan.beginContinuous(R.LEFT)},panRight:function(){M.pan.beginContinuous(R.RIGHT)},
panForward:function(){M.pan.beginContinuous(R.FORWARD)},panBackward:function(){M.pan.beginContinuous(R.BACKWARD)},panUp:function(){M.pan.beginContinuous(R.UP)},panDown:function(){M.pan.beginContinuous(R.DOWN)},lookAround:function(){y||(y=c,c=e.LOOK_AROUND)},lookNorth:function(){d.animateTo({heading:0})},lookDown:function(){d.animateTo({tilt:0})}},H={panLeft:function(){M.pan.endContinuous(R.LEFT)},panRight:function(){M.pan.endContinuous(R.RIGHT)},panForward:function(){M.pan.endContinuous(R.FORWARD)},
panBackward:function(){M.pan.endContinuous(R.BACKWARD)},panUp:function(){M.pan.endContinuous(R.UP)},panDown:function(){M.pan.endContinuous(R.DOWN)},lookAround:function(){y&&(c=y,y=void 0)}}};e.PAN={mouseClick:"select",mouseClickDouble:"frame",mouseDragLeft:"pan",mouseDragRight:"tumble",mouseDragMiddle:"zoom",mouseWheel:"zoomStep"};e.TUMBLE={mouseClick:"select",mouseClickDouble:"frame",mouseDragLeft:"tumble",mouseDragRight:"pan",mouseDragMiddle:"zoom",mouseWheel:"zoomStep"};e.LOOK_AROUND={mouseClick:"select",
mouseClickDouble:"frame",mouseDragLeft:"lookAround",mouseDragRight:"tumble",mouseDragMiddle:"pan",mouseWheel:"zoomStep"};e.OLD={mouseClick:"select",mouseClickDouble:"frame",mouseDragMiddle:"tumble",mouseDragRight:"pan",mouseWheel:"zoomStep"};e.PRO_PAN={mouseClick:"select",mouseClickDouble:"frame",mouseDragLeft:"pan",mouseDragMiddle:"tumble",mouseDragRight:"zoom",mouseWheel:"zoomStep"};e.PRO_TUMBLE={mouseClick:"select",mouseClickDouble:"frame",mouseDragLeft:"tumble",mouseDragMiddle:"pan",mouseDragRight:"zoom",
mouseWheel:"zoomStep"};return e})},"esri/views/3d/constraints/SceneViewAltitudeConstraint":function(){define(["../../../core/declare","../../../core/Accessor","../support/earthUtils"],function(b,h,l){var m=4*l.earthRadius;b=b([h],{declaredClass:"esri.views.3d.constraints.SceneViewAltitudeConstraint",constructor:function(){this._min=-Infinity;this._max=m},mode:"auto",autoUpdate:function(b,e){"auto"===this.mode&&(this._min!==b&&(this._min=b,this.notifyChange("min")),this._max!==e&&(this._max=e,this.notifyChange("max")))},
_minSetter:function(b){this.mode="manual";this._min=b;this.max<b&&(this.max=b)},_minGetter:function(){return this._min},_maxSetter:function(b){this.mode="manual";this._max=b;this.min>b&&(this.min=b)},_maxGetter:function(){return this._max},scale:function(b){this._max*=b;this.notifyChange("max");this._min*=b;this.notifyChange("min")}});b.MIN_DEFAULT=-Infinity;b.MAX_DEFAULT=m;return b})},"esri/views/3d/environment/RealisticAtmosphere":function(){define("dojo/text!./materials/RealisticAtmosphereMaterial.xml dojo/on ../../../core/declare ../../../core/Accessor ../lib/glMatrix ../webgl-engine/lib/GeometryRenderer ../webgl-engine/lib/VertexBufferLayout ../webgl-engine/lib/GLSLProgram ../webgl-engine/lib/GeometryUtil ../support/earthUtils".split(" "),
function(b,h,l,m,g,e,d,c,a,k){var p=k.earthRadius,n=g.vec3d,u=g.vec2d,q=g.vec4d;return l([m],{classMetadata:{properties:{view:{}}},normalizeCtorArgs:function(a){return"esri.views.SceneView"===a.declaredClass?{view:a,initialized:!1}:a},constructor:function(){this.needsDepthMap=!0;var c=a.createSquareGeometry();this.geometryData={faces:c.getFaces()[0],vertexAttr:c.getVertexAttr()};var d=0.02*Math.PI,b=0.0040*Math.PI,c=n.createFrom(1/Math.pow(0.65,4),1/Math.pow(0.57,4),1/Math.pow(0.475,4)),k=n.create(c);
n.scale(k,d);n.add(k,n.createFrom(b,b,b));var d=p*p,b=10.25*(p/10),e=b*b,f=1/(b-p),s=f/0.25,g=f/0.05,l=-0.99999*-0.99999,m=1.5*((1-l)/(2+l)),h=0.3*(b-p)+p,E=1/(b-h);this.renderData={texDepth:u.create(),v3CameraPos:n.create(),v3CameraUp:n.create(),v3CameraRight:n.create(),v3CameraDir:n.create(),v3CameraCenter:n.create(),halfSizeNearPlane:u.create(),v4Viewport:q.create(),v4SphereComp:q.create(),v4AtmosParams1:q.createFrom(f,0.25,s,4),v4AtmosParams2:q.createFrom(-0.99999,0.05,g,20),v4AtmosParams3:q.createFrom(l,
m,h,E),v3InvWavelength:c,v3InvWavelengthScaled:k,v4Radii:q.createFrom(p,d,b,e),fScale:f,fScaleDepth:0.25,fLowerAlphaBlendBound:h,fScaleOverScaleDepth:s,fOneOverScaleDepth:4,fScaleDepthBlue:0.05,fOneOverScaleDepthBlue:20,fScaleOverScaleDepthBlue:g,g:-0.99999,g2:l,fMiePhaseCoefficients:m,showTest:0,nearFar:u.create()};this.hazeSlot=4;this.gl=this.skySlot=0;this._needsRender=!0;this._didRender=!1},enablePlanar:function(a){this.update=(this.planar=a)?this.updatePlanar:this.updateSpherical},setContext:function(a){this.gl=
a;this.renderer=new e(this.geometryData,d.Defaults.PosTex,null,this.gl)},loadShaders:function(a,d,k){a.fsRealisticAtmosphere||a._parse(b);this.hazeProgram=c.fromSnippets("vsRealisticAtmosphere","fsRealisticAtmosphere",a,this.gl,["HAZE"]);this.skyProgram=c.fromSnippets("vsRealisticAtmosphere","fsRealisticAtmosphere",a,this.gl);this.hazePlanarProgram=c.fromSnippets("vsRealisticAtmosphere","fsRealisticAtmosphere",a,this.gl,["HAZE","PLANAR"]);this.skyPlanarProgram=c.fromSnippets("vsRealisticAtmosphere",
"fsRealisticAtmosphere",a,this.gl,["PLANAR"])},render:function(a){if((a.slot==this.hazeSlot||a.slot==this.skySlot)&&"material"==a.pass){var d,b=this.gl;if(a.slot==this.hazeSlot){d=this.planar?this.hazePlanarProgram:this.hazeProgram;d.use();d.uniform1i("tColor",1);b.activeTexture(b.TEXTURE1);b.bindTexture(b.TEXTURE_2D,a.framebufferTex);if(void 0!==a.depth)b.activeTexture(b.TEXTURE0),b.bindTexture(b.TEXTURE_2D,a.depth.getTexture()),d.uniform4fv("v4SphereComp",this.renderData.v4SphereComp);else{var k=
new Float32Array(4);k[2]=0;d.uniform4fv("v4SphereComp",k)}d.uniform1i("tDepth",0);d.uniform4fv("v4Viewport",this.renderData.v4Viewport)}a.slot==this.skySlot&&(d=this.planar?this.skyPlanarProgram:this.skyProgram,d.use(),d.uniform4fv("v4SphereComp",this.renderData.v4SphereComp),d.uniform4fv("v4AtmosParams3",this.renderData.v4AtmosParams3));d.uniform3fv("v3InvWavelength",this.renderData.v3InvWavelength);d.uniform3fv("v3InvWavelengthScaled",this.renderData.v3InvWavelengthScaled);d.uniform3fv("v3LightDir",
a.lightingData.getLightDirection());d.uniform3fv("v3CameraPos",this.renderData.v3CameraPos);d.uniform3fv("v3CameraUp",this.renderData.v3CameraUp);d.uniform3fv("v3CameraRight",this.renderData.v3CameraRight);d.uniform3fv("v3CameraDir",this.renderData.v3CameraDir);d.uniform2fv("nearFar",this.renderData.nearFar);d.uniform2fv("halfSizeNearPlane",this.renderData.halfSizeNearPlane);d.uniform4fv("v4Radii",this.renderData.v4Radii);d.uniform4fv("v4AtmosParams1",this.renderData.v4AtmosParams1);d.uniform4fv("v4AtmosParams2",
this.renderData.v4AtmosParams2);d.uniform1f("showTest",this.renderData.showTest);b.disable(b.DEPTH_TEST);b.enable(b.BLEND);b.blendFunc(b.SRC_ALPHA,b.ONE_MINUS_SRC_ALPHA);this.renderer.render(d);this._didRender=!0;c.unuse(b);b.disable(b.BLEND);b.enable(b.DEPTH_TEST)}},needsRender:function(){return this._needsRender},resetNeedsRender:function(){this._didRender&&(this._needsRender=!1)},init:function(){this.update=this.planar?this.updatePlanar:this.updateSpherical;this._cameraListener=h(this.view.navigation,
"currentViewChanged",function(a){this.update(a.camera)}.bind(this));this.initialized=!0;this.update(this.view.navigation.currentCamera)},destroy:function(){this._cameraListener.remove()},_setEnableTestImage:function(a){var c=this.view._stage;this.renderData.showTest=a?1:0;c.setNeedsRender()},updatePlanar:function(a){if(this.initialized){var c=a.viewMatrix;n.set3(c[2],c[6],c[10],this.renderData.v3CameraDir);n.normalize(this.renderData.v3CameraDir);this.renderData.fCameraHeight=this.view.renderCoordsHelper.getAltitude(a.eye)/
this.view.mapCoordsHelper.mapUnitInMeters+p;this.renderData.fCameraHeight2=this.renderData.fCameraHeight*this.renderData.fCameraHeight;this.renderData.fC=this.renderData.fCameraHeight2-this.renderData.v4Radii[3];this.renderData.fCSur=this.renderData.fCameraHeight2-this.renderData.v4Radii[1];this.renderData.v4SphereComp=q.createFrom(this.renderData.fCameraHeight,this.renderData.fCameraHeight2,this.renderData.fC,this.renderData.fCSur);n.set(a.eye,this.renderData.v3CameraPos);n.set(a.center,this.renderData.v3CameraCenter);
n.set(a.up,this.renderData.v3CameraUp);n.normalize(this.renderData.v3CameraUp);n.cross(a.up,this.renderData.v3CameraDir,this.renderData.v3CameraRight);n.normalize(this.renderData.v3CameraRight);u.set2(Math.tan(a.fovY/2)*a.aspect,Math.tan(a.fovY/2),this.renderData.halfSizeNearPlane);q.set(a.viewport,this.renderData.v4Viewport);this.renderData.nearFar=[a.near,a.far];this.view._stage.setNeedsRender()}},updateSpherical:function(a){if(!(n.length(a.eye)<=p)&&this.initialized){var c=a.viewMatrix;n.set3(c[2],
c[6],c[10],this.renderData.v3CameraDir);n.normalize(this.renderData.v3CameraDir);this.renderData.fCameraHeight=n.length(a.eye);this.renderData.fCameraHeight2=this.renderData.fCameraHeight*this.renderData.fCameraHeight;this.renderData.fC=this.renderData.fCameraHeight2-this.renderData.v4Radii[3];this.renderData.fCSur=this.renderData.fCameraHeight2-this.renderData.v4Radii[1];this.renderData.v4SphereComp=q.createFrom(this.renderData.fCameraHeight,this.renderData.fCameraHeight2,this.renderData.fC,this.renderData.fCSur);
n.set(a.eye,this.renderData.v3CameraPos);n.set(a.center,this.renderData.v3CameraCenter);n.set(a.up,this.renderData.v3CameraUp);n.normalize(this.renderData.v3CameraUp);n.cross(a.up,this.renderData.v3CameraDir,this.renderData.v3CameraRight);n.normalize(this.renderData.v3CameraRight);u.set2(Math.tan(a.fovY/2)*a.aspect,Math.tan(a.fovY/2),this.renderData.halfSizeNearPlane);q.set(a.viewport,this.renderData.v4Viewport);this.renderData.nearFar=[a.near,a.far];this.view._stage.setNeedsRender()}}})})},"esri/layers/support/FeatureTemplate":function(){define(["../../core/declare",
"dojo/_base/lang","../../core/lang","../../Graphic"],function(b,h,l,m){b=b(null,{declaredClass:"esri.layers.support.FeatureTemplate",constructor:function(b){b&&h.isObject(b)&&(this.name=b.name,this.description=b.description,this.drawingTool=b.drawingTool,b=b.prototype,this.prototype=new m(b.geometry,null,b.attributes))},toJson:function(){try{throw Error("toJson is deprecated, use toJSON instead");}catch(b){console.warn(b.stack)}return this.toJSON()},toJSON:function(){return l.fixJson({name:this.name,
description:this.description,drawingTool:this.drawingTool,prototype:this.prototype&&this.prototype.toJSON()})}});h.mixin(b,{TOOL_AUTO_COMPLETE_POLYGON:"esriFeatureEditToolAutoCompletePolygon",TOOL_CIRCLE:"esriFeatureEditToolCircle",TOOL_ELLIPSE:"esriFeatureEditToolEllipse",TOOL_FREEHAND:"esriFeatureEditToolFreehand",TOOL_LINE:"esriFeatureEditToolLine",TOOL_NONE:"esriFeatureEditToolNone",TOOL_POINT:"esriFeatureEditToolPoint",TOOL_POLYGON:"esriFeatureEditToolPolygon",TOOL_RECTANGLE:"esriFeatureEditToolRectangle",
TOOL_ARROW:"esriFeatureEditToolArrow",TOOL_TRIANGLE:"esriFeatureEditToolTriangle",TOOL_LEFT_ARROW:"esriFeatureEditToolLeftArrow",TOOL_RIGHT_ARROW:"esriFeatureEditToolRightArrow",TOOL_UP_ARROW:"esriFeatureEditToolUpArrow",TOOL_DOWN_ARROW:"esriFeatureEditToolDownArrow"});return b})},"esri/views/3d/constraints/SceneViewCollisionConstraint":function(){define(["../../../core/declare","../../../core/Accessor"],function(b,h){return b([h],{declaredClass:"esri.views.3d.constraints.SceneViewCollisionConstraint",
enabled:!0})})},"dojo/request/script":function(){define("module ./watch ./util ../_base/kernel ../_base/array ../_base/lang ../on ../dom ../dom-construct ../has ../_base/window".split(" "),function(b,h,l,m,g,e,d,c,a,k,p){function n(a,f){a.canDelete&&v._remove(a.id,f.options.frameDoc,!0)}function u(a){y&&y.length&&(g.forEach(y,function(a){v._remove(a.id,a.frameDoc);a.frameDoc=null}),y=[]);return a.options.jsonp?!a.data:!0}function q(a){return!!this.scriptLoaded}function t(a){return(a=a.options.checkString)&&
eval("typeof("+a+') !\x3d\x3d "undefined"')}function r(a,f){if(this.canDelete){var c=this.response.options;y.push({id:this.id,frameDoc:c.ioArgs?c.ioArgs.frameDoc:c.frameDoc});c.ioArgs&&(c.ioArgs.frameDoc=null);c.frameDoc=null}f?this.reject(f):this.resolve(a)}function v(a,c,b){var k=l.parseArgs(a,l.deepCopy({},c));a=k.url;c=k.options;var p=l.deferred(k,n,u,c.jsonp?null:c.checkString?t:q,r);e.mixin(p,{id:x+w++,canDelete:!1});c.jsonp&&(RegExp("[?\x26]"+c.jsonp+"\x3d").test(a)||(a+=(~a.indexOf("?")?"\x26":
"?")+c.jsonp+"\x3d"+(c.frameDoc?"parent.":"")+x+"_callbacks."+p.id),p.canDelete=!0,z[p.id]=function(a){k.data=a;p.handleResponse(k)});l.notify&&l.notify.emit("send",k,p.promise.cancel);if(!c.canAttach||c.canAttach(p)){var g=v._attach(p.id,a,c.frameDoc);if(!c.jsonp&&!c.checkString)var m=d(g,f,function(a){if("load"===a.type||s.test(g.readyState))m.remove(),p.scriptLoaded=a})}d.once(g,"error",function(a){p.reject(a);v._remove(p.id,c.frameDoc,!0)});h(p);return b?p:p.promise}k.add("script-readystatechange",
function(a,f){return"undefined"!==typeof f.createElement("script").onreadystatechange&&("undefined"===typeof a.opera||"[object Opera]"!==a.opera.toString())});var x=b.id.replace(/[\/\.\-]/g,"_"),w=0,f=k("script-readystatechange")?"readystatechange":"load",s=/complete|loaded/,z=m.global[x+"_callbacks"]={},y=[];v.get=v;v._attach=function(a,f,c){c=c||p.doc;var d=c.createElement("script");d.type="text/javascript";d.src=f;d.id=a;d.async=!0;d.charset="utf-8";return c.getElementsByTagName("head")[0].appendChild(d)};
v._remove=function(f,d,b){a.destroy(c.byId(f,d));z[f]&&(b?z[f]=function(){delete z[f]}:delete z[f])};v._callbacksProperty=x+"_callbacks";return v})},"esri/views/3d/navigation/planar/actions/RotatePlanar":function(){define(["./ActionPlanar","../../mixins/RotateMixin"],function(b,h){return b.createSubclass([h],{declaredClass:"esri.views.3d.navigation.planar.actions.RotatePlanar"})})},"dojo/dnd/Moveable":function(){define("../_base/array ../_base/declare ../_base/lang ../dom ../dom-class ../Evented ../on ../topic ../touch ./common ./Mover ../_base/window".split(" "),
function(b,h,l,m,g,e,d,c,a,k,p,n){return h("dojo.dnd.Moveable",[e],{handle:"",delay:0,skip:!1,constructor:function(c,b){this.node=m.byId(c);b||(b={});this.handle=b.handle?m.byId(b.handle):null;this.handle||(this.handle=this.node);this.delay=0<b.delay?b.delay:0;this.skip=b.skip;this.mover=b.mover?b.mover:p;this.events=[d(this.handle,a.press,l.hitch(this,"onMouseDown")),d(this.handle,"dragstart",l.hitch(this,"onSelectStart")),d(this.handle,"selectstart",l.hitch(this,"onSelectStart"))]},markupFactory:function(a,
c,d){return new d(c,a)},destroy:function(){b.forEach(this.events,function(a){a.remove()});this.events=this.node=this.handle=null},onMouseDown:function(c){if(!this.skip||!k.isFormElement(c)){if(this.delay)this.events.push(d(this.handle,a.move,l.hitch(this,"onMouseMove")),d(this.handle,a.release,l.hitch(this,"onMouseUp"))),this._lastX=c.pageX,this._lastY=c.pageY;else this.onDragDetected(c);c.stopPropagation();c.preventDefault()}},onMouseMove:function(a){if(Math.abs(a.pageX-this._lastX)>this.delay||
Math.abs(a.pageY-this._lastY)>this.delay)this.onMouseUp(a),this.onDragDetected(a);a.stopPropagation();a.preventDefault()},onMouseUp:function(a){for(var c=0;2>c;++c)this.events.pop().remove();a.stopPropagation();a.preventDefault()},onSelectStart:function(a){if(!this.skip||!k.isFormElement(a))a.stopPropagation(),a.preventDefault()},onDragDetected:function(a){new this.mover(this.node,a,this)},onMoveStart:function(a){c.publish("/dnd/move/start",a);g.add(n.body(),"dojoMove");g.add(this.node,"dojoMoveItem")},
onMoveStop:function(a){c.publish("/dnd/move/stop",a);g.remove(n.body(),"dojoMove");g.remove(this.node,"dojoMoveItem")},onFirstMove:function(){},onMove:function(a,c){this.onMoving(a,c);var d=a.node.style;d.left=c.l+"px";d.top=c.t+"px";this.onMoved(a,c)},onMoving:function(){},onMoved:function(){}})})},"esri/identity/IdentityManagerDialog":function(){define("dojo/_base/kernel ../core/declare dojo/_base/config dojo/_base/Deferred dojo/_base/lang dojo/dom-attr dojo/keys dijit/registry dijit/Dialog ../kernel ../core/lang ../core/domUtils ./Credential ./IdentityManagerBase dojo/i18n!../nls/jsapi dojo/query dijit/form/Button dijit/form/ValidationTextBox".split(" "),
function(b,h,l,m,g,e,d,c,a,k,p,n,u,q,t){return h([q],{declaredClass:"esri.IdentityManager",constructor:function(a){g.mixin(this,a)},_dialogContent:"\x3cdiv class\x3d'dijitDialogPaneContentArea'\x3e\x3cdiv style\x3d'padding-bottom: 5px; word-wrap: break-word;'\x3e${info}\x3c/div\x3e\x3cdiv style\x3d'margin: 0px; padding: 0px; height: 10px;'\x3e\x3c/div\x3e\x3cdiv class\x3d'esriErrorMsg' style\x3d'display: none; color: white; background-color: #D46464; text-align: center; padding-top: 3px; padding-bottom: 3px;'\x3e${invalidUser}\x3c/div\x3e\x3cdiv style\x3d'margin: 0px; padding: 0px; height: 10px;'\x3e\x3c/div\x3e\x3ctable style\x3d'width: 100%;'\x3e\x3ctr\x3e\x3ctd\x3e\x3clabel\x3e${lblUser}\x3c/label\x3e\x3cbr/\x3e\x3cinput data-dojo-type\x3d'dijit.form.ValidationTextBox' data-dojo-props\x3d'type:\"text\", \"class\":\"esriIdUser\", required:true, trim:true, style:\"width: 100%;\", autocapitalize:\"none\", autocorrect:\"off\", spellcheck:false' /\x3e\x3c/td\x3e\x3c/tr\x3e\x3ctr\x3e\x3ctd\x3e\x3clabel\x3e${lblPwd}\x3c/label\x3e\x3cbr/\x3e\x3cinput data-dojo-type\x3d'dijit.form.ValidationTextBox' data-dojo-props\x3d'type:\"password\", \"class\":\"esriIdPwd\", required:true, style:\"width: 100%;\"' /\x3e\x3c/td\x3e\x3c/tr\x3e\x3c/table\x3e\x3c/div\x3e\x3cdiv class\x3d'dijitDialogPaneActionBar'\x3e\x3cbutton data-dojo-type\x3d'dijit.form.Button' data-dojo-props\x3d'type:\"button\", \"class\":\"esriIdSubmit\"'\x3e${lblOk}\x3c/button\x3e\x3cbutton data-dojo-type\x3d'dijit.form.Button' data-dojo-props\x3d'type:\"button\", \"class\":\"esriIdCancel\"'\x3e${lblCancel}\x3c/button\x3e\x3c/div\x3e",
signIn:function(a,c,d){this._nls||(this._nls=t.identity);this._loginDialog||(this._loginDialog=this.dialog=this._createLoginDialog(),this.emit("dialog-create"));var b=this._loginDialog,f=d&&d.error,k=d&&d.token,p=new m(function(){b.onCancel()});if(b.open)return a=Error("BUSY"),a.code="IdentityManager.1",a.log=l.isDebug,p.errback(a),p.promise;n.hide(b.errMsg_);f&&(403==f.code&&k)&&(e.set(b.errMsg_,"innerHTML",this._nls.forbidden),n.show(b.errMsg_));b.dfd_=p;b.serverInfo_=c;b.resUrl_=a;b.admin_=d&&
d.isAdmin;e.set(b.resLink_,{title:a,innerHTML:"("+(this.getResourceName(a)||this._nls.lblItem)+")"});e.set(b.serverLink_,{title:c.server,innerHTML:(-1!==c.server.toLowerCase().indexOf("arcgis.com")?"ArcGIS Online":c.server)+" "});b.txtPwd_.set("value","");b.show();return p.promise},_createLoginDialog:function(){var q=this._nls,g=p.substitute(q,this._dialogContent),g=p.substitute({resource:"\x3cspan class\x3d'resLink' style\x3d'word-wrap: break-word;'\x3e\x3c/span\x3e",server:"\x3cspan class\x3d'serverLink' style\x3d'word-wrap: break-word;'\x3e\x3c/span\x3e"},
g),t=new a({title:q.title,content:g,"class":"esriSignInDialog",style:"width: 18em;",esriIdMgr_:this,keypressed_:function(a){a.charOrCode===d.ENTER&&this.execute_()},execute_:function(){var c=this.txtUser_.get("value"),f=this.txtPwd_.get("value"),d=this.dfd_,b=this;if(c&&f){this.btnSubmit_.set("label",q.lblSigning);var g=k.id.findCredential(b.resUrl_,c),l=function(f){b.btnSubmit_.set("label",q.lblOk);b.btnSubmit_.set("disabled",!1);n.hide(b.errMsg_);b.hide();a._DialogLevelManager.hide(b);var k=b.serverInfo_;
b.dfd_=b.serverInfo_=b.generateDfd_=b.resUrl_=null;var e,l,t=g,m;f&&(e=f.token,l=p.isDefined(f.expires)?Number(f.expires):null,m=!!f.ssl,t?(t.userId=c,t.token=e,t.expires=l,t.validity=f.validity,t.ssl=m,t.creationTime=(new Date).getTime()):t=new u({userId:c,server:k.server,token:e,expires:l,ssl:m,isAdmin:b.admin_,validity:f.validity}));d.callback(t)};g&&!g._enqueued?l():(b.btnSubmit_.set("disabled",!0),b.generateDfd_=k.id.generateToken(this.serverInfo_,{username:c,password:f},{isAdmin:this.admin_}).then(l).then(null,
function(a){b.btnSubmit_.set("disabled",!1);b.generateDfd_=null;b.btnSubmit_.set("label",q.lblOk);e.set(b.errMsg_,"innerHTML",a&&a.code?q.invalidUser:q.noAuthService);n.show(b.errMsg_)}))}},cancel_:function(){t.generateDfd_&&t.generateDfd_.cancel();var c=t.dfd_,f=t.resUrl_,d=t.serverInfo_;t.btnSubmit_.set("disabled",!1);t.dfd_=t.serverInfo_=t.generateDfd_=t.resUrl_=null;n.hide(t.errMsg_);a._DialogLevelManager.hide(t);t.esriIdMgr_.emit("dialog-cancel",{resourceUrl:f,serverInfo:d});f=Error("ABORTED");
f.code="IdentityManager.2";f.log=l.isDebug;c.errback(f)}}),g=t.domNode;t.txtUser_=c.byNode(b.query(".esriIdUser",g)[0]);t.txtPwd_=c.byNode(b.query(".esriIdPwd",g)[0]);t.btnSubmit_=c.byNode(b.query(".esriIdSubmit",g)[0]);t.btnCancel_=c.byNode(b.query(".esriIdCancel",g)[0]);t.resLink_=b.query(".resLink",g)[0];t.serverLink_=b.query(".serverLink",g)[0];t.errMsg_=b.query(".esriErrorMsg",g)[0];t.connect(t.txtUser_,"onKeyPress",t.keypressed_);t.connect(t.txtPwd_,"onKeyPress",t.keypressed_);t.connect(t.btnSubmit_,
"onClick",t.execute_);t.connect(t.btnCancel_,"onClick",t.onCancel);t.connect(t,"onCancel",t.cancel_);return t}})})},"xstyle/load-css":function(){define([],function(){function b(a,c){var d=a[e]("link");d.rel="stylesheet";d.type="text/css";c&&(d.href=c);return d}function h(a){a=a.split("!");for(var c,d=1;c=a[d++];)c=c.split("\x3d",2),a[c[0]]=2==c.length?c[1]:!0;return a}function l(a){if(k["dom-create-style-element"])return c=document.createElement("style"),c.setAttribute("type","text/css"),c.appendChild(document.createTextNode(a)),
p.insertBefore(c,p.firstChild),c;var c=document.createStyleSheet();c.cssText=a;return c.owningElement}var m="onreadystatechange",g="onload",e="createElement",d=!1,c=document,a="undefined"==typeof _css_cache?{}:_css_cache,k={"event-link-onload":null===document.createElement("link").onload&&!navigator.userAgent.match(/AppleWebKit/),"dom-create-style-element":!document.createStyleSheet},p=c.head||(c.head=c.getElementsByTagName("head")[0]);if(!k["bundled-css"])var n=function(a,c){function b(a){if(a=a.sheet||
a.styleSheet)for(var c=document.styleSheets,d=c.length;0<d;d--)if(c[d-1]==a)return!0}function n(a,c){b(a.link)?(e(a),c()):d||setTimeout(function(){n(a,c)},a.wait)}function e(a){a=a.link;a[m]=a[g]=null}function p(){l||(l=!0,c())}require.onError&&(require.onError=function(a){return function(){d=!0;a.apply(this,arguments)}}(require.onError));var l;(function(a,c){var d=a.link;d[m]=d[g]=function(){if(!d.readyState||"complete"==d.readyState)k["event-link-onload"]=!0,e(a),c()}})(a,p);k["event-link-onload"]||
n(a,p)};return function(d,k,e){for(var g=d.split(","),m=g.length,x=function(){0==--m&&k(s.sheet||s.styleSheet)},w=0;w<g.length;w++){d=g[w];var f=a[d];if(f)return s=l(f),x();d=h(d);var f=d.shift(),f=f.lastIndexOf(".")<=f.lastIndexOf("/")?f+".css":f,s=b(c);d="nowait"in d?"false"!=d.nowait:!(!e||!e.cssDeferLoad);n({link:s,url:f,wait:e&&e.cssWatchPeriod||25},x);d&&k(s);s.href=f;p.appendChild(s)}}})},"dijit/form/CheckBox":function(){define("require dojo/_base/declare dojo/dom-attr dojo/has dojo/query dojo/ready ./ToggleButton ./_CheckBoxMixin dojo/text!./templates/CheckBox.html dojo/NodeList-dom ../a11yclick".split(" "),
function(b,h,l,m,g,e,d,c,a){m("dijit-legacy-requires")&&e(0,function(){b(["dijit/form/RadioButton"])});return h("dijit.form.CheckBox",[d,c],{templateString:a,baseClass:"dijitCheckBox",_setValueAttr:function(a,c){"string"==typeof a&&(this.inherited(arguments),a=!0);this._created&&this.set("checked",a,c)},_getValueAttr:function(){return this.checked&&this._get("value")},_setIconClassAttr:null,_setNameAttr:"focusNode",postMixInProperties:function(){this.inherited(arguments);this.checkedAttrSetting=""},
_fillContent:function(){},_onFocus:function(){this.id&&g("label[for\x3d'"+this.id+"']").addClass("dijitFocusedLabel");this.inherited(arguments)},_onBlur:function(){this.id&&g("label[for\x3d'"+this.id+"']").removeClass("dijitFocusedLabel");this.inherited(arguments)}})})},"esri/layers/support/LercCodec":function(){define([],function(){var b={defaultNoDataValue:-3.4027999387901484E38,decode:function(l,m){var g;m=m||{};var e=m.inputOffset||0,d=m.encodedMaskData||null===m.encodedMaskData,c={},a=new Uint8Array(l,
e,10);c.fileIdentifierString=String.fromCharCode.apply(null,a);if("CntZImage"!=c.fileIdentifierString.trim())throw"Unexpected file identifier string: "+c.fileIdentifierString;var e=e+10,k=new DataView(l,e,24);c.fileVersion=k.getInt32(0,!0);c.imageType=k.getInt32(4,!0);c.height=k.getUint32(8,!0);c.width=k.getUint32(12,!0);c.maxZError=k.getFloat64(16,!0);e+=24;if(!d)if(k=new DataView(l,e,16),c.mask={},c.mask.numBlocksY=k.getUint32(0,!0),c.mask.numBlocksX=k.getUint32(4,!0),c.mask.numBytes=k.getUint32(8,
!0),c.mask.maxValue=k.getFloat32(12,!0),e+=16,0<c.mask.numBytes){var d=new Uint8Array(Math.ceil(c.width*c.height/8)),k=new DataView(l,e,c.mask.numBytes),a=k.getInt16(0,!0),p=2,n=0;do{if(0<a)for(;a--;)d[n++]=k.getUint8(p++);else for(var u=k.getUint8(p++),a=-a;a--;)d[n++]=u;a=k.getInt16(p,!0);p+=2}while(p<c.mask.numBytes);if(-32768!==a||n<d.length)throw"Unexpected end of mask RLE encoding";c.mask.bitset=d;e+=c.mask.numBytes}else 0===(c.mask.numBytes|c.mask.numBlocksY|c.mask.maxValue)&&(d=new Uint8Array(Math.ceil(c.width*
c.height/8)),c.mask.bitset=d);k=new DataView(l,e,16);c.pixels={};c.pixels.numBlocksY=k.getUint32(0,!0);c.pixels.numBlocksX=k.getUint32(4,!0);c.pixels.numBytes=k.getUint32(8,!0);c.pixels.maxValue=k.getFloat32(12,!0);e+=16;d=c.pixels.numBlocksX;a=c.pixels.numBlocksY;d+=0<c.width%d?1:0;a+=0<c.height%a?1:0;c.pixels.blocks=Array(d*a);p=1E9;for(u=n=0;u<a;u++)for(var q=0;q<d;q++){var t=0,k=new DataView(l,e,Math.min(10,l.byteLength-e)),r={};c.pixels.blocks[n++]=r;var v=k.getUint8(0);t++;r.encoding=v&63;if(3<
r.encoding)throw"Invalid block encoding ("+r.encoding+")";if(2===r.encoding)e++,p=Math.min(p,0);else{if(0!==v&&2!==v){v>>=6;r.offsetType=v;if(2===v)r.offset=k.getInt8(1),t++;else if(1===v)r.offset=k.getInt16(1,!0),t+=2;else if(0===v)r.offset=k.getFloat32(1,!0),t+=4;else throw"Invalid block offset type";p=Math.min(r.offset,p);if(1===r.encoding)if(v=k.getUint8(t),t++,r.bitsPerPixel=v&63,v>>=6,r.numValidPixelsType=v,2===v)r.numValidPixels=k.getUint8(t),t++;else if(1===v)r.numValidPixels=k.getUint16(t,
!0),t+=2;else if(0===v)r.numValidPixels=k.getUint32(t,!0),t+=4;else throw"Invalid valid pixel count type";}e+=t;if(3!=r.encoding)if(0===r.encoding){k=(c.pixels.numBytes-1)/4;if(k!==Math.floor(k))throw"uncompressed block has invalid length";t=new ArrayBuffer(4*k);v=new Uint8Array(t);v.set(new Uint8Array(l,e,4*k));t=new Float32Array(t);for(v=0;v<t.length;v++)p=Math.min(p,t[v]);r.rawData=t;e+=4*k}else 1===r.encoding&&(k=Math.ceil(r.numValidPixels*r.bitsPerPixel/8),t=Math.ceil(k/4),t=new ArrayBuffer(4*
t),v=new Uint8Array(t),v.set(new Uint8Array(l,e,k)),r.stuffedData=new Uint32Array(t),e+=k)}}c.pixels.minValue=p;c.eofOffset=e;var e=null!=m.noDataValue?m.noDataValue:b.defaultNoDataValue,a=m.encodedMaskData,t=m.returnMask,p=0,n=c.pixels.numBlocksX,u=c.pixels.numBlocksY,q=Math.floor(c.width/n),r=Math.floor(c.height/u),k=2*c.maxZError,a=a||(c.mask?c.mask.bitset:null),x,d=new (m.pixelType||Float32Array)(c.width*c.height);t&&a&&(x=new Uint8Array(c.width*c.height));for(var t=new Float32Array(q*r),w,f,
v=0;v<=u;v++){var s=v!==u?r:c.height%u;if(0!==s)for(var z=0;z<=n;z++){var y=z!==n?q:c.width%n;if(0!==y){var A=v*c.width*r+z*q,B=c.width-y,E=c.pixels.blocks[p],F,G;if(2>E.encoding){if(0===E.encoding)F=E.rawData;else{F=E.stuffedData;G=E.bitsPerPixel;w=E.numValidPixels;f=E.offset;var Q=k,M=t,T=c.pixels.maxValue,K=(1<<G)-1,C=0,D=void 0,L=0,W=void 0,ca=void 0,V=Math.ceil((T-f)/Q),D=4*F.length-Math.ceil(G*w/8);F[F.length-1]<<=8*D;for(D=0;D<w;D++)0===L&&(ca=F[C++],L=32),L>=G?(W=ca>>>L-G&K,L-=G):(L=G-L,W=
(ca&K)<<L&K,ca=F[C++],L=32-L,W+=ca>>>L),M[D]=W<V?f+W*Q:T;F=t}G=0}else g=2===E.encoding?0:E.offset;var R;if(a)for(f=0;f<s;f++){A&7&&(R=a[A>>3],R<<=A&7);for(w=0;w<y;w++)A&7||(R=a[A>>3]),R&128?(x&&(x[A]=1),d[A++]=2>E.encoding?F[G++]:g):(x&&(x[A]=0),d[A++]=e),R<<=1;A+=B}else if(2>E.encoding)for(f=0;f<s;f++){for(w=0;w<y;w++)d[A++]=F[G++];A+=B}else for(f=0;f<s;f++){for(w=0;w<y;w++)d[A++]=g;A+=B}if(1===E.encoding&&G!==E.numValidPixels)throw"Block and Mask do not match";p++}}}g=x;x={width:c.width,height:c.height,
pixelData:d,minValue:c.pixels.minValue,maxValue:c.pixels.maxValue,noDataValue:e};g&&(x.maskData=g);m.returnEncodedMask&&c.mask&&(x.encodedMaskData=c.mask.bitset?c.mask.bitset:null);if(m.returnFileInfo&&(x.fileInfo=h(c),m.computeUsedBitDepths)){g=x.fileInfo;R=c.pixels.numBlocksX*c.pixels.numBlocksY;F={};for(G=0;G<R;G++)e=c.pixels.blocks[G],0===e.encoding?F.float32=!0:1===e.encoding?F[e.bitsPerPixel]=!0:F[0]=!0;c=Object.keys(F);g.bitDepths=c}return x}},h=function(b){return{fileIdentifierString:b.fileIdentifierString,
fileVersion:b.fileVersion,imageType:b.imageType,height:b.height,width:b.width,maxZError:b.maxZError,eofOffset:b.eofOffset,mask:b.mask?{numBlocksX:b.mask.numBlocksX,numBlocksY:b.mask.numBlocksY,numBytes:b.mask.numBytes,maxValue:b.mask.maxValue}:null,pixels:{numBlocksX:b.pixels.numBlocksX,numBlocksY:b.pixels.numBlocksY,numBytes:b.pixels.numBytes,maxValue:b.pixels.maxValue,minValue:b.pixels.minValue,noDataValue:this.noDataValue}}};return b})},"dijit/form/Textarea":function(){define(["dojo/_base/declare",
"dojo/dom-style","./_ExpandingTextAreaMixin","./SimpleTextarea"],function(b,h,l,m){return b("dijit.form.Textarea",[m,l],{baseClass:"dijitTextBox dijitTextArea dijitExpandingTextArea",cols:"",buildRendering:function(){this.inherited(arguments);h.set(this.textbox,{overflowY:"hidden",overflowX:"auto",boxSizing:"border-box",MsBoxSizing:"border-box",WebkitBoxSizing:"border-box",MozBoxSizing:"border-box"})}})})},"esri/views/PopupManager":function(){define("require ../core/declare dojo/_base/array dojo/on dojo/Deferred dojo/promise/all ../layers/support/layerUtils ../geometry/Extent ../tasks/support/Query ../layers/GroupLayer ../core/Accessor".split(" "),
function(b,h,l,m,g,e,d,c,a,k,p){var n;return h(p,{declaredClass:"esri.views.PopupManager",classMetadata:{properties:{map:{dependsOn:["view.map"],readOnly:!0}}},constructor:function(){this._featureLayersCache={}},destroy:function(){this._featureLayersCache={};this.view=null},_clickHandle:null,_featureLayersCache:null,enabled:!1,_enabledSetter:function(a){this._clickHandle&&(a?this._clickHandle.resume():this._clickHandle.pause());return a},_mapGetter:function(){return this.get("view.map")||null},view:null,
_viewSetter:function(a){this._clickHandle&&(this._clickHandle.remove(),this._clickHandle=null);a&&(this._clickHandle=m.pausable(a,"click",this._clickHandler.bind(this)),this.enabled||this._clickHandle.pause());return a},getMapLayer:function(a){var c;if(a&&(c=a.getLayer()))if(a=c.id,this._featureLayersCache[a]){var d=a.lastIndexOf("_");-1<d&&(a=a.substring(0,d),c=this.map.getLayer(a))}return c},_showPopup:function(d){function b(a){if(null==a)return!1;var f=e.getLayerView(a);return null==f?!1:a.loaded&&
!a.disablePopup&&a.popupTemplate&&!f.suspended}var n=this.map,e=this.view,p=e.popup,m=this,h=[];l.forEach(n.layers.getAll(),function(a){a.isInstanceOf(k)?l.forEach(a.layers.getAll(),function(a){b(a)&&(!a.elevationInfo||"onTheGround"===a.elevationInfo.mode)&&h.push(a)}):b(a)&&(!a.elevationInfo||"onTheGround"===a.elevationInfo.mode)&&h.push(a)});var f=null;if(d.graphic&&(d.graphic.popupTemplate||b(d.graphic.layer)))f=d.graphic;if(h.length||f){var s=[],z=!!f;if(!f){var y=m._calculateClickTolerance(h),
s=d.mapPoint;if(!s)return;var A=y*(e.basemapTerrain&&e.basemapTerrain.overlayManager.overlayPixelSizeInMapUnits(s)),y=s.offset(-A,-A),s=s.offset(A,A);if(null==y||null==s)return;var B=new c(Math.min(y.x,s.x),Math.min(y.y,s.y),Math.max(y.x,s.x),Math.max(y.y,s.y),n.spatialReference),E=new a,s=l.map(h,function(a){var f;E.timeExtent=a.useMapTime?n.timeExtent:null;if("esri.layers.ArcGISImageLayer"===a.declaredClass){E.geometry=d.mapPoint;var c=e.getLayerView(a);f={rasterAttributeTableFieldPrefix:"Raster.",
returnDomainValues:!0};f.layerView=c;f=a.queryVisibleRasters(E,f);f.then(function(a){z=z||0<a.length;return a})}else if("esri.layers.SceneLayer"===a.declaredClass)f=new g,f.resolve();else if(m._featureLayersCache[a.id]||"function"===typeof a.queryFeatures&&(0===a.currentMode||1===a.currentMode))E.geometry=B,f=a.queryFeatures(E),f.then(function(a){a=a.features;z=z||0<a.length;return a});else{f=new g;var b=[];(c=e.getLayerView(a))&&c._graphicsCollection&&(b=l.filter(c._graphicsCollection.getAll(),function(a){return a&&
B.intersects(a.geometry)}));z=z||0<b.length;f.resolve(b)}return f.promise})}f&&(y=new g,s.unshift(y.resolve([f])));!l.some(s,function(a){return!a.isFulfilled()})&&!z?p.set({features:[],visible:!1}):p.set({promises:s,visible:!0,location:d.mapPoint})}},_getSubLayerFeatureLayers:function(a,c){var k=c||new g,p=[],h=a.length,x=Math.floor(this.map.extent.getWidth()/this.map.width),w=this.map.getScale(),f=!1,s=this,z=0;a:for(;z<h;z++){var y=a[z],A=y.dynamicLayerInfos||y.layerInfos;if(A){var B=null;if(y._params&&
(y._params.layers||y._params.dynamicLayers))B=y.visibleLayers;for(var B=d._getVisibleLayers(A,B),E=d._getLayersForScale(w,A),F=A.length,G=0;G<F;G++){var Q=A[G],M=Q.id,T=y.popupTemplates[M];if(!Q.subLayerIds&&T&&T.popupTemplate&&-1<l.indexOf(B,M)&&-1<l.indexOf(E,M)){if(!n){f=!0;break a}var K=y.id+"_"+M,C=this._featureLayersCache[K];if(!C||!C.loadError)C||((C=T.layerUrl)||(C=Q.source?this._getLayerUrl(y.url,"/dynamicLayer"):this._getLayerUrl(y.url,M)),C=new n(C,{id:K,drawMode:!1,mode:n.MODE_SELECTION,
outFields:this._getOutFields(T.popupTemplate),resourceInfo:T.resourceInfo,source:Q.source}),this._featureLayersCache[K]=C),C.setDefinitionExpression(y.layerDefinitions&&y.layerDefinitions[M]),C.setGDBVersion(y.gdbVersion),C.popupTemplate=T.popupTemplate,C.setMaxAllowableOffset(x),C.setUseMapTime(!!y.useMapTime),y.layerDrawingOptions&&(y.layerDrawingOptions[M]&&y.layerDrawingOptions[M].renderer)&&C.setRenderer(y.layerDrawingOptions[M].renderer),p.push(C)}}}}if(f){var D=new g;b(["../layers/FeatureLayer"],
function(a){n=a;D.resolve()});D.then(function(){s._getSubLayerFeatureLayers(a,k)})}else{var L=[];l.forEach(p,function(a){if(!a.loaded){var f=new g;m.once(a,"load, error",function(){f.resolve()});L.push(f.promise)}});L.length?e(L).then(function(){p=l.filter(p,function(a){return!a.loadError&&a.isVisibleAtScale(w)});k.resolve(p)}):(p=l.filter(p,function(a){return a.isVisibleAtScale(w)}),k.resolve(p))}return k.promise},_getLayerUrl:function(a,c){var d=a.indexOf("?");return-1===d?a+"/"+c:a.substring(0,
d)+"/"+c+a.substring(d)},_getOutFields:function(a){var c;a.info&&"esri.widgets.PopupTemplate"===a.declaredClass?(c=[],l.forEach(a.info.fieldInfos,function(a){var d=a.fieldName&&a.fieldName.toLowerCase();d&&("shape"!==d&&0!==d.indexOf("relationships/"))&&c.push(a.fieldName)})):c=["*"];return c},_calculateClickTolerance:function(a){var c=6;l.forEach(a,function(a){if(a=a.renderer)"esri.renderer.SimpleRenderer"===a.declaredClass?((a=a.symbol)&&a.xoffset&&(c=Math.max(c,Math.abs(a.xoffset))),a&&a.yoffset&&
(c=Math.max(c,Math.abs(a.yoffset)))):("esri.renderer.UniqueValueRenderer"===a.declaredClass||"esri.renderer.ClassBreaksRenderer"===a.declaredClass)&&l.forEach(a.infos,function(a){(a=a.symbol)&&a.xoffset&&(c=Math.max(c,Math.abs(a.xoffset)));a&&a.yoffset&&(c=Math.max(c,Math.abs(a.yoffset)))})});return c},_clickHandler:function(a){this.view.popup&&(this.map.loaded&&this.view.ready)&&this._showPopup(a)}})})},"dojo/regexp":function(){define(["./_base/kernel","./_base/lang"],function(b,h){var l={};h.setObject("dojo.regexp",
l);l.escapeString=function(b,g){return b.replace(/([\.$?*|{}\(\)\[\]\\\/\+\-^])/g,function(b){return g&&-1!=g.indexOf(b)?b:"\\"+b})};l.buildGroupRE=function(b,g,e){if(!(b instanceof Array))return g(b);for(var d=[],c=0;c<b.length;c++)d.push(g(b[c]));return l.group(d.join("|"),e)};l.group=function(b,g){return"("+(g?"?:":"")+b+")"};return l})},"esri/symbols/PolygonSymbol3D":function(){define(["../core/declare","./Symbol3D"],function(b,h){var l=b(h,{declaredClass:"esri.symbol.PolygonSymbol3D",type:"PolygonSymbol3D",
_allowedLayerTypes:"Extrude Fill Line Icon Object Label".split(" ")});l.fromJSON=function(b){var g=new l;g.read(b);return g};return l})},"dojo/_base/config":function(){define(["../has","require"],function(b,h){var l={},m=h.rawConfig,g;for(g in m)l[g]=m[g];if(!l.locale&&"undefined"!=typeof navigator&&(m=navigator.language||navigator.userLanguage))l.locale=m.toLowerCase();return l})},"esri/views/3d/navigation/planar/actions/ZoomPlanar":function(){define(["./ActionPlanar","../../mixins/ZoomMixin","../../../lib/glMatrix",
"../../../webgl-engine/lib/Util"],function(b,h,l,m){var g=l.vec2d,e=l.vec3d,d=e.create(),c=e.create(),a=e.create(),k=e.create(),p=e.create(),n=e.create();return b.createSubclass([h],{declaredClass:"esri.views.3d.navigation.planar.actions.ZoomPlanar",begin:function(a){this.inherited(arguments);this.pickPointInScreen(a,p)||this.pickFreePointInScreen(a,p);e.normalize(e.subtract(this.targetCamera.eye,this.targetCamera.center,k));0>k[1]&&e.negate(k);this.updatePlane(p,k)},update:function(a){e.set(this.targetCamera.center,
n);this.createPickRay(this._dragBeginPoint,this._dragBeginPoint,this.currentCamera.viewMatrix,d,c);e.subtract(c,d);m.rayPlane(d,c,this._plane,n);this.normalizeCoordinate(a,d);a=4*(this.normalizedAnchorPoint[1]-d[1]);g.set(d,this.normalizedAnchorPoint);this._applyZoom(n,a);a=this._toYDownCoord(this._dragLastPoint);this.emit("update",a[0],a[1])},_applyZoom:function(c,d){e.subtract(c,this.targetCamera.eye,a);var b=e.length(a),k=b*(1-d);0<=d&&k<this.minPoiDist&&(k=this.minPoiDist);k=this.limitAltitude(k,
c,a,b,0<=d?-1:1);1E-6>Math.abs(b-k)||(e.scale(a,d),e.add(this.targetCamera.eye,a),e.lerp(this.targetCamera.center,c,d),this.fixTargetUpVector(),this.targetAndCurrentChanged())},stepAtPoint:function(c,d,b,k){e.set(d,n);e.subtract(n,this.targetCamera.eye,a);d=e.length(a);b=d*(1-c);0<=c&&b<this.minPoiDist&&(b=this.minPoiDist);b=this.limitAltitude(b,n,a,d,0<=c?-1:1);c=-(b/d-1);1E-6<=Math.abs(d-b)&&(e.scale(a,b/d),e.subtract(n,a,this.targetCamera.eye),e.lerp(this.targetCamera.center,n,c),this.constrainTargetEyeByElevation(),
this.fixTargetUpVector(),this.targetAnimatedChanged())}})})},"dojo/io/script":function(){define("../_base/connect ../_base/kernel ../_base/lang ../sniff ../_base/window ../_base/xhr ../dom ../dom-construct ../request/script ../aspect".split(" "),function(b,h,l,m,g,e,d,c,a,k){h.deprecated("dojo/io/script","Use dojo/request/script.","2.0");var p={get:function(c){var d,b=this._makeScriptDeferred(c,function(a){d&&d.cancel()}),g=b.ioArgs;e._ioAddQueryToUrl(g);e._ioNotifyStart(b);d=a.get(g.url,{timeout:c.timeout,
jsonp:g.jsonp,checkString:c.checkString,ioArgs:g,frameDoc:c.frameDoc,canAttach:function(a){g.requestId=a.id;g.scriptId=a.scriptId;g.canDelete=a.canDelete;return p._canAttach(g)}},!0);k.around(d,"isValid",function(a){return function(c){p._validCheck(b);return a.call(this,c)}});d.then(function(){b.resolve(b)}).otherwise(function(a){b.ioArgs.error=a;b.reject(a)});return b},attach:a._attach,remove:a._remove,_makeScriptDeferred:function(c,d){var b=e._ioSetArgs(c,d||this._deferredCancel,this._deferredOk,
this._deferredError),k=b.ioArgs;k.id=h._scopeName+"IoScript"+(c.callbackSuffix||this._counter++);k.canDelete=!1;k.jsonp=c.callbackParamName||c.jsonp;k.jsonp&&(k.query=k.query||"",0<k.query.length&&(k.query+="\x26"),k.query+=k.jsonp+"\x3d"+(c.frameDoc?"parent.":"")+h._scopeName+".io.script.jsonp_"+k.id+"._jsonpCallback",k.frameDoc=c.frameDoc,k.canDelete=!0,b._jsonpCallback=this._jsonpCallback,this["jsonp_"+k.id]=b);b.addBoth(function(c){k.canDelete&&(c instanceof Error?p["jsonp_"+k.id]._jsonpCallback=
function(){delete p["jsonp_"+k.id];if(k.requestId)h.global[a._callbacksProperty][k.requestId]()}:p._addDeadScript(k))});return b},_deferredCancel:function(a){a.canceled=!0},_deferredOk:function(a){a=a.ioArgs;return a.json||a.scriptLoaded||a},_deferredError:function(a,c){console.log("dojo.io.script error",a);return a},_deadScripts:[],_counter:1,_addDeadScript:function(a){p._deadScripts.push({id:a.id,frameDoc:a.frameDoc});a.frameDoc=null},_validCheck:function(a){if((a=p._deadScripts)&&0<a.length){for(var c=
0;c<a.length;c++)p.remove(a[c].id,a[c].frameDoc),delete p["jsonp_"+a[c].id],a[c].frameDoc=null;p._deadScripts=[]}return!0},_ioCheck:function(a){a=a.ioArgs;return a.json||a.scriptLoaded&&!a.args.checkString?!0:(a=a.args.checkString)&&eval("typeof("+a+") !\x3d 'undefined'")},_resHandle:function(a){p._ioCheck(a)?a.callback(a):a.errback(Error("inconceivable dojo.io.script._resHandle error"))},_canAttach:function(){return!0},_jsonpCallback:function(c){this.ioArgs.json=c;if(this.ioArgs.requestId)h.global[a._callbacksProperty][this.ioArgs.requestId](c)}};
l.setObject("dojo.io.script",p);return p})},"esri/views/3d/webgl-engine/lib/GLUtil":function(){define(["./GLVBO","./VertexBufferLayout","./Util","./gl-matrix","./webgl-debug"],function(b,h,l,m,g){var e=m.mat4d,d={texImage2D:function(c,a,b,e,n,g,q,t){l.assert(1<=c.width&&1<=c.height);!0===t&&b.pixelStorei(b.UNPACK_FLIP_Y_WEBGL,!1);q&&(!l.isPowerOfTwo(c.width)||!l.isPowerOfTwo(c.height))?(d.makePotTexture(c,a,b,e,n),b.bindTexture(b.TEXTURE_2D,a)):(b.bindTexture(b.TEXTURE_2D,a),b.texImage2D(b.TEXTURE_2D,
0,b.RGBA,b.RGBA,b.UNSIGNED_BYTE,c));g?(b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,b.LINEAR_MIPMAP_LINEAR),b.generateMipmap(b.TEXTURE_2D)):b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,b.LINEAR);b.bindTexture(b.TEXTURE_2D,null);!0===t&&b.pixelStorei(b.UNPACK_FLIP_Y_WEBGL,!0);return a},copyTextureToTexture:function(c,a,b,e,n,g,q,l,r){var m=r.createFramebuffer();r.bindFramebuffer(r.FRAMEBUFFER,m);r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,c,0);d.checkFramebufferStatus(r.FRAMEBUFFER,
r);r.bindTexture(r.TEXTURE_2D,a);r.copyTexSubImage2D(r.TEXTURE_2D,0,n,g,b,e,q,l);r.generateMipmap(r.TEXTURE_2D);r.bindFramebuffer(r.FRAMEBUFFER,null);r.deleteFramebuffer(m)},makePotTexture:function(c,a,d,p,n){var g=l.nextHighestPowerOfTwo(c.width),q=l.nextHighestPowerOfTwo(c.height);l.assert(g!==c.width||q!==c.height);var t=d.createFramebuffer();d.bindFramebuffer(d.FRAMEBUFFER,t);d.bindTexture(d.TEXTURE_2D,a);d.texImage2D(d.TEXTURE_2D,0,d.RGBA,g,q,0,d.RGBA,d.UNSIGNED_BYTE,null);d.generateMipmap(d.TEXTURE_2D);
d.framebufferTexture2D(d.FRAMEBUFFER,d.COLOR_ATTACHMENT0,d.TEXTURE_2D,a,0);a=d.createTexture();d.bindTexture(d.TEXTURE_2D,a);d.texImage2D(d.TEXTURE_2D,0,d.RGBA,d.RGBA,d.UNSIGNED_BYTE,c);d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_S,d.CLAMP_TO_EDGE);d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_T,d.CLAMP_TO_EDGE);d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,d.NEAREST);c=h.Defaults.PosTex;var r=new b(l.createQuadVertexUvBuffer(),c,d);void 0===n&&(n=d.getParameter(d.VIEWPORT));d.viewport(0,0,g,q);
p=p.get("texOnly");p.use();g=e.identity();p.uniformMatrix4fv("model",g);p.uniformMatrix4fv("view",g);p.uniformMatrix4fv("proj",g);p.uniform4fv("color",[1,1,1,1]);p.uniform1i("tex",0);c.enableVertexAttribArrays(d,p);r.bind();r.setPointers(p);d.disable(d.DEPTH_TEST);d.drawArrays(d.TRIANGLE_STRIP,0,r.getNum());d.enable(d.DEPTH_TEST);c.disableVertexAttribArrays(d,p);d.viewport(n[0],n[1],n[2],n[3]);r.dispose();d.deleteTexture(a);d.bindFramebuffer(d.FRAMEBUFFER,null);d.deleteFramebuffer(t)},checkError:function(c,
a){var d=a.getError();d!=a.NO_ERROR&&alert(c+": gl error "+d)},checkFramebufferStatus:function(c,a){var d=a.checkFramebufferStatus(c);d!=a.FRAMEBUFFER_COMPLETE&&console.log("Framebuffer error 0x"+d)},handleError:function(c,a,d){alert(g.glEnumToString(c)+" was caused by call to: "+a+"("+g.glFunctionArgsToString(a,d)+")")},validateNoneOfTheArgsAreUndefined:function(c,a){for(var d=0;d<a.length;++d)void 0===a[d]&&console.error("undefined passed to gl."+c+"("+g.glFunctionArgsToString(c,a)+")")}};return d})},
"esri/views/3d/webgl-engine/parts/Viewport":function(){define("../lib/PerformanceTimer ../lib/Camera ../lib/Util ../lib/bitset ../lib/gl-matrix ./Visualizer".split(" "),function(b,h,l,m,g,e){var d=g.vec3,c=g.vec4d,a=g.mat4d;return function(k,p,n,g,q){function t(){var c=f;if(s||0<z){y[1]=0;var d=w,c=y;a.perspective(v.fovY,v.aspect,1,10,Q);l.matrix2frustumPlanes(v.viewMatrix,Q,M);d.clearAll();A=B=0;for(var b=-Number.MAX_VALUE,k=-Number.MAX_VALUE,n=M[0][0],e=M[0][1],p=M[0][2],g=M[0][3],q=M[1][0],u=M[1][1],
t=M[1][2],r=M[1][3],m=M[2][0],F=M[2][1],h=M[2][2],G=M[2][3],E=M[3][0],X=M[3][1],$=M[3][2],P=M[3][3],aa=M[4][0],da=M[4][1],Y=M[4][2],fa=M[4][3],ga=M[5][3],ea=0;ea<x.length;ea++){A++;var ia=x[ea];if(!ia.material.isBackdrop){var ja=ia.center,Z=ja[0],ha=ja[1],na=ja[2],ja=ia.bsRadius;if(n*Z+e*ha+p*na+g>ja)continue;if(q*Z+u*ha+t*na+r>ja)continue;if(m*Z+F*ha+h*na+G>ja)continue;if(E*Z+X*ha+$*na+P>ja)continue;ha=aa*Z+da*ha+Y*na;Z=ha+ja;ja=-ha+ja;Z>b&&(b=Z);ja>k&&(k=ja)}d.set(ia.idx);B++}d=b!==-Number.MAX_VALUE;
b+=fa;k+=ga;0<B&&d&&(c[0]=0.99*Math.max(1-b,2),c[1]=1.01*Math.max(10+k,c[0]+1));0<z&&0<y[1]&&(v.far=y[1],v.near=Math.max(y[0],v.far/z));c=w}return c}var r=new e(k,p,n,g,q),v=new h(d.createFrom(0,100,-100),d.createFrom(0,0,0)),x=[],w=new m,f={get:function(){return!0}},s=!0,z=2E4,y=[0,0],A=0,B=0,E=new b(10),F=new b(10),G=!0;this.getCombinedStats=function(){var a=r.getCombinedStats();a.renderGeometriesTotal=A;a.renderGeometriesVisible=B;a.visualizerTotalRenderTime=E.getTotal();a.visualizerCurrentRenderTime=
E.getLastFiltered();a.viewportTotalRenderTime=F.getTotal();a.viewportCurrentRenderTime=F.getLastFiltered();a.totalNumFramesRendered=F.getNumMeasurements();void 0!==q.getUsedTextureMemory&&(a.textureMemory=q.getUsedTextureMemory());void 0!==q.getUsedRenderbufferMemory&&(a.renderbufferMemory=q.getUsedRenderbufferMemory());void 0!==q.getUsedVBOMemory&&(a.VBOMemory=q.getUsedVBOMemory());if(void 0!==q.getUsedTextureMemoryStats){var f=q.getUsedTextureMemoryStats(),c;for(c in f)a["texMem type: "+c]=f[c]}return a};
var Q=a.create(),M=Array(6);for(k=0;6>k;++k)M[k]=c.create();this.dispose=function(){r.dispose();r=null};this.setLightingData=function(a){r.setLightingData(a)};this.getLightingData=function(){return r.getLightingData()};this.getViewParams=function(a){var f=r.getViewParams(a);l.assert(void 0!==a&&void 0===a.eye,"getViewParams: getting the eye through getViewParams is deprecated, use the camera instead");l.assert(void 0!==a&&void 0===a.center,"getViewParams: getting the center through getViewParams is deprecated, use the camera instead");
l.assert(void 0!==a&&void 0===a.up,"getViewParams: getting the up through getViewParams is deprecated, use the camera instead");l.assert(void 0!==a&&void 0===a.viewMatrix,"getViewParams: getting the viewMatrix through getViewParams is deprecated, use the camera instead");l.assert(void 0!==a&&void 0===a.angleOfElevation,"getViewParams: getting the angleOfElevation through getViewParams is deprecated, use the camera instead");l.assert(void 0!==a&&void 0===a.direction,"getViewParams: getting the direction through getViewParams is deprecated, use the camera instead");
l.assert(void 0!==a&&void 0===a.fov,"getViewParams: getting the fov through getViewParams is deprecated, use the camera instead");l.assert(void 0!==a&&void 0===a.fovX,"getViewParams: getting the fovX through getViewParams is deprecated, use the camera instead");l.assert(void 0!==a&&void 0===a.viewport,"getViewParams: getting the viewport through getViewParams is deprecated, use the camera instead");l.assert(void 0!==a&&void 0===a.projectionMatrix,"getViewParams: getting the projectionMatrix through getViewParams is deprecated, use the camera instead");
l.assert(void 0!==a&&void 0===a.frustum,"getViewParams: getting the frustum through getViewParams is deprecated, use the camera instead");if(!a||a.viewMode)f.viewMode=this.getMode();if(!a||a.frustumCullingEnabled)f.frustumCullingEnabled=s;if(!a||a.maxFarNearRatio)f.maxFarNearRatio=z;return f};this.setViewParams=function(a){l.assert(void 0===a.eye,"setViewParams: can't set eye through setViewParams anymore, manipulate camera directly instead");l.assert(void 0===a.center,"setViewParams: can't set center through setViewParams anymore, manipulate camera directly instead");
l.assert(void 0===a.direction,"setViewParams: can't set direction through setViewParams anymore, manipulate camera directly instead");l.assert(void 0===a.distance,"setViewParams: can't set distance through setViewParams anymore, manipulate camera directly instead");void 0!==a.viewMatrix&&l.assert(!1,"setViewParams: can't set view matrix directly");l.assert(void 0===a.fovX,"setViewParams: can't set fovX through setViewParams anymore, manipulate camera directly instead");l.assert(void 0===a.fov,"setViewParams: can't set fov through setViewParams anymore, manipulate camera directly instead");
l.assert(void 0===a.nearFar,"setViewParams: can't set nearFar through setViewParams anymore, manipulate camera directly instead");void 0!==a.viewport&&l.assert(!1,"setViewParams: can't set viewport rectangle directly");void 0!==a.frustum&&l.assert(!1,"setViewParams: can't set frustum directly");void 0!==a.projectionMatrix&&l.assert(!1,"setViewParams: can't set projection matrix directly");void 0!==a.viewMode&&this.setMode(a.viewMode);void 0!==a.frustumCullingEnabled&&(s=a.frustumCullingEnabled);void 0!==
a.maxFarNearRatio&&(z=-1===a.maxFarNearRatio?2E4:a.maxFarNearRatio);r.setViewParams(a);G=!0};this.setRenderParams=function(a){r.setRenderParams(a)};this.getRenderParams=function(){return r.getRenderParams()};this.getFrustumObjects=function(){for(var a={},f=0;f<x.length;f++)w.get(x[f].idx)&&(a[x[f].name]=1);return a};this.modify=function(a,f,c,d,b){r.modify(a,f,c,d,b);x=r.getContent()};this.getContent=function(){return x};this.setSelectionObject=function(a,f){r.setSelectionObject(a,f)};this.setHighlightObjects=
function(a,f){r.setHighlightObjects(a,f)};this.frame=function(a,f){v.frame(a,f);G=!0};this.setCamera=function(a){v.copyFrom(a);t();G=!0};this.getCamera=function(){return v};this.getPickRay=function(a,f,c){return this.pickRayWithBeginPoint(a,void 0,v.viewMatrix,f,c)};this.pickRayWithBeginPoint=function(a,f,c,d,b){return r.getPickRay(a,f,v,c,d,b)};this.getSideIndexForPoint=function(a){return r.getSideIndexForPoint(a,v.viewport)};this.addExternalRenderer=function(a,f){return r.addExternalRenderer(a,
f)};this.removeExternalRenderer=function(a,f){return r.removeExternalRenderer(a,f)};this.getExternalRenderers=function(){return r.getExternalRenderers()};this.render=function(a,f){F.start();var c=t();E.start();r.render(v,a,c,f);E.stop();F.stop()};this.resetNeedsRender=function(){G=!1;r.resetNeedsRender()};this.needsRender=function(){return G||r.needsRender()};this._getModule=function(a){return"visualizer"===a?r:r._getModule(a)}}})},"esri/views/3d/environment/SimpleAtmosphere":function(){define("dojo/text!./materials/SimpleAtmosphereMaterial.xml dojo/on ../../../core/declare ../../../core/Accessor ../lib/glMatrix ../webgl-engine/lib/GeometryRenderer ../webgl-engine/lib/VertexBufferLayout ../webgl-engine/lib/Texture ../webgl-engine/lib/Util ../webgl-engine/lib/GLSLProgram ../webgl-engine/lib/GLTextureRep ./resources/SimpleAtmosphereTexture ../support/earthUtils".split(" "),
function(b,h,l,m,g,e,d,c,a,k,p,n,u){var q=u.earthRadius,t=g.vec3d,r=g.vec2d,v=g.mat4d,x=a.VertexAttrConstants,w=(q-1E4)/q,f=(q+3E5)/q,s=-1E4/3E5,z=1-s;return l([m],{classMetadata:{properties:{view:{}}},normalizeCtorArgs:function(a){return"esri.views.SceneView"===a.declaredClass?{view:a,initialized:!1}:a},constructor:function(){this.geometryData=this._createRibbonGeometryData();this.renderData={texV:r.create(),silCircleCenter:t.create(),silCircleV1:t.create(),silCircleV2:t.create()};this.textureRep=
this.texture=null;this.gl=this.slot=0;this._needsRender=!0;this._didRender=!1},setContext:function(a){this.gl=a;this.renderer=new e(this.geometryData,d.Defaults.Pos,null,this.gl)},loadShaders:function(a,f,d){a.vsSimpleAtmosphere||a._parse(b);this.program=k.fromSnippets("vsSimpleAtmosphere","fsSimpleAtmosphere",a,this.gl);this.programRep=d;this.textureRep=new p({SimpleAtmosphere:new c(n,"SimpleAtmosphere",{wrapClamp:!0})},d,function(){return this.view._stage.getCamera().viewport}.bind(this),this.gl);
this.texture=this.textureRep.aquire("SimpleAtmosphere")},render:function(a){if(!(a.slot!==this.slot||"material"!==a.pass||!this.textureRep.getIsLoaded("SimpleAtmosphere"))){var f=this.gl,c=this.program;c.use();c.uniform4f("color",1,1,1,1);c.uniformMatrix4fv("proj",a.camera.projectionMatrix);c.uniformMatrix4fv("view",a.camera.viewMatrix);c.uniform3fv("silCircleCenter",this.renderData.silCircleCenter);c.uniform3fv("silCircleV1",this.renderData.silCircleV1);c.uniform3fv("silCircleV2",this.renderData.silCircleV2);
c.uniform2fv("texV",this.renderData.texV);f.bindTexture(f.TEXTURE_2D,this.texture);c.uniform1i("tex",0);c.uniform3fv("lightDirection",a.lightingData.getLightDirection());f.web3DDefaultState.depthFunc!==f.LEQUAL&&f.depthFunc(f.LEQUAL);f.depthMask(!1);f.enable(f.BLEND);this.renderer.render(this.program);this._didRender=!0;k.unuse(f);f.depthMask(!0);f.disable(f.BLEND);f.web3DDefaultState.depthFunc!==f.LEQUAL&&f.depthFunc(f.web3DDefaultState.depthFunc)}},needsRender:function(){return this._needsRender},
resetNeedsRender:function(){this._didRender&&(this._needsRender=!1)},init:function(){this._cameraListener=h(this.view.navigation,"currentViewChanged",function(a){this.update(a.camera)}.bind(this));this.initialized=!0;this.update(this.view.navigation.currentCamera)},destroy:function(){this._cameraListener.remove();this.textureRep&&this.textureRep.release(this.texture)},update:function(c){if(!(t.length(c.eye)<=q)&&this.initialized){var d=this.view._stage,b=t.create(),k=t.create(),n=t.create(),e=this.view.renderCoordsHelper.getAltitude(c.eye);
t.scale(c.eye,(q+50)/t.length(c.eye),n);this._computeSilhouetteCircle(n,c.center,c.up,q);t.add(this.renderData.silCircleCenter,this.renderData.silCircleV2,b);t.scale(b,f,k);var n=this._computeScreenRimWidth(n,c.up,b,k),p=0,g=1,l=1;50>e?(p=0.001953125,g=0.1015625):500>e?(l=(e-50)/450,p=0.001953125*(1-l)+0.001953125*l,g=0.1015625*(1-l)+0.21875*l):5E3>e?(l=(e-500)/4500,p=0.001953125*(1-l)+0.001953125*l,g=0.21875*(1-l)+0.51171875*l):5E4>e&&(l=(e-5E3)/45E3,p=0.001953125*(1-l)+0.001953125*l,g=0.51171875*
(1-l)+0.4140625*l);e=s+p*z;l=s+n*g*z;50<t.length(c.eye)-q&&(this._computeSilhouetteCircle(c.eye,c.center,c.up,q),t.add(this.renderData.silCircleCenter,this.renderData.silCircleV2,b),t.scale(b,f,k),c=this._computeScreenRimWidth(c.eye,c.up,b,k),c=a.clamp((c-1.5)/(n-1.5),0,1),e=s+c*p*z,l=s+a.lerp(1,n*g,c)*z);r.set2(e,l,this.renderData.texV);d.setNeedsRender()}},_computeSilhouetteCircle:function(a,f,c,d){var b=t.length(a),k=Math.sqrt(b*b-d*d),k=d*k/b;d=Math.sqrt(d*d-k*k);var n=this.renderData.silCircleV1,
e=this.renderData.silCircleV2;t.scale(a,d/b,this.renderData.silCircleCenter);t.cross(a,f,n);1>t.length2(n)&&t.cross(a,c,n);t.scale(n,k/t.length(n));t.cross(n,a,e);t.scale(e,k/t.length(e));return k},_computeScreenRimWidth:function(f,c,d,b){var k=v.create();v.lookAt(f,d,c,k);f=this.view.navigation.currentCamera;a.project(d,k,f.projectionMatrix,f.viewport);a.project(b,k,f.projectionMatrix,f.viewport);return t.dist(d,b)/f.height},_createRibbonGeometryData:function(){for(var a=new Float32Array(768),c=
new Uint32Array(768),d=0;128>d;d++){var b=6*d;a[b+0]=d;a[b+1]=w;a[b+2]=0;a[b+3]=d;a[b+4]=f;a[b+5]=1;var k=2*d,n=127===d?0:k+2;c[b+0]=k;c[b+1]=k+1;c[b+2]=n+1;c[b+3]=n+1;c[b+4]=n;c[b+5]=k}d={};d[x.POSITION]=c;c={};c[x.POSITION]={size:3,data:a};return{faces:{type:"triangle",indices:d,positionKey:x.POSITION},vertexAttr:c}}})})},"esri/tasks/support/SpatialRelationship":function(){define([],function(){return{SPATIAL_REL_INTERSECTS:"esriSpatialRelIntersects",SPATIAL_REL_CONTAINS:"esriSpatialRelContains",
SPATIAL_REL_CROSSES:"esriSpatialRelCrosses",SPATIAL_REL_ENVELOPEINTERSECTS:"esriSpatialRelEnvelopeIntersects",SPATIAL_REL_INDEXINTERSECTS:"esriSpatialRelIndexIntersects",SPATIAL_REL_OVERLAPS:"esriSpatialRelOverlaps",SPATIAL_REL_TOUCHES:"esriSpatialRelTouches",SPATIAL_REL_WITHIN:"esriSpatialRelWithin",SPATIAL_REL_RELATION:"esriSpatialRelRelation"}})},"dojo/Evented":function(){define(["./aspect","./on"],function(b,h){function l(){}var m=b.after;l.prototype={on:function(b,e){return h.parse(this,b,e,
function(d,c){return m(d,"on"+c,e,!0)})},emit:function(b,e){var d=[this];d.push.apply(d,arguments);return h.emit.apply(h,d)}};return l})},"esri/kernel":function(){define(["dojo/_base/url"],function(b){b=new b(window.location);var h=b.path;b={version:"4.0beta2",_appBaseUrl:b.scheme+"://"+b.host+(null!=b.port?":"+b.port:"")+h.substring(0,h.lastIndexOf(h.split("/")[h.split("/").length-1])),appUrl:b};(b.dijit=b.dijit||{})._arcgisUrl=("file:"===location.protocol?"http:":location.protocol)+"//www.arcgis.com/sharing/rest";
return b})},"esri/views/3d/webgl-engine/lib/BufferVectorMath":function(){define([],function(){return{Vec3Compact:{length:function(b,h){var l=b[h],m=b[h+1],g=b[h+2];return Math.sqrt(l*l+m*m+g*g)},normalize:function(b,h){var l=b[h],m=b[h+1],g=b[h+2],l=1/Math.sqrt(l*l+m*m+g*g);b[h]*=l;b[h+1]*=l;b[h+2]*=l},scale:function(b,h,l){b[h]*=l;b[h+1]*=l;b[h+2]*=l},add:function(b,h,l,m,g,e){g=g||b;null==e&&(e=h);g[e]=b[h]+l[m];g[e+1]=b[h+1]+l[m+1];g[e+2]=b[h+2]+l[m+2]},subtract:function(b,h,l,m,g,e){g=g||b;null==
e&&(e=h);g[e]=b[h]-l[m];g[e+1]=b[h+1]-l[m+1];g[e+2]=b[h+2]-l[m+2]}}}})},"esri/views/3d/navigation/mixins/RotateMixin":function(){define(["../../../../core/declare","../../lib/glMatrix","../../support/mathUtils","../NavigationConstants"],function(b,h,l,m){var g=h.vec2d,e=h.vec3d,d=h.mat4d,c=e.create(),a=e.create(),k=g.create(),p=d.create(),n=e.create(),u=[3,1.5],q=m.Rotate.PivotPoint;return b([],{declaredClass:"esri.views.3d.navigation.mixins.RotateMixin",type:"rotate",constructor:function(){this._rotLastPoint=
g.create()},begin:function(a,c){this.navigation.begin(this);this.active=!0;this.emit("begin");this.setPoiAuto(a);this.normalizeCoordinate(a,this._rotLastPoint)},update:function(a,c){void 0===c&&(c=q.POI);var d,b;switch(c){case q.EYE:d=this.targetCamera.center;b=this.targetCamera.eye;break;default:d=this.targetCamera.eye,b=this.targetCamera.center,c!==q.POI&&console.error("[RotateMixin.update]: invalid pivot specified")}this._applyRotation(a,c,d,b);this.constrainTargetEyeByElevation();this.fixTargetUpVector();
this.targetAndCurrentChanged();this.emit("update")},_applyRotation:function(b,r,m,h){this.renderCoordsHelper.worldUpAtPosition(h,c);this.normalizeCoordinate(b,k);b=(k[1]-this._rotLastPoint[1])*u[r-1];var w=(k[0]-this._rotLastPoint[0])*u[r-1];e.subtract(m,h,a);var f=e.length(a),s=l.acos(e.dot(a,c)/f);r===q.POI?b=this.limitTiltByConstraints(s+b,h,f)-s:(s=0.5*Math.PI-s,f=0.495*Math.PI,b=s-Math.max(-f,Math.min(f,s+-0.5*b)));d.identity(p);e.cross(this.targetCamera.up,a,n);r==q.POI&&(w=-w);d.rotate(p,w,
c);d.rotate(p,b,n);d.multiplyVec3(p,a);e.add(h,a,m);d.multiplyVec3(p,this.targetCamera.up);g.set(k,this._rotLastPoint)},end:function(a){this.active=!1;this.emit("end");this.navigation.end(this)}})})},"dojo/string":function(){define(["./_base/kernel","./_base/lang"],function(b,h){var l=/[&<>'"\/]/g,m={"\x26":"\x26amp;","\x3c":"\x26lt;","\x3e":"\x26gt;",'"':"\x26quot;","'":"\x26#x27;","/":"\x26#x2F;"},g={};h.setObject("dojo.string",g);g.escape=function(b){return!b?"":b.replace(l,function(d){return m[d]})};
g.rep=function(b,d){if(0>=d||!b)return"";for(var c=[];;){d&1&&c.push(b);if(!(d>>=1))break;b+=b}return c.join("")};g.pad=function(b,d,c,a){c||(c="0");b=String(b);d=g.rep(c,Math.ceil((d-b.length)/c.length));return a?b+d:d+b};g.substitute=function(e,d,c,a){a=a||b.global;c=c?h.hitch(a,c):function(a){return a};return e.replace(/\$\{([^\s\:\}]+)(?:\:([^\s\:\}]+))?\}/g,function(b,e,n){b=h.getObject(e,!1,d);n&&(b=h.getObject(n,!1,a).call(a,b,e));return c(b,e).toString()})};g.trim=String.prototype.trim?h.trim:
function(b){b=b.replace(/^\s+/,"");for(var d=b.length-1;0<=d;d--)if(/\S/.test(b.charAt(d))){b=b.substring(0,d+1);break}return b};return g})},"esri/views/3d/terrain/PlanarTile":function(){define("./TileBase ./TileGeometryFactory ./TerrainConst ../support/ObjectPool ../support/mathUtils ../lib/glMatrix".split(" "),function(b,h,l,m,g,e){var d=e.vec3d.createFrom(0,0,1);e=function(c,a,k){b.call(this);this.tileUp=d;void 0!==c&&this.init(c,a,k)};e.prototype=new b;e.prototype.constructor=e;e.prototype.init=
function(c,a,d){b.prototype.init.call(this,c,a,d);d.tilingScheme.getExtent(c[0],c[1],c[2],this.extent,this.extentWGS84Rad);this.edgeLen=this.extent[2]-this.extent[0];this.centerAtSeaLevel[0]=g.lerp(this.extent[0],this.extent[2],0.5);this.centerAtSeaLevel[1]=g.lerp(this.extent[1],this.extent[3],0.5);this.centerAtSeaLevel[2]=0;this.updateRadiusAndCenter()};e.prototype.isVisible=function(c){if(!this.intersectsClippingArea)return!1;var a=this.extent[0],d=this.extent[1],b=this.elevationBounds[0],n=this.extent[2],
e=this.extent[3],g=this.elevationBounds[1];return 0<c[0][0]*(0<c[0][0]?a:n)+c[0][1]*(0<c[0][1]?d:e)+c[0][2]*(0<c[0][2]?b:g)+c[0][3]||0<c[1][0]*(0<c[1][0]?a:n)+c[1][1]*(0<c[1][1]?d:e)+c[1][2]*(0<c[1][2]?b:g)+c[1][3]||0<c[2][0]*(0<c[2][0]?a:n)+c[2][1]*(0<c[2][1]?d:e)+c[2][2]*(0<c[2][2]?b:g)+c[2][3]||0<c[3][0]*(0<c[3][0]?a:n)+c[3][1]*(0<c[3][1]?d:e)+c[3][2]*(0<c[3][2]?b:g)+c[3][3]||0<c[4][0]*(0<c[4][0]?a:n)+c[4][1]*(0<c[4][1]?d:e)+c[4][2]*(0<c[4][2]?b:g)+c[4][3]||0<c[5][0]*(0<c[5][0]?a:n)+c[5][1]*(0<
c[5][1]?d:e)+c[5][2]*(0<c[5][2]?b:g)+c[5][3]?!1:!0};e.prototype._numSubdivisionsAtLevel=[2,2,2,2,2,2,2,2];e.prototype.createGeometry=function(c,a,d){c.needsUpdate=!1;return h.createPlanarGlobeTile(c.numVertsPerRow,this.extent,c.samplerData,a,d,c.clippingArea)};e.prototype.elevationStartsAtLevel=l.Planar.ELEVATION_STARTS_AT_LEVEL;m.on(e,400);return e})},"esri/core/sniff":function(){define(["dojo/sniff","../kernel"],function(b,h){var l=b("ff"),m=b("ie"),g=void 0===m&&7<=b("trident"),e=b("webkit"),d=
b("opera"),c=b("chrome"),a=b("safari"),k=navigator.userAgent,p;(p=k.match(/(iPhone|iPad|CPU)\s+OS\s+(\d+\_\d+)/i))&&b.add("esri-iphone",parseFloat(p[2].replace("_",".")));(p=k.match(/Android\s+(\d+\.\d+)/i))&&b.add("esri-android",parseFloat(p[1]));(p=k.match(/Fennec\/(\d+\.\d+)/i))&&b.add("esri-fennec",parseFloat(p[1]));0<=k.indexOf("BlackBerry")&&0<=k.indexOf("WebKit")&&b.add("esri-blackberry",1);b.add("esri-touch",b("esri-iphone")||b("esri-android")||b("esri-blackberry")||6<=b("esri-fennec")||(l||
e)&&document.createTouch?!0:!1);(p=k.match(/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini|IEMobile/i))&&b.add("esri-mobile",p);b.add("esri-pointer",navigator.pointerEnabled||navigator.msPointerEnabled);h._getDOMAccessor=function(a){var c="";l?c="Moz":e?c="Webkit":m?c="ms":d&&(c="O");return c+a.charAt(0).toUpperCase()+a.substr(1)};b.add("esri-phonegap",!!window.cordova);b.add("esri-cors",b("esri-phonegap")||"XMLHttpRequest"in window&&"withCredentials"in new XMLHttpRequest);b.add("esri-file-upload",
window.FormData&&window.FileList?!0:!1);b.add("esri-workers",window.Worker?!0:!1);b.add("esri-transforms",g||9<=m||3.5<=l||4<=c||3.1<=a||10.5<=d||3.2<=b("esri-iphone")||2.1<=b("esri-android"));b.add("esri-transitions",g||10<=m||4<=l||4<=c||3.1<=a||10.5<=d||3.2<=b("esri-iphone")||2.1<=b("esri-android"));b.add("esri-transforms3d",g||10<=l||12<=c||4<=a||3.2<=b("esri-iphone")||3<=b("esri-android"));b.add("esri-url-encodes-apostrophe",function(){var a=window.document.createElement("a");a.href="?'";return-1<
a.href.indexOf("?%27")});3>b("esri-android")&&(b.add("esri-transforms",!1,!1,!0),b.add("esri-transitions",!1,!1,!0),b.add("esri-transforms3d",!1,!1,!0));h._css=function(k){var p=b("esri-transforms3d");if(void 0!==k&&null!==k)p=k;else if(p&&(c||a&&!b("esri-iphone")))p=!1;var g=p?"translate3d(":"translate(",t=p?c?",-1px)":",0px)":")",r=p?"scale3d(":"scale(",h=p?",1)":")",x=p?"rotate3d(0,0,1,":"rotate(",w=p?"matrix3d(":"matrix(",f=p?",0,0,":",",s=p?",0,0,0,0,1,0,":",",z=p?",0,1)":")";return{names:{transition:e&&
"-webkit-transition"||l&&"MozTransition"||d&&"OTransition"||m&&"msTransition"||"transition",transform:e&&"-webkit-transform"||l&&"MozTransform"||d&&"OTransform"||m&&"msTransform"||"transform",transformName:e&&"-webkit-transform"||l&&"-moz-transform"||d&&"-o-transform"||m&&"-ms-transform"||"transform",origin:e&&"-webkit-transform-origin"||l&&"MozTransformOrigin"||d&&"OTransformOrigin"||m&&"msTransformOrigin"||"transformOrigin",endEvent:e&&"webkitTransitionEnd"||l&&"transitionend"||d&&"oTransitionEnd"||
m&&"MSTransitionEnd"||"transitionend"},translate:function(a,f){return g+a+"px,"+f+"px"+t},scale:function(a){return r+a+","+a+h},rotate:function(a){return x+a+"deg)"},matrix:function(a){return a.m?(a=a.m,w+a[0].toFixed(10)+","+a[1].toFixed(10)+f+a[2].toFixed(10)+","+a[3].toFixed(10)+s+a[4].toFixed(10)+(l?"px,":",")+a[5].toFixed(10)+(l?"px":"")+z):w+a.xx.toFixed(10)+","+a.yx.toFixed(10)+f+a.xy.toFixed(10)+","+a.yy.toFixed(10)+s+a.dx.toFixed(10)+(l?"px,":",")+a.dy.toFixed(10)+(l?"px":"")+z},matrix3d:function(a){a=
a.m;return"matrix3d("+a[0].toFixed(10)+","+a[1].toFixed(10)+",0,0,"+a[2].toFixed(10)+","+a[3].toFixed(10)+",0,0,0,0,1,0,"+a[4].toFixed(10)+","+a[5].toFixed(10)+",0,1)"},getScaleFromMatrix:function(a){if(!a)return 1;a=a.toLowerCase();var f=-1<a.indexOf("matrix3d")?"matrix3d(":"matrix(";return Number(a.substring(f.length,a.indexOf(",")))}}};b.add("esri-webgl",function(){var a;try{if(!window.WebGLRenderingContext)throw 0;a=document.createElement("canvas")}catch(c){return!1}for(var d=["webgl","experimental-webgl",
"webkit-3d","moz-webgl"],b=null,k=0;k<d.length;++k){try{b=a.getContext(d[k])}catch(e){}if(b)break}return!b?!1:!0});return b})},"esri/layers/GraphicsLayer":function(){define(["../core/declare","dojo/_base/lang","dojo/Deferred","../core/Collection","./Layer"],function(b,h,l,m,g){return b(g,{declaredClass:"esri.layers.GraphicsLayer",classMetadata:{properties:{graphics:{type:m}}},getDefaults:function(b){var d=this.inherited(arguments);b.graphics||(d=h.mixin(d,{graphics:new m}));return d},destroy:function(){this.clear()},
viewModulePaths:{"2d":"../views/2d/layers/GraphicsLayerView2D","3d":"../views/3d/layers/GraphicsLayerView3D"},_gfxHdl:null,graphics:null,_graphicsSetter:function(b,d){if(!d)return b.forEach(function(c){c.layer=this},this),this._gfxHdl=b.on("change",function(c){var a,d,b;b=c.added;for(a=0;d=b[a];a++)d.layer=this;b=c.removed;for(a=0;d=b[a];a++)d.layer=null}.bind(this)),b;d.clear();d.addItems(b);return d},popupTemplate:null,renderer:null,elevationInfo:null,add:function(b){b=b.hasOwnProperty("length")?
b:[b];this.graphics.addItems(b)},clear:function(){this.graphics.clear()},createGraphicsController:function(b){var d=new l;b={layer:this,layerView:b.layerView,graphicsCollection:this.graphics};this.emit("graphics-controller-create",{graphicsController:b});d.resolve(b);return d.promise},remove:function(b){b=b.hasOwnProperty("length")?b:[b];this.graphics.removeItems(b)},graphicChanged:function(b){this.emit("graphic-update",b)}})})},"esri/widgets/Zoom":function(){define("../core/sniff ../core/watchUtils ./Widget dijit/_TemplatedMixin dijit/a11yclick dojo/_base/event dojo/dom dojo/dom-class dojo/dom-attr dojo/on dojo/i18n!../nls/jsapi dojo/text!./Zoom/templates/Zoom.html".split(" "),
function(b,h,l,m,g,e,d,c,a,k,p,n){return l.createSubclass([m],{declaredClass:"esri.widgets.Zoom",baseClass:"esri-zoom",templateString:n,labels:p.widgets.zoom,css:{button:"esri-button",disabled:"esri-disabled",interactive:"esri-interactive",iconText:"esri-icon-font-fallback-text",zoomIn:"esri-zoom-in",zoomInIcon:"esri-icon-plus",zoomOut:"esri-zoom-out",zoomOutIcon:"esri-icon-minus"},constructor:function(){this._handleZoomInClick=this._handleZoomInClick.bind(this);this._handleZoomOutClick=this._handleZoomOutClick.bind(this);
this._handleReadyChange=this._handleReadyChange.bind(this)},buildRendering:function(){this.inherited(arguments);b("css-user-select")||d.setSelectable(this.domNode,!1)},startup:function(){this.inherited(arguments);this.own(k(this.dap_zoomIn,g,this._handleZoomInClick),k(this.dap_zoomOut,g,this._handleZoomOutClick))},_readyWatcher:null,view:null,_setViewAttr:function(a){this._readyWatcher&&this._readyWatcher.remove();a?(this._readyWatcher=h.init(a,"ready",this._handleReadyChange),this.own(this._readyWatcher)):
c.add(this.domNode,this.css.disabled);this._set("view",a)},_zoomOut:function(){this._zoomToFactor(2)},_zoomIn:function(){this._zoomToFactor(0.5)},_zoomToFactor:function(a){var c=this.view;c&&c.ready&&c.animateTo({scale:c.scale*a})},_handleReadyChange:function(d){d?(a.set(this.dap_zoomIn,"tabindex",0),a.set(this.dap_zoomOut,"tabindex",0),c.add(this.dap_zoomIn,this.css.interactive),c.add(this.dap_zoomOut,this.css.interactive)):(a.remove(this.dap_zoomIn,"tabindex"),a.remove(this.dap_zoomOut,"tabindex"),
c.remove(this.dap_zoomIn,this.css.interactive),c.remove(this.dap_zoomOut,this.css.interactive));c.toggle(this.domNode,this.css.disabled,!d)},_handleZoomInClick:function(a){e.stop(a);this._zoomIn()},_handleZoomOutClick:function(a){e.stop(a);this._zoomOut()}})})},"esri/symbols/FillSymbol3DLayer":function(){define(["../core/declare","../core/lang","./Symbol3DLayer"],function(b,h,l){return b(l,{type:"Fill",material:null,toJSON:function(){return h.fixJson(this.inherited(arguments),!0)}})})},"esri/identity/OAuthCredential":function(){define(["../core/declare"],
function(b){return b(null,{declaredClass:"esri.OAuthCredential",oAuthInfo:null,storage:null,expires:null,ssl:null,token:null,userId:null,constructor:function(b,l){this.oAuthInfo=b;this.storage=l;this._init()},isValid:function(){var b=!1;if(this.oAuthInfo&&this.token&&this.userId){var l=(new Date).getTime();this.expires>l&&(this.expires-l)/1E3>60*this.oAuthInfo.minTimeUntilExpiration&&(b=!0)}return b},save:function(){if(this.storage){var b=this._load(),l=this.oAuthInfo;if(l&&l.authNamespace&&l.portalUrl){var m=
b[l.authNamespace];m||(m=b[l.authNamespace]={});m[l.portalUrl]={expires:this.expires,ssl:this.ssl,token:this.token,userId:this.userId};try{this.storage.setItem("esriJSAPIOAuth",JSON.stringify(b))}catch(g){console.log(g)}}}},destroy:function(){var b=this._load(),l=this.oAuthInfo;if(l&&l.authNamespace&&l.portalUrl&&this.storage){var m=b[l.authNamespace];if(m){delete m[l.portalUrl];try{this.storage.setItem("esriJSAPIOAuth",JSON.stringify(b))}catch(g){console.log(g)}}}l&&(this.oAuthInfo=l._oAuthCred=
null)},_init:function(){var b=this._load(),l=this.oAuthInfo;if(l&&(l.authNamespace&&l.portalUrl)&&(b=b[l.authNamespace]))if(b=b[l.portalUrl])this.expires=b.expires,this.ssl=b.ssl,this.token=b.token,this.userId=b.userId},_load:function(){var b={};if(this.storage){var l=this.storage.getItem("esriJSAPIOAuth");if(l)try{b=JSON.parse(l)}catch(m){console.log(m)}}return b}})})},"esri/core/Promise":function(){define("./declare dojo/promise/all dojo/aspect dojo/Deferred dojo/errors/create ./Scheduler".split(" "),
function(b,h,l,m,g,e){var d=function(a){if(!a.isFulfilled()){var c=a._promiseProps,d=c.resolvingPromises,b,k;c.allPromise&&c.allPromise.cancel();var g=new m;for(b=d.length-1;0<=b;b--)k=d[b],k.isCanceled&&k.isCanceled()?d.splice(b,1):k.then(null,null,c.resolver.progress);k=null;(c.allPromise=h(d.concat([g.promise]))).then(function(){c.resolver.resolve(a);a=c=g=c.allPromise=c.resolvingPromises=null},function(d){c.allPromise=null;if(!d||"cancel"!==d.dojoType){var b=Array.prototype.slice.call(arguments,
0);c.resolver.reject({target:a,error:b&&b[0],errors:b});a=c=g=c.allPromise=c.resolvingPromises=null}});g&&e.schedule(function(){g&&g.resolve()})}},c=g("CancelError",null,function(a){this.target=a}),a=function(){return new c(this.instance)},k=function(c){this.instance=c;this.canceler=a.bind(this);this.resolver=new m;this.initialized=!1;this.resolvingPromises=[]};k.prototype={canceler:null,cancel:function(a){if(!this.resolver.isFulfilled()){this.allPromise.cancel();for(var c=this.resolvingPromises.concat(),
d=c.length-1;0<=d;d--)c[d].cancel(a);this.resolver.cancel(a)}}};return b(null,{declaredClass:"esri.core.Promise",constructor:function(){this._promiseProps=new k(this);var a=l.after(this,"postscript",function(c,b){a.remove();a=null;d(this)},!0)},always:function(a){return this.then(a,a)},then:function(a,c,d){var b=new m(this._promiseProps.canceler);a=b.then(a,c,d);this._promiseProps.resolver.then(b.resolve,b.reject,b.progress);return a},isResolved:function(){return this._promiseProps.resolver.isResolved()},
isRejected:function(){return this._promiseProps.resolver.isRejected()},isFulfilled:function(){return this._promiseProps.resolver.isFulfilled()},otherwise:function(a){return this.then(null,a)},addResolvingPromise:function(a){a&&!this.isFulfilled()&&(this._promiseProps.resolvingPromises.push(a),d(this))}})})},"dijit/InlineEditBox":function(){define("require dojo/_base/array dojo/aspect dojo/_base/declare dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/dom-style dojo/i18n dojo/_base/kernel dojo/keys dojo/_base/lang dojo/on dojo/sniff dojo/when ./a11yclick ./focus ./_Widget ./_TemplatedMixin ./_WidgetsInTemplateMixin ./_Container ./form/Button ./form/_TextBoxMixin ./form/TextBox dojo/text!./templates/InlineEditBox.html dojo/i18n!./nls/common".split(" "),
function(b,h,l,m,g,e,d,c,a,k,p,n,u,q,t,r,v,x,w,f,s,z,y,A,B){w=m("dijit._InlineEditor",[x,w,f],{templateString:B,contextRequire:b,postMixInProperties:function(){this.inherited(arguments);this.messages=a.getLocalization("dijit","common",this.lang);h.forEach(["buttonSave","buttonCancel"],function(a){this[a]||(this[a]=this.messages[a])},this)},buildRendering:function(){this.inherited(arguments);var a="string"==typeof this.editor?n.getObject(this.editor)||b(this.editor):this.editor,f=this.sourceStyle,
k="line-height:"+f.lineHeight+";",e=c.getComputedStyle(this.domNode);h.forEach(["Weight","Family","Size","Style"],function(a){e["font"+a]!=f["font"+a]&&(k+="font-"+a+":"+f["font"+a]+";")},this);h.forEach("marginTop marginBottom marginLeft marginRight position left top right bottom float clear display".split(" "),function(a){this.domNode.style[a]=f[a]},this);var s=this.inlineEditBox.width;"100%"==s?(k+="width:100%;",this.domNode.style.display="block"):k+="width:"+(s+(Number(s)==s?"px":""))+";";s=n.delegate(this.inlineEditBox.editorParams,
{style:k,dir:this.dir,lang:this.lang,textDir:this.textDir});this.editWidget=new a(s,this.editorPlaceholder);this.inlineEditBox.autoSave&&(this.saveButton.destroy(),this.cancelButton.destroy(),this.saveButton=this.cancelButton=null,d.destroy(this.buttonContainer))},postCreate:function(){this.inherited(arguments);var a=this.editWidget;this.inlineEditBox.autoSave?this.own(l.after(a,"onChange",n.hitch(this,"_onChange"),!0),u(a,"keydown",n.hitch(this,"_onKeyDown"))):"intermediateChanges"in a&&(a.set("intermediateChanges",
!0),this.own(l.after(a,"onChange",n.hitch(this,"_onIntermediateChange"),!0)),this.saveButton.set("disabled",!0))},startup:function(){this.editWidget.startup();this.inherited(arguments)},_onIntermediateChange:function(){this.saveButton.set("disabled",this.getValue()==this._resetValue||!this.enableSave())},destroy:function(){this.editWidget.destroy(!0);this.inherited(arguments)},getValue:function(){var a=this.editWidget;return String(a.get("displayedValue"in a||"_getDisplayedValueAttr"in a?"displayedValue":
"value"))},_onKeyDown:function(a){this.inlineEditBox.autoSave&&this.inlineEditBox.editing&&(!a.altKey&&!a.ctrlKey)&&(a.keyCode==p.ESCAPE?(a.stopPropagation(),a.preventDefault(),this.cancel(!0)):a.keyCode==p.ENTER&&"INPUT"==a.target.tagName&&(a.stopPropagation(),a.preventDefault(),this._onChange()))},_onBlur:function(){this.inherited(arguments);this.inlineEditBox.autoSave&&this.inlineEditBox.editing&&(this.getValue()==this._resetValue?this.cancel(!1):this.enableSave()&&this.save(!1))},_onChange:function(){this.inlineEditBox.autoSave&&
(this.inlineEditBox.editing&&this.enableSave())&&v.focus(this.inlineEditBox.displayNode)},enableSave:function(){return this.editWidget.isValid?this.editWidget.isValid():!0},focus:function(){this.editWidget.focus();this.editWidget.focusNode&&(v._onFocusNode(this.editWidget.focusNode),"INPUT"==this.editWidget.focusNode.tagName&&this.defer(function(){y.selectInputText(this.editWidget.focusNode)}))}});x=m("dijit.InlineEditBox"+(q("dojo-bidi")?"_NoBidi":""),x,{editing:!1,autoSave:!0,buttonSave:"",buttonCancel:"",
renderAsHtml:!1,editor:A,editorWrapper:w,editorParams:{},disabled:!1,onChange:function(){},onCancel:function(){},width:"100%",value:"",noValueIndicator:6>=q("ie")?"\x3cspan style\x3d'font-family: wingdings; text-decoration: underline;'\x3e\x26#160;\x26#160;\x26#160;\x26#160;\x26#x270d;\x26#160;\x26#160;\x26#160;\x26#160;\x3c/span\x3e":"\x3cspan style\x3d'text-decoration: underline;'\x3e\x26#160;\x26#160;\x26#160;\x26#160;\x26#x270d;\x26#160;\x26#160;\x26#160;\x26#160;\x3c/span\x3e",constructor:function(){this.editorParams=
{}},postMixInProperties:function(){this.inherited(arguments);this.displayNode=this.srcNodeRef;this.own(u(this.displayNode,r,n.hitch(this,"_onClick")),u(this.displayNode,"mouseover, focus",n.hitch(this,"_onMouseOver")),u(this.displayNode,"mouseout, blur",n.hitch(this,"_onMouseOut")));this.displayNode.setAttribute("role","button");this.displayNode.getAttribute("tabIndex")||this.displayNode.setAttribute("tabIndex",0);!this.value&&!("value"in this.params)&&(this.value=n.trim(this.renderAsHtml?this.displayNode.innerHTML:
this.displayNode.innerText||this.displayNode.textContent||""));this.value||(this.displayNode.innerHTML=this.noValueIndicator);e.add(this.displayNode,"dijitInlineEditBoxDisplayMode")},setDisabled:function(a){k.deprecated("dijit.InlineEditBox.setDisabled() is deprecated.  Use set('disabled', bool) instead.","","2.0");this.set("disabled",a)},_setDisabledAttr:function(a){this.domNode.setAttribute("aria-disabled",a?"true":"false");a?this.displayNode.removeAttribute("tabIndex"):this.displayNode.setAttribute("tabIndex",
0);e.toggle(this.displayNode,"dijitInlineEditBoxDisplayModeDisabled",a);this._set("disabled",a)},_onMouseOver:function(){this.disabled||e.add(this.displayNode,"dijitInlineEditBoxDisplayModeHover")},_onMouseOut:function(){e.remove(this.displayNode,"dijitInlineEditBoxDisplayModeHover")},_onClick:function(a){this.disabled||(a&&(a.stopPropagation(),a.preventDefault()),this._onMouseOut(),this.defer("edit"))},edit:function(){if(!this.disabled&&!this.editing){this._set("editing",!0);this._savedTabIndex=
g.get(this.displayNode,"tabIndex")||"0";if(!this.wrapperWidget){var a=d.create("span",null,this.domNode,"before");this.wrapperWidget=new ("string"==typeof this.editorWrapper?n.getObject(this.editorWrapper):this.editorWrapper)({value:this.value,buttonSave:this.buttonSave,buttonCancel:this.buttonCancel,dir:this.dir,lang:this.lang,tabIndex:this._savedTabIndex,editor:this.editor,inlineEditBox:this,sourceStyle:c.getComputedStyle(this.displayNode),save:n.hitch(this,"save"),cancel:n.hitch(this,"cancel"),
textDir:this.textDir},a);this.wrapperWidget._started||this.wrapperWidget.startup();this._started||this.startup()}var f=this.wrapperWidget;e.add(this.displayNode,"dijitOffScreen");e.remove(f.domNode,"dijitOffScreen");c.set(f.domNode,{visibility:"visible"});g.set(this.displayNode,"tabIndex","-1");var b=f.editWidget,k=this;t(b.onLoadDeferred,n.hitch(f,function(){b.set("displayedValue"in b||"_setDisplayedValueAttr"in b?"displayedValue":"value",k.value);this.defer(function(){f.saveButton&&f.saveButton.set("disabled",
"intermediateChanges"in b);this.focus();this._resetValue=this.getValue()})}))}},_onBlur:function(){this.inherited(arguments)},destroy:function(){this.wrapperWidget&&!this.wrapperWidget._destroyed&&(this.wrapperWidget.destroy(),delete this.wrapperWidget);this.inherited(arguments)},_showText:function(a){var f=this.wrapperWidget;c.set(f.domNode,{visibility:"hidden"});e.add(f.domNode,"dijitOffScreen");e.remove(this.displayNode,"dijitOffScreen");g.set(this.displayNode,"tabIndex",this._savedTabIndex);a&&
v.focus(this.displayNode)},save:function(a){if(!this.disabled&&this.editing){this._set("editing",!1);var f=this.wrapperWidget.getValue();this.set("value",f);this._showText(a)}},setValue:function(a){k.deprecated("dijit.InlineEditBox.setValue() is deprecated.  Use set('value', ...) instead.","","2.0");return this.set("value",a)},_setValueAttr:function(a){a=n.trim(a);var f=this.renderAsHtml?a:a.replace(/&/gm,"\x26amp;").replace(/</gm,"\x26lt;").replace(/>/gm,"\x26gt;").replace(/"/gm,"\x26quot;").replace(/\n/g,
"\x3cbr\x3e");this.displayNode.innerHTML=f||this.noValueIndicator;this._set("value",a);this._started&&this.defer(function(){this.onChange(a)})},getValue:function(){k.deprecated("dijit.InlineEditBox.getValue() is deprecated.  Use get('value') instead.","","2.0");return this.get("value")},cancel:function(a){!this.disabled&&this.editing&&(this._set("editing",!1),this.defer("onCancel"),this._showText(a))}});q("dojo-bidi")&&(x=m("dijit.InlineEditBox",x,{_setValueAttr:function(){this.inherited(arguments);
this.applyTextDir(this.displayNode)}}));x._InlineEditor=w;return x})},"esri/views/3d/support/PreallocArray":function(){define(["../../../core/declare","./HeapSort"],function(b,h){return b([],{constructor:function(b,m){this.data=Array(b);this.length=0;if(m){for(var g=0;g<b;g++)this.data[g]=m(g);this._allocator=m;this._hasAllocator=!0}else this._allocator=this._nullAllocator,this._hasAllocator=!1},_nullAllocator:function(){return null},grow:function(b){for(;this.data.length<b;)this.data.push(this._allocator(this.data.length))},
next:function(){if(!this._hasAllocator)return null;this.data.length===this.length&&this.grow(2*this.length);return this.data[this.length++]},swap:function(b,m){var g=this.data[b];this.data[b]=this.data[m];this.data[m]=g},push:function(b){this.data.length===this.length&&this.grow(2*this.length);this.data[this.length++]=b},pushArray:function(b){var m=this.length+b.length;m>=this.data.length&&this.grow(Math.max(2*this.length,m));for(m=0;m<b.length;m++)this.data[this.length++]=b[m]},pushEither:function(b){Array.isArray(b)?
this.pushArray(b):this.push(b)},pop:function(){if(0===this.length)return null;var b=this.data[--this.length];this._hasAllocator||(this.data[this.length]=null);return b},slice:function(b,m){void 0===m&&(m=this.length);return this.data.slice(b,m)},clear:function(){if(!this._hasAllocator)for(var b=0;b<this.length;b++)this.data[b]=null;this.length=0},peek:function(){return 0===this.length?null:this.data[this.length-1]},sort:function(b){h.sort(this.data,0,this.length,b);return this}})})},"esri/geometry/support/WKIDUnitConversion":function(){define([],
function(){var b,h={values:[1,0.3048,0.3048006096012192,0.3047972654,0.9143917962,0.201166195164,0.9143984146160287,0.3047994715386762,20.11676512155263,20.11678249437587,0.9143985307444408,0.91439523,0.3047997101815088,20.116756,5E4,15E4],2066:5,2136:12,2155:2,2157:0,2158:0,2159:12,2160:12,2204:2,2219:0,2220:0,2254:2,2255:2,2256:1,2265:1,2266:1,2267:2,2268:2,2269:1,2270:1,2271:2,2272:2,2273:1,2294:0,2295:0,2314:3,2899:2,2900:2,2901:1,2909:1,2910:1,2911:2,2912:2,2913:1,2914:1,2992:1,2993:0,2994:1,
3080:1,3089:2,3090:0,3091:2,3102:2,3141:0,3142:0,3167:13,3359:2,3360:0,3361:1,3362:0,3363:2,3364:0,3365:2,3366:3,3404:2,3405:0,3406:0,3407:3,3439:0,3440:0,3479:1,3480:0,3481:1,3482:0,3483:1,3484:0,3485:2,3486:0,3487:2,3488:0,3489:0,3490:2,3491:0,3492:2,3493:0,3494:2,3495:0,3496:2,3497:0,3498:2,3499:0,3500:2,3501:0,3502:2,3503:0,3504:2,3505:0,3506:2,3507:0,3508:2,3509:0,3510:2,3511:0,3512:2,3513:0,3514:0,3515:2,3516:0,3517:2,3518:0,3519:2,3520:0,3521:2,3522:0,3523:2,3524:0,3525:2,3526:0,3527:2,3528:0,
3529:2,3530:0,3531:2,3532:0,3533:2,3534:0,3535:2,3536:0,3537:2,3538:0,3539:2,3540:0,3541:2,3542:0,3543:2,3544:0,3545:2,3546:0,3547:2,3548:0,3549:2,3550:0,3551:2,3552:0,3553:2,3582:2,3583:0,3584:2,3585:0,3586:2,3587:0,3588:1,3589:0,3590:1,3591:0,3592:0,3593:1,3598:2,3599:0,3600:2,3605:1,3606:0,3607:0,3608:2,3609:0,3610:2,3611:0,3612:2,3613:0,3614:2,3615:0,3616:2,3617:0,3618:2,3619:0,3620:2,3621:0,3622:2,3623:0,3624:2,3625:0,3626:2,3627:0,3628:2,3629:0,3630:2,3631:0,3632:2,3633:0,3634:1,3635:0,3636:1,
3640:2,3641:0,3642:2,3643:0,3644:1,3645:0,3646:1,3647:0,3648:1,3649:0,3650:2,3651:0,3652:2,3653:0,3654:2,3655:0,3656:1,3657:0,3658:2,3659:0,3660:2,3661:0,3662:2,3663:0,3664:2,3668:2,3669:0,3670:2,3671:0,3672:2,3673:0,3674:2,3675:0,3676:1,3677:2,3678:0,3679:1,3680:2,3681:0,3682:1,3683:2,3684:0,3685:0,3686:2,3687:0,3688:2,3689:0,3690:2,3691:0,3692:2,3696:2,3697:0,3698:2,3699:0,3700:2,3793:0,3794:0,3812:0,3854:0,3857:0,3920:0,3978:0,3979:0,3991:2,3992:2,4026:0,4037:0,4038:0,4071:0,4082:0,4083:0,4217:2,
4414:0,4415:0,4417:0,4434:0,4437:0,4438:2,4439:2,4462:0,4467:0,4471:0,4474:0,4559:0,4647:0,4822:0,4826:0,4839:0,5018:0,5048:0,5167:0,5168:0,5221:0,5223:0,5234:0,5235:0,5243:0,5247:0,5266:0,5316:0,5320:0,5321:0,5325:0,5337:0,5361:0,5362:0,5367:0,5382:0,5383:0,5396:0,5456:0,5457:0,5469:0,5472:4,5490:0,5513:0,5514:0,5523:0,5559:0,5588:1,5589:3,5596:0,5627:0,5629:0,5641:0,5643:0,5644:0,5646:2,5654:2,5655:2,5659:0,5700:0,5825:0,5836:0,5837:0,5839:0,5842:0,5844:0,5858:0,5879:0,5880:0,5887:0,5890:0,6128:1,
6129:1,6141:1,6210:0,6211:0,6316:0,6391:1,20499:0,20538:0,20539:0,20790:0,20791:0,21291:0,21292:0,21500:0,21817:0,21818:0,22032:0,22033:0,22091:0,22092:0,22332:0,22391:0,22392:0,22700:0,22770:0,22780:0,22832:0,23090:0,23095:0,23239:0,23240:0,23433:0,23700:0,24047:0,24048:0,24100:3,24200:0,24305:0,24306:0,24382:10,24383:0,24500:0,24547:0,24548:0,24571:9,24600:0,25E3:0,25231:0,25884:0,25932:0,26237:0,26331:0,26332:0,26432:0,26591:0,26592:0,26632:0,26692:0,27120:0,27200:0,27291:6,27292:6,27429:0,27492:0,
27493:0,27500:0,27700:0,28232:0,28600:0,28991:0,28992:0,29100:0,29101:0,29220:0,29221:0,29333:0,29635:0,29636:0,29701:0,29738:0,29739:0,29849:0,29850:0,29871:8,29872:7,29873:0,30200:5,30339:0,30340:0,30591:0,30592:0,30791:0,30792:0,30800:0,31028:0,31121:0,31154:0,31170:0,31171:0,31370:0,31528:0,31529:0,31600:0,31700:0,31838:0,31839:0,31900:0,31901:0,32061:0,32062:0,32098:0,32099:2,32100:0,32104:0,32161:0,32766:0,53034:0,53048:0,53049:0,54034:0,65061:2,65062:2,65161:0,65163:0,102041:2,102064:11,102068:14,
102069:15,102118:2,102119:1,102120:2,102121:2,102217:2,102218:0,102219:2,102220:2,102378:1,102379:1,102380:0,102381:1,102589:2,102599:2,102600:2,102604:2,102647:0,102704:2,102705:2,102761:2,102762:0,102763:2,102764:0,102765:0,102766:2,102970:1,102974:2,102993:0,102994:0,102995:2,102996:2,103015:0,103016:2,103017:0,103018:2,103025:0,103026:0,103027:2,103028:2,103035:0,103036:0,103037:2,103038:2,103039:0,103040:0,103041:2,103042:2,103043:0,103044:0,103045:2,103046:2,103047:0,103048:0,103049:2,103050:2,
103051:0,103052:2,103053:0,103054:2,103055:0,103056:2,103057:0,103058:0,103059:2,103060:2,103061:0,103062:0,103063:2,103064:2,103069:2,103070:0,103071:0,103072:2,103073:2,103086:0,103087:0,103088:2,103089:2,103094:1,103095:0,103096:2,103103:0,103104:2,103105:0,103106:2,103121:0,103122:2,103123:0,103124:0,103125:1,103126:1,103127:0,103128:0,103129:2,103130:2,103131:0,103132:0,103133:2,103134:2,103135:0,103136:0,103137:1,103138:1,103139:0,103140:2,103141:0,103142:2,103143:0,103144:2,103145:0,103146:1,
103147:0,103148:0,103149:2,103150:2,103151:0,103152:2,103172:0,103173:2,103174:0,103175:0,103176:2,103177:2,103178:0,103179:0,103180:2,103181:2,103182:0,103183:0,103184:2,103185:2,103228:0,103229:0,103230:2,103231:2,103250:0,103251:2,103252:0,103253:2,103260:0,103261:0,103262:2,103263:2,103270:0,103271:0,103272:2,103273:2,103274:0,103275:0,103276:2,103277:2,103278:0,103279:0,103280:2,103281:2,103282:0,103283:0,103284:2,103285:2,103286:0,103287:2,103288:0,103289:2,103290:0,103291:2,103292:0,103293:0,
103294:2,103295:2,103296:0,103297:0,103298:2,103299:2,103376:2,103377:0,103378:0,103379:2,103380:2,103393:0,103394:0,103395:2,103396:2,103472:0,103473:1,103474:0,103475:2,103482:0,103483:2,103484:0,103485:2,103500:0,103501:2,103502:0,103503:0,103504:1,103505:1,103506:0,103507:0,103508:2,103509:2,103510:0,103511:0,103512:2,103513:2,103514:0,103515:2,103516:0,103517:2,103518:0,103519:2,103520:0,103521:1,103522:0,103523:0,103524:2,103525:2,103526:0,103527:2,103561:2,103562:2,103563:0,103564:0,103565:2,
103566:2,103567:0,103568:0,103569:2,103570:2,103584:0,103585:2,103695:2};for(b=2E3;2046>b;b++)h[b]=0;for(b=2056;2066>b;b++)h[b]=0;for(b=2067;2136>b;b++)h[b]=0;for(b=2137;2155>b;b++)h[b]=0;for(b=2161;2171>b;b++)h[b]=0;for(b=2172;2194>b;b++)h[b]=0;for(b=2195;2199>b;b++)h[b]=0;for(b=2200;2204>b;b++)h[b]=0;for(b=2205;2218>b;b++)h[b]=0;for(b=2222;2225>b;b++)h[b]=1;for(b=2225;2251>b;b++)h[b]=2;for(b=2251;2254>b;b++)h[b]=1;for(b=2257;2265>b;b++)h[b]=2;for(b=2274;2280>b;b++)h[b]=2;for(b=2280;2283>b;b++)h[b]=
1;for(b=2283;2290>b;b++)h[b]=2;for(b=2290;2293>b;b++)h[b]=0;for(b=2308;2314>b;b++)h[b]=0;for(b=2315;2463>b;b++)h[b]=0;for(b=2523;2867>b;b++)h[b]=0;for(b=2867;2870>b;b++)h[b]=1;for(b=2870;2889>b;b++)h[b]=2;for(b=2891;2896>b;b++)h[b]=2;for(b=2896;2899>b;b++)h[b]=1;for(b=2902;2909>b;b++)h[b]=2;for(b=2915;2921>b;b++)h[b]=2;for(b=2921;2924>b;b++)h[b]=1;for(b=2924;2931>b;b++)h[b]=2;for(b=2931;2963>b;b++)h[b]=0;for(b=2964;2969>b;b++)h[b]=2;for(b=2969;2974>b;b++)h[b]=0;for(b=2975;2992>b;b++)h[b]=0;for(b=
2995;3052>b;b++)h[b]=0;for(b=3054;3080>b;b++)h[b]=0;for(b=3081;3089>b;b++)h[b]=0;for(b=3092;3102>b;b++)h[b]=0;for(b=3106;3139>b;b++)h[b]=0;for(b=3146;3152>b;b++)h[b]=0;for(b=3153;3167>b;b++)h[b]=0;for(b=3168;3173>b;b++)h[b]=0;for(b=3174;3204>b;b++)h[b]=0;for(b=3294;3359>b;b++)h[b]=0;for(b=3367;3404>b;b++)h[b]=0;for(b=3408;3417>b;b++)h[b]=0;for(b=3417;3439>b;b++)h[b]=2;for(b=3441;3447>b;b++)h[b]=2;for(b=3447;3451>b;b++)h[b]=0;for(b=3451;3460>b;b++)h[b]=2;for(b=3460;3479>b;b++)h[b]=0;for(b=3554;3560>
b;b++)h[b]=0;for(b=3560;3571>b;b++)h[b]=2;for(b=3571;3582>b;b++)h[b]=0;for(b=3594;3598>b;b++)h[b]=0;for(b=3601;3605>b;b++)h[b]=0;for(b=3637;3640>b;b++)h[b]=0;for(b=3665;3668>b;b++)h[b]=0;for(b=3693;3696>b;b++)h[b]=0;for(b=3701;3728>b;b++)h[b]=0;for(b=3728;3740>b;b++)h[b]=2;for(b=3740;3752>b;b++)h[b]=0;for(b=3753;3761>b;b++)h[b]=2;for(b=3761;3774>b;b++)h[b]=0;for(b=3775;3778>b;b++)h[b]=0;for(b=3779;3782>b;b++)h[b]=0;for(b=3783;3786>b;b++)h[b]=0;for(b=3788;3792>b;b++)h[b]=0;for(b=3797;3803>b;b++)h[b]=
0;for(b=3814;3817>b;b++)h[b]=0;for(b=3825;3830>b;b++)h[b]=0;for(b=3832;3842>b;b++)h[b]=0;for(b=3844;3853>b;b++)h[b]=0;for(b=3873;3886>b;b++)h[b]=0;for(b=3890;3894>b;b++)h[b]=0;for(b=3907;3913>b;b++)h[b]=0;for(b=3942;3951>b;b++)h[b]=0;for(b=3968;3971>b;b++)h[b]=0;for(b=3973;3977>b;b++)h[b]=0;for(b=3986;3990>b;b++)h[b]=0;for(b=3994;3998>b;b++)h[b]=0;for(b=4048;4052>b;b++)h[b]=0;for(b=4056;4064>b;b++)h[b]=0;for(b=4093;4097>b;b++)h[b]=0;for(b=4399;4414>b;b++)h[b]=2;for(b=4418;4434>b;b++)h[b]=2;for(b=
4455;4458>b;b++)h[b]=2;for(b=4484;4490>b;b++)h[b]=0;for(b=4491;4555>b;b++)h[b]=0;for(b=4568;4590>b;b++)h[b]=0;for(b=4652;4657>b;b++)h[b]=0;for(b=4766;4801>b;b++)h[b]=0;for(b=5014;5017>b;b++)h[b]=0;for(b=5069;5073>b;b++)h[b]=0;for(b=5105;5131>b;b++)h[b]=0;for(b=5173;5189>b;b++)h[b]=0;for(b=5253;5260>b;b++)h[b]=0;for(b=5269;5276>b;b++)h[b]=0;for(b=5292;5312>b;b++)h[b]=0;for(b=5329;5332>b;b++)h[b]=0;for(b=5343;5350>b;b++)h[b]=0;for(b=5355;5358>b;b++)h[b]=0;for(b=5387;5390>b;b++)h[b]=0;for(b=5459;5464>
b;b++)h[b]=0;for(b=5479;5483>b;b++)h[b]=0;for(b=5518;5521>b;b++)h[b]=0;for(b=5530;5540>b;b++)h[b]=0;for(b=5550;5553>b;b++)h[b]=0;for(b=5562;5584>b;b++)h[b]=0;for(b=5623;5626>b;b++)h[b]=2;for(b=5631;5640>b;b++)h[b]=0;for(b=5649;5654>b;b++)h[b]=0;for(b=5663;5681>b;b++)h[b]=0;for(b=5682;5686>b;b++)h[b]=0;for(b=5875;5878>b;b++)h[b]=0;for(b=5921;5941>b;b++)h[b]=0;for(b=6050;6126>b;b++)h[b]=0;for(b=6244;6276>b;b++)h[b]=0;for(b=6328;6349>b;b++)h[b]=0;for(b=6350;6355>b;b++)h[b]=0;for(b=20002;20033>b;b++)h[b]=
0;for(b=20062;20093>b;b++)h[b]=0;for(b=20135;20139>b;b++)h[b]=0;for(b=20248;20259>b;b++)h[b]=0;for(b=20348;20359>b;b++)h[b]=0;for(b=20436;20441>b;b++)h[b]=0;for(b=20822;20825>b;b++)h[b]=0;for(b=20934;20937>b;b++)h[b]=0;for(b=21035;21038>b;b++)h[b]=0;for(b=21095;21098>b;b++)h[b]=0;for(b=21148;21151>b;b++)h[b]=0;for(b=21413;21424>b;b++)h[b]=0;for(b=21473;21484>b;b++)h[b]=0;for(b=21780;21783>b;b++)h[b]=0;for(b=21891;21895>b;b++)h[b]=0;for(b=21896;21900>b;b++)h[b]=0;for(b=22171;22178>b;b++)h[b]=0;for(b=
22181;22188>b;b++)h[b]=0;for(b=22191;22198>b;b++)h[b]=0;for(b=22234;22237>b;b++)h[b]=0;for(b=22521;22526>b;b++)h[b]=0;for(b=22991;22995>b;b++)h[b]=0;for(b=23028;23039>b;b++)h[b]=0;for(b=23830;23854>b;b++)h[b]=0;for(b=23866;23873>b;b++)h[b]=0;for(b=23877;23885>b;b++)h[b]=0;for(b=23886;23895>b;b++)h[b]=0;for(b=23946;23949>b;b++)h[b]=0;for(b=24311;24314>b;b++)h[b]=0;for(b=24342;24348>b;b++)h[b]=0;for(b=24370;24375>b;b++)h[b]=10;for(b=24375;24382>b;b++)h[b]=0;for(b=24718;24722>b;b++)h[b]=0;for(b=24817;24822>
b;b++)h[b]=0;for(b=24877;24883>b;b++)h[b]=0;for(b=24891;24894>b;b++)h[b]=0;for(b=25391;25396>b;b++)h[b]=0;for(b=25828;25839>b;b++)h[b]=0;for(b=26191;26196>b;b++)h[b]=0;for(b=26391;26394>b;b++)h[b]=0;for(b=26701;26723>b;b++)h[b]=0;for(b=26729;26800>b;b++)h[b]=2;for(b=26801;26804>b;b++)h[b]=2;for(b=26811;26814>b;b++)h[b]=2;for(b=26847;26871>b;b++)h[b]=2;for(b=26891;26900>b;b++)h[b]=0;for(b=26901;26924>b;b++)h[b]=0;for(b=26929;26947>b;b++)h[b]=0;for(b=26948;26999>b;b++)h[b]=0;for(b=27037;27041>b;b++)h[b]=
0;for(b=27205;27233>b;b++)h[b]=0;for(b=27258;27261>b;b++)h[b]=0;for(b=27391;27399>b;b++)h[b]=0;for(b=27561;27565>b;b++)h[b]=0;for(b=27571;27575>b;b++)h[b]=0;for(b=27581;27585>b;b++)h[b]=0;for(b=27591;27595>b;b++)h[b]=0;for(b=28191;28194>b;b++)h[b]=0;for(b=28348;28359>b;b++)h[b]=0;for(b=28402;28433>b;b++)h[b]=0;for(b=28462;28493>b;b++)h[b]=0;for(b=29118;29123>b;b++)h[b]=0;for(b=29168;29173>b;b++)h[b]=0;for(b=29177;29186>b;b++)h[b]=0;for(b=29187;29196>b;b++)h[b]=0;for(b=29900;29904>b;b++)h[b]=0;for(b=
30161;30180>b;b++)h[b]=0;for(b=30491;30495>b;b++)h[b]=0;for(b=30729;30733>b;b++)h[b]=0;for(b=31251;31260>b;b++)h[b]=0;for(b=31265;31269>b;b++)h[b]=0;for(b=31275;31280>b;b++)h[b]=0;for(b=31281;31298>b;b++)h[b]=0;for(b=31461;31470>b;b++)h[b]=0;for(b=31491;31496>b;b++)h[b]=0;for(b=31917;31923>b;b++)h[b]=0;for(b=31965;32001>b;b++)h[b]=0;for(b=32001;32004>b;b++)h[b]=2;for(b=32005;32032>b;b++)h[b]=2;for(b=32033;32061>b;b++)h[b]=2;for(b=32064;32068>b;b++)h[b]=2;for(b=32074;32078>b;b++)h[b]=2;for(b=32081;32087>
b;b++)h[b]=0;for(b=32107;32131>b;b++)h[b]=0;for(b=32133;32159>b;b++)h[b]=0;for(b=32164;32168>b;b++)h[b]=2;for(b=32180;32200>b;b++)h[b]=0;for(b=32201;32261>b;b++)h[b]=0;for(b=32301;32361>b;b++)h[b]=0;for(b=32601;32663>b;b++)h[b]=0;for(b=32664;32668>b;b++)h[b]=2;for(b=32701;32762>b;b++)h[b]=0;for(b=53001;53005>b;b++)h[b]=0;for(b=53008;53020>b;b++)h[b]=0;for(b=53021;53033>b;b++)h[b]=0;for(b=53042;53047>b;b++)h[b]=0;for(b=54001;54005>b;b++)h[b]=0;for(b=54008;54020>b;b++)h[b]=0;for(b=54021;54033>b;b++)h[b]=
0;for(b=54042;54047>b;b++)h[b]=0;for(b=54048;54054>b;b++)h[b]=0;for(b=102001;102041>b;b++)h[b]=0;for(b=102042;102064>b;b++)h[b]=0;for(b=102065;102068>b;b++)h[b]=0;for(b=102070;102118>b;b++)h[b]=0;for(b=102122;102217>b;b++)h[b]=0;for(b=102221;102378>b;b++)h[b]=0;for(b=102382;102389>b;b++)h[b]=0;for(b=102389;102399>b;b++)h[b]=2;for(b=102401;102445>b;b++)h[b]=0;for(b=102445;102448>b;b++)h[b]=2;for(b=102450;102453>b;b++)h[b]=0;for(b=102461;102469>b;b++)h[b]=2;for(b=102469;102497>b;b++)h[b]=0;for(b=102500;102520>
b;b++)h[b]=1;for(b=102520;102525>b;b++)h[b]=0;for(b=102525;102530>b;b++)h[b]=2;for(b=102530;102550>b;b++)h[b]=0;for(b=102570;102589>b;b++)h[b]=0;for(b=102590;102599>b;b++)h[b]=0;for(b=102601;102604>b;b++)h[b]=0;for(b=102605;102629>b;b++)h[b]=0;for(b=102629;102647>b;b++)h[b]=2;for(b=102648;102701>b;b++)h[b]=2;for(b=102701;102704>b;b++)h[b]=0;for(b=102707;102731>b;b++)h[b]=2;for(b=102733;102759>b;b++)h[b]=2;for(b=102767;102799>b;b++)h[b]=0;for(b=102962;102970>b;b++)h[b]=0;for(b=102971;102974>b;b++)h[b]=
0;for(b=102975;102990>b;b++)h[b]=0;for(b=102990;102993>b;b++)h[b]=1;for(b=102997;103003>b;b++)h[b]=0;for(b=103003;103009>b;b++)h[b]=2;for(b=103009;103012>b;b++)h[b]=0;for(b=103012;103015>b;b++)h[b]=2;for(b=103019;103022>b;b++)h[b]=0;for(b=103022;103025>b;b++)h[b]=2;for(b=103029;103032>b;b++)h[b]=0;for(b=103032;103035>b;b++)h[b]=2;for(b=103065;103069>b;b++)h[b]=0;for(b=103074;103077>b;b++)h[b]=0;for(b=103077;103080>b;b++)h[b]=1;for(b=103080;103083>b;b++)h[b]=0;for(b=103083;103086>b;b++)h[b]=2;for(b=
103090;103094>b;b++)h[b]=0;for(b=103097;103100>b;b++)h[b]=0;for(b=103100;103103>b;b++)h[b]=2;for(b=103107;103110>b;b++)h[b]=0;for(b=103110;103113>b;b++)h[b]=2;for(b=103113;103117>b;b++)h[b]=0;for(b=103117;103121>b;b++)h[b]=2;for(b=103153;103158>b;b++)h[b]=0;for(b=103158;103163>b;b++)h[b]=2;for(b=103163;103166>b;b++)h[b]=0;for(b=103166;103169>b;b++)h[b]=1;for(b=103169;103172>b;b++)h[b]=2;for(b=103186;103189>b;b++)h[b]=0;for(b=103189;103192>b;b++)h[b]=2;for(b=103192;103196>b;b++)h[b]=0;for(b=103196;103200>
b;b++)h[b]=2;for(b=103200;103225>b;b++)h[b]=0;for(b=103225;103228>b;b++)h[b]=1;for(b=103232;103238>b;b++)h[b]=0;for(b=103238;103244>b;b++)h[b]=2;for(b=103244;103247>b;b++)h[b]=0;for(b=103247;103250>b;b++)h[b]=2;for(b=103254;103257>b;b++)h[b]=0;for(b=103257;103260>b;b++)h[b]=2;for(b=103264;103267>b;b++)h[b]=0;for(b=103267;103270>b;b++)h[b]=2;for(b=103300;103376>b;b++)h[b]=0;for(b=103381;103384>b;b++)h[b]=0;for(b=103384;103387>b;b++)h[b]=1;for(b=103387;103390>b;b++)h[b]=0;for(b=103390;103393>b;b++)h[b]=
2;for(b=103397;103400>b;b++)h[b]=0;for(b=103400;103472>b;b++)h[b]=2;for(b=103476;103479>b;b++)h[b]=0;for(b=103479;103482>b;b++)h[b]=2;for(b=103486;103489>b;b++)h[b]=0;for(b=103489;103492>b;b++)h[b]=2;for(b=103492;103496>b;b++)h[b]=0;for(b=103496;103500>b;b++)h[b]=2;for(b=103528;103544>b;b++)h[b]=0;for(b=103544;103549>b;b++)h[b]=2;for(b=103549;103552>b;b++)h[b]=0;for(b=103552;103555>b;b++)h[b]=1;for(b=103555;103558>b;b++)h[b]=2;for(b=103558;103561>b;b++)h[b]=0;for(b=103571;103574>b;b++)h[b]=0;for(b=
103574;103577>b;b++)h[b]=2;for(b=103577;103581>b;b++)h[b]=0;for(b=103581;103584>b;b++)h[b]=2;for(b=103600;103695>b;b++)h[b]=0;for(b=103700;103794>b;b++)h[b]=2;for(b=103794;103872>b;b++)h[b]=0;for(b=103900;103972>b;b++)h[b]=2;return h})},"esri/views/3d/constraints/SceneViewClipDistanceConstraint":function(){define(["../../../core/declare","../../../core/Accessor"],function(b,h){return b([h],{declaredClass:"esri.views.3d.constraints.SceneViewClipDistanceConstraint",constructor:function(){this._far=
this._near=0},near:0,far:0,mode:"auto",autoUpdate:function(b,m){"auto"===this.mode&&(this._near!==b&&(this._near=b,this.notifyChange("near")),this._far!==m&&(this._far=m,this.notifyChange("far")))},_nearGetter:function(){return this._near},_nearSetter:function(b){this.mode="manual";this._near=Math.max(1E-8,b);this._near>=this._far&&(this.far=this._near+1E-9)},_farGetter:function(){return this._far},_farSetter:function(b){this.mode="manual";this._far=Math.max(1E-8,b);this._far<=this._near&&(this.near=
this._far-1E-9)},scale:function(b){this._near*=b;this.notifyChange("near");this._far*=b;this.notifyChange("far")}})})},"dijit/_Container":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom-construct","dojo/_base/kernel"],function(b,h,l,m){return h("dijit._Container",null,{buildRendering:function(){this.inherited(arguments);this.containerNode||(this.containerNode=this.domNode)},addChild:function(b,e){var d=this.containerNode;if(0<e){for(d=d.firstChild;0<e;)1==d.nodeType&&e--,d=d.nextSibling;
d?e="before":(d=this.containerNode,e="last")}l.place(b.domNode,d,e);this._started&&!b._started&&b.startup()},removeChild:function(b){"number"==typeof b&&(b=this.getChildren()[b]);b&&(b=b.domNode)&&b.parentNode&&b.parentNode.removeChild(b)},hasChildren:function(){return 0<this.getChildren().length},_getSiblingOfChild:function(g,e){m.deprecated(this.declaredClass+"::_getSiblingOfChild() is deprecated. Use _KeyNavMixin::_getNext() instead.","","2.0");var d=this.getChildren(),c=b.indexOf(d,g);return d[c+
e]},getIndexOfChild:function(g){return b.indexOf(this.getChildren(),g)}})})},"esri/core/Scheduler":function(){define(["./ArrayPool","./ObjectPool","./nextTick","./requestAnimationFrame","./now"],function(b,h,l,m,g){var e=["prepare","preRender","render","postRender","update"],d=new h(function(){this.isActive=!0;this.callback=null},function(){this.isActive=!1;this.callback=null}),c=function(){},a=function(){k.put(this)},k=new h(function(){this.remove=a;this.item=null},function(){this.remove=c;this.item=
null}),p=function(a){var c=k.get();c.item=a;return c};h=function(){this._boundDispatch=this._dispatch.bind(this);this._deferred=b.get();this._isProcessing=!1;this._queue=b.get();this._task=null;this.deferWhileProcessing=!1;this._frameTasks=b.get();this._phaseTasks={};this._previousFrameTime=-1;for(var a=0;a<e.length;a++)this._phaseTasks[e[a]]=b.get();this._boundAnimationFrame=this._animationFrame.bind(this);this._animationFrameRequested=this.executing=!1};h.prototype={schedule:function(a){if(this._isProcessing&&
this.deferWhileProcessing)return this._defer(a);var c=d.get();c.callback=a;this._schedule(c);return p(c)},_defer:function(a){var c=d.get();c.callback=a;this._deferred||(this._deferred=b.get());this._deferred.push(c);return p(c)},_dispatch:function(){var a=this._queue;this._isProcessing=!0;this._task.remove();for(this._task=null;a.length;){var c=a.shift();c.isActive&&(c.isActive=!1,c.callback());c.isActive||d.put(c)}this._isProcessing=!1;if((a=this._deferred)&&a.length){for(this._deferred=null;a.length;)this._schedule(a.shift());
b.put(a)}},_schedule:function(a){this._task||(this._task=l(this._boundDispatch));this._queue.push(a)},addFrameTask:function(a){var c={phases:a,paused:!1,pausedAt:0,epoch:-1,dt:0,ticks:-1,removed:!1};this._frameTasks.push(c);for(var b=0;b<e.length;b++){var d=e[b];a[d]&&this._phaseTasks[d].push(c)}this._animationFrameRequested||(this._previousFrameTime=-1,this._requestAnimationFrame());return{isPaused:function(){return c.paused},remove:function(){c.removed=!0},pause:function(){c.paused=!0;c.pausedAt=
g()},resume:function(){c.paused=!1;-1!==c.epoch&&(c.epoch+=0.0010*(g()-c.pausedAt))}}},clearFrameTasks:function(){for(var a=0;a<this._frameTasks.length;a++)this._frameTasks[a].removed=!0},_purge:function(){for(var a=0;a<this._frameTasks.length;){var c=this._frameTasks[a];a++;if(c.removed){this._frameTasks.splice(a-1,1);for(var b=0;b<e.length;b++){var d=e[b];if(c.phases[d]){var d=this._phaseTasks[d],k=d.indexOf(c);-1!==k&&d.splice(k,1)}}}}},_animationFrame:function(a){this._animationFrameRequested=
!1;this.executing=!0;0<this._frameTasks.length&&this._requestAnimationFrame();a=0.0010*g();0>this._previousFrameTime&&(this._previousFrameTime=a);var c=a-this._previousFrameTime;this._previousFrameTime=a;for(var b=0;b<this._frameTasks.length;b++){var d=this._frameTasks[b];-1!==d.epoch&&(d.dt=c)}for(b=0;b<e.length;b++)for(var c=e[b],k=this._phaseTasks[c],n=0;n<k.length;n++)if(d=k[n],!d.paused&&!d.removed){0===b&&d.ticks++;-1===d.epoch&&(d.epoch=a);var p=0.0010*g()-a;d.phases[c].call(d,a,d.dt,a-d.epoch,
p)}this._purge();this.executing=!1},_requestAnimationFrame:function(){m(this._boundAnimationFrame);this._animationFrameRequested=!0}};var n=new h;h.schedule=function(a){return n.schedule(a)};h.addFrameTask=function(a){return n.addFrameTask(a)};h.clearFrameTasks=function(){return n.clearFrameTasks()};Object.defineProperty(h,"executing",{get:function(){return n.executing}});h.instance=n;return h})},"esri/symbols/Symbol":function(){define(["../core/lang","../Color","../core/JSONSupport"],function(b,
h,l){var m=0;return l.createSubclass({declaredClass:"esri.symbols.Symbol",classMetadata:{properties:{color:{type:h}}},constructor:function(){this.id="sym"+m++},symbolLayers:null,type:null,_typeReader:function(b,e){return b&&0===b.indexOf("esri")?{esriSMS:"simplemarkersymbol",esriPMS:"picturemarkersymbol",esriSLS:"simplelinesymbol",esriCLS:"cartographiclinesymbol",esriSFS:"simplefillsymbol",esriPFS:"picturefillsymbol",esriTS:"textsymbol",esriSHD:"shieldlabelsymbol"}[b]:b},color:new h([0,0,0,1]),_colorReader:function(g){if(g&&
b.isDefined(g[0]))return[g[0],g[1],g[2],g[3]/255]},addLayer:function(b){null===this.symbolLayers?this.symbolLayers=[b]:this.symbolLayers.push(b)},removeLayer:function(b){null!==this.symbolLayers&&(b=this.symbolLayers.indexOf(b),-1<b&&this.symbolLayers.splice(b,1))},toJSON:function(){return{color:h.toJSON(this.color)}}})})},"esri/views/3d/SceneViewAtmosphere":function(){define(["../../core/declare","../../core/Accessor"],function(b,h){var l=b([h],{declaredClass:"esri.views.3d.SceneViewAtmosphere",
enabled:!0,clone:function(){return new l({enabled:this.enabled})}});return l})},"esri/widgets/BasemapLayer":function(){define(["../core/declare","dojo/_base/lang","dojo/has","../kernel"],function(b,h,l,m){return b(null,{declaredClass:"esri.widgets.BasemapLayer",constructor:function(b){b=b||{};!b.url&&!b.type&&console.error("esri.widgets.BasemapLayer: unable to find the 'url' or 'type' property in parameters");this.url=b.url;this.type=b.type;this.isReference=!0===b.isReference?!0:!1;this.opacity=b.opacity;
this.visibleLayers=b.visibleLayers;this.displayLevels=b.displayLevels;this.exclusionAreas=b.exclusionAreas;this.bandIds=b.bandIds;this.templateUrl=b.templateUrl;this.copyright=b.copyright;this.subDomains=b.subDomains;this.fullExtent=b.fullExtent;this.initialExtent=b.initialExtent;this.tileInfo=b.tileInfo;this.tileServers=b.tileServers}})})},"dojo/dnd/Mover":function(){define("../_base/array ../_base/declare ../_base/lang ../sniff ../_base/window ../dom ../dom-geometry ../dom-style ../Evented ../on ../touch ./common ./autoscroll".split(" "),
function(b,h,l,m,g,e,d,c,a,k,p,n,u){return h("dojo.dnd.Mover",[a],{constructor:function(a,c,b){function d(a){a.preventDefault();a.stopPropagation()}this.node=e.byId(a);this.marginBox={l:c.pageX,t:c.pageY};this.mouseButton=c.button;c=this.host=b;a=a.ownerDocument;this.events=[k(a,p.move,l.hitch(this,"onFirstMove")),k(a,p.move,l.hitch(this,"onMouseMove")),k(a,p.release,l.hitch(this,"onMouseUp")),k(a,"dragstart",d),k(a.body,"selectstart",d)];u.autoScrollStart(a);if(c&&c.onMoveStart)c.onMoveStart(this)},
onMouseMove:function(a){u.autoScroll(a);var c=this.marginBox;this.host.onMove(this,{l:c.l+a.pageX,t:c.t+a.pageY},a);a.preventDefault();a.stopPropagation()},onMouseUp:function(a){(m("webkit")&&m("mac")&&2==this.mouseButton?0==a.button:this.mouseButton==a.button)&&this.destroy();a.preventDefault();a.stopPropagation()},onFirstMove:function(a){var b=this.node.style,k,n=this.host;switch(b.position){case "relative":case "absolute":k=Math.round(parseFloat(b.left))||0;b=Math.round(parseFloat(b.top))||0;break;
default:b.position="absolute";b=d.getMarginBox(this.node);k=g.doc.body;var e=c.getComputedStyle(k),p=d.getMarginBox(k,e),e=d.getContentBox(k,e);k=b.l-(e.l-p.l);b=b.t-(e.t-p.t)}this.marginBox.l=k-this.marginBox.l;this.marginBox.t=b-this.marginBox.t;if(n&&n.onFirstMove)n.onFirstMove(this,a);this.events.shift().remove()},destroy:function(){b.forEach(this.events,function(a){a.remove()});var a=this.host;if(a&&a.onMoveStop)a.onMoveStop(this);this.events=this.node=this.host=null}})})},"esri/symbols/LineSymbol":function(){define(["../core/declare",
"dojo/_base/lang","../core/screenUtils","./Symbol"],function(b,h,l,m){return b(m,{declaredClass:"esri.symbols.LineSymbol",type:null,width:1,_widthReader:l.pt2px,toJSON:function(){var b=l.px2pt(this.width),b=isNaN(b)?void 0:b;return h.mixin(this.inherited(arguments),{width:b})}})})},"esri/geometry/support/mathUtils":function(){define(["../Point"],function(b){function h(g,e,d){var c,a,k;if(g instanceof b)return c=g.x+d*(e.x-g.x),a=g.y+d*(e.y-g.y),null!=g.z&&null!=e.z&&(k=g.z+d*(e.z-g.z)),new b(c,a,
k);c=g[0]+d*(e[0]-g[0]);a=g[1]+d*(e[1]-g[1]);return 2<g.length&&2<e.length?[c,a,g[2]+d*(e[2]-g[2])]:[c,a]}function l(b,e){return 1E-8>Math.abs(b-e)}function m(b,e,d,c){var a,k=l(b[0],e[0])?1E10:(b[1]-e[1])/(b[0]-e[0]),p=l(d[0],c[0])?1E10:(d[1]-c[1])/(d[0]-c[0]),n=b[1]-k*b[0],m=d[1]-p*d[0];if(l(k,p)){if(l(n,m)){if(l(b[0],e[0]))if(Math.min(b[1],e[1])<Math.max(d[1],c[1])||Math.max(b[1],e[1])>Math.min(d[1],c[1]))b=(b[1]+e[1]+d[1]+c[1]-Math.min(b[1],e[1],d[1],c[1])-Math.max(b[1],e[1],d[1],c[1]))/2,a=(b-
n)/k;else return null;else if(Math.min(b[0],e[0])<Math.max(d[0],c[0])||Math.max(b[0],e[0])>Math.min(d[0],c[0]))a=(b[0]+e[0]+d[0]+c[0]-Math.min(b[0],e[0],d[0],c[0])-Math.max(b[0],e[0],d[0],c[0]))/2,b=k*a+n;else return null;return[a,b]}return null}l(k,1E10)?(a=b[0],b=p*a+m):l(p,1E10)?(a=d[0],b=k*a+n):(a=-(n-m)/(k-p),b=b[1]===e[1]?b[1]:d[1]===c[1]?d[1]:k*a+n);return[a,b]}return{getLength:function(b,e){var d=e.x-b.x,c=e.y-b.y,a=0;null!=b.z&&null!=e.z&&(a=b.z-e.z);return Math.sqrt(d*d+c*c+a*a)},_getLength:function(b,
e){var d=e[0]-b[0],c=e[1]-b[1];return Math.sqrt(d*d+c*c)},getPointOnLine:h,getMidpoint:function(b,e){return h(b,e,0.5)},_equals:l,_getLineIntersection:m,getLineIntersection:function(g,e,d,c,a){(g=m([g.x,g.y],[e.x,e.y],[d.x,d.y],[c.x,c.y]))&&(g=new b(g[0],g[1],a));return g},_getLineIntersection2:function(b,e){var d=b[0],c=b[1],a=e[0],k=e[1],p=d[0],d=d[1],n=c[0],c=c[1],l=a[0],q=a[1],a=k[0]-l,l=p-l,m=n-p,k=k[1]-q,q=d-q,r=c-d,h=k*m-a*r;if(0===h)return!1;a=(a*q-k*l)/h;l=(m*q-r*l)/h;return 0<=a&&1>=a&&
0<=l&&1>=l?[p+a*(n-p),d+a*(c-d)]:!1},_pointLineDistance:function(b,e){var d=e[0],c=e[1],a=d[0],k=d[1],d=b[0],p=b[1],n=c[0]-a,l=c[1]-k,q=d-a,m=p-k,c=Math.sqrt,r=Math.pow,h=c(r(n,2)+r(l,2)),q=(q*n+m*l)/(h*h),k=k+q*l;return c(r(d-(a+q*n),2)+r(p-k,2))}}})},"esri/layers/support/Domain":function(){define(["../../core/declare","dojo/_base/lang","../../core/lang"],function(b,h,l){return b(null,{declaredClass:"esri.layers.support.Domain",constructor:function(b){b&&h.isObject(b)&&(this.name=b.name,this.type=
b.type)},toJson:function(){try{throw Error("toJson is deprecated, use toJSON instead");}catch(b){console.warn(b.stack)}return this.toJSON()},toJSON:function(){return l.fixJson({name:this.name,type:this.type})}})})},"dojo/request/watch":function(){define("./util ../errors/RequestTimeoutError ../errors/CancelError ../_base/array ../_base/window ../has!host-browser?dom-addeventlistener?:../on:".split(" "),function(b,h,l,m,g,e){function d(){for(var b=+new Date,d=0,e;d<k.length&&(e=k[d]);d++){var g=e.response,
l=g.options;if(e.isCanceled&&e.isCanceled()||e.isValid&&!e.isValid(g))k.splice(d--,1),c._onAction&&c._onAction();else if(e.isReady&&e.isReady(g))k.splice(d--,1),e.handleResponse(g),c._onAction&&c._onAction();else if(e.startTime&&e.startTime+(l.timeout||0)<b)k.splice(d--,1),e.cancel(new h("Timeout exceeded",g)),c._onAction&&c._onAction()}c._onInFlight&&c._onInFlight(e);k.length||(clearInterval(a),a=null)}function c(c){c.response.options.timeout&&(c.startTime=+new Date);c.isFulfilled()||(k.push(c),
a||(a=setInterval(d,50)),c.response.options.sync&&d())}var a=null,k=[];c.cancelAll=function(){try{m.forEach(k,function(a){try{a.cancel(new l("All requests canceled."))}catch(c){}})}catch(a){}};g&&(e&&g.doc.attachEvent)&&e(g.global,"unload",function(){c.cancelAll()});return c})},"esri/views/CSSTraits":function(){define(["../core/Accessor","../core/ArrayPool","../core/HandleRegistry","dojo/_base/lang","dojo/dom-class"],function(b,h,l,m,g){var e=b.createSubclass({classMetadata:{properties:{width:{},
orientation:{}}}}),d={width:{getValue:function(a){var c=a.viewSize[0];a=a.maxWidths;var b=this.values;return c<=a.xsmall?b.xsmall:c<=a.small?b.small:c<=a.medium?b.medium:c<=a.large?b.large:b.xlarge},values:{xsmall:"xsmall",small:"small",medium:"medium",large:"large",xlarge:"xlarge"},valueToClassName:{xsmall:"esri-view-width-xsmall esri-view-width-smaller-than-small esri-view-width-smaller-than-medium esri-view-width-smaller-than-large esri-view-width-smaller-than-xlarge",small:"esri-view-width-small esri-view-width-larger-than-xsmall esri-view-width-smaller-than-medium esri-view-width-smaller-than-large esri-view-width-smaller-than-xlarge",
medium:"esri-view-width-medium esri-view-width-larger-than-xsmall esri-view-width-larger-than-small esri-view-width-smaller-than-large esri-view-width-smaller-than-xlarge",large:"esri-view-width-large esri-view-width-larger-than-xsmall esri-view-width-larger-than-small esri-view-width-larger-than-medium esri-view-width-smaller-than-xlarge",xlarge:"esri-view-width-xlarge esri-view-width-larger-than-xsmall esri-view-width-larger-than-small esri-view-width-larger-than-medium esri-view-width-larger-than-large"}},
orientation:{getValue:function(a){a=a.viewSize;var c=this.values;return a[1]>=a[0]?c.portrait:c.landscape},values:{portrait:"portrait",landscape:"landscape"},valueToClassName:{portrait:"esri-view-orientation-portrait",landscape:"esri-view-orientation-landscape"}}},c={xsmall:544,small:768,medium:992,large:1200},e=b.createSubclass({classMetadata:{properties:{active:{type:e,readOnly:!0}}},constructor:function(){this._handles=new l},getDefaults:function(){return m.mixin(this.inherited(arguments),{maxWidths:c,
active:{}})},initialize:function(){this._handles.add(this.watch("view.size",this._updateClassNames))},destroy:function(){this._removeActiveClassNames();this._handles.destroy();this.view=this._handles=null},active:null,enabled:!0,_maxWidthsSetter:function(a,b){if(a===b)return a;var d;d=(d=a)&&d.xsmall<d.small&&d.small<d.medium&&d.medium<d.large;var n;d||(n=JSON.stringify(c,null,2),console.warn("provided max widths are not valid, using defaults:"+n));a=d?a:c;return m.mixin({},a)},view:null,_updateClassNames:function(){if(this.get("view.container")&&
this.enabled){var a=this.active,c=h.get(),b=h.get(),n=!1,e,g,l;for(e in d)g=a[e],l=d[e].getValue({viewSize:this.get("view.size"),maxWidths:this.maxWidths}),g!==l&&(n=!0,a[e]=l,b.push(d[e].valueToClassName[g]),c.push(d[e].valueToClassName[l]));n&&this._applyClassNameChanges(c,b);h.put(c);h.put(b)}},_applyClassNameChanges:function(a,c){var b=this.get("view.container");g.remove(b,c);g.add(b,a)},_removeActiveClassNames:function(){var a=this.get("view.container"),c;a&&(c=this.active,c.keys().forEach(function(b){g.remove(a,
d[b].valueToClassName[c[b]])}))}});return b.createSubclass({classMetadata:{properties:{cssTraits:{type:e}}},getDefaults:function(){return m.mixin(this.inherited(arguments),{cssTraits:{}})},destroy:function(){this.cssTraits=null},cssTraits:null,_cssTraitsSetter:function(a,c){if(a===c)return a;c&&c.destroy();a&&(a.view=this);return a}})})},"esri/views/3d/support/Frustum":function(){define(["../../../core/declare","../lib/glMatrix","../support/earthUtils","../webgl-engine/lib/Util"],function(b,h,l,m){var g=
h.vec3d,e=h.vec4d;return b([],{constructor:function(){this.planes=Array(6);this.points=Array(8);this.lines=Array(12);this.origin=g.create();this.direction=g.create();this.dirty=!1;this._altitude=null;for(var b=0;6>b;b++)this.planes[b]=e.create();for(b=0;8>b;b++)this.points[b]=g.create();for(b=0;12>b;b++)this.lines[b]={origin:null,direction:g.create(),endpoint:null}},_makeLine:function(b,c,a){b.origin=c;b.endpoint=a;g.direction(a,c,b.direction)},update:function(b){if(this.dirty){m.matrix2frustumPlanes(b.viewMatrix,
b.projectionMatrix,this.points,this.planes);for(var c=0;4>c;c++){var a=c,k=c+4;this._makeLine(this.lines[c],this.points[a],this.points[k]);this._makeLine(this.lines[c+4],this.points[a],3===c?this.points[0]:this.points[a+1]);this._makeLine(this.lines[c+8],this.points[k],3===c?this.points[4]:this.points[k+1])}g.set(b.eye,this.origin);b.computeDirection(this.direction);this._altitude=null;this.dirty=!1}},altitude:function(){return null!=this._altitude?this._altitude:this._altitude=g.length(this.origin)-
l.earthRadius}})})},"esri/core/requestAnimationFrame":function(){define(["dojo/sniff","./now"],function(b,h){var l=b("ff"),m=b("ie"),g=b("webkit"),e=b("opera"),d=Date.now(),c=window.requestAnimationFrame;c||(c=window[(g&&"webkit"||l&&"moz"||e&&"o"||m&&"ms")+"RequestAnimationFrame"])||(c=function(a){var c=Date.now(),b=Math.max(0,16-(c-d)),n=window.setTimeout(function(){a(h())},b);d=c+b;return n});return c})},"dojo/topic":function(){define(["./Evented"],function(b){var h=new b;return{publish:function(b,
m){return h.emit.apply(h,arguments)},subscribe:function(b,m){return h.on.apply(h,arguments)}}})},"esri/portal/PortalGroup":function(){define(["../core/declare","dojo/_base/lang"],function(b,h){return b([],{declaredClass:"esri.arcgis.PortalGroup",portal:null,constructor:function(b){h.mixin(this,b);this.url=(this.portal&&this.portal.portalUrl)+"community/groups/"+this.id;this.thumbnailUrl=this.portal.portalUtil.formatUrl(this.url+"/info/"+this.thumbnail);this.modified=this.modified?new Date(this.modified):
null;this.created=this.created?new Date(this.created):null},getMembers:function(){return this.portal.portalUtil.request(this.url+"/users")},queryItems:function(b,m){b=this.portal.portalUtil.formatQueryParams({},b,m);b.q="group:"+this.id+(b.q?" "+b.q:"");return this.portal.queryItems(b)}})})},"esri/views/3d/webgl-engine/materials/LeafCardMaterial":function(){define("dojo/text!./LeafCardMaterial.xml ./internal/MaterialUtil ../lib/VertexBufferLayout ../lib/GLSLProgram ../lib/GLSLShader ../lib/Util ../lib/gl-matrix".split(" "),
function(b,h,l,m,g,e,d){var c=d.vec3,a=d.mat4,k=d.mat4d,p=e.VertexAttrConstants;d=function(b,d,g,m,w,f){function s(){return 2*Math.random()-1}h.basicMaterialConstructor(this,f);var z=new l([p.POSITION,p.NORMAL,p.UV0],[3,4,4]),y=z.getStride();this.getAmbient=function(){return d};this.getDiffuse=function(){return g};this.getSpecular=function(){return m};this.getShininess=function(){return w};this.dispose=function(){};this.getTextureId=function(){return b};this.getOutputAmount=function(a){var f=0,c;
for(c=0;c<a/6;c++)0===c%1&&(f+=6);a=f;for(c=f=0;c<a/6;c++)0===c%1&&(f+=6);return f*y};this.getVertexBufferLayout=function(){return z};this.reduce=function(a,f){for(var c=a.position,b=a.normal,d=a.uv0,k=[],n=[],e=[],s=0,p=0;p<c.length/6;p++)if(0===p%f)for(var g=0;6>g;g++)k[s]=c[6*p+g],n[s]=b[6*p+g],e[s]=d[6*p+g],s++;return{position:k,normal:n,uv0:e}};this.fillInterleaved=function(f,b,d,n,p,g){n=h.fill;var q=this.reduce(f.faces.indices,1),q=this.reduce(q,1),l=this.getOutputAmount(f.faces.indices.position.length);
e.assert(l===q.position.length*y);var m=q.position,r=q.normal,t=q.uv0,q=f.vertexAttr.position.data,u=f.vertexAttr.normal.data,v=f.vertexAttr.uv0.data,z=c.create();f=m.length/6;for(var l=g,w=c.createFrom(-Number.MAX_VALUE,-Number.MAX_VALUE,-Number.MAX_VALUE),x=c.createFrom(Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE),N=0;N<f;++N){for(var H=c.create(),O=c.create(),I=[100,100,-100,-100],J=c.create(),S=0;6>S;++S){var U=6*N+S,ba=3*m[U],X=3*r[U],U=2*t[U];H[0]+=q[ba+0];H[1]+=q[ba+1];H[2]+=q[ba+2];
O[0]+=u[X+0];O[1]+=u[X+1];O[2]+=u[X+2];X=v[U+0];U=v[U+1];I[0]=Math.min(I[0],X);I[1]=Math.min(I[1],U);I[2]=Math.max(I[2],X);I[3]=Math.max(I[3],U);0===S&&c.set3(q[ba+0],q[ba+1],q[ba+2],J)}H[0]/=6;H[1]/=6;H[2]/=6;O[0]/=6;O[1]/=6;O[2]/=6;H[0]+=0.1*s();H[1]+=0.1*s();H[2]+=0.1*s();void 0!==b&&(k.multiplyVec3(b,J,J),k.multiplyVec3(b,H,H),k.multiplyVec3(d,O,O));c.add(H,z,z);c.max(w,H,w);c.min(x,H,x);I[0]+=0.01;I[1]+=0.01;I[2]-=0.01;I[3]-=0.01;for(S=0;4>S;S++)I[S]=Math.min(I[S],0.99999);S=2*Math.random()*
Math.PI;J=1.41*c.dist(J,H);g+=n(H,0,p,g,void 0,3);g+=n(O,0,p,g,void 0,3);p[g++]=0;p[g++]=I[0];p[g++]=I[1];p[g++]=S;p[g++]=J;g+=n(H,0,p,g,void 0,3);g+=n(O,0,p,g,void 0,3);p[g++]=0;p[g++]=I[2]+1;p[g++]=I[1];p[g++]=S;p[g++]=J;g+=n(H,0,p,g,void 0,3);g+=n(O,0,p,g,void 0,3);p[g++]=0;p[g++]=I[2]+1;p[g++]=I[3]+1;p[g++]=S;p[g++]=J;g+=n(H,0,p,g,void 0,3);g+=n(O,0,p,g,void 0,3);p[g++]=0;p[g++]=I[2]+1;p[g++]=I[3]+1;p[g++]=S;p[g++]=J;g+=n(H,0,p,g,void 0,3);g+=n(O,0,p,g,void 0,3);p[g++]=0;p[g++]=I[0];p[g++]=I[3]+
1;p[g++]=S;p[g++]=J;g+=n(H,0,p,g,void 0,3);g+=n(O,0,p,g,void 0,3);p[g++]=0;p[g++]=I[0];p[g++]=I[1];p[g++]=S;p[g++]=J}z[0]/=f;z[1]/=f;z[2]/=f;b=c.create();c.add(w,x,b);c.scale(b,0.5,b);g=c.create();c.subtract(w,x,g);g[0]=Math.abs(g[0])/2;g[1]=Math.abs(g[1])/2;g[2]=Math.abs(g[2])/2;m=c.create(z);m[1]-=(w[1]-x[1])/3;w=c.create();x=c.create();q=c.create();r=[c.create(),c.create(),c.create(),c.create()];z=[0,0,0,0];t=a.create();for(N=0;N<f;++N){c.set3(p[l],p[l+1],p[l+2],q);c.subtract(q,m,w);c.normalize(w,
w);x=c.subtract(q,b,x);c.normalize(x,x);v=Math.abs(c.dot(x,[1,0,0]));S=Math.abs(c.dot(x,[0,1,0]));u=Math.abs(c.dot(x,[0,0,1]));v=v*Math.abs(b[0]-q[0])/g[0];v+=S*Math.abs(b[1]-q[1])/g[1];v+=u*Math.abs(b[2]-q[2])/g[2];for(S=0;4>S;S++)a.identity(t),a.rotate(t,0.8*s(),[0,1,0],t),a.rotate(t,0.8*s(),[1,0,0],t),a.multiplyVec3(t,w,r[S]),z[S]=0.5+0.5*v-0.2*s();u=0.8+0.3*s();for(S=0;6>S;++S){var $;switch(S){case 0:$=0;break;case 1:$=1;break;case 2:$=2;break;case 3:$=2;break;case 4:$=3;break;case 5:$=0}l+=3;
l+=n(r[$],0,p,l,d,3);p[l++]=z[$];l+=3;p[l++]*=u}}};this.intersect=function(){};this.getGLMaterials=function(){return[n,q,void 0,u]};this.getAllTextureIds=function(){return[b]}};var n=function(a,c,b){h.basicGLMaterialConstructor(this,a);var d=c.get("leafCard");h.singleTextureGLMaterialConstructor(this,b,{textureId:a.getTextureId()});this.beginSlot=function(a){return 2===a};this.getProgram=function(){return d};var k=a.getAmbient(),f=a.getDiffuse(),n=a.getSpecular(),e=a.getShininess();this.bind=function(c,
b){d.use();this.bindTexture(c,d);d.uniform3fv("ambient",k);d.uniform3fv("diffuse",f);d.uniform3fv("specular",n);d.uniform1f("shininess",e);d.uniform1f("trafoScale",1);a.getVertexBufferLayout().enableVertexAttribArrays(c,d)};this.release=function(f){a.getVertexBufferLayout().disableVertexAttribArrays(f,d)};this.bindView=function(a,f){h.bindView(f.origin,f.view,d);h.bindCamPos(f.origin,f.viewInvTransp,d)};this.bindInstance=function(a,f){d.uniformMatrix4fv("model",f.transformation);d.uniformMatrix4fv("modelNormal",
f.transformationNormal);var c=f.transformation,b=Math.sqrt(c[0]*c[0]+c[4]*c[4]+c[8]*c[8]),k=Math.sqrt(c[1]*c[1]+c[5]*c[5]+c[9]*c[9]),c=Math.sqrt(c[2]*c[2]+c[6]*c[6]+c[10]*c[10]);d.uniform1f("trafoScale",(b+k+c)/3)};this.getDrawMode=function(a){return a.TRIANGLES}},u=function(a,c,b,d){h.basicGLMaterialConstructor(this,a);var k=null==d?c.get("leafCardDepth"):c.get("leafCardDepthShadowMap");h.singleTextureGLMaterialConstructor(this,b,{textureId:a.getTextureId()});this.beginSlot=function(a){return 2===
a};this.getProgram=function(){return k};this.bind=function(f,c){k.use();this.bindTexture(f,k);k.uniform2fv("nearFar",c.nearFar);a.getVertexBufferLayout().enableVertexAttribArrays(f,k)};this.release=function(f){a.getVertexBufferLayout().disableVertexAttribArrays(f,k)};this.bindView=function(a,c){h.bindView(c.origin,c.view,k)};this.bindInstance=function(a,c){k.uniformMatrix4fv("model",c.transformation);var b=c.transformation,d=Math.sqrt(b[0]*b[0]+b[4]*b[4]+b[8]*b[8]),n=Math.sqrt(b[1]*b[1]+b[5]*b[5]+
b[9]*b[9]),b=Math.sqrt(b[2]*b[2]+b[6]*b[6]+b[10]*b[10]);k.uniform1f("trafoScale",(d+n+b)/3)};this.getDrawMode=function(a){return a.TRIANGLES}},q=function(a,c,b){u.call(this,a,c,b,!0)};d.loadShaders=function(a,c,d,k){a._parse(b);var n=new g(k.VERTEX_SHADER,a.vertexShaderLeafCard,k),f=new g(k.FRAGMENT_SHADER,a.fragmentShaderLeafCard,k),n=new m([n,f],k);a=new g(k.VERTEX_SHADER,a.vertexShaderLeafCardDepth,k);f=c.get("fsDepthTextured");c=c.get("fsDepthTexturedShadowMap");f=new m([a,f],k);k=new m([a,c],
k);d.add("leafCard",n);d.add("leafCardDepth",f);d.add("leafCardDepthShadowMap",k)};return d})},"esri/views/3d/navigation/spherical/AnimationSpherical":function(){define(["../mixins/AnimationMixin","../../lib/glMatrix","../../support/mathUtils"],function(b,h,l){function m(a,c){var b=c[0]-a[0],d=c[1]-a[1],k=c[2]-a[2],e=c[3]-a[3];return b*b+d*d+k*k+e*e}function g(a,c){return Math.sqrt(m(a,c))}function e(c){this.interpolate=function(c,b,d){d=Math.min(9*d,0.3);l.slerpOrLerp(c.center,b.center,d,c.center,
p);l.slerpOrLerp(c.eye,b.eye,d,c.eye,p);l.slerp(c.up,b.up,d);c.fov=l.lerp(c.fov,b.fov,d);c.padding=a.lerp(c.padding,b.padding,d,k);c.computeUpOnSphere()}}function d(b,d,e){d=d||250;e=e||d;var m=0,r=0,h=0,x=0,w=function(a,b,k,n){var g=c.dist(a,b);if(0.1>g)return c.set(b,a),0;var m=Math.min(Math.sqrt(g*e),d);n=Math.min(n+e*k,m);k=Math.min(n/g*k,1);l.slerpOrLerp(a,b,k,a,p);return n};this.interpolate=function(f,c,p){m=w(f.eye,c.eye,p,m);r=w(f.center,c.center,p,r);x=w(f.padding,c.padding,p,x,{dist:g,lerp:function(f,
c,b){return a.lerp(f,c,b,k)},set:function(a){f.padding=a}});h=b.easeInOutInterpLinear(e,d,f.fov,c.fov,p,h,{dist:function(a,f){return Math.abs(f-a)},lerp:l.lerp,set:function(a){f.fov=a}});f.computeUpOnSphere()}}var c=h.vec3d,a=h.vec4d,k=a.create(),p=1E-4;return b.createSubclass({declaredClass:"esri.views.3d.navigation.spherical.AnimationSpherical",constructor:function(){this.interpolationTypes={linear:e,easeInOut:d}}})})},"dijit/_base/manager":function(){define(["dojo/_base/array","dojo/_base/config",
"dojo/_base/lang","../registry","../main"],function(b,h,l,m,g){var e={};b.forEach("byId getUniqueId findWidgets _destroyAll byNode getEnclosingWidget".split(" "),function(b){e[b]=m[b]});l.mixin(e,{defaultDuration:h.defaultDuration||200});l.mixin(g,e);return g})},"esri/layers/ArcGISTiledLayer":function(){define("../core/declare dojo/_base/lang dojo/io-query ../request ../core/urlUtils ../geometry/SpatialReference ./TiledLayer ./mixins/ArcGISMapService ./mixins/ArcGISCachedService".split(" "),function(b,
h,l,m,g,e,d,c,a){return b([d,c,a],{declaredClass:"esri.layers.ArcGISTiledLayer",classMetadata:{reader:{add:["spatialReference"]}},_mapsWithAttribution:"Canvas/World_Dark_Gray_Base Canvas/World_Dark_Gray_Reference Canvas/World_Light_Gray_Base Canvas/World_Light_Gray_Reference Elevation/World_Hillshade Ocean/World_Ocean_Base Ocean/World_Ocean_Reference Ocean_Basemap Reference/World_Boundaries_and_Places Reference/World_Boundaries_and_Places_Alternate Reference/World_Transportation World_Imagery World_Street_Map World_Topo_Map".split(" "),
_TILE_FORMATS:{PNG:"png",PNG8:"png",PNG24:"png",PNG32:"png",JPG:"jpg",JPEG:"jpg",GIF:"gif"},_attributionServices:["services.arcgisonline.com/arcgis/rest/services","servicesdev.arcgisonline.com/arcgis/rest/services","servicesqa.arcgisonline.com/arcgis/rest/services"],normalizeCtorArgs:function(a,c){return"string"===typeof a?h.mixin({},{url:a},c):a},getDefaults:function(a){var c=null,b=[];a.url&&(b=g.urlToObject(a.url).path.toLowerCase(),c=this._getDefaultAttribution(this._getMapName(b)),b=this._getDefaultTileServers(b));
return h.mixin(this.inherited(arguments),{tileServers:b,attributionDataUrl:c,hasAttributionData:!!c})},initialize:function(){this.addResolvingPromise(this._fetchService())},popupTemplates:null,tileServers:null,_tileServersSetter:function(a){return Array.isArray(a)?a.map(function(a){return g.urlToObject(a).path}):null},_spatialReferenceReader:function(a,c){return(a=a||c.tileInfo&&c.tileInfo.spatialReference)&&new e(a)},getTileUrl:function(a,c,b){var d=this.tileServers,e=h.mixin({},this.parsedUrl.query,
{token:this.token,blankTile:this.resampling&&!this.tileMap&&this.supportsBlankTile?!1:null,_ts:this.refreshTimestamp});a=(d&&d.length?d[c%d.length]:this.parsedUrl.path)+"/tile/"+a+"/"+c+"/"+b;e=l.objectToQuery(e);return g.addProxy(a+(e?"?"+e:""))},_fetchService:function(){return m({url:this.parsedUrl.path,content:h.mixin({f:"json"},this.parsedUrl.query),handleAs:"json",callbackParamName:"callback"}).then(function(a){a._ssl&&(delete a._ssl,this.url=this.url.replace(/^http:/i,"https:"));this.read(a)}.bind(this))},
_getMapName:function(a){return(a=a.match(/^https?\:\/\/(server|services)\.arcgisonline\.com\/arcgis\/rest\/services\/([^\/]+(\/[^\/]+)*)\/mapserver/i))&&a[2]},_getDefaultAttribution:function(a){if(a){var c;a=a.toLowerCase();for(var b=0,d=this._mapsWithAttribution.length;b<d;b++)if(c=this._mapsWithAttribution[b],-1<c.toLowerCase().indexOf(a))return this._getProtocol()+"//static.arcgis.com/attribution/"+c}},_getProtocol:function(){var a=window.location.protocol;return"file:"===a?"http:":a},_getDefaultTileServers:function(a){var c=
-1!==a.search(/^https?\:\/\/server\.arcgisonline\.com/i),b=-1!==a.search(/^https?\:\/\/services\.arcgisonline\.com/i);return c||b?[a,a.replace(c?/server\.arcgisonline/i:/services\.arcgisonline/i,c?"services.arcgisonline":"server.arcgisonline")]:[]}})})},"esri/views/3d/layers/support/LayerViewUpdatingPercentage":function(){define(["../../../../core/declare"],function(b){return b([],{classMetadata:{computed:{updatingPercentage:["updating"]}},constructor:function(){this._updatingPercentage=0},_updatingPercentageGetter:function(){return this.updating?
this._updatingPercentage:0},_updatingPercentageSetter:function(b){this._updatingPercentage=b}})})},"esri/views/3d/webgl-engine/lib/ModelContentType":function(){define(function(){return{LAYER:"layers",OBJECT:"objects",GEOMETRY:"geometries",MATERIAL:"materials",TEXTURE:"textures"}})},"esri/layers/support/Field":function(){define(["../../core/declare","dojo/_base/lang","./RangeDomain","./CodedValueDomain"],function(b,h,l,m){return b(null,{declaredClass:"esri.layers.support.Field",constructor:function(b){if(b&&
h.isObject(b)&&(this.name=b.name,this.type=b.type,this.alias=b.alias,this.length=b.length,this.editable=b.editable,this.nullable=b.nullable,(b=b.domain)&&h.isObject(b)))switch(b.type){case "range":this.domain=new l(b);break;case "codedValue":this.domain=new m(b)}}})})},"esri/portal/PortalUser":function(){define("./PortalFolder ./PortalGroup ./PortalItem ./support/portalResult ./support/PortalUtil ../core/declare dojo/_base/lang".split(" "),function(b,h,l,m,g,e,d){return e([],{declaredClass:"esri.arcgis.PortalUser",
portal:null,constructor:function(c){d.mixin(this,c);this.url=(this.portal&&this.portal.portalUrl)+"community/users/"+this.username;this.userContentUrl=(this.portal&&this.portal.portalUrl)+"content/users/"+this.username;this.thumbnailUrl=this.portal.portalUtil.formatUrl(this.url+"/info/"+this.thumbnail);this.modified=this.modified?new Date(this.modified):null;this.created=this.created?new Date(this.created):null},getGroups:function(){return m(this.portal.portalUtil.request(this.url).then(d.hitch(this,
function(c){return g.resultsToTypedArray(h,{portal:this.portal},c.groups)})))},getNotifications:function(){return this.portal.portalUtil.requestToTypedArray(this.url+"/notifications",null,null,null,{portal:this.portal})},getGroupInvitations:function(){return this.portal.portalUtil.requestToTypedArray(this.url+"/invitations",null,null,null,{portal:this.portal})},getTags:function(){return this.portal.portalUtil.requestToTypedArray(this.url+"/tags",null,null,null,{portal:this.portal})},getFolders:function(){return m(this.getContent().then(function(c){return c.folders}))},
getItems:function(c){return m(this.getContent(c).then(function(a){return a.items}))},getItem:function(c){return this.portal.portalUtil.request(this.portal.portalUrl+"content/items/"+c).then(d.hitch(this,function(a){return new l(d.mixin(a,{portal:this.portal}))}))},getContent:function(c){var a=this.url.replace("community","content")+(c?"/"+c:"");return this.portal.portalUtil.request(a).then(d.hitch(this,function(a){a.folders=g.resultsToTypedArray(b,{portal:this.portal},a.folders);a.items=g.resultsToTypedArray(l,
{portal:this.portal,folderId:c},a.items);return a}))}})})},"esri/views/3d/webgl-engine/lib/Util":function(){define(["./gl-matrix"],function(b){function h(a){this.message=a}var l=b.vec2d,m=b.vec3d,g=b.vec4d,e=b.mat4d,d=e.create(),c=[g.createFrom(-1,-1,-1,1),g.createFrom(1,-1,-1,1),g.createFrom(1,1,-1,1),g.createFrom(-1,1,-1,1),g.createFrom(-1,-1,1,1),g.createFrom(1,-1,1,1),g.createFrom(1,1,1,1),g.createFrom(-1,1,1,1)],a=g.create(),k=Array(8);for(b=0;8>b;++b)k[b]=m.create();var p=m.create(),n=m.create(),
u=m.create(),q=m.create(),t=m.create(),r=m.create(),v=m.create(),x=m.create(),w=m.create(),f=m.create(),s=m.create(),z=m.create(),y=m.create(),A=m.create();h.prototype.toString=function(){return"AssertException: "+this.message};var B={EARTH_RADIUS:6378137,METER2FEET:3.28084,ECCENTRICITY_SQUARED:0.0066943799901414,AssertException:h,VertexAttrConstants:{POSITION:"position",NORMAL:"normal",UV0:"uv0",AUXPOS1:"auxpos1",AUXPOS2:"auxpos2",COLOR:"color",SIZE:"size",REGION:"region"},assert:function(a,f){if(!a){var c=
Error("dummy");c.stack&&console.log(c.stack);throw new h(f);}},verify:function(a,f){a||(console.log("Verify failed: "+f),console.log(Error("dummy").stack))},createQuadVertexUvBuffer:function(a){a=a||Float32Array;a=new a(20);a[0]=-1;a[1]=-1;a[2]=0;a[3]=0;a[4]=0;a[5]=1;a[6]=-1;a[7]=0;a[8]=1;a[9]=0;a[10]=-1;a[11]=1;a[12]=0;a[13]=0;a[14]=1;a[15]=1;a[16]=1;a[17]=0;a[18]=1;a[19]=1;return a},isPowerOfTwo:function(a){return 0===(a&a-1)},lerp:function(a,f,c){return a+(f-a)*c},clamp:function(a,f,c){return a<
f?f:a>c?c:a},fallbackIfUndefined:function(a,f){return void 0===a?f:a},hex2rgb:function(a){a=Math.floor(a);return[(a>>16&255)/255,(a>>8&255)/255,(a&255)/255]},rgb2hex:function(a){var f=B.clamp(Math.round(255*a[0]),0,255),c=B.clamp(Math.round(255*a[1]),0,255);a=B.clamp(Math.round(255*a[2]),0,255);return"0x"+((f<<16)+(c<<8)+a).toString(16)},dec2hex:function(a){a=a.toString(16);return"00000000".substr(0,8-a.length)+a},deg2rad:function(a){return a/180*Math.PI},rad2deg:function(a){return 180*a/Math.PI},
azimuthElevationAngle2Direction:function(a,f){var c=1.5*Math.PI-a,b=0.5*Math.PI-f,d=Math.cos(c)*Math.sin(b),k=Math.cos(b),c=Math.sin(c)*Math.sin(b);return[d,k,c]},rayPlane:function(a,f,c,b){var d=m.dot(c,f);if(0===d)return!1;c=-(m.dot(c,a)+c[3])/d;m.add(a,m.scale(f,c,b),b);return!0},raySphereClosestPositive:function(a,f,c,b){var d=m.dot(f,f),k=2*m.dot(f,a);c=m.dot(a,a)-c*c;c=k*k-4*d*c;if(0>c)return!1;var n=Math.sqrt(c);c=(-k-n)/(2*d);d=(-k+n)/(2*d);if(0>c||d<c&&0<d)c=d;return 0<c?(m.add(a,m.scale(f,
c,b),b),!0):!1},rayTriangle3D:function(a,f,c,b,d,k,n,e,s){s||(s=m.create());var p=b[n]-c[k],g=b[n+1]-c[k+1],q=b[n+2]-c[k+2];b=d[e]-c[k];n=d[e+1]-c[k+1];d=d[e+2]-c[k+2];var l=f[1]*d-n*f[2],r=f[2]*b-d*f[0],h=f[0]*n-b*f[1];e=p*l+g*r+q*h;if(-1E-5<e&&1E-5>e)return!1;e=1/e;var t=a[0]-c[k],u=a[1]-c[k+1];a=a[2]-c[k+2];s[1]=e*(t*l+u*r+a*h);if(0>s[1]||1<s[1])return!1;c=u*q-g*a;a=a*p-q*t;p=t*g-p*u;s[2]=e*(f[0]*c+f[1]*a+f[2]*p);if(0>s[2]||1<s[1]+s[2])return!1;s[0]=e*(b*c+n*a+d*p);return!0},rayBoxTest:function(a,
f,c,b){var d,k=(c[0]-a[0])/f[0],n=(b[0]-a[0])/f[0];k>n&&(d=k,k=n,n=d);var e=(c[1]-a[1])/f[1],s=(b[1]-a[1])/f[1];e>s&&(d=e,e=s,s=d);if(k>s||e>n)return!1;e>k&&(k=e);s<n&&(n=s);c=(c[2]-a[2])/f[2];a=(b[2]-a[2])/f[2];c>a&&(d=c,c=a,a=d);if(k>a||c>n)return!1;a<n&&(n=a);return 0>n?!1:!0},rayRay2D:function(a,f,c,b,d,k){k||(k=l.create());var n=(b[d]-c[d])*(f[0]-a[0])-(b[0]-c[0])*(f[d]-a[d]);if(0===n)return!1;c=((b[0]-c[0])*(a[d]-c[d])-(b[d]-c[d])*(a[0]-c[0]))/n;k[0]=a[0]+c*(f[0]-a[0]);k[1]=a[d]+c*(f[d]-a[d]);
return!0},matrix2frustum:function(f,b,k){e.multiply(b,f,d);e.inverse(d);for(f=0;8>f;++f)e.multiplyVec4(d,c[f],a),m.set3(a[0]/a[3],a[1]/a[3],a[2]/a[3],k[f])},matrix2frustumPlanes:function(a,f,c,b){void 0===b&&(b=c,c=k);B.matrix2frustum(a,f,c);B.point2plane(c[4],c[0],c[3],b[0]);B.point2plane(c[1],c[5],c[6],b[1]);B.point2plane(c[4],c[5],c[1],b[2]);B.point2plane(c[3],c[2],c[6],b[3]);B.point2plane(c[0],c[1],c[2],b[4]);B.point2plane(c[5],c[4],c[7],b[5])},point2plane:function(a,c,f,b){m.subtract(a,c,p);
m.subtract(f,c,n);m.cross(n,p,b);m.normalize(b);b[3]=-m.dot(b,a)},project:function(c,f,b,d,k){k||(k=c);a[0]=c[0];a[1]=c[1];a[2]=c[2];a[3]=1;e.multiplyVec4(f,a);2<k.length&&(k[2]=-a[2]);e.multiplyVec4(b,a);B.assert(0!==a[3]);k[0]=a[0]/a[3];k[1]=a[1]/a[3];k[2]=a[2]/a[3];k[0]=(0.5*k[0]+0.5)*d[2]+d[0];k[1]=(0.5*k[1]+0.5)*d[3]+d[1]},geodeticToGeocentricLatidude:function(a){return Math.atan((1-B.ECCENTRICITY_SQUARED)*Math.tan(a))},latLon2positionWGS84Ellipsoid:function(a,c,f,b){var d=6378137/Math.sqrt(1-
B.ECCENTRICITY_SQUARED*Math.pow(Math.sin(a),2)),k=Math.cos(a);b[0]=(d+f)*Math.cos(c)*k;b[1]=(d*(1-B.ECCENTRICITY_SQUARED)+f)*Math.sin(a);b[2]=-(d+f)*Math.sin(c)*k},pos2latLon:function(a,c){var f=m.length(a);c[0]=Math.asin(B.clamp(a[1]/f,-1,1));var b=Math.cos(c[0]);c[1]=(0>a[2]?1:-1)*Math.acos(B.clamp(a[0]/(b*f),-1,1));c[0]=B.rad2deg(c[0]);c[1]=B.rad2deg(c[1]);c[2]=f},pos2latLonWGS84Ellipsoid:function(a,c){var f=a[0],b=-a[2],d=a[1],k=Math.sqrt(Math.pow(6378137,2)*(1-B.ECCENTRICITY_SQUARED)),n=Math.sqrt((Math.pow(6378137,
2)-Math.pow(k,2))/Math.pow(k,2)),e=Math.sqrt(Math.pow(f,2)+Math.pow(b,2)),s=Math.atan2(6378137*d,k*e),f=Math.atan2(b,f),d=Math.atan2(d+Math.pow(n,2)*k*Math.pow(Math.sin(s),3),e-6378137*B.ECCENTRICITY_SQUARED*Math.pow(Math.cos(s),3)),k=6378137/Math.sqrt(1-B.ECCENTRICITY_SQUARED*Math.pow(Math.sin(d),2)),e=e/Math.cos(d)-k+B.EARTH_RADIUS;c[0]=d;c[1]=f;c[2]=e},computeGlobeTransformation:function(a,c,f){var b=B.deg2rad(a[0]);a=B.deg2rad(a[1]);B.latLon2position(b,a,u,c);e.translate(f,u);e.rotateY(f,0.5*
Math.PI+a);e.rotateX(f,0.5*Math.PI-b);return f},readUInt16:function(a,c){return a[c]+(a[c+1]<<8)},readUInt32:function(a,c){return a[c]+(a[c+1]<<8)+(a[c+2]<<16)+(a[c+3]<<24)},setIfDefined:function(a,c,f){void 0!==c[a]&&(f[a]=c[a])},array2object:function(a,c){var f={},b,d;if(void 0!==c){b=0;for(d=a.length;b<d;++b)f[c(a[b])]=a[b]}else{b=0;for(d=a.length;b<d;++b)f[a[b]]=a[b]}return f},object2array:function(a){var c=[],f;for(f in a)c.push(a[f]);return c},mergeObjects:function(a,c,f){void 0===f&&(f={});
var b;if(f!==a)for(b in a)f[b]=a[b];if(f!==c)for(b in c)f[b]=c[b];return f},subtractObjects:function(a,c){var f={},b;for(b in a)void 0===c[b]&&(f[b]=a[b]);return f},intersectObjects:function(a,c){var f={},b;for(b in a)void 0!==c[b]&&(f[b]=a[b]);return f},getFirstObjectKey:function(a){for(var c in a)return c},getFirstObjectValue:function(a){return a[B.getFirstObjectKey(a)]},objectEmpty:function(a){for(var c in a)return!1;return!0},arraysEqual:function(a,c){if(a.length!==c.length)return!1;for(var f=
0,b=a.length;f<b;++f)if(a[f]!==c[f])return!1;return!0},byteBuffer2base64image:function(a,c,f,b,d){var k=4*c;B.assert(a.length===k*f,"buffer length must match image resolution");var n=document.createElement("canvas");n.width=c;n.height=f;var e=n.getContext("2d");c=e.getImageData(0,0,c,f);for(var s=c.data,p=0;p<f;++p)for(var g=p*k,q=(f-1-p)*k,l=0;l<k;++l)s[g++]=a[q++];e.putImageData(c,0,0);return n.toDataURL(b,d)},FPSCounterDebugString:void 0,FPSCounter:function(){var a=B.performance.now(),c=0,f=[];
this.step=function(b){++c;if(1E3<b-a){for(var d=0;d<f.length;++d)f[d](c,B.FPSCounterDebugString);a=b;c=0}};this.addListener=function(a){B.assert(-1===f.indexOf(a));f.push(a)};this.removeListener=function(a){a=f.indexOf(a);B.assert(-1!==a);f.splice(a,1)}},cround:function(a){return Math.round(100*a)/100},logWithBase:function(a,c){return Math.log(a)/Math.log(c)},setMatrixTranslation:function(a,c){a[12]=c[0];a[13]=c[1];a[14]=c[2]},setMatrixTranslation3:function(a,c,f,b){a[12]=c;a[13]=f;a[14]=b},getMatrixTranslation:function(a,
c){c=c||m.create();c[0]=a[12];c[1]=a[13];c[2]=a[14];return c},createTranslationMatrix:function(a,c){a=e.identity(a);B.setMatrixTranslation(a,c);return a},fovx2fovy:function(a,c,f){return 2*Math.atan(f*Math.tan(0.5*a)/c)},fovy2fovx:function(a,c,f){return 2*Math.atan(c*Math.tan(0.5*a)/f)},fovx2fovd:function(a,c,f){return 2*Math.atan(Math.sqrt(c*c+f*f)*Math.tan(0.5*a)/c)},fovy2fovd:function(a,c,f){return 2*Math.atan(Math.sqrt(c*c+f*f)*Math.tan(0.5*a)/f)},fovd2fovx:function(a,c,f){return 2*Math.atan(c*
Math.tan(0.5*a)/Math.sqrt(c*c+f*f))},fovd2fovy:function(a,c,f){return 2*Math.atan(f*Math.tan(0.5*a)/Math.sqrt(c*c+f*f))},nextHighestPowerOfTwo:function(a){--a;for(var c=1;32>c;c<<=1)a|=a>>c;return a+1},resampleHermite:function(a,c,f,b,d,k,n){var e=c/d;f/=k;for(var s=Math.ceil(e/2),p=Math.ceil(f/2),g=0;g<k;g++)for(var q=0;q<d;q++){for(var l=4*(q+(n?k-g-1:g)*d),m=0,r=0,h=0,t=0,u=0,v=0,z=0,y=(g+0.5)*f,B=Math.floor(g*f);B<(g+1)*f;B++)for(var w=Math.abs(y-(B+0.5))/p,x=(q+0.5)*e,w=w*w,A=Math.floor(q*e);A<
(q+1)*e;A++){var aa=Math.abs(x-(A+0.5))/s,m=Math.sqrt(w+aa*aa);-1<=m&&1>=m&&(m=2*m*m*m-3*m*m+1,0<m&&(aa=4*(A+B*c),z+=m*a[aa+3],h+=m,255>a[aa+3]&&(m=m*a[aa+3]/250),t+=m*a[aa],u+=m*a[aa+1],v+=m*a[aa+2],r+=m))}b[l]=t/r;b[l+1]=u/r;b[l+2]=v/r;b[l+3]=z/h}},linelineDistance3D:function(a,c,f,b){var d,k,n;q[0]=a[0]-f[0];q[1]=a[1]-f[1];q[2]=a[2]-f[2];t[0]=b[0]-f[0];t[1]=b[1]-f[1];t[2]=b[2]-f[2];if(1E-4>Math.abs(t.x)&&1E-4>Math.abs(t.y)&&1E-4>Math.abs(t.z))return[!1];r[0]=c[0]-a[0];r[1]=c[1]-a[1];r[2]=c[2]-
a[2];if(1E-4>Math.abs(r.x)&&1E-4>Math.abs(r.y)&&1E-4>Math.abs(r.z))return[!1];c=q[0]*t[0]+q[1]*t[1]+q[2]*t[2];b=t[0]*r[0]+t[1]*r[1]+t[2]*r[2];d=q[0]*r[0]+q[1]*r[1]+q[2]*r[2];k=t[0]*t[0]+t[1]*t[1]+t[2]*t[2];n=(r[0]*r[0]+r[1]*r[1]+r[2]*r[2])*k-b*b;if(1E-4>Math.abs(n))return[!1];d=(c*b-d*k)/n;c=(c+b*d)/k;v[0]=a[0]+d*r[0];v[1]=a[1]+d*r[1];v[2]=a[2]+d*r[2];x[0]=f[0]+c*t[0];x[1]=f[1]+c*t[1];x[2]=f[2]+c*t[2];return[!0,m.dist(v,x),v,x]},projectVectorVector2D:function(a,c,b){z[0]=c[0]-a[0];z[1]=c[1]-a[1];
z[2]=0;y[0]=b[0]-a[0];y[1]=b[1]-a[1];y[2]=0;A[0]=b[0];A[1]=b[1];A[2]=0;c=m.dot(y,z);b=m.length(z);c/=b*b;s[0]=z[0]*c;s[1]=z[1]*c;w[0]=a[0]+s[0];w[1]=a[1]+s[1];m.subtract(A,w,f);a=m.length(f);c=m.length(y);b=m.length(z);var d=m.length(s);if(d>c||d>b)a=Number.MAX_VALUE;return a}};B.performance=window.performance||{};B.performance.now=B.performance.now||B.performance.mozNow||B.performance.msNow||B.performance.oNow||B.performance.webkitNow||function(){return(new Date).getTime()};return B})},"esri/views/3d/webgl-engine/lib/DDSUtil":function(){define([],
function(){function b(b){return b.charCodeAt(0)+(b.charCodeAt(1)<<8)+(b.charCodeAt(2)<<16)+(b.charCodeAt(3)<<24)}var h=b("DXT1"),l=b("DXT3"),m=b("DXT5");return{uploadDDSLevels:function(b,e,d){var c=new Int32Array(e,0,31),a,k,p,n,u,q,t;if(542327876!=c[0])return console.error("Invalid magic number in DDS header"),0;if(!c[20]&4)return console.error("Unsupported format, must contain a FourCC code"),0;a=c[21];switch(a){case h:a=8;k=33776;break;case l:a=16;k=33778;break;case m:a=16;k=33779;break;default:return console.error("Unsupported FourCC code:",
String.fromCharCode(a&255,a>>8&255,a>>16&255,a>>24&255)),null}q=1;c[2]&131072&&!1!==d&&(q=Math.max(1,c[7]));d=c[4];p=c[3];c=c[1]+4;for(t=0;;++t){t<q&&(n=Math.floor((d+3)/4)*Math.floor((p+3)/4)*a,u=new Uint8Array(e,c,n));b.compressedTexImage2D(b.TEXTURE_2D,t,k,d,p,0,u);c+=n;if(1==d&&1==p)break;d=Math.max(1,d>>1);p=Math.max(1,p>>1)}return{mipmapCount:q,width:d,height:p}}}})},"esri/renderers/SimpleRenderer":function(){define(["../core/declare","dojo/_base/lang","../core/lang","../symbols/support/jsonUtils",
"./Renderer"],function(b,h,l,m,g){return b(g,{declaredClass:"esri.renderer.SimpleRenderer",constructor:function(b){if(b&&!b.declaredClass){var d=b;this.symbol=(b=d.symbol)&&(b.declaredClass?b:m.fromJSON(b));this.label=d.label;this.description=d.description}else this.symbol=b},description:null,label:null,symbol:null,getSymbol:function(b){return this.symbol},toJson:function(){try{throw Error("toJson is deprecated, use toJSON instead");}catch(b){console.warn(b.stack)}return this.toJSON()},toJSON:function(){var b=
h.mixin(this.inherited(arguments),{type:"simple",label:this.label,description:this.description,symbol:this.symbol&&this.symbol.toJSON()});return l.fixJson(b)}})})},"esri/views/3d/environment/Stars":function(){define("dojo/text!./materials/StarMaterial.xml require ../../../core/declare ../../../core/Accessor ../../../request ../lib/glMatrix ../webgl-engine/lib/GeometryRenderer ../webgl-engine/lib/Util ../webgl-engine/lib/VertexBufferLayout ../webgl-engine/materials/internal/MaterialUtil ../webgl-engine/lib/GLSLProgram ../webgl-engine/lib/webglConstants".split(" "),
function(b,h,l,m,g,e,d,c,a,k,p,n){var u=e.mat4d;e=e.mat3d;var q=c.VertexAttrConstants,t=e.toMat4(e.createFrom(1,0,0,0,0.9174771405229186,0.39778850739794974,0,-0.39778850739794974,0.9174771405229186)),r=e.toMat4(e.createFrom(1,0,0,0,0.9174771405229186,-0.39778850739794974,0,0.39778850739794974,0.9174771405229186));return l([m],{classMetadata:{properties:{view:{}}},normalizeCtorArgs:function(a){return"esri.views.SceneView"===a.declaredClass?{view:a,initialized:!1,numBinaryFloats:2,numBinaryUInt8:1,
bytesPerStar:9}:a},constructor:function(){this.promise=this._loadBrightStarCatalogue();this.renderData={model:u.identity()};this.gl=this.slot=0;this._needsRender=!0;this._didRender=!1;this.vertexBufferLayout=new a([q.POSITION,q.COLOR,q.SIZE],[3,4,1],[n.FLOAT,n.UNSIGNED_BYTE,n.FLOAT])},fillInterleaved:function(a,c,b,f,d,n,e){b=d.getStride();var p=4*b,g=k.fill;d=d.getAttributes();var l=a.faces.indices[q.POSITION],m=a.vertexAttr[q.POSITION].data;f=e+d[q.POSITION].offset;for(var r=0;r<l.length;++r){var h=
3*l[r];g(m,h,n,f,c,3);f+=b}c=a.faces.indices[q.COLOR];l=a.vertexAttr[q.COLOR].data;f=4*(e+d[q.COLOR].offset);m=new Uint8Array(n.buffer);for(r=0;r<c.length;++r)h=4*c[r],g(l,h,m,f,null,4),f+=p;p=a.faces.indices[q.SIZE];a=a.vertexAttr[q.SIZE].data;f=e+d[q.SIZE].offset;for(r=0;r<p.length;++r)n[f]=a[p[r]],f+=b},setContext:function(a){this.gl=a},loadShaders:function(a,c,d){a.vertexShaderStar||a._parse(b);this.program=p.fromSnippets("vertexShaderStar","fragmentShaderStar",a,this.gl);this.programRep=d},render:function(a){},
render_loaded:function(a){if(!(a.slot!==this.slot||"material"!==a.pass)){var c=this.gl,b=this.program;b.use();b.uniformMatrix4fv("view",a.camera.viewMatrix);b.uniformMatrix4fv("proj",a.camera.projectionMatrix);b.uniform4fv("viewport",a.camera.viewport);b.uniformMatrix4fv("model",this.renderData.model);c.web3DDefaultState.depthFunc!==c.LEQUAL&&c.depthFunc(c.LEQUAL);c.enable(c.BLEND);c.depthMask(!1);this.renderer.render(this.program);this._didRender=!0;p.unuse(c);c.depthMask(!0);c.disable(c.BLEND);
c.web3DDefaultState.depthFunc!==c.LEQUAL&&c.depthFunc(c.web3DDefaultState.depthFunc)}},needsRender:function(){return this._needsRender},resetNeedsRender:function(){this._didRender&&(this._needsRender=!1)},init:function(){this.promise.then(function(a){this.numStars=a.byteLength/this.bytesPerStar;var c=new Float32Array(a,0,this.numStars*this.numBinaryFloats);a=new Uint8Array(a,4*this.numStars*this.numBinaryFloats,this.numStars*this.numBinaryUInt8);this.geometryData=this._createStarGeometryData(c,a);
this.renderer=new d(this.geometryData,this.vertexBufferLayout,this.fillInterleaved,this.gl);this.renderer.enablePointRendering(!0);this._dateListener=this.view.environment.lighting.watch("date",this.update.bind(this));this.initialized=!0;this.update(this.view.environment.lighting.date);this.render=this.render_loaded}.bind(this),function(a){console.error("The stars could not be loaded:");console.error(a)})},destroy:function(){this.promise.cancel("Atmosphere has been removed.");this._dateListener.remove()},
_computeDayDuration:function(a){var c=new Date(a.getFullYear(),0,1,11,58,56),b=new Date(a.getFullYear()+1,0,1,11,58,55);return(a-c)/(b-c)},update:function(a){var c=a.getHours()/12,b=a.getMinutes()/60*(2/24),f=a.getSeconds()/60*(2/1440),c=(c+b+f-0.9972222)%2;a=2*this._computeDayDuration(a);b=u.create(r);u.rotateZ(b,-a*Math.PI);u.multiply(t,b,b);u.rotateZ(b,-c*Math.PI);this.renderData.model=b;this.view._stage.setNeedsRender()},_hexToRGB:function(a){return[parseInt(a.substring(0,2),16),parseInt(a.substring(2,
4),16),parseInt(a.substring(4,6),16)]},_unpackUint8Attributes:function(a){return 192<=a?[2.9,a-192]:160<=a?[2.5,a-160]:128<=a?[2,a-128]:96<=a?[1.5,a-96]:64<=a?[1,a-64]:32<=a?[0.7,a-32]:[0.4,a]},_createStarGeometryData:function(a,c){for(var b="9bb2ff;9eb5ff;aabfff;bbccff;ccd8ff ;dae2ff;e4e9ff;eeefff;f8f6ff;fff9fb;fff5ef;fff1e5;ffeddb;ffe9d2;ffe6ca;ffe3c3;ffe0bb;ffddb4;ffdaad;ffd6a5;ffd29c;ffcc8f;ffc178;ffa94b;ff7b00".split(";"),f=new Float32Array(3*this.numStars),d=new Uint8Array(4*this.numStars),
k=new Float32Array(this.numStars),n=new Uint32Array(this.numStars),e=0;e<this.numStars;e++){var p=2*e,g=3*e,l=4*e,m=a[p+0],p=a[p+1];f[g+0]=-Math.cos(m)*Math.sin(p);f[g+1]=-Math.sin(m)*Math.sin(p);f[g+2]=-Math.cos(p);g=this._unpackUint8Attributes(c[e]);m=this._hexToRGB(b[g[1]]);d[l+0]=255*m[0];d[l+1]=255*m[1];d[l+2]=255*m[2];d[l+3]=255;k[e]=g[0];n[e]=e}b={};b[q.POSITION]=n;b[q.NORMAL]=n;b[q.UV0]=n;b[q.COLOR]=n;b[q.SIZE]=n;n={};n[q.POSITION]={size:3,data:f};n[q.COLOR]={size:4,data:d};n[q.SIZE]={size:1,
data:k};return{faces:{type:"point",indices:b,positionKey:q.POSITION},vertexAttr:n}},_loadBrightStarCatalogue:function(){return g({url:h.toUrl("./resources/stars.wsv"),handleAs:"arraybuffer",failOk:!0})}})})},"esri/views/2d/math/common":function(){define([],function(){if(!b)var b=1E-6;if(!h)var h="undefined"!==typeof Float32Array?Float32Array:Array;if(!l)var l=Math.random;var m={GLMAT_EPSILON:b,GLMAT_ARRAY_TYPE:h,GLMAT_RANDOM:l,setMatrixArrayType:function(b){m.GLMAT_ARRAY_TYPE=b}},g=Math.PI/180,e=
180/Math.PI;m.toRadian=function(b){return b*g};m.toDegree=function(b){return b*e};m.setMatrixArrayType(Array);return m})},"esri/Basemap":function(){define("./core/declare dojo/_base/lang dojo/_base/array dojo/Deferred ./core/Collection ./core/Accessor ./core/Evented ./core/Promise ./core/urlUtils ./layers/ArcGISTiledLayer ./layers/ArcGISElevationLayer ./layers/OpenStreetMapLayer ./layers/WebTiledLayer ./layers/VectorTiledLayer".split(" "),function(b,h,l,m,g,e,d,c,a,k,p,n,u,q){var t=0,r=b([e,d,c],
{declaredClass:"esri.Basemap",constructor:function(){this.id=Date.now().toString(16)+"-basemap-"+t++;this._lyrLoadHandler=this._lyrLoadHandler.bind(this);this._dfd=new m;this.addResolvingPromise(this._dfd.promise)},getDefaults:function(){return h.mixin(this.inherited(arguments),{baseLayers:[],referenceLayers:[],elevationLayers:[]})},_baseLayersSetter:function(a){this._baseLayers?(this._baseLayers.clear(),this._baseLayers.addItems(a)):this._baseLayers=new g(a);return this._baseLayers},_elevationLayers:null,
_elevationLayersSetter:function(a){this._elevationLayers?(this._elevationLayers.clear(),this._elevationLayers.addItems(a)):this._elevationLayers=new g(a);return this._elevationLayers},initialExtent:null,_referenceLayersSetter:function(a){this._referenceLayers?(this._referenceLayers.clear(),this._referenceLayers.addItems(a)):this._referenceLayers=new g(a);return this._referenceLayers},spatialReference:null,title:null,visible:!0,load:function(){var a=function(a){a.then(this._lyrLoadHandler)};this.elevationLayers.forEach(a,
this);this.baseLayers.forEach(a,this);this.referenceLayers.forEach(a,this);return this._dfd.promise},_lyrLoadHandler:function(a){var c=this.baseLayers.length,f=this.baseLayers.indexOf(a),b=this.elevationLayers.indexOf(a),d=null;0===f?d=a:0===c&&0===b&&(d=a);d&&(this.initialExtent=d.initialExtent.clone(),this.spatialReference=d.initialExtent.spatialReference.clone(),this.tileInfo=d.tileInfo?d.tileInfo.clone():null,this.emit("load",{target:this}),this._dfd.resolve(this))}}),v=function(c){var b={};null!=
c.id&&(b.id=c.id);null!=c.opacity&&(b.opacity=c.opacity);null!=c.visibility&&(b.visible=c.visibility);null!=c.minScale&&(b.minScale=c.minScale);null!=c.maxScale&&(b.maxScale=c.maxScale);null!=c.exclusionAreas&&(b.exclusionAreas=h.clone(c.exclusionAreas));null!=c.showLegend&&(b.showLegend=c.showLegend);null!=c.copyright&&(b.copyright=c.copyright);if(c.layerType)switch(c.layerType){case "OpenStreetMap":c=new n(b);break;case "ArcGISTiledElevationServiceLayer":b.url=a.normalize(c.url);c=new p(b);break;
case "WebTiledLayer":b.urlTemplate=a.normalize(c.templateUrl||c.urlTemplate);b.subDomains=c.subDomains;c=new u(b);break;case "ArcGISTiledMapServiceLayer":b.url=a.normalize(c.url);c=new k(b);break;case "ArcGISTiledImageServiceLayer":b.url=a.normalize(c.url);c=new k(b);break;case "VectorTiledLayer":b.url=a.normalize(c.url);b.styleUrl=c.styleUrl;b.styles=c.styles;c=new q(b);break;default:throw Error(h.replace('Unknown basemap layer type: "{type}" found in basemap definition.',{type:c.layerType}));}else b.url=
a.normalize(c.url),c=new k(b);return c};r.fromJSON=function(a){var c=[],f=[];l.forEach(a.baseMapLayers,function(a){var b=v(a);a.isReference?f.push(b):c.push(b)});var b=l.map(a.elevationLayers,function(a){a.layerType||(a.layerType="ArcGISTiledElevationServiceLayer");return v(a)}),b={baseLayers:c,referenceLayers:f,elevationLayers:b};null!=a.title&&(b.title=a.title);null!=a.id&&(b.id=a.id);return new r(b)};return r})},"esri/views/3d/webgl-engine/materials/HUDMaterial":function(){define("dojo/_base/lang dojo/text!./HUDMaterial.xml ./internal/MaterialUtil ../lib/GLSLProgram ../lib/GLSLShader ../lib/ShaderVariations ../lib/VertexBufferLayout ../lib/Util ../lib/gl-matrix ../lib/webglConstants".split(" "),
function(b,h,l,m,g,e,d,c,a,k){var p=a.vec2d,n=a.vec3d,u=a.mat4d,q=c.assert,t=c.VertexAttrConstants,r={bottomLeft:[0,0],bottom:[0.5,0],bottomRight:[1,0],left:[0,0.5],center:[0.5,0.5],right:[1,0.5],topLeft:[0,1],top:[0.5,1],topRight:[1,1]};c=function(a,c){l.basicMaterialConstructor(this,c);a=a||null;a.texCoordScale=a.texCoordScale||[1,1];a.occlusionTest=void 0!==a.occlusionTest?a.occlusionTest:!0;a.color=a.color||[1,1,1,1];a.screenMinMaxSize=a.screenMinMaxSize||[0,1E5];a.outlineColor=a.outlineColor||
[1,1,1,1];a.outlineSize=a.outlineSize||0;a.textureIsSignedDistanceField=a.textureIsSignedDistanceField?1:0;a.screenOffset?a.screenOffset.forEach(function(c,f){a.screenOffset[f]=2*c}):a.screenOffset=[0,0];"string"===typeof a.anchorPos?(q(r[a.anchorPos],"HUDMaterial: invalid anchorPos specified"),a.anchorPos=r[a.anchorPos]):a.anchorPos||(a.anchorPos=r.center);a.shaderPolygonOffset=a.shaderPolygonOffset||1E-5;var f=new d([t.POSITION,t.NORMAL,t.UV0,t.COLOR,t.SIZE,t.AUXPOS1],[3,3,2,4,2,4],[k.FLOAT,k.FLOAT,
k.FLOAT,k.UNSIGNED_BYTE,k.FLOAT,k.FLOAT]),b=f.getStride(),e=4*b;this.dispose=function(){};this.getParameterValues=function(){var c={color:a.color,texCoordScale:a.texCoordScale,polygonOffset:a.polygonOffset,anchorPos:a.anchorPos,screenOffset:a.screenOffset,screenMinMaxSize:a.screenMinMaxSize,shaderPolygonOffset:a.shaderPolygonOffset,textureIsSignedDistanceField:a.textureIsSignedDistanceField,outlineColor:a.outlineColor,outlineSize:a.outlineSize};a.textureId&&(c.textureId=a.textureId);a.direction&&
(c.direction=a.direction);return c};this.setParameterValues=function(c){for(var f in c)"textureId"===f&&q(a.textureId,"Can only change texture of material that already has a texture"),"direction"===f&&q(a.direction,"Can only change direction of HUDMaterial which was initialized with a direction"),a[f]=c[f];this.notifyDirty("matChanged")};this.getParams=function(){return a};this.getOutputAmount=function(a){return 6*a*b};this.getVertexBufferLayout=function(){return f};this.fillInterleaved=function(c,
d,k,n,p,g){n=l.fill;for(var q=f.getAttributes(),m=c.faces.indices[t.POSITION],r=c.vertexAttr[t.POSITION].data,h=g+q[t.POSITION].offset,u=0;u<m.length;++u){var v=3*m[u];n(r,v,p,h,d,3);h+=b;n(r,v,p,h,d,3);h+=b;n(r,v,p,h,d,3);h+=b;n(r,v,p,h,d,3);h+=b;n(r,v,p,h,d,3);h+=b;n(r,v,p,h,d,3);h+=b}d=c.faces.indices[t.NORMAL];r=c.vertexAttr[t.NORMAL].data;h=g+q[t.NORMAL].offset;for(u=0;u<d.length;++u)v=3*d[u],n(r,v,p,h,k,3),h+=b,n(r,v,p,h,k,3),h+=b,n(r,v,p,h,k,3),h+=b,n(r,v,p,h,k,3),h+=b,n(r,v,p,h,k,3),h+=b,
n(r,v,p,h,k,3),h+=b;h=g+q[t.UV0].offset;u=c.vertexAttr[t.UV0].data;null==u||3>=u.length?(k=v=0,d=a.texCoordScale[0],r=a.texCoordScale[1]):(v=c.vertexAttr[t.UV0].data[0],k=c.vertexAttr[t.UV0].data[1],d=c.vertexAttr[t.UV0].data[2],r=c.vertexAttr[t.UV0].data[3]);d=Math.min(1.99999,d+1);r=Math.min(1.99999,r+1);for(u=0;u<m.length;++u)p[h]=v,p[h+1]=k,h+=b,p[h]=d,p[h+1]=k,h+=b,p[h]=d,p[h+1]=r,h+=b,p[h]=d,p[h+1]=r,h+=b,p[h]=v,p[h+1]=r,h+=b,p[h]=v,p[h+1]=k,h+=b;m=c.faces.indices[t.COLOR];k=c.vertexAttr[t.COLOR].data;
h=4*(g+q[t.COLOR].offset);d=new Uint8Array(p.buffer);for(u=0;u<m.length;++u)v=4*m[u],n(k,v,d,h,null,4),h+=e,n(k,v,d,h,null,4),h+=e,n(k,v,d,h,null,4),h+=e,n(k,v,d,h,null,4),h+=e,n(k,v,d,h,null,4),h+=e,n(k,v,d,h,null,4),h+=e;m=c.faces.indices[t.SIZE];v=c.vertexAttr[t.SIZE].data;h=g+q[t.SIZE].offset;for(u=0;u<m.length;++u)k=v[2*m[u]],d=v[2*m[u]+1],p[h]=k,p[h+1]=d,h+=b,p[h]=k,p[h+1]=d,h+=b,p[h]=k,p[h+1]=d,h+=b,p[h]=k,p[h+1]=d,h+=b,p[h]=k,p[h+1]=d,h+=b,p[h]=k,p[h+1]=d,h+=b;if(null!=c.faces.indices[t.AUXPOS1]&&
null!=c.vertexAttr[t.AUXPOS1]){m=c.faces.indices[t.AUXPOS1];c=c.vertexAttr[t.AUXPOS1].data;h=g+q.auxpos1.offset;for(u=0;u<c.length;++u)v=4*m[u],n(c,v,p,h,null,4),h+=b,n(c,v,p,h,null,4),h+=b,n(c,v,p,h,null,4),h+=b,n(c,v,p,h,null,4),h+=b,n(c,v,p,h,null,4),h+=b,n(c,v,p,h,null,4),h+=b}};var p=n.create(),g=n.create(),m=[0,0],h=a.anchorPos;this.intersect=function(a,c,f,b,d,k,e,s,l,r,v,z){if(z){c=a.getData().getVertexAttr()[t.POSITION];a=a.getData().getVertexAttr()[t.SIZE];q(3<=c.size);for(e=0;e<c.data.length/
c.size;e++)if(s=e*c.size,n.set3(c.data[s],c.data[s+1],c.data[s+2],p),u.multiplyVec3(f,p,p),s=e*a.size,m[0]=a.data[s],m[1]=a.data[s+1],l.projectPoint(p,g),-1<g[0]){s=g[0]-1-(0<h[0]?m[0]*h[0]:0);r=s+m[0];z=g[1]-1-(0<h[1]?m[1]*h[1]:0);var w=z+m[1];b[0]>s&&(b[0]<r&&b[1]>z&&b[1]<w)&&(s=n.subtract(d,p,n.create()),r=n.length(s),n.scale(s,1/r),r=0.98*r/n.dist(d,k),v(r,s,-1,1,!0))}}};this.getGLMaterials=function(){return[v,void 0,void 0]};this.getAllTextureIds=function(){return[a.textureId]};this._textureDirty=
!1;this.setTextureDirty=function(){this._textureDirty=!0}};var v=function(a,c,f){function d(){return c.shaderVariators.HUDMaterial.getProgram([!!n.direction,!!n.worldScale,n.occlusionTest,n.textureIsSignedDistanceField])}l.basicGLMaterialConstructor(this,a);var k=0,n=b.clone(a.getParams()),e=c.get("hudOcclusionTestPixel"),g=d();l.singleTextureGLMaterialConstructor(this,f,n);var q=[254/255,253/255,252/255];this.beginSlot=function(a){k=a;return n.occlusionTest?2===a||4==a:2===a};this.getProgram=function(){return 2===
k&&n.occlusionTest?e:g};this.getAllPrograms=function(){return[e,g]};this.updateParameters=function(){var c=a.getParams();n.color=c.color;n.texCoordScale=c.texCoordScale;n.polygonOffset=c.polygonOffset;n.anchorPos=c.anchorPos;n.screenOffset=c.screenOffset;n.screenMinMaxSize=c.screenMinMaxSize;n.direction=c.direction;n.shaderPolygonOffset=c.shaderPolygonOffset;n.textureIsSignedDistanceField=c.textureIsSignedDistanceField;n.outlineColor=c.outlineColor;n.outlineSize=c.outlineSize;this.updateTexture(c.textureId);
g=d()};this.bind=function(c,f){a._textureDirty&&(this.renderTexture(c),a._textureDirty=!1);if(2===k&&n.occlusionTest)e.use(),e.uniform1f("polygonOffset",n.shaderPolygonOffset),e.uniform4fv("viewport",f.viewport),e.uniform4f("color",q[0],q[1],q[2],1),a.getVertexBufferLayout().enableVertexAttribArrays(c,e),c.depthFunc(c.LEQUAL);else{g.use();this.bindTexture(c,g);g.uniform1i("framebufferTex",1);c.activeTexture(c.TEXTURE1);c.bindTexture(c.TEXTURE_2D,f.framebufferTex);c.activeTexture(c.TEXTURE0);g.uniform3fv("markerColor",
q);g.uniform4fv("viewport",f.viewport);g.uniform4fv("overrideColor",n.color);g.uniform1f("pixelRatio",f.pixelRatio);g.uniform1f("polygonOffset",n.shaderPolygonOffset);n.textureIsSignedDistanceField&&(g.uniform4fv("outlineColor",n.outlineColor),g.uniform1f("outlineSize",n.outlineSize));if(n.worldScale){var b=[-1,-1],d=n.screenMinMaxSize,s=f.proj,l=f.viewport[2]/f.pixelRatio;d&&(0!==s[11]?(s=2*Math.atan(1/s[0]),l=2*(Math.tan(s/2)/l),b[0]=d[0]*l,b[1]=d[1]*l):p.scale(d,2/(s[0]*l),b));g.uniform2fv("minMaxWorldSizeFactor",
b)}n.direction&&g.uniform3fv("direction",n.direction);g.uniform2fv("texScale",n.texCoordScale);g.uniform2fv("screenOffset",n.screenOffset);g.uniform2fv("anchorPos",n.anchorPos);a.getVertexBufferLayout().enableVertexAttribArrays(c,g);n.polygonOffset&&(c.enable(c.POLYGON_OFFSET_FILL),c.polygonOffset(0,-4));c.web3DDefaultState.cullEnabled&&c.disable(c.CULL_FACE);c.enable(c.BLEND)}};this.release=function(c){2===k&&n.occlusionTest?(c.depthFunc(c.LESS),a.getVertexBufferLayout().disableVertexAttribArrays(c,
e)):(n.polygonOffset&&c.disable(c.POLYGON_OFFSET_FILL),c.web3DDefaultState.cullEnabled&&c.enable(c.CULL_FACE),c.disable(c.BLEND),a.getVertexBufferLayout().disableVertexAttribArrays(c,g))};this.bindView=function(a,c){var f=c.origin;2===k&&n.occlusionTest?(l.bindView(f,c.view,e),l.bindCamPos(f,c.viewInvTransp,e)):(l.bindView(f,c.view,g),l.bindCamPos(f,c.viewInvTransp,g))};this.bindInstance=function(a,c){2===k&&n.occlusionTest?(e.uniformMatrix4fv("model",c.transformation),e.uniformMatrix4fv("modelNormal",
c.transformationNormal)):g.uniformMatrix4fv("model",c.transformation)};this.getDrawMode=function(a){return 2===k&&n.occlusionTest?a.POINTS:a.TRIANGLES}};c.loadShaders=function(a,c,f,b){a._parse(h);var d=0<b.getParameter(b.MAX_VERTEX_TEXTURE_IMAGE_UNITS);c=new e("hud",["vertexShaderHUD","fragmentShaderHUD"],null,f,c,a,b);c.addBinaryShaderSnippetSuffix("Direction","Direction",[!0,!1]);c.addBinaryShaderSnippetSuffix("WorldScale","WorldScale",[!0,!1]);c.addDefine("OcclTest",d?"OCCL_TEST":"OCCL_PIXELSHADER");
c.addDefine("SDF","SIGNED_DISTANCE_FIELD");f.shaderVariators.HUDMaterial=c;d=new g(b.VERTEX_SHADER,a.vertexShaderOcclusionTestPixel,b);a=new g(b.FRAGMENT_SHADER,a.fragmentShaderSimple,b);b=new m([d,a],b);f.add("hudOcclusionTestPixel",b)};return c})},"esri/views/3d/webgl-engine/lib/Light":function(){define(["./Util"],function(b){return{AmbientLight:function(h,l,m,g,e,d,c){this.color=h;this.intensity=l;this.ssao=m;this.ssaoAttenuation=g;this.ssaoRadius=e;this.ssaoFilterRadius=d;this.ssaoSamples=c;this.set=
function(a){for(var c in this)"set"!=c&&b.setIfDefined(c,a,this)}},DirectionalLight:function(h,l,m,g,e){this.color=h;this.intensity=l;this.direction=m;this.shadowMap=g;this.shadowAttenuation=e;this.set=function(d){for(var c in this)"set"!=c&&b.setIfDefined(c,d,this)}}}})},"dojo/dom-class":function(){define(["./_base/lang","./_base/array","./dom"],function(b,h,l){function m(a){if("string"==typeof a||a instanceof String){if(a&&!e.test(a))return d[0]=a,d;a=a.split(e);a.length&&!a[0]&&a.shift();a.length&&
!a[a.length-1]&&a.pop();return a}return!a?[]:h.filter(a,function(a){return a})}var g,e=/\s+/,d=[""],c={};return g={contains:function(a,c){return 0<=(" "+l.byId(a).className+" ").indexOf(" "+c+" ")},add:function(a,c){a=l.byId(a);c=m(c);var b=a.className,d,b=b?" "+b+" ":" ";d=b.length;for(var e=0,g=c.length,h;e<g;++e)(h=c[e])&&0>b.indexOf(" "+h+" ")&&(b+=h+" ");d<b.length&&(a.className=b.substr(1,b.length-2))},remove:function(a,c){a=l.byId(a);var d;if(void 0!==c){c=m(c);d=" "+a.className+" ";for(var n=
0,e=c.length;n<e;++n)d=d.replace(" "+c[n]+" "," ");d=b.trim(d)}else d="";a.className!=d&&(a.className=d)},replace:function(a,b,d){a=l.byId(a);c.className=a.className;g.remove(c,d);g.add(c,b);a.className!==c.className&&(a.className=c.className)},toggle:function(a,c,b){a=l.byId(a);if(void 0===b){c=m(c);for(var d=0,e=c.length,q;d<e;++d)q=c[d],g[g.contains(a,q)?"remove":"add"](a,q)}else g[b?"add":"remove"](a,c);return b}}})},"esri/symbols/ObjectSymbol3DLayer":function(){define(["../core/declare","dojo/_base/lang",
"../core/lang","./Symbol3DLayer"],function(b,h,l,m){return b(m,{type:"Object",material:void 0,resource:void 0,width:void 0,height:void 0,depth:void 0,anchor:void 0,toJSON:function(){var b={width:this.width,height:this.height,depth:this.depth,anchor:this.anchor,resource:h.clone(this.resource)};h.mixin(b,this.inherited(arguments));return l.fixJson(b,!0)}})})},"esri/request":function(){define("require dojo/_base/array dojo/_base/config dojo/_base/Deferred dojo/_base/lang dojo/_base/url dojo/_base/xhr dojo/io/script dojo/io/iframe dojo/dom-construct dojo/io-query dojo/when ./kernel ./config ./core/sniff ./core/lang ./core/urlUtils ./core/deferredUtils".split(" "),
function(b,h,l,m,g,e,d,c,a,k,p,n,u,q,t,r,v,x){function w(a){a=new e(a);return(a.host+(a.port?":"+a.port:"")).toLowerCase()}function f(f,b,n,e){var s=!1,q=!1,z;r.isDefined(b)&&(g.isObject(b)?(s=!!b.useProxy,q=!!b.usePost,z=b.crossOrigin):s=!!b);f=g.mixin({},f);f._ssl&&(f.url=f.url.replace(/^http:/i,"https:"));b=f.content;var F=f.url,y=n&&f.form;z=r.isDefined(z)?z:E.useCors;f.load=function(a){var c;a&&(a.error?(c=g.mixin(Error(),a.error),c.log=l.isDebug):"error"===a.status&&(c=g.mixin(Error(),a),c.log=
l.isDebug),c&&!r.isDefined(c.httpCode)&&(c.httpCode=c.code));return c||a};f.error=function(a,c){c&&c.xhr&&c.xhr.abort();a instanceof Error||(a=g.mixin(Error(),a));a.log=l.isDebug;return a};f._token&&(f.content=f.content||{},f.content.token=f._token);var A=0,x;b&&F&&(x=p.objectToQuery(b),A=x.length+F.length+1,t("esri-url-encodes-apostrophe")&&(A=x.replace(/'/g,"%27").length+F.length+1));f.timeout=r.isDefined(f.timeout)?f.timeout:E.timeout;f.handleAs=f.handleAs||"json";try{var N,H,O=z&&v.canUseXhr(f.urlObj)&&
!/https?:\/\/[^\/]+\/[^\/]+\/admin\/?(\/.*)?$/i.test(f.url),I=v.hasSameOrigin(f.urlObj,u.appUrl)||O,J=q||n||A>E.maxUrlLength?!0:!1,S=!I&&-1!==f.handleAs.indexOf("json")&&f.callbackParamName&&!n?!0:!1,U=v.getProxyRule(f.url)||E.forceProxy||s||(!S||J)&&!I?!0:!1;n&&(!t("esri-file-upload")&&!U&&O)&&(U=!0);if(U)if(N=v.getProxyUrl(F,z),H=N.path,N._xo&&(O=!0),!J&&H.length+1+A>E.maxUrlLength&&(J=!0),f.url=H+"?"+F,J)f.content=g.mixin(N.query||{},b);else{var ba=p.objectToQuery(g.mixin(N.query||{},b));ba&&(f.url+=
(-1===F.indexOf("?")?"?":"\x26")+ba);f.content=null}if(S&&!J)return!r.isDefined(f.isAsync)&&4>t("ff")&&(f.isAsync=!0),c.get(B?B(f):f);var X=f.headers;if(O&&(!X||!X.hasOwnProperty("X-Requested-With")))X=f.headers=X||{},X["X-Requested-With"]=null;if(n){var $=f.callbackParamName||"callback.html",P=f.callbackElementName||"textarea",aa,da,Y,fa,ga=y.elements?y.elements.length:0,ea;if(b=f.content)for(aa in b)if(Y=b[aa],r.isDefined(Y)){da=null;for(fa=0;fa<ga;fa++)if(ea=y.elements[fa],ea.name===aa){da=ea;
break}da?da.value=Y:e?y.append(aa,Y):y.appendChild(k.create("input",{type:"hidden",name:aa,value:Y}))}if(t("esri-file-upload"))h.forEach(y.elements,function(a){a.name===$&&y.removeChild(a)}),f.contentType=!1,f.postData=e?y:new FormData(y),delete f.form;else{y.enctype="multipart/form-data";9>t("ie")&&(y.encoding="multipart/form-data");y.method="post";h.some(y.elements,function(a){return a.name===$})||y.appendChild(k.create("input",{type:"hidden",name:$,value:P}));if(-1!==F.toLowerCase().indexOf("addattachment")||
-1!==F.toLowerCase().indexOf("updateattachment"))f.url=F+(-1===F.indexOf("?")?"?":"\x26")+$+"\x3d"+P,U&&(f.url=H+"?"+f.url);delete f.content}}if(O&&!f.hasOwnProperty("withCredentials"))if(e=U?H:F,-1!==h.indexOf(E.webTierAuthServers,w(e)))f.withCredentials=!0;else if(u.id){var ia=u.id.findServerInfo(e);ia&&ia.webTierAuth&&(f.withCredentials=!0)}f=B?B(f):f;if(J){if(n&&!t("esri-file-upload"))return a.send(f);!U&&t("safari")&&(f.url+=(-1===f.url.indexOf("?")?"?":"\x26")+"_ts\x3d"+(new Date).getTime()+
G++);return d.post(f)}return d.get(f)}catch(ja){return n=new m,n.errback(f.error(ja)),n}}function s(a){var c=E.corsStatus,f=v.canUseXhr(a,!0);-1<f&&E.corsEnabledServers.splice(f,1);c[w(a)]=1;return f}function z(a){var c=E.corsStatus;try{var f=w(a.url);if(E.corsDetection&&E.useCors&&t("esri-cors")&&a.url&&-1!==a.url.toLowerCase().indexOf("/rest/services")&&!v.hasSameOrigin(a.urlObj,u.appUrl)&&!v.canUseXhr(a.urlObj)){if(c[f])return c[f];var b=new m;c[f]=b.promise;d.get({url:a.url.substring(0,a.url.toLowerCase().indexOf("/rest/")+
6)+"info",content:{f:"json"},failOk:!0,handleAs:"json",headers:{"X-Requested-With":null},timeout:1E3*E.corsDetectionTimeout}).then(function(c){c?(v.canUseXhr(a.url)||E.corsEnabledServers.push(f),b.resolve()):b.reject()},function(a){b.reject()});return b.promise}}catch(k){console.log("esri._detectCors: an unknown error occurred while detecting CORS support")}}function y(a,c,k,n){function e(a){a._pendingDfd=f(k,n,B,z);if(a._pendingDfd)a._pendingDfd.then(function(c){a.ioArgs=a._pendingDfd&&a._pendingDfd.ioArgs;
a.callback(c);a._pendingDfd=null}).then(null,function(c){var f,b,d;c&&(f=c.code,b=c.subcode,d=(d=c.messageCode)&&d.toUpperCase());if(c&&403==f&&(4==b||c.message&&-1<c.message.toLowerCase().indexOf("ssl")&&-1===c.message.toLowerCase().indexOf("permission"))){if(!k._ssl){k._ssl=k._sslFromServer=!0;y(a,!0,k,n);return}}else if(c&&415==c.status){if(s(k.url),!k._err415){k._err415=1;y(a,!0,k,n);return}}else if(u.id&&-1!==h.indexOf(u.id._errorCodes,f)&&!u.id._isPublic(k.url)&&!g&&(403!=f||-1===h.indexOf(F,
d)&&(!r.isDefined(b)||2==b&&k._token))){a._pendingDfd=u.id.getCredential(k.url,{token:k._token,error:c});a._pendingDfd.then(function(c){k._token=c.token;k._credential=c;k._ssl=k._sslFromServer||c.ssl;y(a,!0,k,n)}).then(null,function(c){a.errback(c);a._pendingDfd=null});return}a.ioArgs=a._pendingDfd&&a._pendingDfd.ioArgs;a.errback(c);a._pendingDfd=null});else{a.ioArgs=a._pendingDfd&&a._pendingDfd.ioArgs;var c=Error("Deferred object is missing");c.log=l.isDebug;a.errback(c);a._pendingDfd=null}}var p=
k.form,g=n.disableIdentityLookup,q=n._preLookup,m=!1;if(t("esri-workers")&&!1!==E.useWorkers)if(!0===n.useWorkers||!0===E.useWorkers)m=!0;else if(n.workerOptions){var v=n.workerOptions;if(v.callback||v.worker&&v.worker.worker instanceof Worker)m=!0}var z=p&&p.append,B=p&&(p.elements?h.some(p.elements,function(a){return"file"===a.type}):z),G=-1!==k.url.toLowerCase().indexOf("token\x3d")||k.content&&k.content.token||B&&h.some(p.elements,function(a){return"token"===a.name})?1:0;if(!c){a.then(function(a){/\/sharing\/rest\/accounts\/self/i.test(k.url)&&
(!G&&!k._token&&a.user&&a.user.username)&&E.webTierAuthServers.push(w(k.url));if(a=k._credential){var c=u.id.findServerInfo(a.server);if(c=c&&c.owningSystemUrl)c=c.replace(/\/?$/,"/sharing"),(a=u.id.findCredential(c,a.userId))&&-1===u.id._getIdenticalSvcIdx(c,a)&&a.resources.splice(0,0,c)}}).always(function(a){delete k._credential;if(a&&(!t("ie")||!a.nodeType))a._ssl=k._ssl});var A=k.load,x=k.error;A&&a.then(function(c){var f=a._pendingDfd,f=f&&f.ioArgs;return A.call(f&&f.args,c,f)});x&&a.then(null,
function(c){var f=a._pendingDfd,f=f&&f.ioArgs;return x.call(f&&f.args,c,f)})}if(u.id&&!G&&!k._token&&!u.id._isPublic(k.url)&&(!g||q))if(c=u.id.findCredential(k.url))k._token=c.token,k._ssl=c.ssl;m?n.workerOptions&&n.workerOptions.worker?(d=n.workerOptions.worker,e(a)):b(["./workers/RequestClient"],function(c){if(n.workerOptions){var f=n.workerOptions;d=c.getClient(f.callback,f.cbFunction)}else d=c.getClient();e(a)}):e(a);return a.promise}function A(a,c){a.url=v.fixUrl(a.url);"file"!==u.appUrl.scheme&&
(a.url=v.getAbsoluteUrl(a.url));a.urlObj=new e(a.url);c=c||{};var f=new m(x._dfdCanceller);n(z(a)).always(function(){y(f,!1,a,c)});return f.promise}var B,E=q.request,F=["COM_0056","COM_0057"],G=0;A._makeRequest=f;A._processRequest=y;A._disableCors=s;A._detectCors=z;A.setRequestPreCallback=function(a){B=a};return A})},"esri/PopupTemplate":function(){define(["dojo/_base/lang","dojo/_base/array","./core/declare","./core/JSONSupport"],function(b,h,l,m){return l([m],{declaredClass:"esri.PopupTemplate",
fieldInfos:null,mediaInfos:null,title:"",content:"",actions:[],priority:null,overwriteActions:!1,constructor:function(){this._fieldLabels={};this._fieldsMap={}},getDefaults:function(){return b.mixin(this.inherited(arguments),{fieldInfos:null,mediaInfos:null,title:"",content:"",actions:[],priority:null,overwriteActions:!1})},_fieldInfosSetter:function(b){var e=this._fieldLabels={},d=this._fieldsMap={};b&&h.forEach(b,function(c){var a=c.fieldName.toLowerCase();e[a]=c.label;d[a]=c});return b}})})},"esri/views/3d/layers/ElevationLayerView3D":function(){define(["../../../core/declare",
"./TiledLayerView3D"],function(b,h){return b(h,{declaredClass:"esri.views.3d.layers.ElevationLayerView3D",isTransparent:function(){return!0}})})},"dojox/html/entities":function(){define(["dojo/_base/lang"],function(b){var h=b.getObject("dojox.html.entities",!0),l=function(b,e){var d,c;if(e._encCache&&e._encCache.regexp&&e._encCache.mapper&&e.length==e._encCache.length)d=e._encCache.mapper,c=e._encCache.regexp;else{d={};c=["["];var a;for(a=0;a<e.length;a++)d[e[a][0]]="\x26"+e[a][1]+";",c.push(e[a][0]);
c.push("]");c=RegExp(c.join(""),"g");e._encCache={mapper:d,regexp:c,length:e.length}}return b=b.replace(c,function(a){return d[a]})},m=function(b,e){var d,c;if(e._decCache&&e._decCache.regexp&&e._decCache.mapper&&e.length==e._decCache.length)d=e._decCache.mapper,c=e._decCache.regexp;else{d={};c=["("];var a;for(a=0;a<e.length;a++){var k="\x26"+e[a][1]+";";a&&c.push("|");d[k]=e[a][0];c.push(k)}c.push(")");c=RegExp(c.join(""),"g");e._decCache={mapper:d,regexp:c,length:e.length}}return b=b.replace(c,
function(a){return d[a]})};h.html=[["\x26","amp"],['"',"quot"],["\x3c","lt"],["\x3e","gt"],["\u00a0","nbsp"]];h.latin=[["\u00a1","iexcl"],["\u00a2","cent"],["\u00a3","pound"],["\u20ac","euro"],["\u00a4","curren"],["\u00a5","yen"],["\u00a6","brvbar"],["\u00a7","sect"],["\u00a8","uml"],["\u00a9","copy"],["\u00aa","ordf"],["\u00ab","laquo"],["\u00ac","not"],["\u00ad","shy"],["\u00ae","reg"],["\u00af","macr"],["\u00b0","deg"],["\u00b1","plusmn"],["\u00b2","sup2"],["\u00b3","sup3"],["\u00b4","acute"],
["\u00b5","micro"],["\u00b6","para"],["\u00b7","middot"],["\u00b8","cedil"],["\u00b9","sup1"],["\u00ba","ordm"],["\u00bb","raquo"],["\u00bc","frac14"],["\u00bd","frac12"],["\u00be","frac34"],["\u00bf","iquest"],["\u00c0","Agrave"],["\u00c1","Aacute"],["\u00c2","Acirc"],["\u00c3","Atilde"],["\u00c4","Auml"],["\u00c5","Aring"],["\u00c6","AElig"],["\u00c7","Ccedil"],["\u00c8","Egrave"],["\u00c9","Eacute"],["\u00ca","Ecirc"],["\u00cb","Euml"],["\u00cc","Igrave"],["\u00cd","Iacute"],["\u00ce","Icirc"],
["\u00cf","Iuml"],["\u00d0","ETH"],["\u00d1","Ntilde"],["\u00d2","Ograve"],["\u00d3","Oacute"],["\u00d4","Ocirc"],["\u00d5","Otilde"],["\u00d6","Ouml"],["\u00d7","times"],["\u00d8","Oslash"],["\u00d9","Ugrave"],["\u00da","Uacute"],["\u00db","Ucirc"],["\u00dc","Uuml"],["\u00dd","Yacute"],["\u00de","THORN"],["\u00df","szlig"],["\u00e0","agrave"],["\u00e1","aacute"],["\u00e2","acirc"],["\u00e3","atilde"],["\u00e4","auml"],["\u00e5","aring"],["\u00e6","aelig"],["\u00e7","ccedil"],["\u00e8","egrave"],
["\u00e9","eacute"],["\u00ea","ecirc"],["\u00eb","euml"],["\u00ec","igrave"],["\u00ed","iacute"],["\u00ee","icirc"],["\u00ef","iuml"],["\u00f0","eth"],["\u00f1","ntilde"],["\u00f2","ograve"],["\u00f3","oacute"],["\u00f4","ocirc"],["\u00f5","otilde"],["\u00f6","ouml"],["\u00f7","divide"],["\u00f8","oslash"],["\u00f9","ugrave"],["\u00fa","uacute"],["\u00fb","ucirc"],["\u00fc","uuml"],["\u00fd","yacute"],["\u00fe","thorn"],["\u00ff","yuml"],["\u0192","fnof"],["\u0391","Alpha"],["\u0392","Beta"],["\u0393",
"Gamma"],["\u0394","Delta"],["\u0395","Epsilon"],["\u0396","Zeta"],["\u0397","Eta"],["\u0398","Theta"],["\u0399","Iota"],["\u039a","Kappa"],["\u039b","Lambda"],["\u039c","Mu"],["\u039d","Nu"],["\u039e","Xi"],["\u039f","Omicron"],["\u03a0","Pi"],["\u03a1","Rho"],["\u03a3","Sigma"],["\u03a4","Tau"],["\u03a5","Upsilon"],["\u03a6","Phi"],["\u03a7","Chi"],["\u03a8","Psi"],["\u03a9","Omega"],["\u03b1","alpha"],["\u03b2","beta"],["\u03b3","gamma"],["\u03b4","delta"],["\u03b5","epsilon"],["\u03b6","zeta"],
["\u03b7","eta"],["\u03b8","theta"],["\u03b9","iota"],["\u03ba","kappa"],["\u03bb","lambda"],["\u03bc","mu"],["\u03bd","nu"],["\u03be","xi"],["\u03bf","omicron"],["\u03c0","pi"],["\u03c1","rho"],["\u03c2","sigmaf"],["\u03c3","sigma"],["\u03c4","tau"],["\u03c5","upsilon"],["\u03c6","phi"],["\u03c7","chi"],["\u03c8","psi"],["\u03c9","omega"],["\u03d1","thetasym"],["\u03d2","upsih"],["\u03d6","piv"],["\u2022","bull"],["\u2026","hellip"],["\u2032","prime"],["\u2033","Prime"],["\u203e","oline"],["\u2044",
"frasl"],["\u2118","weierp"],["\u2111","image"],["\u211c","real"],["\u2122","trade"],["\u2135","alefsym"],["\u2190","larr"],["\u2191","uarr"],["\u2192","rarr"],["\u2193","darr"],["\u2194","harr"],["\u21b5","crarr"],["\u21d0","lArr"],["\u21d1","uArr"],["\u21d2","rArr"],["\u21d3","dArr"],["\u21d4","hArr"],["\u2200","forall"],["\u2202","part"],["\u2203","exist"],["\u2205","empty"],["\u2207","nabla"],["\u2208","isin"],["\u2209","notin"],["\u220b","ni"],["\u220f","prod"],["\u2211","sum"],["\u2212","minus"],
["\u2217","lowast"],["\u221a","radic"],["\u221d","prop"],["\u221e","infin"],["\u2220","ang"],["\u2227","and"],["\u2228","or"],["\u2229","cap"],["\u222a","cup"],["\u222b","int"],["\u2234","there4"],["\u223c","sim"],["\u2245","cong"],["\u2248","asymp"],["\u2260","ne"],["\u2261","equiv"],["\u2264","le"],["\u2265","ge"],["\u2282","sub"],["\u2283","sup"],["\u2284","nsub"],["\u2286","sube"],["\u2287","supe"],["\u2295","oplus"],["\u2297","otimes"],["\u22a5","perp"],["\u22c5","sdot"],["\u2308","lceil"],["\u2309",
"rceil"],["\u230a","lfloor"],["\u230b","rfloor"],["\u2329","lang"],["\u232a","rang"],["\u25ca","loz"],["\u2660","spades"],["\u2663","clubs"],["\u2665","hearts"],["\u2666","diams"],["\u0152","OElig"],["\u0153","oelig"],["\u0160","Scaron"],["\u0161","scaron"],["\u0178","Yuml"],["\u02c6","circ"],["\u02dc","tilde"],["\u2002","ensp"],["\u2003","emsp"],["\u2009","thinsp"],["\u200c","zwnj"],["\u200d","zwj"],["\u200e","lrm"],["\u200f","rlm"],["\u2013","ndash"],["\u2014","mdash"],["\u2018","lsquo"],["\u2019",
"rsquo"],["\u201a","sbquo"],["\u201c","ldquo"],["\u201d","rdquo"],["\u201e","bdquo"],["\u2020","dagger"],["\u2021","Dagger"],["\u2030","permil"],["\u2039","lsaquo"],["\u203a","rsaquo"]];h.encode=function(b,e){b&&(e?b=l(b,e):(b=l(b,h.html),b=l(b,h.latin)));return b};h.decode=function(b,e){b&&(e?b=m(b,e):(b=m(b,h.html),b=m(b,h.latin)));return b};return h})},"dojo/touch":function(){define("./_base/kernel ./aspect ./dom ./dom-class ./_base/lang ./on ./has ./mouse ./domReady ./_base/window".split(" "),
function(b,h,l,m,g,e,d,c,a,k){function p(a,c,f){return t&&f?function(a,c){return e(a,f,c)}:v?function(f,b){var d=e(f,c,function(a){b.call(this,a);F=(new Date).getTime()}),k=e(f,a,function(a){(!F||(new Date).getTime()>F+1E3)&&b.call(this,a)});return{remove:function(){d.remove();k.remove()}}}:function(c,f){return e(c,a,f)}}function n(a){do if(void 0!==a.dojoClick)return a;while(a=a.parentNode)}function u(a,c,b){var d=n(a.target);if(w=!a.target.disabled&&d&&d.dojoClick)if(s=(f="useTarget"==w)?d:a.target,
f&&a.preventDefault(),z=a.changedTouches?a.changedTouches[0].pageX-k.global.pageXOffset:a.clientX,y=a.changedTouches?a.changedTouches[0].pageY-k.global.pageYOffset:a.clientY,A=("object"==typeof w?w.x:"number"==typeof w?w:0)||4,B=("object"==typeof w?w.y:"number"==typeof w?w:0)||4,!x){x=!0;var p=function(a){w=f?l.isDescendant(k.doc.elementFromPoint(a.changedTouches?a.changedTouches[0].pageX-k.global.pageXOffset:a.clientX,a.changedTouches?a.changedTouches[0].pageY-k.global.pageYOffset:a.clientY),s):
w&&(a.changedTouches?a.changedTouches[0].target:a.target)==s&&Math.abs((a.changedTouches?a.changedTouches[0].pageX-k.global.pageXOffset:a.clientX)-z)<=A&&Math.abs((a.changedTouches?a.changedTouches[0].pageY-k.global.pageYOffset:a.clientY)-y)<=B};k.doc.addEventListener(c,function(a){p(a);f&&a.preventDefault()},!0);k.doc.addEventListener(b,function(a){p(a);if(w){E=(new Date).getTime();var c=f?s:a.target;"LABEL"===c.tagName&&(c=l.byId(c.getAttribute("for"))||c);var b=a.changedTouches?a.changedTouches[0]:
a,d=document.createEvent("MouseEvents");d._dojo_click=!0;d.initMouseEvent("click",!0,!0,a.view,a.detail,b.screenX,b.screenY,b.clientX,b.clientY,a.ctrlKey,a.altKey,a.shiftKey,a.metaKey,0,null);setTimeout(function(){e.emit(c,"click",d);E=(new Date).getTime()},0)}},!0);a=function(a){k.doc.addEventListener(a,function(c){!c._dojo_click&&((new Date).getTime()<=E+1E3&&!("INPUT"==c.target.tagName&&m.contains(c.target,"dijitOffScreen")))&&(c.stopPropagation(),c.stopImmediatePropagation&&c.stopImmediatePropagation(),
"click"==a&&(("INPUT"!=c.target.tagName||"radio"==c.target.type||"checkbox"==c.target.type)&&"TEXTAREA"!=c.target.tagName&&"AUDIO"!=c.target.tagName&&"VIDEO"!=c.target.tagName)&&c.preventDefault())},!0)};a("click");a("mousedown");a("mouseup")}}var q=5>d("ios"),t=d("pointer-events")||d("MSPointer"),r=function(){var a={},c;for(c in{down:1,move:1,up:1,cancel:1,over:1,out:1})a[c]=d("MSPointer")?"MSPointer"+c.charAt(0).toUpperCase()+c.slice(1):"pointer"+c;return a}(),v=d("touch-events"),x,w,f=!1,s,z,y,
A,B,E,F,G;t?a(function(){k.doc.addEventListener(r.down,function(a){u(a,r.move,r.up)},!0)}):v&&a(function(){function a(c){var f=g.delegate(c,{bubbles:!0});6<=d("ios")&&(f.touches=c.touches,f.altKey=c.altKey,f.changedTouches=c.changedTouches,f.ctrlKey=c.ctrlKey,f.metaKey=c.metaKey,f.shiftKey=c.shiftKey,f.targetTouches=c.targetTouches);return f}G=k.body();k.doc.addEventListener("touchstart",function(a){F=(new Date).getTime();var c=G;G=a.target;e.emit(c,"dojotouchout",{relatedTarget:G,bubbles:!0});e.emit(G,
"dojotouchover",{relatedTarget:c,bubbles:!0});u(a,"touchmove","touchend")},!0);e(k.doc,"touchmove",function(c){F=(new Date).getTime();var f=k.doc.elementFromPoint(c.pageX-(q?0:k.global.pageXOffset),c.pageY-(q?0:k.global.pageYOffset));f&&(G!==f&&(e.emit(G,"dojotouchout",{relatedTarget:f,bubbles:!0}),e.emit(f,"dojotouchover",{relatedTarget:G,bubbles:!0}),G=f),e.emit(f,"dojotouchmove",a(c))||c.preventDefault())});e(k.doc,"touchend",function(c){F=(new Date).getTime();var f=k.doc.elementFromPoint(c.pageX-
(q?0:k.global.pageXOffset),c.pageY-(q?0:k.global.pageYOffset))||k.body();e.emit(f,"dojotouchend",a(c))})});h={press:p("mousedown","touchstart",r.down),move:p("mousemove","dojotouchmove",r.move),release:p("mouseup","dojotouchend",r.up),cancel:p(c.leave,"touchcancel",t?r.cancel:null),over:p("mouseover","dojotouchover",r.over),out:p("mouseout","dojotouchout",r.out),enter:c._eventHandler(p("mouseover","dojotouchover",r.over)),leave:c._eventHandler(p("mouseout","dojotouchout",r.out))};return b.touch=h})},
"dojo/cache":function(){define(["./_base/kernel","./text"],function(b){return b.cache})},"esri/layers/mixins/ArcGISMapService":function(){define("../../core/declare ../../core/JSONSupport ../../geometry/SpatialReference ../../geometry/Extent ../support/LayerInfo ../support/TimeInfo".split(" "),function(b,h,l,m,g,e){return b(h,{classMetadata:{reader:{exclude:["id","copyrightText","currentVersion","layers"],add:["copyright","version","layerInfos"]}},copyright:null,_copyrightReader:function(b,c){return c.copyrightText},
fullExtent:null,_fullExtentReader:function(b){return b&&m.fromJSON(b)},initialExtent:null,_initialExtentReader:function(b){return b&&m.fromJSON(b)},layerInfos:null,_layerInfosReader:function(b,c){return c.layers&&c.layers.map(function(a){return new g(a)})},spatialReference:null,_spatialReferenceReader:function(b){return b&&new l(b)},timeInfo:null,_timeInfoReader:function(b){return b&&new e(b)},version:null,_versionReader:function(b,c){(b=c.currentVersion)||(b=c.hasOwnProperty("capabilities")||c.hasOwnProperty("tables")?
10:c.hasOwnProperty("supportedImageFormatTypes")?9.31:9.3);return b}})})},"esri/layers/support/TileMap":function(){define("../../core/declare dojo/_base/lang dojo/_base/array dojo/io-query ../../request ../../core/urlUtils ../../core/Accessor".split(" "),function(b,h,l,m,g,e,d){var c=function(a,c,b){this.id=[a,c,b].join("/");this.level=a;this.row=c;this.col=b},a=function(a,c,b,d,e){this.id=[a,c,b,d,e].join("/");this.level=a;this.row=c;this.col=b;this.width=d;this.height=e;this.promise=this.location=
this.valid=this.dataValue=this.data=null};a.prototype={setData:function(a){var c=a?a.data:null,b=null,d;h.mixin(this,a||{});if(c&&0<c.length)if(d=c.length,1===d)b=c[0];else{b=c[0];for(a=1;a<d;a++)if(c[a]!==b){b=null;break}}null!==b&&(this.data=null,this.dataValue=b);return this},isTileAvailable:function(a,c){var b=this.location,d=this.data,e=this.dataValue,g;this.valid?null!==e?b=e:(e=b.left,g=b.top,b=(a-g)*b.width+(c-e),b=b<d.length?d[b]:0):b=0;return!!b}};b=b(d,{declaredClass:"esri.layers.support.TileMap",
constructor:function(){this._tileMapCache={}},width:8,height:8,getTileMap:function(c,b,d,e,q){var l=null!=c.level?c:new a(c,b,d,e,q);c=g({url:this._getTileMapUrl(l.level,l.row,l.col,l.width,l.height),handleAs:"json",callbackParamName:"callback",timeout:3E3,failOk:!0}).then(function(a){delete a._ssl;return l.setData(a)});return l.promise=c},getTile:function(a,b,d,e){var g=this._getResamplingBudget(),l=null;a&&null!=a.level?(l=a,e=b):l=new c(a,b,d);0<g?this._process({tile:l,requestedTile:l,callback:e,
resamplingBudget:g}):e.call(this,l,l)},statusOf:function(a,b,d){var e=this._getResamplingBudget();a=new c(a,b,d);if(0===e)return 1;for(;0<=e;){b=this._tileToTileMap(a);if(!this._tileMapCache[b.id])return-1;b=this._tileMapCache[b.id];if(!b.promise.isFulfilled())return-1;if(b.isTileAvailable(a.row,a.col))return 1;a=this._parentTile(a);if(!a)break;e--}return 0},_process:function(a){var c=this._tileToTileMap(a.tile);this._getTileMap(c).then(function(c){var b=a.tile,d=this._parentTile(b);c.isTileAvailable(b.row,
b.col)?a.callback.call(this,b,a.requestedTile):0<a.resamplingBudget&&d?(a.resamplingBudget--,a.tile=d,this._process(a)):a.callback.call(this,a.requestedTile,a.requestedTile)}.bind(this),function(){a.callback.call(this,a.requestedTile,a.requestedTile)}.bind(this))},_getTileMap:function(a){this._tileMapCache[a.id]?(a=this._tileMapCache[a.id],a=a.promise):(this._tileMapCache[a.id]=a,a=this.getTileMap(a));return a},_parentTile:function(a){var b=this.layer.tileInfo.lods,d,e,g=null;l.some(b,function(c,
b){return a.level===c.level?(d=c,e=b,!0):!1});0<e&&(b=b[e-1],g=new c(b.level,Math.floor(a.row*d.resolution/b.resolution+0.01),Math.floor(a.col*d.resolution/b.resolution+0.01)));return g},_tileToTileMap:function(c){return new a(c.level,Math.floor(c.row/this.width)*this.width,Math.floor(c.col/this.height)*this.height,this.width,this.height)},_getTileMapUrl:function(a,c,b,d,g){var l=this.layer,h=l.tileServers,v=l.parsedUrl,l=l.token,x=v.query;a=[h&&h.length?h[c%h.length]:v.path,"tilemap",a,c,b,d,g].join("/");
x&&(a+="?"+m.objectToQuery(x));if(l&&(!x||!x.token))a+=(-1===a.indexOf("?")?"?":"\x26")+"token\x3d"+l;return e.addProxy(a)},_getResamplingBudget:function(){var a=this.layer,c=0;if(a.resampling&&(c=a.resamplingTolerance,null===c||void 0===c))c=a.tileInfo.lods.length;return c}});b.TileMapData=a;return b})},"dojo/_base/xhr":function(){define("./kernel ./sniff require ../io-query ../dom ../dom-form ./Deferred ./config ./json ./lang ./array ../on ../aspect ../request/watch ../request/xhr ../request/util".split(" "),
function(b,h,l,m,g,e,d,c,a,k,p,n,u,q,t,r){b._xhrObj=t._create;var v=b.config;b.objectToQuery=m.objectToQuery;b.queryToObject=m.queryToObject;b.fieldToObject=e.fieldToObject;b.formToObject=e.toObject;b.formToQuery=e.toQuery;b.formToJson=e.toJson;b._blockAsync=!1;h.add("native-xhr2-blob",function(){if(h("native-xhr2")){var a=new XMLHttpRequest;a.open("GET","/",!0);a.responseType="blob";var c=a.responseType;a.abort();return"blob"===c}});var x=b._contentHandlers=b.contentHandlers={text:function(a){return a.responseText},
json:function(c){return a.fromJson(c.responseText||null)},"json-comment-filtered":function(f){c.useCommentedJson||console.warn("Consider using the standard mimetype:application/json. json-commenting can introduce security issues. To decrease the chances of hijacking, use the standard the 'json' handler and prefix your json with: {}\x26\x26\nUse djConfig.useCommentedJson\x3dtrue to turn off this message.");f=f.responseText;var b=f.indexOf("/*"),d=f.lastIndexOf("*/");if(-1==b||-1==d)throw Error("JSON was not comment filtered");
return a.fromJson(f.substring(b+2,d))},javascript:function(a){return b.eval(a.responseText)},xml:function(a){var c=a.responseXML;c&&(h("dom-qsa2.1")&&!c.querySelectorAll&&h("dom-parser"))&&(c=(new DOMParser).parseFromString(a.responseText,"application/xml"));if(h("ie")&&(!c||!c.documentElement)){var f=function(a){return"MSXML"+a+".DOMDocument"},f=["Microsoft.XMLDOM",f(6),f(4),f(3),f(2)];p.some(f,function(f){try{var b=new ActiveXObject(f);b.async=!1;b.loadXML(a.responseText);c=b}catch(d){return!1}return!0})}return c},
"json-comment-optional":function(a){return a.responseText&&/^[^{\[]*\/\*/.test(a.responseText)?x["json-comment-filtered"](a):x.json(a)}};h("native-xhr2")&&(x.arraybuffer=x.blob=x.document=function(a,c){return"blob"===c.args.handleAs&&!h("native-xhr2-blob")?new Blob([a.response],{type:a.getResponseHeader("Content-Type")}):a.response});b._ioSetArgs=function(a,c,f,n){var p={args:a,url:a.url},s=null;if(a.form){var s=g.byId(a.form),q=s.getAttributeNode("action");p.url=p.url||(q?q.value:null);s=e.toObject(s)}q=
[{}];s&&q.push(s);a.content&&q.push(a.content);a.preventCache&&q.push({"dojo.preventCache":(new Date).valueOf()});p.query=m.objectToQuery(k.mixin.apply(null,q));p.handleAs=a.handleAs||"text";var l=new d(function(a){a.canceled=!0;c&&c(a);var f=a.ioArgs.error;f||(f=Error("request cancelled"),f.dojoType="cancel",a.ioArgs.error=f);return f});l.addCallback(f);var h=a.load;h&&k.isFunction(h)&&l.addCallback(function(c){return h.call(a,c,p)});var r=a.error;r&&k.isFunction(r)&&l.addErrback(function(c){return r.call(a,
c,p)});var u=a.handle;u&&k.isFunction(u)&&l.addBoth(function(c){return u.call(a,c,p)});l.addErrback(function(a){return n(a,l)});v.ioPublish&&(b.publish&&!1!==p.args.ioPublish)&&(l.addCallbacks(function(a){b.publish("/dojo/io/load",[l,a]);return a},function(a){b.publish("/dojo/io/error",[l,a]);return a}),l.addBoth(function(a){b.publish("/dojo/io/done",[l,a]);return a}));l.ioArgs=p;return l};var w=function(a){a=x[a.ioArgs.handleAs](a.ioArgs.xhr,a.ioArgs);return void 0===a?null:a},f=function(a,c){c.ioArgs.args.failOk||
console.error(a);return a},s=function(a){0>=z&&(z=0,v.ioPublish&&(b.publish&&(!a||a&&!1!==a.ioArgs.args.ioPublish))&&b.publish("/dojo/io/stop"))},z=0;u.after(q,"_onAction",function(){z-=1});u.after(q,"_onInFlight",s);b._ioCancelAll=q.cancelAll;b._ioNotifyStart=function(a){v.ioPublish&&(b.publish&&!1!==a.ioArgs.args.ioPublish)&&(z||b.publish("/dojo/io/start"),z+=1,b.publish("/dojo/io/send",[a]))};b._ioWatch=function(a,c,f,b){a.ioArgs.options=a.ioArgs.args;k.mixin(a,{response:a.ioArgs,isValid:function(f){return c(a)},
isReady:function(c){return f(a)},handleResponse:function(c){return b(a)}});q(a);s(a)};b._ioAddQueryToUrl=function(a){a.query.length&&(a.url+=(-1==a.url.indexOf("?")?"?":"\x26")+a.query,a.query=null)};b.xhr=function(a,c,d){var k,n=b._ioSetArgs(c,function(a){k&&k.cancel()},w,f),e=n.ioArgs;"postData"in c?e.query=c.postData:"putData"in c?e.query=c.putData:"rawBody"in c?e.query=c.rawBody:(2<arguments.length&&!d||-1==="POST|PUT".indexOf(a.toUpperCase()))&&b._ioAddQueryToUrl(e);var p;h("native-xhr2")&&(p=
{arraybuffer:1,blob:1,document:1});p=h("native-xhr2")&&p[c.handleAs]?c.handleAs:"text";"blob"===p&&!h("native-xhr2-blob")&&(p="arraybuffer");p={method:a,handleAs:p,responseType:c.responseType,timeout:c.timeout,withCredentials:c.withCredentials,ioArgs:e};"undefined"!==typeof c.headers&&(p.headers=c.headers);"undefined"!==typeof c.contentType&&(p.headers||(p.headers={}),p.headers["Content-Type"]=c.contentType);"undefined"!==typeof e.query&&(p.data=e.query);"undefined"!==typeof c.sync&&(p.sync=c.sync);
b._ioNotifyStart(n);try{k=t(e.url,p,!0)}catch(s){return n.cancel(),n}n.ioArgs.xhr=k.response.xhr;k.then(function(){n.resolve(n)}).otherwise(function(a){e.error=a;a.response&&(a.status=a.response.status,a.responseText=a.response.text,a.xhr=a.response.xhr);n.reject(a)});return n};b.xhrGet=function(a){return b.xhr("GET",a)};b.rawXhrPost=b.xhrPost=function(a){return b.xhr("POST",a,!0)};b.rawXhrPut=b.xhrPut=function(a){return b.xhr("PUT",a,!0)};b.xhrDelete=function(a){return b.xhr("DELETE",a)};b._isDocumentOk=
function(a){return r.checkStatus(a.status)};b._getText=function(a){var c;b.xhrGet({url:a,sync:!0,load:function(a){c=a}});return c};k.mixin(b.xhr,{_xhrObj:b._xhrObj,fieldToObject:e.fieldToObject,formToObject:e.toObject,objectToQuery:m.objectToQuery,formToQuery:e.toQuery,formToJson:e.toJson,queryToObject:m.queryToObject,contentHandlers:x,_ioSetArgs:b._ioSetArgs,_ioCancelAll:b._ioCancelAll,_ioNotifyStart:b._ioNotifyStart,_ioWatch:b._ioWatch,_ioAddQueryToUrl:b._ioAddQueryToUrl,_isDocumentOk:b._isDocumentOk,
_getText:b._getText,get:b.xhrGet,post:b.xhrPost,put:b.xhrPut,del:b.xhrDelete});return b.xhr})},"dijit/DialogUnderlay":function(){define("dojo/_base/declare dojo/_base/lang dojo/aspect dojo/dom-attr dojo/dom-style dojo/on dojo/window ./_Widget ./_TemplatedMixin ./BackgroundIframe ./Viewport ./main".split(" "),function(b,h,l,m,g,e,d,c,a,k,p,n){var u=b("dijit.DialogUnderlay",[c,a],{templateString:"\x3cdiv class\x3d'dijitDialogUnderlayWrapper'\x3e\x3cdiv class\x3d'dijitDialogUnderlay' tabIndex\x3d'-1' data-dojo-attach-point\x3d'node'\x3e\x3c/div\x3e\x3c/div\x3e",
dialogId:"","class":"",_modalConnects:[],_setDialogIdAttr:function(a){m.set(this.node,"id",a+"_underlay");this._set("dialogId",a)},_setClassAttr:function(a){this.node.className="dijitDialogUnderlay "+a;this._set("class",a)},postCreate:function(){this.ownerDocumentBody.appendChild(this.domNode);this.own(e(this.domNode,"keydown",h.hitch(this,"_onKeyDown")));this.inherited(arguments)},layout:function(){var a=this.node.style,c=this.domNode.style;c.display="none";var b=d.getBox(this.ownerDocument);c.top=
b.t+"px";c.left=b.l+"px";a.width=b.w+"px";a.height=b.h+"px";c.display="block"},show:function(){this.domNode.style.display="block";this.open=!0;this.layout();this.bgIframe=new k(this.domNode);var a=d.get(this.ownerDocument);this._modalConnects=[p.on("resize",h.hitch(this,"layout")),e(a,"scroll",h.hitch(this,"layout"))]},hide:function(){this.bgIframe.destroy();delete this.bgIframe;for(this.domNode.style.display="none";this._modalConnects.length;)this._modalConnects.pop().remove();this.open=!1},destroy:function(){for(;this._modalConnects.length;)this._modalConnects.pop().remove();
this.inherited(arguments)},_onKeyDown:function(){}});u.show=function(a,c){var b=u._singleton;!b||b._destroyed?b=n._underlay=u._singleton=new u(a):a&&b.set(a);g.set(b.domNode,"zIndex",c);b.open||b.show()};u.hide=function(){var a=u._singleton;a&&!a._destroyed&&a.hide()};return u})},"esri/TimeExtent":function(){define(["./core/declare","dojo/_base/lang"],function(b,h){var l=b(null,{declaredClass:"esri.TimeExtent",constructor:function(b){if(1<arguments.length)this._create(arguments[0],arguments[1]);else if(b)if(h.isArray(b)){var g=
b[0],e=b[1];this.startTime=null===g||"null"===g?null:new Date(g);this.endTime=null===e||"null"===e?null:new Date(e)}else b instanceof Date&&this._create(b,null)},offset:function(b,g){var e=new l,d=this.startTime,c=this.endTime;d&&(e.startTime=this._getOffsettedDate(d,b,g));c&&(e.endTime=this._getOffsettedDate(c,b,g));return e},intersection:function(b){return this._intersection(this,b)},toJson:function(){try{throw Error("toJson is deprecated, use toJSON instead");}catch(b){console.warn(b.stack)}return this.toJSON()},
toJSON:function(){var b=[],g=this.startTime;b.push(g?g.getTime():"null");g=this.endTime;b.push(g?g.getTime():"null");return b},_create:function(b,g){this.startTime=b?new Date(b.getTime()):null;this.endTime=g?new Date(g.getTime()):null},_refData:{esriTimeUnitsMilliseconds:{getter:"getUTCMilliseconds",setter:"setUTCMilliseconds",multiplier:1},esriTimeUnitsSeconds:{getter:"getUTCSeconds",setter:"setUTCSeconds",multiplier:1},esriTimeUnitsMinutes:{getter:"getUTCMinutes",setter:"setUTCMinutes",multiplier:1},
esriTimeUnitsHours:{getter:"getUTCHours",setter:"setUTCHours",multiplier:1},esriTimeUnitsDays:{getter:"getUTCDate",setter:"setUTCDate",multiplier:1},esriTimeUnitsWeeks:{getter:"getUTCDate",setter:"setUTCDate",multiplier:7},esriTimeUnitsMonths:{getter:"getUTCMonth",setter:"setUTCMonth",multiplier:1},esriTimeUnitsYears:{getter:"getUTCFullYear",setter:"setUTCFullYear",multiplier:1},esriTimeUnitsDecades:{getter:"getUTCFullYear",setter:"setUTCFullYear",multiplier:10},esriTimeUnitsCenturies:{getter:"getUTCFullYear",
setter:"setUTCFullYear",multiplier:100}},_intersection:function(b,g){if(b&&g){var e=b.startTime,d=b.endTime,c=g.startTime,a=g.endTime,e=e?e.getTime():-Infinity,c=c?c.getTime():-Infinity,d=d?d.getTime():Infinity,a=a?a.getTime():Infinity,k,p;c>=e&&c<=d?k=c:e>=c&&e<=a&&(k=e);d>=c&&d<=a?p=d:a>=e&&a<=d&&(p=a);if(!isNaN(k)&&!isNaN(p))return e=new l,e.startTime=-Infinity===k?null:new Date(k),e.endTime=Infinity===p?null:new Date(p),e}return null},_getOffsettedDate:function(b,g,e){var d=this._refData;b=new Date(b.getTime());
g&&e&&(d=d[e],b[d.setter](b[d.getter]()+g*d.multiplier));return b}});return l})},"dijit/form/_ToggleButtonMixin":function(){define(["dojo/_base/declare","dojo/dom-attr"],function(b,h){return b("dijit.form._ToggleButtonMixin",null,{checked:!1,_aria_attr:"aria-pressed",_onClick:function(b){var h=this.checked;this._set("checked",!h);var g=this.inherited(arguments);this.set("checked",g?this.checked:h);return g},_setCheckedAttr:function(b,m){this._set("checked",b);var g=this.focusNode||this.domNode;this._created&&
h.get(g,"checked")!=!!b&&h.set(g,"checked",!!b);g.setAttribute(this._aria_attr,String(b));this._handleOnChange(b,m)},postCreate:function(){this.inherited(arguments);var b=this.focusNode||this.domNode;this.checked&&b.setAttribute("checked","checked");void 0===this._resetValue&&(this._lastValueReported=this._resetValue=this.checked)},reset:function(){this._hasBeenBlurred=!1;this.set("checked",this.params.checked||!1)}})})},"esri/tasks/support/ProjectParameters":function(){define(["../../core/declare",
"dojo/_base/array","../../core/Accessor","../../core/lang","../../geometry/support/jsonUtils"],function(b,h,l,m,g){return b(l,{declaredClass:"esri.tasks.ProjectParameters",geometries:null,outSR:null,transformation:null,transformForward:null,toJson:function(){try{throw Error("toJson is deprecated, use toJSON instead");}catch(b){console.warn(b.stack)}return this.toJSON()},toJSON:function(){var b=h.map(this.geometries,function(c){return c.toJSON()}),d={};d.outSR=this.outSR.wkid||JSON.stringify(this.outSR.toJSON());
d.inSR=this.geometries[0].spatialReference.wkid||JSON.stringify(this.geometries[0].spatialReference.toJSON());d.geometries=JSON.stringify({geometryType:g.getJsonType(this.geometries[0]),geometries:b});this.transformation&&(d.transformation=this.transformation.wkid||JSON.stringify(this.transformation));m.isDefined(this.transformForward)&&(d.transformForward=this.transformForward);return d}})})},"xstyle/css":function(){define(["require"],function(b){function h(b,h,g){var e=document.documentElement;
b=e.insertBefore(document.createElement(b),e.firstChild);b.id=h;h=(b.currentStyle||getComputedStyle(b,null))[g];e.removeChild(b);return h}return{load:function(l,m,g,e){function d(){var a=h("x-parse",null,"content");a&&"none"!=a?m([eval(a)],g):g()}var c=m.toUrl(l),a=m.cache["url:"+c];if(a)return a.xCss&&(a=a.cssText),b(["./util/createStyleSheet"],function(c){c(a)}),d();if("none"==h("div",l.replace(/\//g,"-").replace(/\..*/,"")+"-loaded","display"))return d();b(["./load-css"],function(a){a(c,d)})}}})},
"dijit/_TemplatedMixin":function(){define("dojo/cache dojo/_base/declare dojo/dom-construct dojo/_base/lang dojo/on dojo/sniff dojo/string ./_AttachMixin".split(" "),function(b,h,l,m,g,e,d,c){var a=h("dijit._TemplatedMixin",c,{templateString:null,templatePath:null,_skipNodeCache:!1,searchContainerNode:!0,_stringRepl:function(a){var c=this.declaredClass,b=this;return d.substitute(a,this,function(a,d){"!"==d.charAt(0)&&(a=m.getObject(d.substr(1),!1,b));if("undefined"==typeof a)throw Error(c+" template:"+
d);return null==a?"":"!"==d.charAt(0)?a:this._escapeValue(""+a)},this)},_escapeValue:function(a){return a.replace(/["'<>&]/g,function(a){return{"\x26":"\x26amp;","\x3c":"\x26lt;","\x3e":"\x26gt;",'"':"\x26quot;","'":"\x26#x27;"}[a]})},buildRendering:function(){if(!this._rendered){this.templateString||(this.templateString=b(this.templatePath,{sanitize:!0}));var c=a.getCachedTemplate(this.templateString,this._skipNodeCache,this.ownerDocument),d;if(m.isString(c)){if(d=l.toDom(this._stringRepl(c),this.ownerDocument),
1!=d.nodeType)throw Error("Invalid template: "+c);}else d=c.cloneNode(!0);this.domNode=d}this.inherited(arguments);this._rendered||this._fillContent(this.srcNodeRef);this._rendered=!0},_fillContent:function(a){var c=this.containerNode;if(a&&c)for(;a.hasChildNodes();)c.appendChild(a.firstChild)}});a._templateCache={};a.getCachedTemplate=function(c,b,n){var e=a._templateCache,g=c,h=e[g];if(h){try{if(!h.ownerDocument||h.ownerDocument==(n||document))return h}catch(m){}l.destroy(h)}c=d.trim(c);if(b||c.match(/\$\{([^\}]+)\}/g))return e[g]=
c;b=l.toDom(c,n);if(1!=b.nodeType)throw Error("Invalid template: "+c);return e[g]=b};e("ie")&&g(window,"unload",function(){var c=a._templateCache,b;for(b in c){var d=c[b];"object"==typeof d&&l.destroy(d);delete c[b]}});return a})},"esri/LayersMixin":function(){define(["./core/declare","dojo/_base/lang","./core/Accessor","./core/Collection"],function(b,h,l,m){return b(l,{declaredClass:"esri.LayersMixin",classMetadata:{properties:{layers:{type:m}}},constructor:function(b){this._lyrChgHandler=this._lyrChgHandler.bind(this)},
destroy:function(){this._layersHandle.remove();this._layersHandle=null;this.layers.drain(this._lyrRemove,this)},_layers:null,_layersGetter:function(b){b||(b=new m,this._layersHandle=b.on("change",this._lyrChgHandler));return b},_layersSetter:function(b,e){e&&this.remove(e.getAll());this.add(b.getAll());return e},getLayer:function(b){var e,d=function(c){return c.id===b?(e=c,!0):c.layers?c.layers.some(d):!1};this.layers.some(d);return e},add:function(b,e){var d=this.layers,c,a,k;b=h.isArray(b)?b:[b];
e=d.getNextIndex(e);c=0;for(a=b.length;c<a;c++)k=b[c],-1!==d.indexOf(k)?this.reorder(k,e):(k.parent&&(k.parent.remove(k),k.set("parent",this)),d.addItem(k,e),e+=1);return this},remove:function(b){b=h.isArray(b)?b:[b];b=this.layers.removeItems(b);b.forEach(function(b){b.parent=null});return this},removeAll:function(){this.layers.clear();return this},reorder:function(b,e){this.layers.moveItem(b,e);return this},layerAdded:function(b){},layerRemoved:function(b){},layersChange:function(b,e,d){},_lyrChgHandler:function(b){var e=
b.added,d=b.removed;b=b.moved;var c,a;this.layersChange(e,d,b);c=0;for(a=e.length;c<a;c++)this._lyrAdd(e[c]);c=0;for(a=d.length;c<a;c++)this._lyrRemove(d[c]);c=0;for(a=b.length;c<a;c++)this._lyrMoveHandler(b[c])},_lyrAdd:function(b){b.parent=this;this.layerAdded(b);this.emit("layer-add",{target:this,layer:b})},_lyrRemove:function(b){b.parent===this&&(b.parent=null);this.layerRemoved(b);this.emit("layer-remove",{target:this,layer:b})},_lyrMoveHandler:function(b){this.emit("layer-reorder",{target:this,
layer:b})}})})},"esri/views/3d/webgl-engine/materials/BillboardMaterial":function(){define(["dojo/text!./BillboardMaterial.xml","./internal/MaterialUtil","../lib/GLSLProgram","../lib/GLSLShader"],function(b,h,l,m){var g=function(a,b){h.basicMaterialConstructor(this,b);var p=h.Layouts.PosNormTex;this.getSize=function(){return 1.05};this.dispose=function(){};this.getTextureId=function(){return a};this.getOutputAmount=function(a){return 6*a*p.getStride()};this.getVertexBufferLayout=function(){return p};
this.fillInterleaved=function(a,c,b,d,k,e){d=h.fill;var p=a.faces.indices.va,g=a.vertexAttr.va.data,f=a.vertexAttr.tc4.data,s=a.vertexAttr.n0.data,l=a.vertexAttr.n1.data,m=a.vertexAttr.n2.data;a=a.vertexAttr.n3.data;for(var A=0;A<p.length;++A){var B=4*p[A],E=3*p[A];e+=d(g,B,k,e,c,3);e+=d(s,E,k,e,b,3);k[e++]=f[B];k[e++]=f[B+1];e+=d(g,B,k,e,c,3);e+=d(l,E,k,e,b,3);k[e++]=f[B+2]+1;k[e++]=f[B+1];e+=d(g,B,k,e,c,3);e+=d(m,E,k,e,b,3);k[e++]=f[B+2]+1;k[e++]=f[B+3]+1;e+=d(g,B,k,e,c,3);e+=d(m,E,k,e,b,3);k[e++]=
f[B+2]+1;k[e++]=f[B+3]+1;e+=d(g,B,k,e,c,3);e+=d(a,E,k,e,b,3);k[e++]=f[B];k[e++]=f[B+3]+1;e+=d(g,B,k,e,c,3);e+=d(s,E,k,e,b,3);k[e++]=f[B];k[e++]=f[B+1]}};this.intersect=function(){};this.getGLMaterials=function(){return[e,c,void 0,d]};this.getAllTextureIds=function(){return[a]}},e=function(a,c,b){h.basicGLMaterialConstructor(this,a);var d=c.get("billboard");h.singleTextureGLMaterialConstructor(this,b,{textureId:a.getTextureId()});this.beginSlot=function(a){return 2===a};this.getProgram=function(){return d};
this.bind=function(c,b){d.use();this.bindTexture(c,d);a.getVertexBufferLayout().enableVertexAttribArrays(c,d)};this.release=function(c){a.getVertexBufferLayout().disableVertexAttribArrays(c,d)};this.bindView=function(a,c){h.bindView(c.origin,c.view,d)};this.bindInstance=function(a,c){d.uniformMatrix4fv("model",c.transformation);d.uniformMatrix4fv("modelNormal",c.transformationNormal)};this.getDrawMode=function(a){return a.TRIANGLES}},d=function(a,c,b,d){h.basicGLMaterialConstructor(this,a);var e=
null==d?c.get("billboardDepth"):c.get("billboardDepthShadowMap");h.singleTextureGLMaterialConstructor(this,b,{textureId:a.getTextureId()});this.beginSlot=function(a){return 2===a};this.getProgram=function(){return e};this.bind=function(c,b){e.use();this.bindTexture(c,e);e.uniform2fv("nearFar",b.nearFar);a.getVertexBufferLayout().enableVertexAttribArrays(c,e)};this.release=function(c){a.getVertexBufferLayout().disableVertexAttribArrays(c,e)};this.bindView=function(a,c){h.bindView(c.origin,c.view,e)};
this.bindInstance=function(a,c){e.uniformMatrix4fv("model",c.transformation)};this.getDrawMode=function(a){return a.TRIANGLES}},c=function(a,c,b){d.call(this,a,c,b,!0)};g.loadShaders=function(a,c,d,e){a._parse(b);var g=new m(e.VERTEX_SHADER,a.vertexShaderBillboard,e),q=new m(e.FRAGMENT_SHADER,a.fragmentShaderBillboard,e),g=new l([g,q],e);a=new m(e.VERTEX_SHADER,a.vertexShaderBillboardDepth,e);q=c.get("fsDepthTextured");c=c.get("fsDepthTexturedShadowMap");q=new l([a,q],e);e=new l([a,c],e);d.add("billboard",
g);d.add("billboardDepth",q);d.add("billboardDepthShadowMap",e)};return g})},"esri/views/3d/webgl-engine/materials/internal/BlendLayers":function(){define(["dojo/text!./BlendLayers.xml","../../lib/GLSLProgram","../../lib/GLSLShader"],function(b,h,l){return{loadShaders:function(m,g,e,d){m._parse(b);g=new l(d.VERTEX_SHADER,m.vertexShaderBlendLayers,d);m=new l(d.FRAGMENT_SHADER,m.fragmentShaderBlendLayers,d);d=new h([g,m],d);e.add("blendlayers",d)}}})},"esri/views/View":function(){define("dojo/_base/array dojo/_base/lang dojo/Deferred dojo/dom dojo/dom-construct dojo/dom-class ../core/Accessor ../core/declare ../core/Evented ../core/HandleRegistry ../core/Promise ../core/watchUtils ./CSSTraits ./DOMContainer ./LayerViewsOwner ./LayerViewFactory ./FlatLayerViewsCollection ./BasemapView ./PopupManager ./ui/DefaultUI ../widgets/Popup".split(" "),
function(b,h,l,m,g,e,d,c,a,k,p,n,u,q,t,r,v,x,w,f,s){var z=["logo","attribution","zoom","compass"];return c([d,p,q,a,t,u],{declaredClass:"esri.views.View",classMetadata:{properties:{ready:{readOnly:!0},factory:{},basemapView:{},ui:{type:f}},computed:{ready:["map.loaded","surface","size"],stationary:["animation","interacting"]}},constructor:function(a){this._viewInitializePromise=new l;this.addResolvingPromise(this._viewInitializePromise.promise);this.factory=new r(this);this.basemapView=new x({view:this});
this.layerViewsFlat=new v({view:this});this._handles=new k},getDefaults:function(){return h.mixin(this.inherited(arguments),{padding:{left:0,top:0,right:0,bottom:0},ui:{components:z}})},initialize:function(){var a=new l;this.addResolvingPromise(a.promise);this._viewInitializePromise.promise.then(function(){var c=this.watch("ready",function(){c.remove();c=null;a.resolve();a=null});this.notifyChange("ready")}.bind(this))},destroy:function(){this.basemapView.destroy();this.factory.destroy();this.ui.destroy();
this._handles.destroy();this.container=this.map=null;this.emit("destroy")},_handles:null,activeTool:"navigation",animation:null,basemapView:null,container:null,_containerSetter:function(a,c){a=m.byId(a);if(c===a)return c;c&&(e.remove(c,"esri-view"),this.popupManager.destroy(),this.popupManager=null,this.popup.destroy(),this.popup=null,g.destroy(this.root),this.root=null);a?(e.add(a,"esri-view"),this.root=g.create("div",{className:"esri-view-root"},a,"first"),this.surface=g.create("div",{className:"esri-view-surface"},
this.root),m.setSelectable(this.surface,!1),this.width=a.style.width,this.height=a.style.height,"auto"===this.width&&(a.style.width=""),"auto"===this.height&&(a.style.height=""),(this.popup=new s({view:this,highlight:!1},g.create("div"))).startup(),this.popupManager=new w({enabled:!0,view:this})):this.surface=null;return a},interacting:!1,_interactingSetter:function(a){this.surface&&this.surface.setAttribute("data-interacting",a);return a},map:null,padding:null,popup:null,_readyGetter:function(){var a=
this.size;return this._viewInitializePromise.isResolved()&&!0===this.get("map.loaded")&&null!=this.surface&&0<a[0]&&0<a[1]},stationary:!0,_stationaryGetter:function(){return!this.animation&&!this.interacting},surface:null,type:null,_uiSetter:function(a,c){if(a===c)return c;this._handles.remove("ui");c&&c.destroy();a&&(a.view=this,this._handles.add([n.init(this,"container",function(){a.container=a?g.create("div",null,this.root):null})],"ui"));return a},updating:!1,getLayerView:function(a){var c=this._getContainers(this),
f;b.some(c,function(c){f=c.layerViews.find(function(c){return c.layer===a});return!!f});return f},addHandler:function(a){this.gestureManager&&this.gestureManager.addHandler(a);return this},removeHandler:function(a){this.gestureManager&&this.gestureManager.removeHandler(a);return this},pageToContent:function(a,c,f){var b=this.padding;f=this.pageToContainer(a,c,f);b&&(f[0]-=b.left,f[1]-=b.top);return f},_getContainers:function(a){var c=[a];a.layerViews.forEach(function(a){a&&a.layerViews&&(c=c.concat(this._getContainers(a)))},
this);return c}})})},"esri/views/3d/webgl-engine/lib/GeometryRenderer":function(){define(["./GLVBO","../materials/internal/MaterialUtil"],function(b,h){return function(l,m,g,e){var d=l.faces,c=d.indices[d.positionKey].length,d=new Float32Array(c*m.getStride());this.fillInterleaved=!g?h.fillInterleaved:g;this.fillInterleaved(l,void 0,void 0,null,m,d,0);var a=new b(d,m,e);this.drawMode=e.TRIANGLES;this.enablePointRendering=function(a){this.drawMode=a?e.POINTS:e.TRIANGLES};this.render=function(b){a.bind();
a.setPointers(b);m.enableVertexAttribArrays(e,b,!1);e.drawArrays(this.drawMode,0,c,0);m.disableVertexAttribArrays(e,b,!1);e.bindBuffer(e.ARRAY_BUFFER,null)}}})},"esri/views/3d/support/AsyncQuotaRoundRobinQueue":function(){define(["../../../core/arrayUtils","../webgl-engine/lib/Util"],function(b,h){return function(l,m,g,e,d){function c(){return"workers: "+n+", queues: "+p.map(function(a){return a.length})}var a=0,k={},p=[],n=[],u=[],q=[],t=0,r=0,v;for(v in e)p[a]=[],n[a]=0,q[a]={requests:0,size:0,
duration:0,speed:0},u[a]=e[v],k[v]=a++,r+=e[v];var x=p.length,a=0;this.setWorkerQuota=function(a){h.assert(b.equals(Object.keys(this.typeWorkerAllication),Object.keys(a)));this.typeWorkerAllication=a;r=0;for(var c in a)u[k[c]]=a[c],r+=a[c]};this.setWorkerFunc=function(a){l=a};this.push=function(a){var f=k[a.clientType];t<r?(n[f]++,t++,d&&console.log("queue start type "+f+", "+c()),l(a,s)):(p[f].push(a),d&&console.log("queue push type "+f+", "+c()))};this._getStatsForType=function(a){a=k[a];return{quota:u[a],
workers:n[a],queueSize:p[a].length,requestStats:q[a]}};this.removeTasks=function(a,c){for(var f=[],b=p[k[c]],d=0;d<b.length;d++){var e=b[d];-1<a.indexOf(e)||f.push(e)}p[k[c]]=f};this.workerCancelled=function(a){w(a);a._cancelledInQueue=!0};this.clear=function(){for(var a=0;a<p.length;a++)p[a]=[]};var w=function(b){var e=k[b.clientType];n[e]--;t--;q[e].requests++;q[e].size+=b.size||0;q[e].duration+=b.duration||0;q[e].speed=0<q[e].duration?q[e].size/q[e].duration:0;h.assert(0<=n[e]);b=a;e=!1;do n[b]<
u[b]&&f(b)&&(e=!0),b=(b+1)%x;while(!e&&b!=a);if(!e){do f(b)&&(e=!0),b=(b+1)%x;while(!e&&b!=a)}!e&&d&&console.log("queue sink, "+c());a=b},f=function(a){for(;0<p[a].length;){if(l(p[a].shift(),s))return d&&console.log("queue startqueued clientType "+a+", "+c()),n[a]++,t++,!0;d&&console.log("queue task cancelled, "+c())}return!1},s=function(a){a._cancelledInQueue||(m.apply(g,arguments),w(a))}}})},"esri/symbols/LineSymbol3DLayer":function(){define(["../core/declare","dojo/_base/lang","../core/lang","../core/screenUtils",
"./Symbol3DLayer"],function(b,h,l,m,g){return b(g,{type:"Line",size:0,_sizeReader:m.pt2px,material:null,toJSON:function(){var b={size:null!=this.size?m.px2pt(this.size):void 0};h.mixin(b,this.inherited(arguments));return l.fixJson(b,!0)}})})},"esri/views/3d/webgl-engine/materials/internal/MaterialUtil":function(){define(["../../lib/IdGen","../../lib/gl-matrix","../../parts/Model","../../lib/VertexBufferLayout","../../lib/Util"],function(b,h,l,m,g){var e=h.vec3d,d=h.mat4d,c=h.mat4,a=g.VertexAttrConstants,
k={};k.__Material_idGen=new b;k.__GLMaterial_id=0;k.IDENTITY=d.identity();k.Layouts=m.Defaults;k.fill=function(a,c,b,d,k,e){if(void 0===k||3!==e)for(k=0;k<e;++k)b[d+k]=a[c+k];else{var n=a[c],p=a[c+1];a=a[c+2];b[d]=k[0]*n+k[4]*p+k[8]*a+k[12];b[d+1]=k[1]*n+k[5]*p+k[9]*a+k[13];b[d+2]=k[2]*n+k[6]*p+k[10]*a+k[14]}return e};var p=function(a,c,b,d,k,e){for(var n=a.length,p=0;p<n;++p){for(var g=b*a[p],q=0;q<b;++q)d[k+q]=c[g+q];k+=e}};k.fillInterleaved=function(c,b,d,k,e,n,g,q){var l=e.getAttributes();e=e.getStride();
for(var h in l){var m=g+l[h].offset;if(!(null!=q&&null==q[h])){var r;switch(h){case a.UV0:r=c.vertexAttr[h];null!=r&&p(c.faces.indices[h],r.data,r.size,n,m,e);break;case a.REGION:r=c.vertexAttr[h];var t=c.faces.indices[h],u=r.data,v=r.size;r=n;var w=e;r=new Uint16Array(r.buffer);for(var m=2*m,w=2*w,x=t.length,ca=0;ca<x;++ca){var V=v*t[ca],R;for(R=0;R<v;++R)r[m+R]=u[V+R];m+=w}break;case a.COLOR:r=c.vertexAttr[h];if(k&&k.color){t=c.faces.indices[h];u=r.data;v=k.color;r=r.size;w=n;x=e;w=new Uint8Array(w.buffer);
m*=4;x*=4;ca=t.length;for(V=0;V<ca;++V){R=r*t[V];var N;for(N=0;N<r;++N)w[m+N]=u[R+N]*v[N];4>N&&(w[m+3]=255*v[3]);m+=x}}else{t=c.faces.indices[h];u=r.data;v=r.size;r=n;w=e;r=new Uint8Array(r.buffer);m*=4;w*=4;x=t.length;for(ca=0;ca<x;++ca){V=v*t[ca];for(R=0;R<v;++R)r[m+R]=u[V+R];4>R&&(r[m+3]=255);m+=w}}break;default:if(r=c.vertexAttr[h],v=h===a.POSITION?b:h===a.NORMAL?d:void 0,void 0!==v&&3===r.size){t=c.faces.indices[h];u=r.data;r=n;w=e;x=t.length;for(ca=0;ca<x;++ca)N=3*t[ca],V=u[N],R=u[N+1],N=u[N+
2],r[m]=v[0]*V+v[4]*R+v[8]*N+v[12],r[m+1]=v[1]*V+v[5]*R+v[9]*N+v[13],r[m+2]=v[2]*V+v[6]*R+v[10]*N+v[14],m+=w}else p(c.faces.indices[h],r.data,r.size,n,m,e)}}}};var n=e.create(),u=e.create(),q=e.create(),t=e.create(),r=function(a,c,b,d,k){var p=a.getCenter();e.project(p,c,b,n);var p=e.dist2(n,p),g=a.getBSRadius();if(p<g*g){var p=a.getPrimitiveIndices(),g=a.getIndices(),l=a.getPosition(),h=p?p.length:g.length/3;if(1E4<h&&(a=a.getChildren(),void 0!==a)){for(p=0;8>p;++p)void 0!==a[p]&&r(a[p],c,b,d,k);
return}a=l.size;var l=l.data,m=c[0],v=c[1];c=c[2];var w=b[0]-m,x=b[1]-v;b=b[2]-c;for(var C=0;C<h;++C){var D=p?p[C]:C,L=a*g[3*D],W=a*g[3*D+1],ca=a*g[3*D+2],V=l[L],R=l[L+1],L=l[L+2],N=l[W],H=l[W+1],W=l[W+2],O=l[ca],I=l[ca+1],ca=l[ca+2],J=N-V,S=H-R,U=W-L,ba=O-V,X=I-R,$=ca-L,P=x*$-X*b,aa=b*ba-$*w,da=w*X-ba*x,Y=J*P+S*aa+U*da;if(!(Y>-d&&Y<d)){var Y=1/Y,fa=m-V,ga=v-R,ea=c-L,P=Y*(fa*P+ga*aa+ea*da);0>P||1<P||(aa=ga*U-S*ea,U=ea*J-U*fa,J=fa*S-J*ga,S=Y*(w*aa+x*U+b*J),0>S||1<P+S||(ba=Y*(ba*aa+X*U+$*J),0<=ba&&
(X=u,$=q,Y=t,e.set3(V,R,L,X),e.set3(N,H,W,$),e.set3(O,I,ca,Y),e.subtract($,X,$),e.subtract(Y,X,Y),e.normalize(e.cross($,Y,X)),k(ba,X,D))))}}}};k.intersectTriangleGeometry=function(a,c,b,d,k,e,n,p,q,l,h){g.assert("triangle"===a.getData().getFaces()[c].type);r(a.getBoundingInfo(c),n,p,l,h)};k.basicMaterialConstructor=function(a,c){var b=!0,d=0,e=k.__Material_idGen.gen(c);a.getId=function(){return e};var n;a.getParentStage=function(){return n};a.addParentStage=function(a){g.assert(void 0===n,"Material can only be added to a single Stage");
n=a};a.removeParentStage=function(a){n=void 0};a.setVisible=function(c){b!==c&&(b=c,a.notifyDirty("matChanged"))};a.isVisible=function(){return b};a.notifyDirty=function(c){n&&n.notifyDirty(l.ContentType.MATERIAL,a,c)};a.setRenderPriority=function(a){d=a;this.notifyDirty("matChanged")};a.getRenderPriority=function(){return d}};var v=k.aquireIfNotUndefined=function(a,c,b,d){return void 0===a?void 0:b.aquire(a,c,d)},x=k.releaseIfNotUndefined=function(a,c){void 0!==a&&c.release(a)},w=c.create();k.bindView=
function(a,b,d){c.translate(b,a,w);d.uniformMatrix4fv("view",w)};k.bindCamPos=function(a,c,b){b.uniform3f("camPos",c[3]-a[0],c[7]-a[1],c[11]-a[2])};k.basicGLMaterialConstructor=function(a,c){var b=k.__GLMaterial_id++;a.getId=function(){return b};a.getMaterialId=function(){return c.getId()};var d=!0;a.isVisible=function(){return d};a.updateVisibility=function(){d=c.isVisible()};a.getRenderPriority=function(){return c.getRenderPriority()}};k.singleTextureGLMaterialConstructor=function(a,c,b,d){var k=
v(b.textureId,b.initTexture,c,d);a.updateTexture=function(a){b.textureId!==a&&(x(b.textureId,c),b.textureId=a,k=v(b.textureId,b.initTexture,c,d))};a.renderTexture=function(a){var f=c.getTexture(b.textureId);f&&f.renderGl&&f.renderGl(k,a)};a.bindTexture=function(a,c){void 0!==k&&(c.uniform1i("tex",0),a.bindTexture(a.TEXTURE_2D,k))};a.dispose=function(){x(b.textureId,c)}};k.multiTextureGLMaterialConstructor=function(a,c,b,d){for(var k=d.length,e=Array(k),n=0;n<k;n++)e[n]=v(b[d[n][0]],b[d[n][1]],c);
a.updateTextures=function(a){for(var f=0;f<k;f++){var n=b[d[f][0]],p=a[d[f][0]];n!==p&&(x(n,c),b[d[f][0]]=p,e[f]=v(p,b[d[f][1]],c))}};a.bindTextures=function(a,c){for(var f=0;f<k;f++)void 0!==e[f]&&(c.uniform1i(d[f][2],f),a.activeTexture(a.TEXTURE0+f),a.bindTexture(a.TEXTURE_2D,e[f]));a.activeTexture(a.TEXTURE0)};a.bindOneTexture=function(a,c,f){c.uniform1i(d[f][2],f);a.activeTexture(a.TEXTURE0+f);a.bindTexture(a.TEXTURE_2D,e[f]);a.activeTexture(a.TEXTURE0)};a.disposeTextures=function(){for(var a=
0;a<k;a++)x(b[d[a][0]],c)}};return k})},"esri/views/3d/webgl-engine/lib/SSAOHelperObscurance":function(){define("./GLFBO ./GLUtil ./GLVBO ./GLSLShader ./GLSLProgram ./VertexBufferLayout ./Util ./gl-matrix dojo/text!../materials/internal/ssao.xml".split(" "),function(b,h,l,m,g,e,d,c,a){var k=c.vec3,p=c.vec4;c=function(a,c,g){var m,r,v,x,w,f=0.5,s=3,z=16,y=4,A=p.create(),B=g.createTexture();g.bindTexture(g.TEXTURE_2D,B);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MIN_FILTER,g.NEAREST);g.texImage2D(g.TEXTURE_2D,
0,g.RGBA,4,4,0,g.RGBA,g.UNSIGNED_BYTE,null);var E=[0.186937,0,0,0.677503,0,0,-0.782832,0.128424,0.557187,0.248064,0.460317,-0.659755,0.062892,0.918659,0.312829,-0.241031,-0.814826,0.224206,-0.642866,0.132138,-0.45016,0.145727,-0.590568,-0.626141,0.005017,-0.002234,0.012668],F=[0.186937,0,0,0.700542,0,0,-0.864858,-0.481795,-0.111713,-0.624773,0.102853,-0.730153,-0.387172,0.260319,0.007229,-0.222367,-0.642631,-0.707697,-0.01336,-0.014956,0.169662,0.122575,0.1544,-0.456944,-0.177141,0.85997,-0.42346,
-0.131631,0.814545,0.524355,-0.779469,0.007991,0.624833,0.308092,0.209288,0.35969,0.359331,-0.184533,-0.377458,0.192633,-0.482999,-0.065284,0.233538,0.293706,-0.055139,0.417709,-0.386701,0.442449,-0.301656,-0.836426,0.408344],G=[0.837372,0,0,0.723531,-0.467287,0.034157,0.169582,-0.31169,-0.881801,0.696236,0.455215,-0.204568,-0.304514,0.528086,0.626381,-0.053116,0.222507,0.037523,0.199755,0.311291,0.916799,-0.681552,-0.516264,0.501792,-0.37127,0.021088,0.737477,-0.029503,0.209188,-0.95298,-0.573731,
0.009962,-0.154202,-0.257345,-0.905958,0.282747,0.370779,0.527867,-0.669424,-0.601758,-0.191278,-0.708243,0.271796,0.782684,0.535565,-0.006867,-0.015312,-0.017276,0.419958,0.265628,0.233036,-0.543898,0.554747,-0.174055,-0.079242,0.053475,-0.099539,0.372042,-0.339267,-0.357362,0.015781,-0.011352,0.042707,-0.340564,-0.272507,-0.067725,0.799249,-0.127948,0.586808,0.450015,0.01965,-0.416454,-0.506524,0.323229,0.206546,-0.087316,-0.311097,0.466049,0.146374,-0.34528,-0.045904,-0.152614,-0.926686,-0.287529,
-0.665726,-0.032904,0.246643,0.248703,0.637193,-0.062541,-0.073706,0.495925,-0.315143,0.05946,-0.116042,0.075586],Q=[0.186937,0,0,0.605726,-0.313457,-0.097616,0.003541,0.781245,0.283011,-0.225029,-0.373279,0.274442,-0.047511,0.04992,-0.226365,0.627629,-0.623617,-0.463628,0.133094,-0.318299,0.528128,0.262035,0.100234,-0.09012,0.178335,-0.426972,-0.666048,-0.27306,-0.207352,0.05514,-0.613649,-0.063395,0.060608,-0.283391,-0.41382,-0.087565,0.136768,0.506126,0.484137,-0.593808,-0.344603,0.453164,0.675326,
0.124799,-0.697865,-0.33502,0.411337,-0.09337,-0.15271,0.002908,-0.063582,0.366733,-0.699739,0.401148,-0.519536,-0.585625,-0.508413,0.106482,-0.428709,-0.260221,0.012847,-0.118806,0.016962,-0.188182,0.49945,0.452364,0.586617,0.722539,-0.23302,0.111295,0.202827,0.066695,-0.036503,0.315842,0.896467,-0.039109,-0.270116,-0.080062,0.613435,0.508787,0.538656,-0.352275,0.566869,-0.666275,0.887876,-0.138341,-0.434135,-0.444711,0.269156,0.119506,-0.029457,-0.077316,0.754474,0.274125,-0.13876,-0.37082,-0.73268,
0.332723,0.568545,-0.203992,0.878922,-0.430778,0.541154,-0.546752,0.11786,-3.93E-4,-0.083318,0.059333,-0.341406,-0.117017,-0.318568,-0.262425,-0.457913,0.848753,0.89229,-0.30157,0.322416,0.742328,0.032262,0.643827,0.048091,-0.078044,-0.49908,0.064858,0.549944,-0.796252,-0.230688,0.88978,-0.010153,0.397241,-0.27645,0.405666,-0.46593,0.131187,-0.600166,0.333834,-0.078219,0.73837,-0.870169,-0.411658,-0.222175,-0.492421,0.741454,0.293757,-0.591244,0.389112,-0.388324,0.792346,0.578552,0.088459,-0.121858,
-0.437241,-0.472535,-0.374835,0.302427,0.721264,0.057485,0.204085,-0.126575,0.510325,0.481492,-0.579888,-0.29411,-0.82136,0.156404,-0.819717,-0.042466,0.456573,0.079884,0.07019,0.179002,0.220279,0.970222,-0.088025,-0.299911,-0.234627,-0.820794,0.912112,0.243306,0.317869,0.241336,0.161841,-0.721568,0.301135,-0.635993,-0.0939,-0.514731,-0.089673,0.850964,-0.905087,0.314604,-0.098397];this.getIsSupported=function(){var a=-1!==g.getParameter(g.VERSION).indexOf("WebGL 0.93"),c=-1!==g.getParameter(g.VERSION).indexOf("WebGL 0.94");
return g.getExtension("OES_standard_derivatives")&&!(a||c)};this.setEnableState=function(a){d.assert(a!==this.getEnableState());a?this.enable():this.disable()};this.getEnableState=function(){return void 0!==m};this.enable=function(){d.assert(!this.getEnableState());d.assert(this.getIsSupported());m=new b(g.RGBA,g.UNSIGNED_BYTE,!1,g.LINEAR,g);r=new b(g.RGBA,g.UNSIGNED_BYTE,!1,g.LINEAR,g);v=new b(g.RGBA,g.UNSIGNED_BYTE,!1,g.LINEAR,g);x=g.createTexture();g.bindTexture(g.TEXTURE_2D,x);g.texImage2D(g.TEXTURE_2D,
0,g.RGBA,8,8,0,g.RGBA,g.UNSIGNED_BYTE,null);g.generateMipmap(g.TEXTURE_2D);var c=new Image;c.src="data:image/png;base64,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\x3d\x3d";
c.onload=function(){x&&h.texImage2D(c,x,g,a,g.getParameter(g.VIEWPORT),!0,!1,!1)};var f=new Float32Array(8);f[0]=-1;f[1]=-1;f[2]=1;f[3]=-1;f[4]=-1;f[5]=1;f[6]=1;f[7]=1;w=new l(f,e.Defaults.Pos2,g)};this.disable=function(){d.assert(this.getEnableState());w.dispose();g.deleteTexture(x);v.dispose();r.dispose();m.dispose();m=r=v=w=void 0};this.setAttenuation=function(a){f=a};this.getAttenuation=function(){return f};this.setRadius=function(a){s=a};this.getRadius=function(){return s};this.setFilterRadius=
function(a){y=Math.max(Math.round(a),1)};this.getFilterRadius=function(){return y};this.setSamples=function(a){z=a};this.getSamples=function(){return z};var M=[1,1,1,2,3,2,5,2,3,2,3,3,5,5,3,4,7,5,5,7,9,8,5,5,7,7,7,8,5,8,11,12,7,10,13,8,11,8,7,14,11,11,13,12,13,19,17,13,11,18,19,11,11,14,17,21,15,16,17,18,13,17,11,17,19,18,25,18,19,19,29,21,19,27,31,29,21,18,17,29,31,31,23,18,25,26,25,23,19,34,19,27,21,25,39,29,17,21,27,29],T=[0,0,0,0];this.computeSSAO=function(c,b,e,l,h){d.assert(this.getEnableState());
var u=l.getWidth(),B=l.getHeight();e=u/2;var K=B/2;m.setSize(u,B);r.setSize(e,K);v.setSize(e,K);e=1*u;K=1*B;m.bind();p.set(c.viewport,A);g.viewport(0,0,u,B);var H=a.get(8>=z?"ssao8":16>=z?"ssao16":32>=z?"ssao32":"ssao64"),O=a.get("blur");H.use();var I=c.projectionMatrix;T[0]=-2/(e*I[0]);T[1]=-2/(K*I[5]);T[2]=(1-I[2])/I[0];T[3]=(1+I[6])/I[5];I=0===I[11];H.uniform2f("rnmScale",u/64,B/64);H.uniform3fv("pSphere",8>=z?E:16>=z?F:32>=z?G:Q);H.uniform1f("numSpiralTurns",z<M.length?M[z]:5779);H.uniform4fv("projInfo",
T);u=1/c.computePixelSizeAtDist(1);H.uniform1f("projScale",1*u);H.uniform2f("screenDimensions",e,K);I?(H.uniform2f("nearFar",c.near,c.far),H.uniform2f("zScale",0,-1)):(H.uniform2f("nearFar",c.near,c.far),H.uniform2f("zScale",1,0));var J=2*s,B=k.dist(c.eye,c.center),J=20*c.computePixelSizeAtDist(B),J=Math.max(0.1,J);H.uniform1f("radius",J);H.uniform1f("intensity",4*f/Math.pow(J,6));H.uniform1i("rnm",0);H.uniform1i("normalMap",1);H.uniform1i("depthMap",2);g.activeTexture(g.TEXTURE0);g.bindTexture(g.TEXTURE_2D,
x);g.activeTexture(g.TEXTURE1);g.bindTexture(g.TEXTURE_2D,h.getTexture());g.activeTexture(g.TEXTURE2);g.bindTexture(g.TEXTURE_2D,l.getTexture());w.bind();w.setPointers(H);w.getLayout().enableVertexAttribArrays(g,H);g.drawArrays(g.TRIANGLE_STRIP,0,w.getNum());O.changeShaderDefines(1,["RADIUS "+y]);l=(y+1)/2;l=1/(2*l*l);g.activeTexture(g.TEXTURE0);g.bindTexture(g.TEXTURE_2D,m.getTexture());g.viewport(0,0,e/2,K/2);r.bind();O.use(g);O.uniform2f("screenDimensions",e,K);O.uniform1i("tex",0);O.uniform1i("normalMap",
1);O.uniform1i("depthMap",2);O.uniform2f("blurSize",0,2/K);O.uniform1i("radius",y);O.uniform1f("g_BlurFalloff",l);O.uniform2f("nearFar",c.near,c.far);5E4<B&&(u=Math.max(0,u-(B-5E4)));O.uniform1f("projScale",u);I?O.uniform2f("zScale",0,-1):O.uniform2f("zScale",1,0);g.drawArrays(g.TRIANGLE_STRIP,0,w.getNum());O.uniform2f("blurSize",2/e,0);v.bind();g.bindTexture(g.TEXTURE_2D,r.getTexture());g.drawArrays(g.TRIANGLE_STRIP,0,w.getNum());w.getLayout().disableVertexAttribArrays(g,H);g.bindFramebuffer(g.FRAMEBUFFER,
b);g.viewport(A[0],A[1],A[2],A[3])};this.setUniforms=function(a){var c=this.getEnableState();a.use();g.activeTexture(g.TEXTURE6);g.bindTexture(g.TEXTURE_2D,c?v.getTexture():B);g.activeTexture(g.TEXTURE0);a.uniform1i("ssaoTex",6);c?a.uniform4f("viewportPixelSz",A[0],A[1],1/m.getWidth(),1/m.getHeight()):a.uniform4f("viewportPixelSz",-1,-1,-1,-1)};this.bindAll=function(a){a=a.getProgramsUsingUniform("viewportPixelSz");for(var c=0;c<a.length;c++)this.setUniforms(a[c])};c=new Float32Array(16);c[0]=0;c[1]=
0;c[2]=0;c[3]=0;c[4]=512;c[5]=0;c[6]=1;c[7]=0;c[8]=0;c[9]=512;c[10]=0;c[11]=1;c[12]=512;c[13]=512;c[14]=1;c[15]=1;var K=new l(c,e.Defaults.Pos2Tex,g);this.drawQuad=function(c){d.assert(this.getEnableState());var f=a.get("showDepth");g.disable(g.DEPTH_TEST);f.use();f.uniformMatrix4fv("proj",c);f.uniform1i("depthTex",0);g.bindTexture(g.TEXTURE_2D,v.getTexture());K.getLayout().enableVertexAttribArrays(g,f);K.bind();K.setPointers(f);g.drawArrays(g.TRIANGLE_STRIP,0,K.getNum());g.bindBuffer(g.ARRAY_BUFFER,
null);K.getLayout().disableVertexAttribArrays(g,f);g.useProgram(null);g.enable(g.DEPTH_TEST)}};c.loadShaders=function(c,b,d,k){c.samples="samplesUNDEF";c._parse(a);b=new m(k.VERTEX_SHADER,c.vertexShaderShowDepth,k);var e=new m(k.FRAGMENT_SHADER,c.fragmentShaderShowDepth,k);b=new g([b,e],k);var p=c.createFsSSAOSrcObscurance,e=new m(k.VERTEX_SHADER,c.vsUVQuad,k),l=new m(k.FRAGMENT_SHADER,p.replace("samplesUNDEF","8"),k),h=new m(k.FRAGMENT_SHADER,p.replace("samplesUNDEF","16"),k),f=new m(k.FRAGMENT_SHADER,
p.replace("samplesUNDEF","32"),k),s=new m(k.FRAGMENT_SHADER,p.replace("samplesUNDEF","64"),k),p=new m(k.FRAGMENT_SHADER,c.fsBlurEdgeAware,k),l=new g([e,l],k),h=new g([e,h],k),f=new g([e,f],k),s=new g([e,s],k);k=new g([e,p],k,["RADIUS 4"]);d.add("showDepth",b);d.add("ssao8",l);d.add("ssao16",h);d.add("ssao32",f);d.add("ssao64",s);d.add("blur",k);delete c.samples};return c})},"esri/views/3d/navigation/spherical/ConstraintsSpherical":function(){define("../mixins/ConstraintsMixin ../../support/mathUtils ../../support/earthUtils ../../lib/glMatrix ../../constraints/SceneViewAltitudeConstraint ../../constraints/SceneViewTiltConstraint ../../webgl-engine/lib/Util".split(" "),
function(b,h,l,m,g,e,d){var c=m.vec3d,a=c.create();return b.createSubclass({declaredClass:"esri.views.3d.navigation.spherical.ConstraintsSpherical",defaultConstraints:{tilt:new b.Tilt({min:function(){return h.deg2rad(e.MAX_DEFAULT)},max:h.makePiecewiseLinearFunction([[4E3,h.deg2rad(e.MIN_DEFAULT)],[5E4,h.deg2rad(88)],[6E6,h.deg2rad(88)],[2E7,h.deg2rad(e.MAX_DEFAULT)]])}),altitude:new b.Altitude({min:function(){return g.MIN_DEFAULT},max:function(){return g.MAX_DEFAULT}}),collision:new b.Collision},
limitAltitude:function(b,d,e,g){c.scale(e,b/g,a);c.subtract(d,a,a);var q=this.renderCoordsHelper.getAltitude(a),h=this.constraints.altitude.apply(this,q);if(1E-6<Math.abs(q-h)){b=c.length(d);h+=l.earthRadius;d=c.dot(e,d)/(b*g);d*=-2*b;e=d*d-4*(-(h*h)+b*b);if(0>e)return this.minPoiDist;e=Math.sqrt(e);return e<d?(d-e)/2:(e-d)/2}return b},limitTiltByAltitudeConstraints:function(a,b,d,e){b=c.length(b);var g=b*b,m=d*d,r=Math.sqrt(g+m-2*b*d*Math.cos(Math.PI-a))-l.earthRadius,v=this.constraints.altitude.min(),
x=this.constraints.altitude.max(),w;if((void 0===e||0<e)&&r<v)w=v;else if((void 0===e||0>e)&&r>x)w=x;void 0!==w&&(a=w+l.earthRadius,a=Math.PI-h.acos((-(a*a)+g+m)/(2*b*d)));return a},distanceToSilhouette:function(a,b,d,e,g){g||(g={maxFarNearRatio:0,distance:0});a=c.dot(a.eye,a.eye);b=l.earthRadius*l.earthRadius;g.maxFarNearRatio=this.maxFarNearRatio;a>b?(g.maxFarNearRatio=h.clamp(2E4-19E3*((Math.log(Math.sqrt(a)-l.earthRadius)-7.983)/9.011),1E3,2E4),g.distance=Math.sqrt(a-b)):g.distance=this.maxFarNearRatio*
this.minNearDistance;g.distance*=1.2;return g},intersectManifold:function(a,c,b,e){return d.raySphereClosestPositive(a,c,l.earthRadius+b,e)},getCenterIntersectTerrainFallback:function(a,b,d){b=c.dot(a,a);var e=l.earthRadius*l.earthRadius;b=b>e?Math.sqrt(b-e)/3:1;c.scale(d,b/c.length(d),d);c.add(d,a)}})})},"esri/views/3d/support/RenderCoordsHelper":function(){define(["./earthUtils","./projectionUtils","../lib/glMatrix","../webgl-engine/lib/BufferVectorMath"],function(b,h,l,m){var g=l.vec3,e=m.Vec3Compact,
d=b.earthRadius,c=[0,0,1];b=function(a){this.spatialRef=a};b.prototype.toRenderCoords=function(a,c,b){return"esri.geometry.Point"===a.declaredClass?h.pointToVector(a,c,this.spatialRef):h.vectorToVector(a,c,b,this.spatialRef)};b.prototype.fromRenderCoords=function(a,c,b){return"esri.geometry.Point"===c.declaredClass||"esri.SpatialReference"===c.declaredClass?h.vectorToPoint(a,this.spatialRef,c,b):h.vectorToVector(a,this.spatialRef,c,b)};l=function(a){this.spatialRef=a=a||h.SphericalRenderSpatialReference};
l.prototype=new b;l.prototype.getAltitude=function(a,c){return e.length(a,c||0)-d};l.prototype.setAltitude=function(a,c,b){b=b||0;a=(a+d)/e.length(c,b);e.scale(c,b,a)};l.prototype.setAltitudeOfTransformation=function(a,c){this.setAltitude(a,c,12)};l.prototype.worldUpAtPosition=function(a,c){g.normalize(a,c)};m=function(a){this.spatialRef=a;this.worldUp=c};m.prototype=new b;m.prototype.getAltitude=function(a,c){return c?a[c+2]:a[2]};m.prototype.setAltitude=function(a,c,b){b?c[b+2]=a:c[2]=a};m.prototype.setAltitudeOfTransformation=
function(a,c){this.setAltitude(a,c,12)};m.prototype.worldUpAtPosition=function(a,b){g.set(c,b)};m.worldUp=c;b.Spherical=l;b.Planar=m;return b})},"esri/views/3d/navigation/ContinuousAction":function(){define(["../../../core/Accessor","../lib/glMatrix"],function(b,h){var l=h.vec3d;return b.createSubclass({classMetadata:{properties:{active:{getter:function(){return 0!==this.velocity},dependsOn:["velocity"],readOnly:!0}}},constructor:function(){this.direction=l.create();this.status=this.timer=this.velocity=
0},stop:function(){this.status=this.velocity=this.timer=0;l.set3(0,0,0,this.direction)},step:function(b){var g;0<this.timer?(b=Math.min(b,this.timer),g=this.velocity*b*(1-b/(2*this.timer)),this.velocity*=1-b/this.timer,this.timer-=b):g=this.velocity*b;return g}})})},"dijit/form/HorizontalSlider":function(){define("dojo/_base/array dojo/_base/declare dojo/dnd/move dojo/_base/fx dojo/dom-geometry dojo/dom-style dojo/keys dojo/_base/lang dojo/sniff dojo/dnd/Moveable dojo/dnd/Mover dojo/query dojo/mouse dojo/on ../_base/manager ../focus ../typematic ./Button ./_FormValueWidget ../_Container dojo/text!./templates/HorizontalSlider.html".split(" "),
function(b,h,l,m,g,e,d,c,a,k,p,n,u,q,t,r,v,x,w,f,s){var z=h("dijit.form._SliderMover",p,{onMouseMove:function(a){var f=this.widget,b=f._abspos;b||(b=f._abspos=g.position(f.sliderBarContainer,!0),f._setPixelValue_=c.hitch(f,"_setPixelValue"),f._isReversed_=f._isReversed());a=a[f._mousePixelCoord]-b[f._startingPixelCoord];f._setPixelValue_(f._isReversed_?b[f._pixelCount]-a:a,b[f._pixelCount],!1)},destroy:function(a){p.prototype.destroy.apply(this,arguments);var c=this.widget;c._abspos=null;c._setValueAttr(c.value,
!0)}});l=h("dijit.form.HorizontalSlider",[w,f],{templateString:s,value:0,showButtons:!0,minimum:0,maximum:100,discreteValues:Infinity,pageIncrement:2,clickSelect:!0,slideDuration:t.defaultDuration,_setIdAttr:"",_setNameAttr:"valueNode",baseClass:"dijitSlider",cssStateNodes:{incrementButton:"dijitSliderIncrementButton",decrementButton:"dijitSliderDecrementButton",focusNode:"dijitSliderThumb"},_mousePixelCoord:"pageX",_pixelCount:"w",_startingPixelCoord:"x",_handleOffsetCoord:"left",_progressPixelSize:"width",
_onKeyUp:function(a){!this.disabled&&(!this.readOnly&&!a.altKey&&!a.ctrlKey&&!a.metaKey)&&this._setValueAttr(this.value,!0)},_onKeyDown:function(a){if(!this.disabled&&!this.readOnly&&!a.altKey&&!a.ctrlKey&&!a.metaKey){switch(a.keyCode){case d.HOME:this._setValueAttr(this.minimum,!1);break;case d.END:this._setValueAttr(this.maximum,!1);break;case this._descending||this.isLeftToRight()?d.RIGHT_ARROW:d.LEFT_ARROW:case !1===this._descending?d.DOWN_ARROW:d.UP_ARROW:case !1===this._descending?d.PAGE_DOWN:
d.PAGE_UP:this.increment(a);break;case this._descending||this.isLeftToRight()?d.LEFT_ARROW:d.RIGHT_ARROW:case !1===this._descending?d.UP_ARROW:d.DOWN_ARROW:case !1===this._descending?d.PAGE_UP:d.PAGE_DOWN:this.decrement(a);break;default:return}a.stopPropagation();a.preventDefault()}},_onHandleClick:function(c){!this.disabled&&!this.readOnly&&(a("ie")||r.focus(this.sliderHandle),c.stopPropagation(),c.preventDefault())},_isReversed:function(){return!this.isLeftToRight()},_onBarClick:function(a){if(!this.disabled&&
!this.readOnly&&this.clickSelect){r.focus(this.sliderHandle);a.stopPropagation();a.preventDefault();var c=g.position(this.sliderBarContainer,!0),f=a[this._mousePixelCoord]-c[this._startingPixelCoord];this._setPixelValue(this._isReversed()?c[this._pixelCount]-f:f,c[this._pixelCount],!0);this._movable.onMouseDown(a)}},_setPixelValue:function(a,c,f){if(!this.disabled&&!this.readOnly){var b=this.discreteValues;if(1>=b||Infinity==b)b=c;b--;a=Math.round(a/(c/b));this._setValueAttr(Math.max(Math.min((this.maximum-
this.minimum)*a/b+this.minimum,this.maximum),this.minimum),f)}},_setValueAttr:function(a,c){this._set("value",a);this.valueNode.value=a;this.focusNode.setAttribute("aria-valuenow",a);this.inherited(arguments);var f=this.maximum>this.minimum?(a-this.minimum)/(this.maximum-this.minimum):0,b=!1===this._descending?this.remainingBar:this.progressBar,d=!1===this._descending?this.progressBar:this.remainingBar;this._inProgressAnim&&"stopped"!=this._inProgressAnim.status&&this._inProgressAnim.stop(!0);if(c&&
0<this.slideDuration&&b.style[this._progressPixelSize]){var k=this,e={},n=parseFloat(b.style[this._progressPixelSize]),g=this.slideDuration*(f-n/100);0!=g&&(0>g&&(g=0-g),e[this._progressPixelSize]={start:n,end:100*f,units:"%"},this._inProgressAnim=m.animateProperty({node:b,duration:g,onAnimate:function(a){d.style[k._progressPixelSize]=100-parseFloat(a[k._progressPixelSize])+"%"},onEnd:function(){delete k._inProgressAnim},properties:e}),this._inProgressAnim.play())}else b.style[this._progressPixelSize]=
100*f+"%",d.style[this._progressPixelSize]=100*(1-f)+"%"},_bumpValue:function(a,c){if(!this.disabled&&!(this.readOnly||this.maximum<=this.minimum)){var f=e.getComputedStyle(this.sliderBarContainer),b=g.getContentBox(this.sliderBarContainer,f),f=this.discreteValues;if(1>=f||Infinity==f)f=b[this._pixelCount];f--;b=(this.value-this.minimum)*f/(this.maximum-this.minimum)+a;0>b&&(b=0);b>f&&(b=f);b=b*(this.maximum-this.minimum)/f+this.minimum;this._setValueAttr(b,c)}},_onClkBumper:function(a){!this.disabled&&
(!this.readOnly&&this.clickSelect)&&this._setValueAttr(a,!0)},_onClkIncBumper:function(){this._onClkBumper(!1===this._descending?this.minimum:this.maximum)},_onClkDecBumper:function(){this._onClkBumper(!1===this._descending?this.maximum:this.minimum)},decrement:function(a){this._bumpValue(a.keyCode==d.PAGE_DOWN?-this.pageIncrement:-1)},increment:function(a){this._bumpValue(a.keyCode==d.PAGE_UP?this.pageIncrement:1)},_mouseWheeled:function(a){a.stopPropagation();a.preventDefault();this._bumpValue(0>
a.wheelDelta?-1:1,!0)},startup:function(){this._started||(b.forEach(this.getChildren(),function(a){this[a.container]!=this.containerNode&&this[a.container].appendChild(a.domNode)},this),this.inherited(arguments))},_typematicCallback:function(a,c,f){if(-1==a)this._setValueAttr(this.value,!0);else this[c==(this._descending?this.incrementButton:this.decrementButton)?"decrement":"increment"](f)},buildRendering:function(){this.inherited(arguments);this.showButtons&&(this.incrementButton.style.display=
"",this.decrementButton.style.display="");var a=n('label[for\x3d"'+this.id+'"]');a.length&&(a[0].id||(a[0].id=this.id+"_label"),this.focusNode.setAttribute("aria-labelledby",a[0].id));this.focusNode.setAttribute("aria-valuemin",this.minimum);this.focusNode.setAttribute("aria-valuemax",this.maximum)},postCreate:function(){this.inherited(arguments);this.showButtons&&this.own(v.addMouseListener(this.decrementButton,this,"_typematicCallback",25,500),v.addMouseListener(this.incrementButton,this,"_typematicCallback",
25,500));this.own(q(this.domNode,u.wheel,c.hitch(this,"_mouseWheeled")));var a=h(z,{widget:this});this._movable=new k(this.sliderHandle,{mover:a});this._layoutHackIE7()},destroy:function(){this._movable.destroy();this._inProgressAnim&&"stopped"!=this._inProgressAnim.status&&this._inProgressAnim.stop(!0);this.inherited(arguments)}});l._Mover=z;return l})},"esri/layers/mixins/ArcGISDynamicService":function(){define(["../../core/declare","dojo/_base/lang","./ArcGISMapService","../support/layerUtils",
"../../core/Accessor"],function(b,h,l,m,g){var e=b(g,{classMetadata:{computed:{layers:["layer.defaultVisibleLayers","layer.visibleLayers"],layerDefs:["layer.layerDefinitions"],layerTimeOptions:["layer.layerTimeOptions"]}},_layerDefsGetter:function(){var b=this.layer.layerDefinitions;return b&&m._serializeLayerDefinitions(b)},_layerTimeOptionsGetter:function(){var b=this.layer.layerTimeOptions;return b&&m._serializeTimeOptions(b)},_layersGetter:function(){var b=this.layer.visibleLayers,c=this.layer.defaultVisibleLayers;
return b&&b!==c?"show:"+b.join(","):null},toJSON:function(){return{dpi:this.layer.dpi,format:this.layer.imageFormat,transparent:this.layer.imageTransparency,gdbVersion:this.layer.gdbVersion||null,layerTimeOptions:this.layerTimeOptions,layers:this.layers,layerDefs:this.layerDefs}}});return b(l,{declaredClass:"esri.layers.mixins.ArcGISDynamicService",classMetadata:{reader:{add:["defaultVisibleLayers","visibleLayers"]},computed:{visibleLayers:["dynamicLayerInfos"]}},constructor:function(){this._exportImageParameters=
new e({layer:this})},_exportImageParameters:null,dpi:96,_defaultVisibleLayersReader:function(b,c){var a=[];c.layers&&c.layers.forEach(function(c){c.defaultVisibility&&a.push(c.id)});return a},dynamicLayerInfos:null,gdbVersion:null,imageFormat:"png8",imageTransparency:!0,layerDefinitions:null,layerDrawingOptions:null,layerTimeOptions:null,visibleLayers:null,_visibleLayersReader:function(b,c){return this._defaultVisibleLayersReader(b,c)},_visibleLayersGetter:function(b){return this.dynamicLayerInfos?
m._getDefaultVisibleLayers(this.dynamicLayerInfos):b},getExportImageParameters:function(b){var c=b.extent,a=b.width,k=b.height,e=c&&c.spatialReference;b=null==b.rotation||0===b.rotation||10.3>this.version?{}:{rotation:-b.rotation};e=e&&(e.wkid||JSON.stringify(e.toJSON()));return h.mixin({bbox:c&&c.xmin+","+c.ymin+","+c.xmax+","+c.ymax,bboxSR:e,imageSR:e,size:a+","+k},b,this._exportImageParameters.toJSON())}})})},"esri/core/declare":function(){define(["dojo/_base/declare","./accessorSupport/introspect"],
function(b,h){var l=[],m=function(b,c){for(var a=b._meta.bases,k=a.length-1;0<k;k--)if(a[k].prototype.declaredClass===c)return!0;return!1},g=function(b,c){Array.isArray(b)||"function"==typeof b||(c=b,b=void 0);c=c||{};b=b||[];return e([this].concat(b),c)},e=function(d,c,a){d=b(d,c,a);d.createSubclass=g;if(m(d,"esri.core.Accessor")){h(d);c=0;for(a=l.length;c<a;c++)l[c](d)}return d};e.hasMixin=m;e.after=function(b){l.push(b)};e.safeMixin=b.safeMixin;return e})},"dojo/promise/Promise":function(){define(["../_base/lang"],
function(b){function h(){throw new TypeError("abstract");}return b.extend(function(){},{then:function(b,m,g){h()},cancel:function(b,m){h()},isResolved:function(){h()},isRejected:function(){h()},isFulfilled:function(){h()},isCanceled:function(){h()},always:function(b){return this.then(b,b)},otherwise:function(b){return this.then(null,b)},trace:function(){return this},traceRejected:function(){return this},toString:function(){return"[object Promise]"}})})},"esri/views/3d/terrain/TileBase":function(){define("../support/mathUtils ../../../layers/support/LercCodec ./TileUtils ./TerrainConst ./TileGeometryFactory ./UpsampleInfo ../lib/glMatrix ../webgl-engine/lib/Util ../../../core/arrayUtils".split(" "),
function(b,h,l,m,g,e,d,c,a){function k(a){this.waitingAgents=[];this.init(a)}var p=d.vec3d,n=d.vec2d,u=d.vec4d,q=c.assert,t=p.create(),r=u.create(),v=p.create(),x={},w=m.LayerClass.LAYER_CLASS_COUNT,f=m.LayerClass.MAP,s=m.LayerClass.ELEVATION,z=m.TileUpdateTypes;d=function(a,c,f){this.lij=[0,0,0];this.extent=u.create();this.extentWGS84Rad=u.create();this.centerAtSeaLevel=p.create();this.center=p.create();this.tileUp=v;this.elevationBounds=n.create();this.children=[null,null,null,null];this.centerProjected=
u.create();this.layerInfo=Array(w);this.intersectsClippingArea=this.isWithinClippingArea=!0;this.clippingArea=null};d.prototype.init=function(a,c,f){this.lij[0]=a[0];this.lij[1]=a[1];this.lij[2]=a[2];u.set4(0,0,0,0,this.extent);u.set4(0,0,0,0,this.extentWGS84Rad);this.intersectsClippingArea=this.isWithinClippingArea=!0;this.clippingArea=null;this.radius=this.edgeLen=0;this.vlevel=a?a[0]:0;c&&c.elevationBounds?n.set(c.elevationBounds,this.elevationBounds):n.set2(0,0,this.elevationBounds);this.parent=
c;for(a=0;4>a;a++)this.children[a]=null;this.pendingUpdates=0;this.renderData=null;this.renderOrder=this.screenDepth=0;this.visible=!1;this.parentSurface=f;for(a=0;a<w;a++)if(f){var b=f.numLayers(a),d;this.layerInfo[a]?(d=this.layerInfo[a],d.length=b):(d=Array(b),this.layerInfo[a]=d);for(var k=0;k<b;k++)d[k]=y(a,d[k]),c&&a==s&&(d[k].elevationBounds=c.layerInfo[a][k].elevationBounds)}else this.layerInfo[a]=null};d.prototype.dispose=function(){for(var a=0;a<w;a++)for(var c=this.layerInfo[a],f=0;f<c.length;f++){var b=
c[f];b.upsampleFromTile&&(e.Pool.release(b.upsampleFromTile),b.upsampleFromTile=null)}};d.prototype.shouldSplit=function(a,c){var f=this.lij[0];if(1>f)return z.SPLIT;p.subtract(this.center,c,t);var b=p.length(t),b=this.edgeLen/(2*a[0]*b);return b<a[1]?this.vlevel!==this.lij[0]?(this.vlevel=this.lij[0],z.VSPLITMERGE):z.NONE:f>=a[4]?(f+=Math.ceil(-Math.log2(a[1]/b)),f!==this.vlevel?(this.vlevel=f,z.VSPLITMERGE):z.NONE):10<f&&(p.scale(this.tileUp,p.dot(this.tileUp,t),r),p.subtract(r,t),p.length2(r)>
this.radius*this.radius&&(p.scale(r,this.radius/p.length(r)),p.add(r,this.centerAtSeaLevel),p.subtract(c,r,r),Math.abs(p.dot(r,this.tileUp)/p.length(r))*b<0.15*a[1]))?z.NONE:z.SPLIT};d.prototype.createElevationDataFromLERC=function(a){var c;try{var f=h.decode(a,{noDataValue:m.ELEVATION_NODATA_VALUE}),b=f.width;c={bounds:[f.minValue,-3E38<f.maxValue?f.maxValue:0],samplerData:{dx:(b-1)/(this.extent[2]-this.extent[0]),dy:(b-1)/(this.extent[3]-this.extent[1]),x0:this.extent[0],y1:this.extent[3],width:b,
pixels:f.pixelData,safeWidth:0.99999999*(b-1)}}}catch(d){console.warn("Error decoding %s: %s",a.url,d.message)}return c};d.prototype.getWGS84Extent=function(){return this.extentWGS84Rad.map(b.rad2deg)};d.prototype.load=function(a){for(var c=0;c<w;c++)this.layerInfo[c]&&this._createOrUpdateAgents(0,c);a.loadTile(this)};d.prototype.unload=function(a){this.renderData&&a.unloadTile(this);for(a=0;a<w;a++)for(var c=this.layerInfo[a],f=0;f<c.length;f++){var b=c[f];b.loadingAgent&&b.loadingAgent!==x&&(b.loadingAgent.dispose(),
this.parentSurface.agentTypeByLayerIndex(f,a).Pool.release(b.loadingAgent),b.loadingAgent=null);b.pendingUpdates=0}this.pendingUpdates&=~m.TileUpdateTypes.UPDATE_GEOMETRY;this.pendingUpdates&=~m.TileUpdateTypes.UPDATE_TEXTURE};d.prototype.updateClippingStatus=function(c){a.equals(c,this.clippingArea)||(c?(this.intersectsClippingArea=this._intersectsExtent(c),this.isWithinClippingArea=this._isWithinExtent(c)):this.isWithinClippingArea=this.intersectsClippingArea=!0,this.clippingArea=c,this.renderData&&
this.updateGeometry())};d.prototype.updateVisibility=function(a,c,f){a=f||this.isVisible(a,c)&&this.intersectsClippingArea;if(a!==this.visible){this.visible=a;c=this.layerInfo[0];for(f=0;f<c.length;f++){var b=c[f];b.loadingAgent&&b.loadingAgent!==x&&b.loadingAgent.setSuspension(!a)}}return a};d.prototype.getLayerInfo=function(a,c){return this.layerInfo[c][a]};d.prototype.hasLayerData=function(a,c){var f=this.layerInfo[c][a];return f&&f.data};d.prototype.tileDataAvailable=function(a,c,f){return(c=
this.layerInfo[f][c].tilemapData)?null!=c.dataValue?c.dataValue:c.isTileAvailable(a.lij[1],a.lij[2]):!0};d.prototype.requestLayerData=function(a,c,f){m.TILE_LOADING_DEBUGLOG&&console.log("tile %s layer %d/%d requested by tile %s",this.lij.toString(),c,a,f.tile.lij.toString());var b=this.layerInfo[c][a];if(-1<b.waitingAgents.indexOf(f))return console.warn("agent already requested this piece of map data (tile %s, agent tile %s, layer: %d/%d)",this.lij.toString(),f.tile.lij.toString(),c,a),!0;if(b.data)return console.warn("agent requested existing data (tile %s, agent tile %s, layer: %d/%d)",
this.lij.toString(),f.tile.lij.toString(),c,a),b.waitingAgents.push(f),setTimeout(f.dataArrived.bind(f,this),0),!0;b.waitingAgents.push(f);if(!b.requestPromise){var d=this.parentSurface.requestTileData(this,a,c);a=function(){b.requestPromise===d&&(b.requestPromise=null)};b.requestPromise=d;d.then(a,a)}return b.requestPromise?!0:!1};d.prototype.descendants=function(a){a||(a=[]);for(var c=0;4>c;c++){var f=this.children[c];f&&(f.descendants(a),a.unshift(this.children[c]))}return a};d.prototype.isLij=
function(a){return this.lij[0]===a[0]&&this.lij[1]===a[1]&&this.lij[2]==a[2]};d.prototype.findByLij=function(a){if(this.isLij(a))return this;for(var c=0;4>c;c++){var f=this.children[c];if(f&&(f=f.findByLij(a)))return f}return null};d.prototype.unrequestLayerData=function(a,c,f){m.TILE_LOADING_DEBUGLOG&&console.log("tile %s layer %d/%d canceled by tile %s",this.lij.toString(),c,a,f.tile.lij.toString());var b=this.layerInfo[c][a],d=b.waitingAgents;f=d.indexOf(f);q(-1<f,"agent has not requested this piece of map data");
d[f]=d[d.length-1];d.length--;1>d.length&&(q(b.requestPromise||b.rawData,"no pending operations on layerInfo that agents were waiting for"),b.requestPromise&&(this.parentSurface.cancelRequest(b.requestPromise),b.requestPromise=null),b.rawData&&(b.rawData=null),m.TILE_LOADING_DEBUGLOG&&console.log("tile %s layer %d/%d request/loading canceled",this.lij.toString(),c,a))};d.prototype.dataArrived=function(a,c,f){a=this.layerInfo[c][a];a.data=f;for(f=0;f<a.waitingAgents.length;f++)a.waitingAgents[f].dataArrived(this);
a.waitingAgents.length=0};d.prototype.dataMissing=function(a,c,f){f.notInTilemap||console.error("Tile %s layer %d/%d error",this.lij.toString(),c,a);a=this.layerInfo[c][a];for(c=0;c<a.waitingAgents.length;c++)a.waitingAgents[c].dataMissing(this);a.waitingAgents.length=0};d.prototype.updateTexture=function(a){this.renderData&&(a?this.parentSurface._renderer.updateTileTexture(this):(this.pendingUpdates|=m.TileUpdateTypes.UPDATE_TEXTURE,this.parentSurface._pendingUpdates=!0))};d.prototype.updateElevationBounds=
function(){n.set2(Number.MAX_VALUE,-Number.MAX_VALUE,this.elevationBounds);for(var a=this.layerInfo[s],c=!1,f=0;f<a.length;f++){var b=a[f];if(b.elevationBounds){var d=this.parentSurface.layerViewByIndex(f,s);l.fallsWithinLayer(this,d,!1)&&(this.elevationBounds[0]=Math.min(this.elevationBounds[0],b.elevationBounds[0]),this.elevationBounds[1]=Math.max(this.elevationBounds[1],b.elevationBounds[1]),c=!0)}}c||n.set2(0,0,this.elevationBounds);this.updateRadiusAndCenter()};d.prototype.updateRadiusAndCenter=
function(){var a=this.elevationBounds[1]-this.elevationBounds[0],c=this.edgeLen*Math.SQRT1_2;this.radius=Math.sqrt(c*c+a*a);p.scale(this.tileUp,this.elevationBounds[0]+0.5*a,r);p.add(this.centerAtSeaLevel,r,this.center)};d.prototype.setLayerElevationBounds=function(a,c){var f=this.layerInfo[s][a];if(!f.elevationBounds||f.elevationBounds[2]<c[2])f.elevationBounds=c,this.updateElevationBounds()};d.prototype.updateGeometry=function(){this.pendingUpdates|=m.TileUpdateTypes.UPDATE_GEOMETRY;this.parentSurface._pendingUpdates=
!0};d.prototype.modifyLayers=function(a,c,b){for(var d=c.length,k=this.layerInfo[b],e=Array(d),n=0;n<k.length;n++){var g=k[n];g.loadingAgent&&g.loadingAgent!==x&&(g.loadingAgent.dispose(),this.parentSurface.agentTypeByLayerIndex(n,b).Pool.release(g.loadingAgent),g.loadingAgent=null);g.waitingAgents.length=0}if(b===f)for(n=0;n<k.length;n++)void 0===a[n]&&(g=k[n],g.data instanceof WebGLTexture&&this.parentSurface._renderer.releaseTileTexture(g.data));for(n=0;n<d;n++)a=c[n],e[n]=-1<a?k[a]:y(b);this.layerInfo[b]=
e};d.prototype.restartAgents=function(a){if(this.renderData)if(this._createOrUpdateAgents(0,a),a===s){this.updateGeometry();a=this.layerInfo[a];for(var c=0;c<a.length;c++)a[c].pendingUpdates|=m.TileUpdateTypes.UPDATE_GEOMETRY;this.parentSurface._pendingUpdates=!0}else this.updateTexture(!0)};d.prototype.updateAgents=function(a){if(this.renderData){for(var c=this.layerInfo[a],f=0;f<c.length;f++){var b=c[f];b.loadingAgent===x&&(b.loadingAgent=null)}this._createOrUpdateAgents(0,a)}};d.prototype.agentDone=
function(a,c){var f=this.layerInfo[c],b=f[a];b.loadingAgent=x;!b.data&&!b.upsampleFromTile&&a<f.length-1&&this._createOrUpdateAgents(a+1,c)};d.prototype._createOrUpdateAgents=function(a,c){var f;f=c===s?!1:!this.visible;for(var b=a,d=this.layerInfo[c];b<d.length;){var k=d[b],e=!1,n=this.parentSurface.layerViewByIndex(b,c);if(null!==k.loadingAgent&&k.loadingAgent!==x)e=k.loadingAgent.update();else if(k.loadingAgent!==x&&l.fallsWithinLayer(this,n,!1)){var g=this.parentSurface.agentTypeByLayerIndex(b,
c),p=g.Pool.acquire();(e=p.init(this,b,c,f))?k.loadingAgent=p:(g.Pool.release(p),k.loadingAgent=x)}if(e&&!n.isTransparent())break;b++}};d.prototype.geometryState=function(c){var f,d=this._getElevationInfo(c?c.samplerData:null),k=this.lij[0],e=!1;d.samplerData?(f=this.vlevel-k,f=Math.max(k-d.maxTileLevel,m.ELEVATION_DESIRED_RESOLUTION_LEVEL-f),f=b.clamp((256>>f)+1,2,257)):f=8>k?this._numSubdivisionsAtLevel[k]+1:2;f=g.supportedNumVertsPerRow(f);k=this.clippingArea;if(!this.intersectsClippingArea||this.isWithinClippingArea)k=
null;c?(c.numVertsPerRow!==f&&(c.numVertsPerRow=f,e=!0),d.changed&&(c.samplerData=d.samplerData,e=!0),a.equals(c.clippingArea,k)||(c.clippingArea=k,e=!0),c.needsUpdate=e):c={numVertsPerRow:f,samplerData:d.samplerData,needsUpdate:!0,clippingArea:k};return c};d.prototype._getElevationInfo=function(a){for(var c=this.layerInfo[s],f=c.length,b=Array(f),d=0,k=0,e=!1,n=0;n<f;n++){var g=c[n];if(g.upsampleFromTile){var g=g.upsampleFromTile.tile,p=g.layerInfo[s][n].data;if(!a||a[d]!==p.samplerData)e=!0;b[d++]=
p.samplerData;k=Math.max(k,g.lij[0])}else if(g.data&&(p=this.parentSurface.layerViewByIndex(n,s),l.fallsWithinLayer(this,p,!1))){if(!a||a[d]!==g.data.samplerData)e=!0;b[d++]=g.data.samplerData;k=this.lij[0]}}a&&a.length!==d&&(e=!0);0<d?b.length=d:b=null;return{changed:e,samplerData:b,maxTileLevel:k}};d.prototype._isWithinExtent=function(a){var c=this.extent;return c[0]>=a[0]&&a[2]>=c[2]&&c[1]>=a[1]&&a[3]>=c[3]};d.prototype._intersectsExtent=function(a){var c=this.extent;return c[2]>=a[0]&&a[2]>=c[0]&&
c[3]>=a[1]&&a[3]>=c[1]};k.prototype.init=function(a){this.waitingAgents.length=0;this.rawData=this.requestPromise=this.loadingAgent=this.upsampleFromTile=this.tilemapRequest=this.tilemapData=this.data=null;this.pendingUpdates=0;a===s&&(this.elevationBounds=null)};var y=function(a,c){return c?(c.init(a),c):new k(a)};return d})},"esri/views/LayerViewsOwner":function(){define(["../core/declare","dojo/_base/lang","dojo/_base/array","../core/Collection"],function(b,h,l,m){var g=function(b){return b.hasOwnProperty("layer")?
b.view:b},e=function(b){return b.hasOwnProperty("layer")?b.layer?b.layer.layers:null:b.map?b.map.layers:null};return b(null,{classMetadata:{properties:{layerViews:{}}},constructor:function(){this._lvoHandles=[];this._lyrHdl=null;this._recreateHdler=h.hitch(this,this._recreateHdler);this._lyrColHandler=h.hitch(this,this._lyrColHandler);this.layerViews=new m},destroy:function(){this.destroyLayerViews();this._lvoHandles=null;this._lyrHdl&&(this._lyrHdl.remove(),this._lyrHdl=null)},destroyLayerViews:function(){l.forEach(this._lvoHandles,
function(c){c.remove()});var b=g(this);this.layerViews.drain(function(c){b.factory.dispose(c)},this)},initialize:function(){var b=this._lvoHandles;this.hasOwnProperty("layer")?(b.push(this.watch("view",this._recreateHdler)),b.push(this.watch("layer",this._recreateHdler))):b.push(this.watch("ready",this._recreateHdler));this._recreateHdler()},_recreateHdler:function(b){b=g(this);var c=e(this);this._lyrHdl&&(this._lyrHdl.remove(),this._lyrHdl=null);this.layerViews.map(function(a){return a.layer}).drain(this._lyrRemoved,
this);b&&(c&&b.ready)&&(c.forEach(this._lyrAdded,this),this._lyrHdl=c.on("change",this._lyrColHandler))},_lyrAdded:function(b){var c=g(this);c.factory.create(b).then(h.hitch(this,function(a){var k=e(this);c===g(this)&&(k&&-1<k.indexOf(b))&&(k=this._getLyrViewIdxCandidate(b),a.parent=this,this.layerViews.addItem(a,k),this.emit("layer-view-add",{layer:b,layerView:a,index:k}))}))},_lyrRemoved:function(b){var c=g(this),a=this.layerViews.findIndex(function(a){return a.layer===b}),k=this.layerViews.getItemAt(a);
this.layerViews.removeItemAt(a);-1<a&&(c.factory.dispose(k),this.emit("layer-view-remove",{layer:b,layerView:k,index:a}))},_lyrMoved:function(b,c){var a=this.layerViews.find(function(a){return a.layer===b});this.layerViews.moveItem(a,c);this.emit("layer-view-reorder",{layer:b,layerView:a,index:c})},_getLyrViewIdxCandidate:function(b){var c=this.layerViews,a=e(this),k=a.indexOf(b),k=c.findIndex(function(c){return a.indexOf(c.layer)>k});return-1<k?k:c.length},_lyrColHandler:function(b){l.forEach(b.added,
function(c){this._lyrAdded(c)},this);l.forEach(b.removed,function(c){this._lyrRemoved(c)},this);l.forEach(b.moved,function(c){this._lyrMoved(c,b.target.indexOf(c))},this)}})})},"dijit/form/_TextBoxMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/dom dojo/has dojo/keys dojo/_base/lang dojo/on ../main".split(" "),function(b,h,l,m,g,e,d,c){var a=h("dijit.form._TextBoxMixin"+(m("dojo-bidi")?"_NoBidi":""),null,{trim:!1,uppercase:!1,lowercase:!1,propercase:!1,maxLength:"",selectOnClick:!1,
placeHolder:"",_getValueAttr:function(){return this.parse(this.get("displayedValue"),this.constraints)},_setValueAttr:function(a,c,b){var d;void 0!==a&&(d=this.filter(a),"string"!=typeof b&&(b=null!==d&&("number"!=typeof d||!isNaN(d))?this.filter(this.format(d,this.constraints)):"",0!=this.compare(d,this.filter(this.parse(b,this.constraints)))&&(b=null)));if(null!=b&&("number"!=typeof b||!isNaN(b))&&this.textbox.value!=b)this.textbox.value=b,this._set("displayedValue",this.get("displayedValue"));
this.inherited(arguments,[d,c])},displayedValue:"",_getDisplayedValueAttr:function(){return this.filter(this.textbox.value)},_setDisplayedValueAttr:function(a){null==a?a="":"string"!=typeof a&&(a=String(a));this.textbox.value=a;this._setValueAttr(this.get("value"),void 0);this._set("displayedValue",this.get("displayedValue"))},format:function(a){return null==a?"":a.toString?a.toString():a},parse:function(a){return a},_refreshState:function(){},onInput:function(){},__skipInputEvent:!1,_onInput:function(a){this._processInput(a);
this.intermediateChanges&&this.defer(function(){this._handleOnChange(this.get("value"),!1)})},_processInput:function(a){this._refreshState();this._set("displayedValue",this.get("displayedValue"))},postCreate:function(){this.textbox.setAttribute("value",this.textbox.value);this.inherited(arguments);this.own(d(this.textbox,"keydown, keypress, paste, cut, input, compositionend",e.hitch(this,function(a){var c;if("keydown"==a.type){c=a.keyCode;switch(c){case g.SHIFT:case g.ALT:case g.CTRL:case g.META:case g.CAPS_LOCK:case g.NUM_LOCK:case g.SCROLL_LOCK:return}if(!a.ctrlKey&&
!a.metaKey&&!a.altKey){switch(c){case g.NUMPAD_0:case g.NUMPAD_1:case g.NUMPAD_2:case g.NUMPAD_3:case g.NUMPAD_4:case g.NUMPAD_5:case g.NUMPAD_6:case g.NUMPAD_7:case g.NUMPAD_8:case g.NUMPAD_9:case g.NUMPAD_MULTIPLY:case g.NUMPAD_PLUS:case g.NUMPAD_ENTER:case g.NUMPAD_MINUS:case g.NUMPAD_PERIOD:case g.NUMPAD_DIVIDE:return}if(65<=c&&90>=c||48<=c&&57>=c||c==g.SPACE)return;c=!1;for(var b in g)if(g[b]===a.keyCode){c=!0;break}if(!c)return}}(c=32<=a.charCode?String.fromCharCode(a.charCode):a.charCode)||
(c=65<=a.keyCode&&90>=a.keyCode||48<=a.keyCode&&57>=a.keyCode||a.keyCode==g.SPACE?String.fromCharCode(a.keyCode):a.keyCode);c||(c=229);if("keypress"==a.type){if("string"!=typeof c)return;if("a"<=c&&"z">=c||"A"<=c&&"Z">=c||"0"<=c&&"9">=c||" "===c)if(a.ctrlKey||a.metaKey||a.altKey)return}if("input"==a.type){if(this.__skipInputEvent){this.__skipInputEvent=!1;return}}else this.__skipInputEvent=!0;var d={faux:!0},l;for(l in a)/^(layer[XY]|returnValue|keyLocation)$/.test(l)||(b=a[l],"function"!=typeof b&&
"undefined"!=typeof b&&(d[l]=b));e.mixin(d,{charOrCode:c,_wasConsumed:!1,preventDefault:function(){d._wasConsumed=!0;a.preventDefault()},stopPropagation:function(){a.stopPropagation()}});!1===this.onInput(d)&&(d.preventDefault(),d.stopPropagation());d._wasConsumed||this.defer(function(){this._onInput(d)})})),d(this.domNode,"keypress",function(a){a.stopPropagation()}))},_blankValue:"",filter:function(a){if(null===a)return this._blankValue;if("string"!=typeof a)return a;this.trim&&(a=e.trim(a));this.uppercase&&
(a=a.toUpperCase());this.lowercase&&(a=a.toLowerCase());this.propercase&&(a=a.replace(/[^\s]+/g,function(a){return a.substring(0,1).toUpperCase()+a.substring(1)}));return a},_setBlurValue:function(){this._setValueAttr(this.get("value"),!0)},_onBlur:function(a){this.disabled||(this._setBlurValue(),this.inherited(arguments))},_isTextSelected:function(){return this.textbox.selectionStart!=this.textbox.selectionEnd},_onFocus:function(c){!this.disabled&&!this.readOnly&&(this.selectOnClick&&"mouse"==c&&
(this._selectOnClickHandle=d.once(this.domNode,"mouseup, touchend",e.hitch(this,function(c){this._isTextSelected()||a.selectInputText(this.textbox)})),this.own(this._selectOnClickHandle),this.defer(function(){this._selectOnClickHandle&&(this._selectOnClickHandle.remove(),this._selectOnClickHandle=null)},500)),this.inherited(arguments),this._refreshState())},reset:function(){this.textbox.value="";this.inherited(arguments)}});m("dojo-bidi")&&(a=h("dijit.form._TextBoxMixin",a,{_setValueAttr:function(){this.inherited(arguments);
this.applyTextDir(this.focusNode)},_setDisplayedValueAttr:function(){this.inherited(arguments);this.applyTextDir(this.focusNode)},_onInput:function(){this.applyTextDir(this.focusNode);this.inherited(arguments)}}));a._setSelectionRange=c._setSelectionRange=function(a,c,b){a.setSelectionRange&&a.setSelectionRange(c,b)};a.selectInputText=c.selectInputText=function(c,b,d){c=l.byId(c);isNaN(b)&&(b=0);isNaN(d)&&(d=c.value?c.value.length:0);try{c.focus(),a._setSelectionRange(c,b,d)}catch(e){}};return a})},
"esri/widgets/Spinner":function(){define(["./Widget","dojo/dom-construct","dojo/dom-style","dojo/dom-class"],function(b,h,l,m){return b.createSubclass([],{declaredClass:"esri.widgets.Spinner",constructor:function(b){this._nodes=[]},destroy:function(){this._destroyNodes();this.inherited(arguments)},css:{spinner:"esri-spinner",spinnerStart:"esri-spinner-start",spinnerFinish:"esri-spinner-finish"},view:null,show:function(b){this._mapPoint=b;this.view.then(function(){var e=this.view.toScreen(b.x,b.y);
this._destroyNodes();e&&(e=h.create("div",{className:this.css.spinner+" "+this.css.spinnerStart,style:{left:e.x+"px",top:e.y+"px"}},this.view.surface),this._nodes.push(e))}.bind(this))},hide:function(){if(this._nodes&&this._nodes.length)for(var b=0;b<this._nodes.length;b++)m.add(this._nodes[b],this.css.spinnerFinish)},_setViewAttr:function(b){this._set("view",b);this._viewChange()},_destroyNodes:function(){for(var b=0,e=this._nodes.length;b<e;b++)h.destroy(this._nodes[b]);this._nodes.length=0},_viewMoved:function(){var b=
this._mapPoint,e=this._nodes,d=e.length;if(d&&b)for(var b=this.view.toScreen(b.x,b.y),c=0;c<d;c++)l.set(e[c],{left:b.x+"px",top:b.y+"px"})},_viewChange:function(){this._viewWatch&&this._viewWatch.remove();this.view&&(this._viewWatch=this.view.watch("viewpoint",this._viewMoved.bind(this)),this.own(this._viewWatch))}})})},"esri/identity/IdentityManager":function(){define(["./IdentityManagerDialog","../kernel","./OAuthSignInHandler","../core/declare"],function(b,h,l,m){b=new b;h.id=m.safeMixin(b,l);
return h.id})},"dijit/a11y":function(){define("dojo/_base/array dojo/dom dojo/dom-attr dojo/dom-style dojo/_base/lang dojo/sniff ./main".split(" "),function(b,h,l,m,g,e,d){var c={_isElementShown:function(a){var c=m.get(a);return"hidden"!=c.visibility&&"collapsed"!=c.visibility&&"none"!=c.display&&"hidden"!=l.get(a,"type")},hasDefaultTabStop:function(a){switch(a.nodeName.toLowerCase()){case "a":return l.has(a,"href");case "area":case "button":case "input":case "object":case "select":case "textarea":return!0;
case "iframe":var c;try{var b=a.contentDocument;if("designMode"in b&&"on"==b.designMode)return!0;c=b.body}catch(d){try{c=a.contentWindow.document.body}catch(e){return!1}}return c&&("true"==c.contentEditable||c.firstChild&&"true"==c.firstChild.contentEditable);default:return"true"==a.contentEditable}},effectiveTabIndex:function(a){return l.get(a,"disabled")?void 0:l.has(a,"tabIndex")?+l.get(a,"tabIndex"):c.hasDefaultTabStop(a)?0:void 0},isTabNavigable:function(a){return 0<=c.effectiveTabIndex(a)},
isFocusable:function(a){return-1<=c.effectiveTabIndex(a)},_getTabNavigable:function(a){function b(a){return a&&"input"==a.tagName.toLowerCase()&&a.type&&"radio"==a.type.toLowerCase()&&a.name&&a.name.toLowerCase()}var d,n,g,h,m,r,v={},x=c._isElementShown,w=c.effectiveTabIndex,f=function(a){for(a=a.firstChild;a;a=a.nextSibling)if(!(1!=a.nodeType||9>=e("ie")&&"HTML"!==a.scopeName||!x(a))){var c=w(a);if(0<=c){if(0==c)d||(d=a),n=a;else if(0<c){if(!g||c<h)h=c,g=a;if(!m||c>=r)r=c,m=a}c=b(a);l.get(a,"checked")&&
c&&(v[c]=a)}"SELECT"!=a.nodeName.toUpperCase()&&f(a)}};x(a)&&f(a);return{first:v[b(d)]||d,last:v[b(n)]||n,lowest:v[b(g)]||g,highest:v[b(m)]||m}},getFirstInTabbingOrder:function(a,b){var d=c._getTabNavigable(h.byId(a,b));return d.lowest?d.lowest:d.first},getLastInTabbingOrder:function(a,b){var d=c._getTabNavigable(h.byId(a,b));return d.last?d.last:d.highest}};g.mixin(d,c);return c})},"esri/views/3d/environment/PanoramicAtmosphere":function(){define("dojo/text!./materials/SimpleAtmosphereMaterial.xml ../../../core/declare ../../../core/Accessor ../lib/glMatrix ../webgl-engine/lib/GeometryRenderer ../webgl-engine/lib/GeometryUtil ../webgl-engine/lib/VertexBufferLayout ../webgl-engine/lib/Texture ../webgl-engine/lib/Util ../webgl-engine/lib/GLSLProgram ../webgl-engine/lib/GLTextureRep ./resources/SimpleAtmosphereTexture".split(" "),
function(b,h,l,m,g,e,d,c,a,k,p,n){var u=m.vec2d,q=m.vec3d,t=m.mat4d,r=a.VertexAttrConstants,v=t.create();return h([l],{classMetadata:{properties:{view:{}}},normalizeCtorArgs:function(a){return"esri.views.SceneView"===a.declaredClass?{view:a}:a},constructor:function(){this.geometryData=this._createGeometryData();this.renderData={texV:u.create(),silCircleCenter:q.create(),silCircleV1:q.create(),silCircleV2:q.create()};this.textureRep=this.texture=null;this.slot=0;this.gl=null;this._needsRender=!0;this._didRender=
!1},setContext:function(a){this.gl=a;this.renderer=new g(this.geometryData,d.Defaults.Pos,null,this.gl)},loadShaders:function(a,d,f){a.vsSimpleAtmosphere||a._parse(b);this.program=k.fromSnippets("vsSimpleAtmosphere","fsSimpleAtmosphere",a,this.gl,["PANORAMIC"]);this.programRep=f;this.textureRep=new p({SimpleAtmosphere:new c(n,"SimpleAtmosphere",{wrapClamp:!0})},f,function(){return this.view._stage.getCamera().viewport}.bind(this),this.gl);this.texture=this.textureRep.aquire("SimpleAtmosphere")},render:function(a){if(!(a.slot!==
this.slot||"material"!==a.pass||!this.textureRep.getIsLoaded("SimpleAtmosphere"))){var c=this.gl,f=this.program;f.use();c.bindTexture(c.TEXTURE_2D,this.texture);f.uniform1i("tex",0);f.uniformMatrix4fv("proj",a.camera.projectionMatrix);t.toRotationMat(a.camera.viewMatrix,v);f.uniformMatrix4fv("view",v);f.uniform4f("color",1,1,1,1);f.uniform3fv("lightDirection",a.lightingData.getLightDirection());c.web3DDefaultState.cullEnabled||c.enable(c.CULL_FACE);c.web3DDefaultState.depthFunc!==c.LEQUAL&&c.depthFunc(c.LEQUAL);
c.enable(c.BLEND);c.depthMask(!1);this.renderer.render(this.program);this._didRender=!0;k.unuse(c);c.depthMask(!0);c.disable(c.BLEND);c.web3DDefaultState.depthFunc!==c.LEQUAL&&c.depthFunc(c.web3DDefaultState.depthFunc);c.web3DDefaultState.cullEnabled||c.disable(c.CULL_FACE)}},needsRender:function(){return this._needsRender},resetNeedsRender:function(){this._didRender&&(this._needsRender=!1)},init:function(){},destroy:function(){this.textureRep&&this.textureRep.release(this.texture)},_createGeometryData:function(){for(var a=
e.createPolySphereGeometry(1,2),c=a.getFaces(),f=c[0].indices[r.POSITION],b=0;b<f.length;b+=3){var d=f[b];f[b]=f[b+2];f[b+2]=d}a=a.getVertexAttr();f=a[r.NORMAL].data;for(b=0;b<f.length;b++)f[b]=-f[b];return{faces:c[0],vertexAttr:a}}})})},"esri/views/3d/webgl-engine/lib/NormalTextureHelper":function(){define(["./GLFBO","./Util"],function(b,h){return function(l){var m,g;this.setEnableState=function(c){c!==this.getEnableState()&&(c?this.enable():this.disable())};this.getEnableState=function(){return void 0!==
m};this.getNormalFBO=function(){return m};this.enable=function(){h.assert(!this.getEnableState());m=new b(l.RGBA,l.UNSIGNED_BYTE,!0,l.NEAREST,l)};this.disable=function(){h.assert(this.getEnableState());m.dispose();m=void 0};var e,d;this.setupFBOs=function(c){h.assert(this.getEnableState());g=c=c.viewport;e=c[2];d=c[3];l.viewport(0,0,e,d)};this.prepareNormalPass=function(){h.assert(this.getEnableState());m.setSize(e,d);m.bind();l.clearColor(0,0,0,0);l.clear(l.COLOR_BUFFER_BIT|l.DEPTH_BUFFER_BIT)};
this.finish=function(c){l.bindFramebuffer(l.FRAMEBUFFER,c);l.viewport(g[0],g[1],g[2],g[3])}}})},"dijit/form/TextBox":function(){define("dojo/_base/declare dojo/dom-construct dojo/dom-style dojo/_base/kernel dojo/_base/lang dojo/on dojo/sniff ./_FormValueWidget ./_TextBoxMixin dojo/text!./templates/TextBox.html ../main".split(" "),function(b,h,l,m,g,e,d,c,a,k,p){c=b("dijit.form.TextBox"+(d("dojo-bidi")?"_NoBidi":""),[c,a],{templateString:k,_singleNodeTemplate:'\x3cinput class\x3d"dijit dijitReset dijitLeft dijitInputField" data-dojo-attach-point\x3d"textbox,focusNode" autocomplete\x3d"off" type\x3d"${type}" ${!nameAttrSetting} /\x3e',
_buttonInputDisabled:d("ie")?"disabled":"",baseClass:"dijitTextBox",postMixInProperties:function(){var a=this.type.toLowerCase();if(this.templateString&&"input"==this.templateString.toLowerCase()||("hidden"==a||"file"==a)&&this.templateString==this.constructor.prototype.templateString)this.templateString=this._singleNodeTemplate;this.inherited(arguments)},postCreate:function(){this.inherited(arguments);9>d("ie")&&this.defer(function(){try{var a=l.getComputedStyle(this.domNode);if(a){var c=a.fontFamily;
if(c){var b=this.domNode.getElementsByTagName("INPUT");if(b)for(a=0;a<b.length;a++)b[a].style.fontFamily=c}}}catch(d){}})},_setPlaceHolderAttr:function(a){this._set("placeHolder",a);this._phspan||(this._attachPoints.push("_phspan"),this._phspan=h.create("span",{className:"dijitPlaceHolder dijitInputField"},this.textbox,"after"),this.own(e(this._phspan,"mousedown",function(a){a.preventDefault()}),e(this._phspan,"touchend, pointerup, MSPointerUp",g.hitch(this,function(){this.focus()}))));this._phspan.innerHTML=
"";this._phspan.appendChild(this._phspan.ownerDocument.createTextNode(a));this._updatePlaceHolder()},_onInput:function(a){this.inherited(arguments);this._updatePlaceHolder()},_updatePlaceHolder:function(){this._phspan&&(this._phspan.style.display=this.placeHolder&&!this.textbox.value?"":"none")},_setValueAttr:function(a,c,b){this.inherited(arguments);this._updatePlaceHolder()},getDisplayedValue:function(){m.deprecated(this.declaredClass+"::getDisplayedValue() is deprecated. Use get('displayedValue') instead.",
"","2.0");return this.get("displayedValue")},setDisplayedValue:function(a){m.deprecated(this.declaredClass+"::setDisplayedValue() is deprecated. Use set('displayedValue', ...) instead.","","2.0");this.set("displayedValue",a)},_onBlur:function(a){this.disabled||(this.inherited(arguments),this._updatePlaceHolder(),d("mozilla")&&this.selectOnClick&&(this.textbox.selectionStart=this.textbox.selectionEnd=void 0))},_onFocus:function(a){!this.disabled&&!this.readOnly&&(this.inherited(arguments),this._updatePlaceHolder())}});
9>d("ie")&&(c.prototype._isTextSelected=function(){var a=this.ownerDocument.selection.createRange();return a.parentElement()==this.textbox&&0<a.text.length},p._setSelectionRange=a._setSelectionRange=function(a,c,b){a.createTextRange&&(a=a.createTextRange(),a.collapse(!0),a.moveStart("character",-99999),a.moveStart("character",c),a.moveEnd("character",b-c),a.select())});d("dojo-bidi")&&(c=b("dijit.form.TextBox",c,{_setPlaceHolderAttr:function(a){this.inherited(arguments);this.applyTextDir(this._phspan)}}));
return c})},"esri/symbols/SimpleLineSymbol":function(){define(["../core/declare","dojo/_base/lang","../core/lang","./LineSymbol"],function(b,h,l,m){var g={color:[0,0,0,1],style:"solid",width:1};b=b(m,{declaredClass:"esri.symbols.SimpleLineSymbol",_jsonStyles:{solid:"esriSLSSolid",dash:"esriSLSDash",dot:"esriSLSDot","dash-dot":"esriSLSDashDot","long-dash-dot-dot":"esriSLSDashDotDot",none:"esriSLSNull","inside-frame":"esriSLSInsideFrame","short-dash":"esriSLSShortDash","short-dot":"esriSLSShortDot",
"short-dash-dot":"esriSLSShortDashDot","short-dash-dot-dot":"esriSLSShortDashDotDot","long-dash":"esriSLSLongDash","long-dash-dot":"esriSLSLongDashDot"},getDefaults:function(){return h.mixin(this.inherited(arguments),g)},normalizeCtorArgs:function(b,d,c){if(b&&"string"!==typeof b)return b;var a={};null!=b&&(a.style=b);null!=d&&(a.color=d);null!=c&&(a.width=c);return a},type:"simplelinesymbol",_styleReader:function(b,d){return l.valueOf(this._jsonStyles,b)||"solid"},toJSON:function(){return l.fixJson(h.mixin(this.inherited(arguments),
{type:"esriSLS",style:this._jsonStyles[this.style]}))}});h.mixin(b,{STYLE_SOLID:"solid",STYLE_DASH:"dash",STYLE_DOT:"dot",STYLE_DASHDOT:"dash-dot",STYLE_DASHDOTDOT:"long-dash-dot-dot",STYLE_NULL:"none",STYLE_SHORTDASH:"short-dash",STYLE_SHORTDOT:"short-dot",STYLE_SHORTDASHDOT:"short-dash-dot",STYLE_SHORTDASHDOTDOT:"short-dash-dot-dot",STYLE_LONGDASH:"long-dash",STYLE_LONGDASHDOT:"long-dash-dot"});b.defaultProps=g;return b})},"esri/core/deferredUtils":function(){define([],function(){return{_dfdCanceller:function(b){b.canceled=
!0;var h=b._pendingDfd;!b.isResolved()&&(h&&!h.isResolved())&&h.cancel();b._pendingDfd=null},_fixDfd:function(b){var h=b.then;b.then=function(b,m,g){if(b){var e=b;b=function(b){return b&&b._argsArray?e.apply(null,b):e(b)}}return h.call(this,b,m,g)};return b},_resDfd:function(b,h,l){var m=h.length;1===m?l?b.reject(h[0]):b.resolve(h[0]):1<m?(h._argsArray=!0,b.resolve(h)):b.resolve()}}})},"esri/views/3d/environment/resources/SimpleAtmosphereTexture":function(){define([],function(){return"data:image/png;base64,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"})},
"esri/views/3d/navigation/spherical/actions/ActionSpherical":function(){define(["../../Action","../../../support/mathUtils","../../../lib/glMatrix"],function(b,h,l){var m=l.vec3d,g=l.mat4d,e=m.create(),d=g.create();return b.createSubclass({declaredClass:"esri.views.3d.navigation.spherical.actions.ActionSpherical",constructor:function(){this._targetOnSphere=m.create();this._navSphereRadius=0},closestPointOnSphereSilhouette:function(c,a,b,p){m.cross(c,a,e);m.cross(e,c,p);m.scale(p,1/m.length(p)*b);
c=-h.asin(b/m.length(c));g.identity(d);g.rotate(d,c,e);g.multiplyVec3(d,p)},rotateCameraWithPointsOnSphere:function(c,a,b,d,e){return this.navigation.rotateCameraWithPointsOnSphere(c,a,b,d,e)},rotationFromPointsOnSphere:function(c,a,b,d){return this.navigation.rotationFromPointsOnSphere(c,a,b,d)}})})},"dojo/_base/window":function(){define(["./kernel","./lang","../sniff"],function(b,h,l){var m={global:b.global,doc:b.global.document||null,body:function(g){g=g||b.doc;return g.body||g.getElementsByTagName("body")[0]},
setContext:function(g,e){b.global=m.global=g;b.doc=m.doc=e},withGlobal:function(g,e,d,c){var a=b.global;try{return b.global=m.global=g,m.withDoc.call(null,g.document,e,d,c)}finally{b.global=m.global=a}},withDoc:function(g,e,d,c){var a=m.doc,k=l("quirks"),p=l("ie"),n,h,q;try{b.doc=m.doc=g;b.isQuirks=l.add("quirks","BackCompat"==b.doc.compatMode,!0,!0);if(l("ie")&&(q=g.parentWindow)&&q.navigator)n=parseFloat(q.navigator.appVersion.split("MSIE ")[1])||void 0,(h=g.documentMode)&&(5!=h&&Math.floor(n)!=
h)&&(n=h),b.isIE=l.add("ie",n,!0,!0);d&&"string"==typeof e&&(e=d[e]);return e.apply(d,c||[])}finally{b.doc=m.doc=a,b.isQuirks=l.add("quirks",k,!0,!0),b.isIE=l.add("ie",p,!0,!0)}}};h.mixin(b,m);return m})},"esri/views/3d/webgl-engine/lib/GLIBO":function(){define(["./Util"],function(b){function h(b,g){this.glName=g.createBuffer();this.num=0;this.type=void 0;this.gl=g;void 0!==b&&this.setData(b,b.length);this.id=l++}var l=0;h.prototype.setData=function(l){var g=this.gl;l instanceof Uint16Array?this.type=
g.UNSIGNED_SHORT:l instanceof Uint32Array?this.type=g.UNSIGNED_INT:b.assert(!1,"only unsigned short or int arrays are supported for indices");g.bindBuffer(g.ELEMENT_ARRAY_BUFFER,this.glName);g.bufferData(g.ELEMENT_ARRAY_BUFFER,l,g.STATIC_DRAW);g.bindBuffer(g.ELEMENT_ARRAY_BUFFER,null);this.num=l.length};h.prototype.bind=function(){var b=this.gl;b.bindBuffer(b.ELEMENT_ARRAY_BUFFER,this.glName)};h.prototype.getNum=function(){return this.num};h.prototype.getId=function(){return this.id};h.prototype.getType=
function(){return this.type};h.prototype.dispose=function(){this.gl.deleteBuffer(this.glName)};return h})},"esri/layers/DynamicLayer":function(){define(["../core/declare","./Layer"],function(b,h){return b(h,{declaredClass:"esri.layers.mixins.DynamicLayer",viewModulePaths:{"2d":"../views/2d/layers/DynamicLayerView2D","3d":"../views/3d/layers/DynamicLayerView3D"},getImageUrl:function(b,h){}})})},"dojo/_base/json":function(){define(["./kernel","../json"],function(b,h){b.fromJson=function(b){return eval("("+
b+")")};b._escapeString=h.stringify;b.toJsonIndentStr="\t";b.toJson=function(l,m){return h.stringify(l,function(b,e){if(e){var d=e.__json__||e.json;if("function"==typeof d)return d.call(e)}return e},m&&b.toJsonIndentStr)};return b})},"esri/basemaps":function(){define(["require","dojo/i18n!./nls/jsapi"],function(b,h){var l={id:"globalElevation",url:"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/Terrain3D/ImageServer",layerType:"ArcGISTiledElevationServiceLayer",showLegend:!1};return{streets:{title:h.basemaps.streets,
thumbnailUrl:b.toUrl("./images/basemap/streets.jpg"),itemId:"d8855ee4d3d74413babfb0f41203b168",baseMapLayers:[{url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Street_Map/MapServer",showLegend:!1}],elevationLayers:[l]},satellite:{title:h.basemaps.satellite,thumbnailUrl:b.toUrl("./images/basemap/satellite.jpg"),itemId:"86de95d4e0244cba80f0fa2c9403a7b2",baseMapLayers:[{url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",showLegend:!1}],elevationLayers:[l]},hybrid:{title:h.basemaps.hybrid,
thumbnailUrl:b.toUrl("./images/basemap/hybrid.jpg"),itemId:"413fd05bbd7342f5991d5ec96f4f8b18",baseMapLayers:[{url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",showLegend:!1},{url:"//services.arcgisonline.com/ArcGIS/rest/services/Reference/World_Boundaries_and_Places/MapServer",isReference:!0,showLegend:!1}],elevationLayers:[l]},terrain:{title:h.basemaps.terrain,thumbnailUrl:b.toUrl("./images/basemap/terrain.jpg"),itemId:"aab054ab883c4a4094c72e949566ad40",baseMapLayers:[{url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Terrain_Base/MapServer",
showLegend:!1},{url:"//services.arcgisonline.com/ArcGIS/rest/services/Reference/World_Reference_Overlay/MapServer",isReference:!0,showLegend:!1}],elevationLayers:[l]},topo:{title:h.basemaps.topo,thumbnailUrl:b.toUrl("./images/basemap/topo.jpg"),itemId:"6e03e8c26aad4b9c92a87c1063ddb0e3",baseMapLayers:[{url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer",showLegend:!1}],elevationLayers:[l]},gray:{title:h.basemaps.gray,thumbnailUrl:b.toUrl("./images/basemap/gray.jpg"),itemId:"8b3b470883a744aeb60e5fff0a319ce7",
baseMapLayers:[{url:"//services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Base/MapServer",showLegend:!1},{url:"//services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Reference/MapServer",isReference:!0,showLegend:!1}],elevationLayers:[l]},"dark-gray":{title:h.basemaps["dark-gray"],thumbnailUrl:b.toUrl("./images/basemap/dark-gray.jpg"),itemId:"da65bacab5bd4defb576f839b6b28098",baseMapLayers:[{url:"//services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Dark_Gray_Base/MapServer",
showLegend:!1},{url:"//services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Dark_Gray_Reference/MapServer",isReference:!0,showLegend:!1}],elevationLayers:[l]},oceans:{title:h.basemaps.oceans,thumbnailUrl:b.toUrl("./images/basemap/oceans.jpg"),itemId:"48b8cec7ebf04b5fbdcaf70d09daff21",baseMapLayers:[{url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer",showLegend:!1},{url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Reference/MapServer",
isReference:!0,showLegend:!1}],elevationLayers:[l]},"national-geographic":{title:h.basemaps["national-geographic"],thumbnailUrl:b.toUrl("./images/basemap/national-geographic.jpg"),itemId:"509e2d6b034246d692a461724ae2d62c",baseMapLayers:[{url:"//services.arcgisonline.com/ArcGIS/rest/services/NatGeo_World_Map/MapServer",showLegend:!1}],elevationLayers:[l]},osm:{title:h.basemaps.osm,thumbnailUrl:b.toUrl("./images/basemap/osm.jpg"),itemId:"5d2bfa736f8448b3a1708e1f6be23eed",baseMapLayers:[{layerType:"OpenStreetMap",
showLegend:!1}],elevationLayers:[l]},"vector-streets":{title:"Vector Streets",thumbnailUrl:b.toUrl("./images/basemap/streets.jpg"),baseMapLayers:[{id:"vector-streets",layerType:"VectorTiledLayer",url:"//basemapsbeta.arcgis.com/arcgis/rest/services/World_Basemap/VectorTileServer",showLegend:!1}]},"vector-streets-night":{title:"Vector Streets Night",thumbnailUrl:b.toUrl("./images/basemap/streets.jpg"),baseMapLayers:[{id:"vector-streets-night",layerType:"VectorTiledLayer",url:"//basemapsbeta.arcgis.com/arcgis/rest/services/World_Basemap/VectorTileServer",
styleUrl:"//basemapsbeta.arcgis.com/preview/styles/StreetMapNight/data.json",showLegend:!1}]},"vector-streets-relief":{title:"Vector Streets Relief",thumbnailUrl:b.toUrl("./images/basemap/streets.jpg"),baseMapLayers:[{id:"hillshade",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer ",showLegend:!1},{id:"vector-streets-relief",layerType:"VectorTiledLayer",url:"//basemapsbeta.arcgis.com/arcgis/rest/services/World_Basemap/VectorTileServer",styleUrl:"//basemapsbeta.arcgis.com/preview/styles/StreetMapRelief/data.json",
showLegend:!1}]},"vector-streets-mobile":{title:"Vector Streets Mobile",thumbnailUrl:b.toUrl("./images/basemap/streets.jpg"),baseMapLayers:[{id:"vector-streets-mobile",layerType:"VectorTiledLayer",url:"//basemapsbeta.arcgis.com/arcgis/rest/services/World_Basemap/VectorTileServer",styleUrl:"//basemapsbeta.arcgis.com/preview/styles/StreetMapMobile/data.json",showLegend:!1}]},"vector-canvas-light":{title:"Vector Light Canvas",thumbnailUrl:b.toUrl("./images/basemap/gray.jpg"),baseMapLayers:[{id:"vector-canvas-light",
layerType:"VectorTiledLayer",url:"//basemapsbeta.arcgis.com/arcgis/rest/services/World_Basemap/VectorTileServer",styleUrl:"//basemapsbeta.arcgis.com/preview/styles/CanvasLight/data.json",showLegend:!1}]},"vector-canvas-dark":{title:"Vector Dark Canvas",thumbnailUrl:b.toUrl("./images/basemap/dark-gray.jpg"),baseMapLayers:[{id:"vector-canvas-dark",layerType:"VectorTiledLayer",url:"//basemapsbeta.arcgis.com/arcgis/rest/services/World_Basemap/VectorTileServer",styleUrl:"//basemapsbeta.arcgis.com/preview/styles/CanvasDark/data.json",
showLegend:!1}]}}})},"esri/geometry/Geometry":function(){define(["dojo/_base/kernel","../core/JSONSupport","./SpatialReference"],function(b,h,l){return h.createSubclass({declaredClass:"esri.geometry.Geometry",classMetadata:{properties:{cache:{readOnly:!0,dependsOn:["spatialReference"]},extent:{readOnly:!0,dependsOn:["spatialReference"],copy:function(b,g){b.xmin=g.xmin;b.ymin=g.ymin;b.xmax=g.xmax;b.ymax=g.ymax;b.spatialReference=g.spatialReference;g.hasM&&(b.mmin=g.mmin,b.mmax=g.mmax);g.hasZ&&(b.zmin=
g.zmin,b.zmax=g.zmax)}},spatialReference:{type:l}}},cache:null,_cacheGetter:function(){return{}},extent:null,hasM:!1,hasZ:!1,spatialReference:l.WGS84,_spatialReferenceReader:l.fromJSON,type:null,isSR:function(b){return b&&("esri.SpatialReference"===b.declaredClass||null!=b.wkid)},clone:function(){console.warn(".clone() is not implemented for "+this.declaredClass);return null},toJSON:function(){console.warn(".toJSON() is not implemented for "+this.declaredClass);return null},clearCache:function(){this.notifyChange("cache")},
getCacheValue:function(b){return this.cache[b]},setCacheValue:function(b,g){this.cache[b]=g},getExtent:function(){b.deprecated(this.declaredClass+".getExtent","Use .extent instead","4.0");return this.extent},setSpatialReference:function(l){b.deprecated(this.declaredClass+".setSpatialReference","Use .spatialReference \x3d sr; instead","4.0");this.spatialReference=l}})})},"esri/core/domUtils":function(){define(["dojo/on","dojo/dom-style","dojo/has"],function(b,h,l){var m={show:function(b){if(b=m.getNode(b))b.style.display=
"block"},getNode:function(b){return b&&b.domNode||b},hide:function(b){if(b=m.getNode(b))b.style.display="none"},toggle:function(b){if(b=m.getNode(b))b.style.display="none"===b.style.display?"block":"none"},documentBox:8>=l("ie")?{w:document.documentElement.clientWidth,h:document.documentElement.clientHeight}:{w:window.innerWidth,h:window.innerHeight},setScrollable:function(g){if(g=this.getNode(g)){var e=0,d=0,c=0,a=0,k=0,p=0;return[b(g,"touchstart",function(b){e=b.touches[0].screenX;d=b.touches[0].screenY;
c=g.scrollWidth;a=g.scrollHeight;k=g.clientWidth;p=g.clientHeight}),b(g,"touchmove",function(b){b.preventDefault();var l=g.firstChild;l instanceof Text&&(l=g.childNodes[1]);var q=l._currentX||0,m=l._currentY||0,q=q+(b.touches[0].screenX-e);0<q?q=0:0>q&&Math.abs(q)+k>c&&(q=-1*(c-k));l._currentX=q;m+=b.touches[0].screenY-d;0<m?m=0:0>m&&Math.abs(m)+p>a&&(m=-1*(a-p));l._currentY=m;h.set(l,{"-webkit-transition-property":"-webkit-transform","-webkit-transform":"translate("+q+"px, "+m+"px)"});e=b.touches[0].screenX;
d=b.touches[0].screenY})]}}};return m})},"dijit/form/_FormWidgetMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-attr dojo/dom-style dojo/_base/lang dojo/mouse dojo/on dojo/sniff dojo/window ../a11y".split(" "),function(b,h,l,m,g,e,d,c,a,k){return h("dijit.form._FormWidgetMixin",null,{name:"",alt:"",value:"",type:"text","aria-label":"focusNode",tabIndex:"0",_setTabIndexAttr:"focusNode",disabled:!1,intermediateChanges:!1,scrollOnFocus:!0,_setIdAttr:"focusNode",_setDisabledAttr:function(a){this._set("disabled",
a);l.set(this.focusNode,"disabled",a);this.valueNode&&l.set(this.valueNode,"disabled",a);this.focusNode.setAttribute("aria-disabled",a?"true":"false");a?(this._set("hovering",!1),this._set("active",!1),a="tabIndex"in this.attributeMap?this.attributeMap.tabIndex:"_setTabIndexAttr"in this?this._setTabIndexAttr:"focusNode",b.forEach(g.isArray(a)?a:[a],function(a){a=this[a];c("webkit")||k.hasDefaultTabStop(a)?a.setAttribute("tabIndex","-1"):a.removeAttribute("tabIndex")},this)):""!=this.tabIndex&&this.set("tabIndex",
this.tabIndex)},_onFocus:function(b){if("mouse"==b&&this.isFocusable())var e=this.own(d(this.focusNode,"focus",function(){l.remove();e.remove()}))[0],k=c("pointer-events")?"pointerup":c("MSPointer")?"MSPointerUp":c("touch-events")?"touchend, mouseup":"mouseup",l=this.own(d(this.ownerDocumentBody,k,g.hitch(this,function(a){l.remove();e.remove();this.focused&&("touchend"==a.type?this.defer("focus"):this.focus())})))[0];this.scrollOnFocus&&this.defer(function(){a.scrollIntoView(this.domNode)});this.inherited(arguments)},
isFocusable:function(){return!this.disabled&&this.focusNode&&"none"!=m.get(this.domNode,"display")},focus:function(){if(!this.disabled&&this.focusNode.focus)try{this.focusNode.focus()}catch(a){}},compare:function(a,c){return"number"==typeof a&&"number"==typeof c?isNaN(a)&&isNaN(c)?0:a-c:a>c?1:a<c?-1:0},onChange:function(){},_onChangeActive:!1,_handleOnChange:function(a,c){if(void 0==this._lastValueReported&&(null===c||!this._onChangeActive))this._resetValue=this._lastValueReported=a;this._pendingOnChange=
this._pendingOnChange||typeof a!=typeof this._lastValueReported||0!=this.compare(a,this._lastValueReported);if((this.intermediateChanges||c||void 0===c)&&this._pendingOnChange)this._lastValueReported=a,this._pendingOnChange=!1,this._onChangeActive&&(this._onChangeHandle&&this._onChangeHandle.remove(),this._onChangeHandle=this.defer(function(){this._onChangeHandle=null;this.onChange(a)}))},create:function(){this.inherited(arguments);this._onChangeActive=!0},destroy:function(){this._onChangeHandle&&
(this._onChangeHandle.remove(),this.onChange(this._lastValueReported));this.inherited(arguments)}})})},"esri/views/DOMContainer":function(){define("dojo/_base/lang dojo/has dojo/on dojo/dom-style esri/core/Accessor esri/core/Scheduler".split(" "),function(b,h,l,m,g,e){var d=0,c=0,a=0,k=0,p=0,n=0,u=0,q=0,t=0,r=0;h("opera");var v=function(){if("classList"in document.createElement("_"))return function(a){return a.classList.toString()};var a=String.prototype.trim||function(){return this.replace(/^\s+|\s+$/g,
"")};return function(c){c=a.call(c.getAttribute("class")||"");return(c?c.split(/\s+/):[]).join(" ")}}();return g.createSubclass({declaredClass:"esri.views.DOMContainer",classMetadata:{properties:{container:{},size:{copy:function(a,c){a[0]=c[0];a[1]=c[1]}},heightResizeMode:{readOnly:!0},widthResizeMode:{readOnly:!0},resizing:{},suspended:{}},computed:{width:["size"],height:["size"]}},constructor:function(a){var c=this._measureInfo={task:null,count:0,freq:0.016,time:0.75,classList:null},f=null;this.watch("container",
function(a,b,d,k){f&&(f.remove(),f=null,c.freq=0.016,c.time=0.75,c.count=0);c.task&&(c.task.remove(),c.task=null);a&&(f=l(window,"resize",function(){c.freq=0.016;c.time=0.75;c.count=0}.bind(k)),c.task=e.addFrameTask({prepare:k._measure.bind(k)}))})},getDefaults:function(){return b.mixin(this.inherited(arguments),{size:[0,0],position:[0,0]})},destroy:function(){this.container=null},_measureInfo:null,size:null,_sizeSetter:function(a,c){c||(c=[0,0]);c[0]=a[0];c[1]=a[1];return c},position:null,_positionSetter:function(a,
c){c||(c=[0,0]);c[0]=a[0];c[1]=a[1];return c},height:0,_heightGetter:function(a){return this.size[1]},_heightSetter:function(a,c){var f=this.container;a=a?"string"===typeof a?-1<a.indexOf("px")?m.toPixelValue(f,a):"auto":m.toPixelValue(f,a):"auto";if("auto"===a)return f&&(f.style.height=""),this._accessorProps.set("heightResizeMode","auto"),this._measureInfo.freq=0.016,c;this._accessorProps.set("heightResizeMode","user-defined");this._measureInfo.freq=0.016;f&&(f.style.height=a+"px");return a},heightResizeMode:"auto",
resizing:!1,suspended:!0,width:0,_widthGetter:function(a){return this.size[0]},_widthSetter:function(a,c){var f=this.container;a=a?"string"===typeof a?-1<a.indexOf("px")?m.toPixelValue(f,a):"auto":m.toPixelValue(f,a):"auto";if("auto"===a)return f&&(f.style.width=""),this._accessorProps.set("widthResizeMode","auto"),this._measureInfo.freq=0.016,c;this._accessorProps.set("widthResizeMode","user-defined");this._measureInfo.freq=0.016;f&&(f.style.width=a+"px");return a},widthResizeMode:"auto",pageToContainer:function(a,
c,f){var b=this.position;a-=b[0];c-=b[1];f?(f[0]=a,f[1]=c):f=[a,c];return f},_measure:function(){var b=[0,0];return function(e,f,g,l){e=this._measureInfo;e.time+=f;if(!(e.time<e.freq)){e.time=0;var h=this.container;f=this.root;g=this.surface;var A=this.size,B=this.position;l=!1;var E=m.toPixelValue,F=0,G=0,Q=0,M=0,T=A[0],A=A[1],K=B[0],B=B[1],C="auto"===this.heightResizeMode,D="auto"===this.widthResizeMode,L=h&&(!T||!A||C||D),W=null==h;if(h){var ca=v(h),V=m.getComputedStyle(h),G=V,F=h.clientWidth,
R=m.toPixelValue,Q=R(h,G.paddingLeft),M=R(h,G.paddingTop),N=R(h,G.paddingRight),R=R(h,G.paddingBottom);a=Q+N;k=M+R;R=m.toPixelValue;Q="none"!=G.borderLeftStyle?R(h,G.borderLeftWidth):0;M="none"!=G.borderTopStyle?R(h,G.borderTopWidth):0;N="none"!=G.borderRightStyle?R(h,G.borderRightWidth):0;G="none"!=G.borderBottomStyle?R(h,G.borderBottomWidth):0;p=Q+N;n=M+G;G=h.ownerDocument||window.document;G=G.parentWindow||G.defaultView;Q=h.getBoundingClientRect();d=Q.left+G.pageXOffset;c=Q.top+G.pageYOffset;F?
(G=h.clientHeight,p=n=0):(F=h.offsetWidth,G=h.offsetHeight);u=d;q=c;t=F-a-p;r=G-k-n;0>t&&(t=0);0>r&&(r=0);G=D?t:this.width;F=C?r:this.height;Q=u;M=q;ca===e.classList&&(0!==G&&(D=!1),0!==F&&(C=!1));e.classList=ca;!G&&!F&&(L=!1,W=!0)}if(L){var L=E(h,V.minWidth),R=E(h,V.minHeight),ca=E(h,V.maxWidth),H=E(h,V.maxHeight),O=h.ownerDocument||window.document,N=O.body,I=N.getBoundingClientRect();if(C){var C=I.top+(I.bottom-I.height),J=E(h,V.marginTop)+E(h,V.marginBottom),F=O.documentElement.clientHeight-N.clientHeight+
(F||f.clientHeight)-C-J;0<R&&(F=Math.max(F,R));F=0<H?Math.min(F,H):Math.min(F,window.innerHeight-C-J)}D&&(D=I.left+(I.right-I.width),V=E(h,V.marginLeft)+E(h,V.marginRight),G=document.documentElement.clientWidth-N.clientWidth+(G||f.clientWidth)-D-V,0<L&&(G=Math.max(G,L)),G=0<ca?Math.min(G,ca):Math.min(G,window.innerWidth-D-V))}G=0>G?0:G;F=0>F?0:F;G&&F&&(G!==T||F!==A)?(b[0]=G,b[1]=F,this._accessorProps.set("size",b),l=!0,e.count=0,e.freq=0.016):G===T&&F===A&&(e.count++,e.count=0,e.freq=Math.min(0.75,
2*e.freq),0.512<=e.freq&&(this.resizing=!1));if(Q!==K||M!==B)b[0]=Q,b[1]=M,this._accessorProps.set("position",b);l&&(this.resizing=!0,f&&g&&(f.style.width=g.style.width=G+"px",f.style.height=g.style.height=F+"px"),this.emit("resize",{oldWidth:T,oldHeight:A,width:G,height:F}));this.suspended!==W&&(this.suspended=W)}}}()})})},"dojo/json":function(){define(["./has"],function(b){var h="undefined"!=typeof JSON;b.add("json-parse",h);b.add("json-stringify",h&&'{"a":1}'==JSON.stringify({a:0},function(b,g){return g||
1}));if(b("json-stringify"))return JSON;var l=function(b){return('"'+b.replace(/(["\\])/g,"\\$1")+'"').replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r")};return{parse:b("json-parse")?JSON.parse:function(b,g){if(g&&!/^([\s\[\{]*(?:"(?:\\.|[^"])*"|-?\d[\d\.]*(?:[Ee][+-]?\d+)?|null|true|false|)[\s\]\}]*(?:,|:|$))+$/.test(b))throw new SyntaxError("Invalid characters in JSON");return eval("("+b+")")},stringify:function(b,g,e){function d(a,
b,p){g&&(a=g(p,a));var n;n=typeof a;if("number"==n)return isFinite(a)?a+"":"null";if("boolean"==n)return a+"";if(null===a)return"null";if("string"==typeof a)return l(a);if("function"==n||"undefined"==n)return c;if("function"==typeof a.toJSON)return d(a.toJSON(p),b,p);if(a instanceof Date)return'"{FullYear}-{Month+}-{Date}T{Hours}:{Minutes}:{Seconds}Z"'.replace(/\{(\w+)(\+)?\}/g,function(c,b,f){c=a["getUTC"+b]()+(f?1:0);return 10>c?"0"+c:c});if(a.valueOf()!==a)return d(a.valueOf(),b,p);var h=e?b+e:
"",q=e?" ":"",m=e?"\n":"";if(a instanceof Array){var q=a.length,r=[];for(p=0;p<q;p++)n=d(a[p],h,p),"string"!=typeof n&&(n="null"),r.push(m+h+n);return"["+r.join(",")+m+b+"]"}r=[];for(p in a){var v;if(a.hasOwnProperty(p)){if("number"==typeof p)v='"'+p+'"';else if("string"==typeof p)v=l(p);else continue;n=d(a[p],h,p);"string"==typeof n&&r.push(m+h+v+":"+q+n)}}return"{"+r.join(",")+m+b+"}"}var c;"string"==typeof g&&(e=g,g=null);return d(b,"","")}}})},"esri/identity/IdentityManagerBase":function(){define("../core/declare dojo/_base/config dojo/_base/lang dojo/_base/array dojo/_base/Deferred dojo/_base/url dojo/sniff dojo/cookie dojo/io-query dojo/regexp ../kernel ../config ../core/lang ./ServerInfo ../core/urlUtils ../core/deferredUtils ../core/Accessor ../request ../core/Evented ./OAuthCredential ./OAuthInfo".split(" "),
function(b,h,l,m,g,e,d,c,a,k,p,n,u,q,t,r,v,x,w,f,s){var z={},y=function(a){var c=(new e(a.owningSystemUrl)).host;a=(new e(a.server)).host;var b=/.+\.arcgis\.com$/i;return b.test(c)&&b.test(a)},A=function(a,c){return!(!y(a)||!c||!m.some(c,function(c){return c.test(a.server)}))},B,E=b(w,{declaredClass:"esri.IdentityManagerBase",constructor:function(){this._portalConfig=l.getObject("esriGeowConfig");this.serverInfos=[];this.oAuthInfos=[];this.credentials=[];this._soReqs=[];this._xoReqs=[];this._portals=
[];this._getOAuthHash()},defaultTokenValidity:60,tokenValidity:null,signInPage:null,useSignInPage:!0,normalizeWebTierAuth:!1,_busy:null,_oAuthHash:null,_gwTokenUrl:"/sharing/generateToken",_agsRest:"/rest/services",_agsPortal:/\/sharing(\/|$)/i,_agsAdmin:/https?:\/\/[^\/]+\/[^\/]+\/admin\/?(\/.*)?$/i,_adminSvcs:/\/admin\/services(\/|$)/i,_agolSuffix:".arcgis.com",_gwDomains:[{regex:/https?:\/\/www\.arcgis\.com/i,tokenServiceUrl:"https://www.arcgis.com/sharing/generateToken"},{regex:/https?:\/\/dev\.arcgis\.com/i,
tokenServiceUrl:"https://dev.arcgis.com/sharing/generateToken"},{regex:/https?:\/\/.*dev[^.]*\.arcgis\.com/i,tokenServiceUrl:"https://devext.arcgis.com/sharing/generateToken"},{regex:/https?:\/\/.*qa[^.]*\.arcgis\.com/i,tokenServiceUrl:"https://qaext.arcgis.com/sharing/generateToken"},{regex:/https?:\/\/.*.arcgis\.com/i,tokenServiceUrl:"https://www.arcgis.com/sharing/generateToken"}],_legacyFed:[],_regexSDirUrl:/http.+\/rest\/services\/?/ig,_regexServerType:/(\/(MapServer|GeocodeServer|GPServer|GeometryServer|ImageServer|NAServer|FeatureServer|GeoDataServer|GlobeServer|MobileServer|GeoenrichmentServer)).*/ig,
_gwUser:/http.+\/users\/([^\/]+)\/?.*/i,_gwItem:/http.+\/items\/([^\/]+)\/?.*/i,_gwGroup:/http.+\/groups\/([^\/]+)\/?.*/i,_errorCodes:[499,498,403,401],_rePortalTokenSvc:/\/sharing(\/rest)?\/generatetoken/i,_publicUrls:[/\/arcgis\/tokens/i,/\/sharing(\/rest)?\/generatetoken/i,/\/rest\/info/i],registerServers:function(a){var c=this.serverInfos;c?(a=m.filter(a,function(a){return!this.findServerInfo(a.server)},this),this.serverInfos=c.concat(a)):this.serverInfos=a;m.forEach(a,function(a){a.owningSystemUrl&&
this._portals.push(a.owningSystemUrl);if(a.hasPortal){this._portals.push(a.server);var c=n.request.corsEnabledServers,b=this._getOrigin(a.tokenServiceUrl);t.canUseXhr(a.server)||c.push(a.server.replace(/^https?:\/\//i,""));t.canUseXhr(b)||c.push(b.replace(/^https?:\/\//i,""))}},this)},registerOAuthInfos:function(a){var c=this.oAuthInfos;c?(a=m.filter(a,function(a){return!this.findOAuthInfo(a.portalUrl)},this),this.oAuthInfos=c.concat(a)):this.oAuthInfos=a},registerToken:function(a){var c=this._sanitizeUrl(a.server),
b=this.findServerInfo(c),f=!0,d;b||(b=new q,b.server=this._getServerInstanceRoot(c),b.tokenServiceUrl=this._getTokenSvcUrl(c),b.hasPortal=!0,this.registerServers([b]));(d=this.findCredential(c,a.userId))?(l.mixin(d,a),f=!1):(d=new B({userId:a.userId,server:b.server,token:a.token,expires:a.expires,ssl:a.ssl,scope:this._isServerRsrc(c)?"server":"portal"}),d.resources=[c],this.credentials.push(d));d.emitTokenChange(!1);f||d.refreshServerTokens()},toJson:function(){try{throw Error("toJson is deprecated, use toJSON instead");
}catch(a){console.warn(a.stack)}return this.toJSON()},toJSON:function(){return u.fixJson({serverInfos:m.map(this.serverInfos,function(a){return a.toJSON()}),oAuthInfos:m.map(this.oAuthInfos,function(a){return a.toJSON()}),credentials:m.map(this.credentials,function(a){return a.toJSON()})})},initialize:function(a){if(a){l.isString(a)&&(a=JSON.parse(a));var c=a.serverInfos,b=a.oAuthInfos;a=a.credentials;if(c){var f=[];m.forEach(c,function(a){a.server&&a.tokenServiceUrl&&f.push(a.declaredClass?a:new q(a))});
f.length&&this.registerServers(f)}if(b){var d=[];m.forEach(b,function(a){a.appId&&d.push(a.declaredClass?a:new s(a))});d.length&&this.registerOAuthInfos(d)}a&&m.forEach(a,function(a){a.userId&&(a.server&&a.token&&a.expires&&a.expires>(new Date).getTime())&&(a=a.declaredClass?a:new B(a),a.emitTokenChange(),this.credentials.push(a))},this)}},findServerInfo:function(a){var c;a=this._sanitizeUrl(a);m.some(this.serverInfos,function(b){this._hasSameServerInstance(b.server,a)&&(c=b);return!!c},this);return c},
findOAuthInfo:function(a){var c;a=this._sanitizeUrl(a);m.some(this.oAuthInfos,function(b){this._hasSameServerInstance(b.portalUrl,a)&&(c=b);return!!c},this);return c},findCredential:function(a,c){var b,f;a=this._sanitizeUrl(a);f=this._isServerRsrc(a)?"server":"portal";c?m.some(this.credentials,function(d){this._hasSameServerInstance(d.server,a)&&(c===d.userId&&d.scope===f)&&(b=d);return!!b},this):m.some(this.credentials,function(c){this._hasSameServerInstance(c.server,a)&&(-1!==this._getIdenticalSvcIdx(a,
c)&&c.scope===f)&&(b=c);return!!b},this);return b},getCredential:function(a,c){var b,f,d=!0;u.isDefined(c)&&(l.isObject(c)?(b=!!c.token,f=c.error,d=!1!==c.prompt):b=c);a=this._sanitizeUrl(a);var e=new g(r._dfdCanceller),k=this._isAdminResource(a),n=b&&this._doPortalSignIn(a)?this._getEsriAuthCookie():null;b=b?this.findCredential(a):null;if(n||b)return d=Error("You are currently signed in as: '"+(n&&n.email||b&&b.userId)+"'. You do not have access to this resource: "+a),d.code="IdentityManagerBase.1",
d.httpCode=f&&f.httpCode,d.messageCode=f?f.messageCode:null,d.subcode=f?f.subcode:null,d.details=f?f.details:null,d.log=h.isDebug,e.errback(d),e.promise;if(f=this._findCredential(a,c))return e.callback(f),e.promise;if(f=this.findServerInfo(a))!f.hasServer&&this._isServerRsrc(a)&&(f._restInfoDfd=this._getTokenSvcUrl(a,!0),f.hasServer=!0);else{n=this._getTokenSvcUrl(a);if(!n)return d=Error("Unknown resource - could not find token service endpoint."),d.code="IdentityManagerBase.2",d.log=h.isDebug,e.errback(d),
e.promise;f=new q;f.server=this._getServerInstanceRoot(a);l.isString(n)?(f.tokenServiceUrl=n,d&&!this._findOAuthInfo(a)&&(f._selfDfd=this._getPortalSelf(n.replace(this._rePortalTokenSvc,"/sharing/rest/portals/self"),a)),f.hasPortal=!0):(f._restInfoDfd=n,f.hasServer=!0);this.registerServers([f])}return this._enqueue(a,f,c,e,k)},getResourceName:function(a){return this._isRESTService(a)?a.replace(this._regexSDirUrl,"").replace(this._regexServerType,"")||"":this._gwUser.test(a)&&a.replace(this._gwUser,
"$1")||this._gwItem.test(a)&&a.replace(this._gwItem,"$1")||this._gwGroup.test(a)&&a.replace(this._gwGroup,"$1")||""},generateToken:function(a,c,b){var f,d,k,n,g,s,q=new e(window.location.href.toLowerCase()),m=this._getEsriAuthCookie(),r,u=!c;n=a.shortLivedTokenValidity;var v;c&&(v=p.id.tokenValidity||n||p.id.defaultTokenValidity,v>n&&(v=n));b&&(f=b.isAdmin,d=b.serverUrl,k=b.token,s=b.ssl,a.customParameters=b.customParameters);if(f)n=a.adminTokenServiceUrl;else{n=a.tokenServiceUrl;g=new e(n.toLowerCase());
m&&(r=(r=m.auth_tier)&&r.toLowerCase());if(("web"===r||a.webTierAuth)&&b&&b.serverUrl&&!s&&"http"===q.scheme&&(t.hasSameOrigin(q.uri,n,!0)||"https"===g.scheme&&q.host===g.host&&"7080"===q.port&&"7443"===g.port))n=n.replace(/^https:/i,"http:").replace(/:7443/i,":7080");u&&this._rePortalTokenSvc.test(a.tokenServiceUrl)&&(n=n.replace(/\/rest/i,""))}b=x(l.mixin({url:n,content:l.mixin({request:"getToken",username:c&&c.username,password:c&&c.password,serverUrl:d,token:k,expiration:v,referer:f||this._rePortalTokenSvc.test(a.tokenServiceUrl)?
window.location.host:null,client:f?"referer":null,f:"json"},a.customParameters),handleAs:"json",callbackParamName:u?"callback":void 0},b&&b.ioArgs),{usePost:!u,disableIdentityLookup:!0,useProxy:this._useProxy(a,b)});b.then(function(b){if(!b||!b.token)return b=Error("Unable to generate token"),b.code="IdentityManagerBase.3",b.log=h.isDebug,b;var f=a.server;z[f]||(z[f]={});c&&(z[f][c.username]=c.password);b.validity=v;return b});b.then(null,function(a){});return b},isBusy:function(){return!!this._busy},
checkSignInStatus:function(a){return this.getCredential(a,{prompt:!1})},setRedirectionHandler:function(a){this._redirectFunc=a},setProtocolErrorHandler:function(a){this._protocolFunc=a},signIn:function(){},oAuthSignIn:function(){},destroyCredentials:function(){if(this.credentials){var a=this.credentials.slice();m.forEach(a,function(a){a.destroy()})}this.emit("credentials-destroy")},_getOAuthHash:function(){var c=window.location.hash;if(c){"#"===c.charAt(0)&&(c=c.substring(1));var c=a.queryToObject(c),
b=!1;c.access_token&&c.expires_in&&c.state&&c.hasOwnProperty("username")?(c.state=JSON.parse(c.state),this._oAuthHash=c,b=!0):c.error&&c.error_description&&(console.log("IdentityManager OAuth Error: ",c.error," - ",c.error_description),"access_denied"===c.error&&(b=!0));if(b&&(!d("ie")||8<d("ie")))window.location.hash=""}},_findCredential:function(a,c){var b=-1,f,d,e,k,n=c&&c.token;f=c&&c.resource;var g=this._isServerRsrc(a)?"server":"portal",s=m.filter(this.credentials,function(c){return this._hasSameServerInstance(c.server,
a)&&c.scope===g},this);a=f||a;if(s.length)if(1===s.length)if(f=s[0],e=(d=(k=this.findServerInfo(f.server))&&k.owningSystemUrl)&&this.findCredential(d,f.userId),b=this._getIdenticalSvcIdx(a,f),n)-1!==b&&(f.resources.splice(b,1),this._removeResource(a,e));else return-1===b&&f.resources.push(a),this._addResource(a,e),f;else{var p,l;m.some(s,function(c){l=this._getIdenticalSvcIdx(a,c);return-1!==l?(p=c,e=(d=(k=this.findServerInfo(p.server))&&k.owningSystemUrl)&&this.findCredential(d,p.userId),b=l,!0):
!1},this);if(n)p&&(p.resources.splice(b,1),this._removeResource(a,e));else if(p)return this._addResource(a,e),p}},_findOAuthInfo:function(a){var c=this.findOAuthInfo(a);c||m.some(this.oAuthInfos,function(b){this._isIdProvider(b.portalUrl,a)&&(c=b);return!!c},this);return c},_addResource:function(a,c){c&&-1===this._getIdenticalSvcIdx(a,c)&&c.resources.push(a)},_removeResource:function(a,c){var b=-1;c&&(b=this._getIdenticalSvcIdx(a,c),-1<b&&c.resources.splice(b,1))},_useProxy:function(a,c){return c&&
c.isAdmin&&!t.hasSameOrigin(a.adminTokenServiceUrl,window.location.href)||!this._isPortalDomain(a.tokenServiceUrl)&&10.1==a.currentVersion&&!t.hasSameOrigin(a.tokenServiceUrl,window.location.href)},_getOrigin:function(a){a=new e(a);return a.scheme+"://"+a.host+(u.isDefined(a.port)?":"+a.port:"")},_getServerInstanceRoot:function(a){var c=a.toLowerCase(),b=c.indexOf(this._agsRest);-1===b&&this._isAdminResource(a)&&(b=c.indexOf("/admin"));-1===b&&(b=c.indexOf("/sharing"));-1===b&&"/"===c.substr(-1)&&
(b=c.length-1);return-1<b?a.substring(0,b):a},_hasSameServerInstance:function(a,c){a=a.toLowerCase();c=this._getServerInstanceRoot(c).toLowerCase();a=a.substr(a.indexOf(":"));c=c.substr(c.indexOf(":"));return a===c},_sanitizeUrl:function(a){a=t.fixUrl(l.trim(a));var c=(n.request.proxyUrl||"").toLowerCase(),b=c?a.toLowerCase().indexOf(c+"?"):-1;-1!==b&&(a=a.substring(b+c.length+1));return t.urlToObject(a).path},_isRESTService:function(a){return-1<a.indexOf(this._agsRest)},_isAdminResource:function(a){return this._agsAdmin.test(a)||
this._adminSvcs.test(a)},_isServerRsrc:function(a){return this._isRESTService(a)||this._isAdminResource(a)},_isIdenticalService:function(a,c){var b;if(this._isRESTService(a)&&this._isRESTService(c)){var f=this._getSuffix(a).toLowerCase(),d=this._getSuffix(c).toLowerCase();b=f===d;b||(b=/(.*)\/(MapServer|FeatureServer).*/ig,b=f.replace(b,"$1")===d.replace(b,"$1"))}else this._isAdminResource(a)&&this._isAdminResource(c)?b=!0:!this._isServerRsrc(a)&&(!this._isServerRsrc(c)&&this._isPortalDomain(a))&&
(b=!0);return b},_isPortalDomain:function(a){a=a.toLowerCase();var c=(new e(a)).authority,b=this._portalConfig,f=-1!==c.indexOf(this._agolSuffix);!f&&b&&(f=this._hasSameServerInstance(this._getServerInstanceRoot(b.restBaseUrl),a));if(!f){if(!this._arcgisUrl&&(b=l.getObject("esri.arcgis.utils.arcgisUrl")))this._arcgisUrl=(new e(b)).authority;this._arcgisUrl&&(f=this._arcgisUrl.toLowerCase()===c)}f||(f=m.some(this._portals,function(c){return this._hasSameServerInstance(c,a)},this));return f=f||this._agsPortal.test(a)},
_isIdProvider:function(a,c){var b=-1,f=-1;m.forEach(this._gwDomains,function(d,e){-1===b&&d.regex.test(a)&&(b=e);-1===f&&d.regex.test(c)&&(f=e)});var d=!1;if(-1<b&&-1<f)if(0===b||4===b){if(0===f||4===f)d=!0}else if(1===b){if(1===f||2===f)d=!0}else 2===b?2===f&&(d=!0):3===b&&3===f&&(d=!0);if(!d){var e=this.findServerInfo(c),k=e&&e.owningSystemUrl;k&&(y(e)&&this._isPortalDomain(k)&&this._isIdProvider(a,k))&&(d=!0)}return d},_isPublic:function(a){a=this._sanitizeUrl(a);return m.some(this._publicUrls,
function(c){return c.test(a)})},_getIdenticalSvcIdx:function(a,c){var b=-1;m.some(c.resources,function(c,f){return this._isIdenticalService(a,c)?(b=f,!0):!1},this);return b},_getSuffix:function(a){return a.replace(this._regexSDirUrl,"").replace(this._regexServerType,"$1")},_getTokenSvcUrl:function(a){var c,b;if((c=this._isRESTService(a))||this._isAdminResource(a))return b=a.toLowerCase().indexOf(c?this._agsRest:"/admin/"),c=a.substring(0,b)+"/admin/generateToken",a=a.substring(0,b)+"/rest/info",b=
x({url:a,content:{f:"json"},handleAs:"json",callbackParamName:"callback"}),b.adminUrl_=c,b;if(this._isPortalDomain(a)){var f="";m.some(this._gwDomains,function(c){c.regex.test(a)&&(f=c.tokenServiceUrl);return!!f});f||m.some(this._portals,function(c){this._hasSameServerInstance(c,a)&&(f=c+this._gwTokenUrl);return!!f},this);f||(b=a.toLowerCase().indexOf("/sharing"),-1!==b&&(f=a.substring(0,b)+this._gwTokenUrl));f||(f=this._getOrigin(a)+this._gwTokenUrl);f&&(c=(new e(a)).port,/^http:\/\//i.test(a)&&
"7080"===c&&(f=f.replace(/:7080/i,":7443")),f=f.replace(/http:/i,"https:"));return f}if(-1!==a.toLowerCase().indexOf("premium.arcgisonline.com"))return"https://premium.arcgisonline.com/server/tokens"},_getPortalSelf:function(a,c){"https:"===window.location.protocol?a=a.replace(/^http:/i,"https:").replace(/:7080/i,":7443"):/^http:/i.test(c)&&(a=a.replace(/^https:/i,"http:").replace(/:7443/i,":7080"));return x({url:a,content:{f:"json"},handleAs:"json",callbackParamName:"callback"},{crossOrigin:!1,disableIdentityLookup:!0})},
_hasPortalSession:function(){return!!this._getEsriAuthCookie()},_getEsriAuthCookie:function(){var a;if(c.isSupported()){var b=this._getAllCookies("esri_auth"),f;for(f=0;f<b.length;f++){var d=JSON.parse(b[f]);if(d.portalApp){a=d;break}}}return a},_getAllCookies:function(a){var c=[],b=document.cookie.match(RegExp("(?:^|; )"+k.escapeString(a)+"\x3d([^;]*)","g"));if(b)for(a=0;a<b.length;a++){var f=b[a],d=f.indexOf("\x3d");-1<d&&(f=f.substring(d+1),c.push(decodeURIComponent(f)))}return c},_doPortalSignIn:function(a){if(c.isSupported()){var b=
this._getEsriAuthCookie(),f=this._portalConfig,d=window.location.href,e=this.findServerInfo(a);if(this.useSignInPage&&(f||this._isPortalDomain(d)||b)&&(e?e.hasPortal||e.owningSystemUrl&&this._isPortalDomain(e.owningSystemUrl):this._isPortalDomain(a))&&(this._isIdProvider(d,a)||f&&(this._hasSameServerInstance(this._getServerInstanceRoot(f.restBaseUrl),a)||this._isIdProvider(f.restBaseUrl,a))||t.hasSameOrigin(d,a,!0)))return!0}return!1},_checkProtocol:function(a,c,b,f){var d=!0;f=f?c.adminTokenServiceUrl:
c.tokenServiceUrl;if(0===l.trim(f).toLowerCase().indexOf("https:")&&0!==window.location.href.toLowerCase().indexOf("https:")&&(!n.request.useCors||!t.canUseXhr(f)&&!t.canUseXhr(t.getProxyUrl(!0).path)))d=this._protocolFunc?!!this._protocolFunc({resourceUrl:a,serverInfo:c}):!1,d||(a=Error("Aborted the Sign-In process to avoid sending password over insecure connection."),a.code="IdentityManagerBase.4",a.log=h.isDebug,console.log(a.message),b(a));return d},_enqueue:function(a,c,b,f,d,e){f||(f=new g(r._dfdCanceller));
f.resUrl_=a;f.sinfo_=c;f.options_=b;f.admin_=d;f.refresh_=e;this._busy?this._hasSameServerInstance(this._getServerInstanceRoot(a),this._busy.resUrl_)?(this._oAuthDfd&&this._oAuthDfd.oAuthWin_&&this._oAuthDfd.oAuthWin_.focus(),this._soReqs.push(f)):this._xoReqs.push(f):this._doSignIn(f);return f.promise},_doSignIn:function(a){this._busy=a;var c=this,b=function(b){var f=a.options_&&a.options_.resource,d=a.resUrl_,e=a.refresh_,k=!1;-1===m.indexOf(c.credentials,b)&&(e&&-1!==m.indexOf(c.credentials,e)?
(e.userId=b.userId,e.token=b.token,e.expires=b.expires,e.validity=b.validity,e.ssl=b.ssl,e.creationTime=b.creationTime,k=!0,b=e):c.credentials.push(b));b.resources||(b.resources=[]);b.resources.push(f||d);b.scope=c._isServerRsrc(d)?"server":"portal";b.emitTokenChange();var f=c._soReqs,n={};c._soReqs=[];m.forEach(f,function(a){if(!this._isIdenticalService(d,a.resUrl_)){var c=this._getSuffix(a.resUrl_);n[c]||(n[c]=!0,b.resources.push(a.resUrl_))}},c);a.callback(b);m.forEach(f,function(a){a.callback(b)});
c._busy=a.resUrl_=a.sinfo_=a.refresh_=null;k||c.emit("credential-create",{credential:b});c._soReqs.length&&c._doSignIn(c._soReqs.shift());c._xoReqs.length&&c._doSignIn(c._xoReqs.shift())},d=function(b){a.errback(b);c._busy=a.resUrl_=a.sinfo_=a.refresh_=null;c._soReqs.length&&c._doSignIn(c._soReqs.shift());c._xoReqs.length&&c._doSignIn(c._xoReqs.shift())},e=function(e,k,n,g){var s=a.sinfo_,l=!a.options_||!1!==a.options_.prompt;c._doPortalSignIn(a.resUrl_)?(k=c._getEsriAuthCookie(),e=c._portalConfig,
k?b(new B({userId:k.email,server:s.server,token:k.token,expires:null})):l?(l="",k=window.location.href,l=c.signInPage?c.signInPage:e?e.baseUrl+e.signin:c._isIdProvider(k,a.resUrl_)?c._getOrigin(k)+"/home/signin.html":s.tokenServiceUrl.replace(c._rePortalTokenSvc,"")+"/home/signin.html",l=l.replace(/http:/i,"https:"),e&&!1===e.useSSL&&(l=l.replace(/https:/i,"http:")),0===k.toLowerCase().replace("https","http").indexOf(l.toLowerCase().replace("https","http"))?(s=Error("Cannot redirect to Sign-In page from within Sign-In page. URL of the resource that triggered this workflow: "+
a.resUrl_),s.code="IdentityManagerBase.5",s.log=h.isDebug,d(s)):c._redirectFunc?c._redirectFunc({signInPage:l,returnUrlParamName:"returnUrl",returnUrl:k,resourceUrl:a.resUrl_,serverInfo:s}):window.location=l+"?returnUrl\x3d"+window.escape(k)):(s=Error("User is not signed in."),s.code="IdentityManagerBase.6",s.log=h.isDebug,d(s))):e?b(new B({userId:e,server:s.server,token:n,expires:u.isDefined(g)?Number(g):null,ssl:!!k})):p?(e=p._oAuthCred,e||(k=new f(p,window.localStorage),n=new f(p,window.sessionStorage),
k.isValid()&&n.isValid()?k.expires>n.expires?(e=k,n.destroy()):(e=n,k.destroy()):e=k.isValid()?k:n,p._oAuthCred=e),e.isValid()?b(new B({userId:e.userId,server:s.server,token:e.token,expires:e.expires,ssl:e.ssl,_oAuthCred:e})):c._oAuthHash&&c._oAuthHash.state.portalUrl===p.portalUrl?(l=c._oAuthHash,s=new B({userId:l.username,server:s.server,token:l.access_token,expires:(new Date).getTime()+1E3*Number(l.expires_in),ssl:"true"===l.ssl,oAuthState:l.state,_oAuthCred:e}),e.storage=l.persist?window.localStorage:
window.sessionStorage,e.token=s.token,e.expires=s.expires,e.userId=s.userId,e.ssl=s.ssl,e.save(),c._oAuthHash=null,b(s)):l?a._pendingDfd=c.oAuthSignIn(a.resUrl_,s,p,a.options_).then(b,d):(s=Error("User is not signed in."),s.code="IdentityManagerBase.6",s.log=h.isDebug,d(s))):l?c._checkProtocol(a.resUrl_,s,d,a.admin_)&&(l=a.options_,a.admin_&&(l=l||{},l.isAdmin=!0),a._pendingDfd=c.signIn(a.resUrl_,s,l).then(b,d)):(s=Error("User is not signed in."),s.code="IdentityManagerBase.6",s.log=h.isDebug,d(s))},
k=function(){var f=a.sinfo_,e=f.owningSystemUrl,k=a.options_,n,g,s;k&&(n=k.token,g=k.error);s=c._findCredential(e,{token:n,resource:a.resUrl_});!s&&y(f)&&m.some(c.credentials,function(a){this._isIdProvider(e,a.server)&&(s=a);return!!s},c);s?(k=c.findCredential(a.resUrl_,s.userId))?b(k):A(f,c._legacyFed)?(k=s.toJSON(),k.server=f.server,k.resources=null,b(new B(k))):(a._pendingDfd=c.generateToken(c.findServerInfo(s.server),null,{serverUrl:a.resUrl_,token:s.token,ssl:s.ssl})).then(function(c){b(new B({userId:s.userId,
server:f.server,token:c.token,expires:u.isDefined(c.expires)?Number(c.expires):null,ssl:!!c.ssl,isAdmin:a.admin_,validity:c.validity}))},d):(c._busy=null,n&&(a.options_.token=null),(a._pendingDfd=c.getCredential(e.replace(/\/?$/,"/sharing"),{resource:a.resUrl_,token:n,error:g})).then(function(b){c._enqueue(a.resUrl_,a.sinfo_,a.options_,a,a.admin_)},function(a){d(a)}))},n=a.sinfo_.owningSystemUrl,g=this._isServerRsrc(a.resUrl_),s=a.sinfo_._restInfoDfd,p=this._findOAuthInfo(a.resUrl_);s?s.then(function(b){var f=
a.sinfo_;f.adminTokenServiceUrl=f._restInfoDfd.adminUrl_;f._restInfoDfd=null;f.tokenServiceUrl=l.getObject("authInfo.tokenServicesUrl",!1,b)||l.getObject("authInfo.tokenServiceUrl",!1,b)||l.getObject("tokenServiceUrl",!1,b);f.shortLivedTokenValidity=l.getObject("authInfo.shortLivedTokenValidity",!1,b);f.currentVersion=b.currentVersion;f.owningTenant=b.owningTenant;(b=f.owningSystemUrl=b.owningSystemUrl)&&c._portals.push(b);g&&b?k():e()},function(){a.sinfo_._restInfoDfd=null;var c=Error("Unknown resource - could not find token service endpoint.");
c.code="IdentityManagerBase.2";c.log=h.isDebug;d(c)}):g&&n?k():a.sinfo_._selfDfd?(n=function(b){a.sinfo_._selfDfd=null;var f=b&&b.user&&b.user.username,d=b&&b.allSSL;a.sinfo_.webTierAuth=!!f;f&&c.normalizeWebTierAuth?(a.sinfo_._tokenDfd=c.generateToken(a.sinfo_,null,{ssl:d}),b=function(c){a.sinfo_._tokenDfd=null;e(f,d,c&&c.token,c&&c.expires)},a.sinfo_._tokenDfd.then(b,b)):e(f,d)},a.sinfo_._selfDfd.then(n,n)):e()}});B=b([v,w],{declaredClass:"esri.Credential",tokenRefreshBuffer:2,constructor:function(a){l.mixin(this,
a);this.resources=this.resources||[];u.isDefined(this.creationTime)||(this.creationTime=(new Date).getTime())},_oAuthCred:null,refreshToken:function(){var a=this,c=this.resources&&this.resources[0],b=p.id.findServerInfo(this.server),f=b&&b.owningSystemUrl,d=!!f&&"server"===this.scope,e=d&&A(b,p.id._legacyFed),k=d&&p.id.findServerInfo(f),n,g=(n=b.webTierAuth)&&p.id.normalizeWebTierAuth,s=z[this.server],s=s&&s[this.userId],l={username:this.userId,password:s},h;if(!n||g)if(d&&!k&&m.some(p.id.serverInfos,
function(a){p.id._isIdProvider(f,a.server)&&(k=a);return!!k}),n=k&&p.id.findCredential(k.server,this.userId),!d||n)if(e)n.refreshToken();else{if(d)h={serverUrl:c,token:n&&n.token,ssl:n&&n.ssl};else if(g)l=null,h={ssl:this.ssl};else if(s)this.isAdmin&&(h={isAdmin:!0});else{var q;c&&(c=p.id._sanitizeUrl(c),this._enqueued=1,q=p.id._enqueue(c,b,null,null,this.isAdmin,this),q.then(function(){a._enqueued=0;a.refreshServerTokens()}).then(null,function(){a._enqueued=0}));return q}return p.id.generateToken(d?
k:b,d?null:l,h).then(function(c){a.token=c.token;a.expires=u.isDefined(c.expires)?Number(c.expires):null;a.creationTime=(new Date).getTime();a.validity=c.validity;a.emitTokenChange();a.refreshServerTokens()}).then(null,function(){})}},refreshServerTokens:function(){"portal"===this.scope&&m.forEach(p.id.credentials,function(a){var c=p.id.findServerInfo(a.server),b=c&&c.owningSystemUrl;if(a!==this&&a.userId===this.userId&&b&&"server"===a.scope&&(p.id._hasSameServerInstance(this.server,b)||p.id._isIdProvider(b,
this.server)))A(c,p.id._legacyFed)?(a.token=this.token,a.expires=this.expires,a.creationTime=this.creationTime,a.validity=this.validity,a.emitTokenChange()):a.refreshToken()},this)},emitTokenChange:function(a){clearTimeout(this._refreshTimer);var c=this.server&&p.id.findServerInfo(this.server),b=(c=c&&c.owningSystemUrl)&&p.id.findServerInfo(c);!1!==a&&((!c||"portal"===this.scope||b&&b.webTierAuth&&!p.id.normalizeWebTierAuth)&&(u.isDefined(this.expires)||u.isDefined(this.validity)))&&this._startRefreshTimer();
this.emit("token-change")},destroy:function(){this.userId=this.server=this.token=this.expires=this.validity=this.resources=this.creationTime=null;this._oAuthCred&&(this._oAuthCred.destroy(),this._oAuthCred=null);var a=m.indexOf(p.id.credentials,this);-1<a&&p.id.credentials.splice(a,1);this.emitTokenChange();this.emit("destroy")},toJson:function(){try{throw Error("toJson is deprecated, use toJSON instead");}catch(a){console.warn(a.stack)}return this.toJSON()},toJSON:function(){var a=u.fixJson({userId:this.userId,
server:this.server,token:this.token,expires:this.expires,validity:this.validity,ssl:this.ssl,isAdmin:this.isAdmin,creationTime:this.creationTime,scope:this.scope}),c=this.resources;c&&0<c.length&&(a.resources=c);return a},_startRefreshTimer:function(){clearTimeout(this._refreshTimer);var a=6E4*this.tokenRefreshBuffer,c=(this.validity?this.creationTime+6E4*this.validity:this.expires)-(new Date).getTime();0>c&&(c=0);this._refreshTimer=setTimeout(l.hitch(this,this.refreshToken),c>a?c-a:c)}});E.Credential=
B;return E})},"esri/tasks/support/Query":function(){define("../../core/declare dojo/_base/lang dojo/_base/array ../../core/Accessor ../../geometry/support/jsonUtils ./SpatialRelationship".split(" "),function(b,h,l,m,g,e){var d=b(m,{declaredClass:"esri.tasks.Query",spatialRelationship:e.SPATIAL_REL_INTERSECTS,text:null,where:"",geometry:null,geometryPrecision:null,groupByFieldsForStatistics:null,objectIds:null,returnGeometry:!1,returnDistinctValues:!1,maxAllowableOffset:null,multipatchOption:null,
num:null,start:null,orderByFields:null,outSpatialReference:null,outFields:null,outStatistics:null,timeExtent:null,relationParam:null,pixelSize:null,distance:null,units:null,resultOffset:null,resultRecordCount:null,quantizationParameters:null,_units:{meters:"esriSRUnit_Meter",kilometers:"esriSRUnit_Kilometer",feet:"esriSRUnit_Foot",miles:"esriSRUnit_StatuteMile","nautical-miles":"esriSRUnit_NauticalMile","us-nautical-miles":"esriSRUnit_USNauticalMile"},toJson:function(c){try{throw Error("toJson is deprecated, use toJSON instead");
}catch(a){console.warn(a.stack)}return this.toJSON(c)},toJSON:function(c){var a={text:this.text,where:this.where,returnGeometry:this.returnGeometry,spatialRel:this.spatialRelationship,maxAllowableOffset:this.maxAllowableOffset,geometryPrecision:this.geometryPrecision,returnZ:this.returnZ,returnM:this.returnM},b=c&&c.geometry||this.geometry,e=this.objectIds,n=this.outFields,h=this.outSpatialReference,q=this.groupByFieldsForStatistics,m=this.orderByFields,r=this.outStatistics;c=this.distance;b&&(a.geometry=
b,a.geometryType=g.getJsonType(b),a.inSR=b.spatialReference.wkid||JSON.stringify(b.spatialReference.toJSON()));e&&(a.objectIds=e.join(","));n&&(a.outFields=n.join(","));this.returnDistinctValues&&(a.returnDistinctValues=!0);q&&(a.groupByFieldsForStatistics=q.join(","));m&&(a.orderByFields=m.join(","));if(r){var v=[];l.forEach(r,function(a){v.push(a.toJSON())});a.outStatistics=JSON.stringify(v)}h?a.outSR=h.wkid||JSON.stringify(h.toJSON()):b&&(a.outSR=b.spatialReference.wkid||JSON.stringify(b.spatialReference.toJSON()));
b=this.timeExtent;a.time=b?b.toJSON().join(","):null;if((b=this.relationParam)&&this.spatialRelationship===d.SPATIAL_REL_RELATION)a.relationParam=b;c&&(a.distance=this.distance,this.hasOwnProperty("units")?a.units=this._units[this.units]||this._units.meters:(console.warn("esri/tasks/query::no distance unit provided, defaulting to meters"),a.units=this._units.meters));this.hasOwnProperty("start")&&(a.resultOffset=this.start,a.resultRecordCount=10,""===a.where&&(a.where="1\x3d1"));this.hasOwnProperty("num")&&
(a.resultRecordCount=this.num);a.pixelSize=this.pixelSize?JSON.stringify(this.pixelSize.toJSON()):null;a.multipatchOption=this.multipatchOption;this.quantizationParameters&&(a.quantizationParameters=JSON.stringify(this.quantizationParameters));a._ts=this._ts;return a}});h.mixin(d,e);return d})},"esri/views/3d/webgl-engine/lib/bitset":function(){define([],function(){var b=function(){this.bitsPerWord=32;this.addressBitsPerWord=5;this.store=[]};b.prototype.clone=function(){var h=new b;h.store=this.store.slice();
return h};b.prototype.wordIndex=function(b){return b>>this.addressBitsPerWord};b.prototype.set=function(b){return this.store[this.wordIndex(b-1)]|=1<<b-1};b.prototype.clear=function(b){return this.store[this.wordIndex(b-1)]&=255^1<<b-1};b.prototype.clearAll=function(){for(var b=0;b<this.store.length;++b)this.store[b]=0};b.prototype.get=function(b){return 0!==(this.store[this.wordIndex(b-1)]&1<<b-1)};b.prototype.length=function(){return 0===this.wordLength()?0:this.bitsPerWord*(this.wordLength()-1)+
(this.store[this.wordLength()-1].toString(2).length+1)};b.prototype.wordLength=function(){var b,l,m;b=this.store.length;for(l=m=this.store.length-1;(0>=m?0>=l:0<=l)&&0===this.store[l];0>=m?l++:l--)b--;return b};b.prototype.store=function(){return this.store};b.prototype.cardinality=function(){var b,l,m;b=l=0;for(m=this.length();0<=m?b<=m:b>=m;0<=m?b++:b--)this.get(b)&&l++;return l};b.prototype.toString=function(){var b,l,m;l=[];b=0;for(m=this.length();0<=m?b<=m:b>=m;0<=m?b++:b--)this.get(b)&&l.push(b);
return"{"+l.join(",")+"}"};b.prototype.toBinaryString=function(){var b,l=this;b=function(b,g,e){for(;b.length<e;)b=g+b;return b};return 0<this.wordLength()?this.store.map(function(m){return b(m.toString(2),"0",l.bitsPerWord)}).join(""):b("",0,this.bitsPerWord)};b.prototype.or=function(b){var l,m,g;if(this!==b){m=Math.min(this.wordLength(),b.wordLength());l=0;for(g=m-1;0<=g?l<=g:l>=g;0<=g?l++:l--)this.store[l]|=b.store[l];m<b.wordLength()&&(this.store=this.store.concat(b.store.slice(m,b.wordLength())));
return null}};b.prototype.and=function(b){var l,m,g;if(this!==b){l=m=this.wordLength;for(g=b.wordLength();m<=g?l<=g:l>=g;m<=g?l++:l--)this.store[l]=0;l=0;for(m=this.wordLength();0<=m?l<=m:l>=m;0<=m?l++:l--)this.store[l]&=b.store[l];return null}};b.prototype.andNot=function(b){var l,m;l=0;for(m=Math.min(this.wordLength(),b.wordLength)-1;0<=m?l<=m:l>=m;0<=m?l++:l--)this.store[l]&=~b.store[l];return null};b.prototype.xor=function(b){var l,m;if(this!==b){l=0;for(m=this.wordLength();0<=m?l<=m:l>=m;0<=
m?l++:l--)this.store[l]^=b.store[l];return null}};return b})},"esri/renderers/DotDensityRenderer":function(){define("../core/declare dojo/_base/lang dojo/_base/array dojo/dom-construct ../Color ../core/lang ../core/screenUtils ../symbols/PictureFillSymbol ../geometry/ScreenPoint ../geometry/Point ./Renderer".split(" "),function(b,h,l,m,g,e,d,c,a,k,p){return b(p,{declaredClass:"esri.renderer.DotDensityRenderer",constructor:function(a){this.dotSize=a.dotSize||3;this.dotValue=a.dotValue;this.fields=
a.fields;this.outline=a.outline;this.backgroundColor=a.backgroundColor;this.exactCount=a.exactCount||!0;this.dotShape=a.dotShape||"square";this.legendOptions=a.legendOptions;this._exactCountMinArea=1E4;this._currentMapScale=this._map=this._canvas=null;this._symbolMap={};this._currentGraphic=this._currentResolution=this._objectIdField=null;this._supportsCanvas=window.CanvasRenderingContext2D?!0:!1;window.CanvasRenderingContext2D||console.log("The DotDensityRenderer requires a Canvas enabled Browser.  IE8 and less does not support Canvas.")},
getSymbol:function(a){var b,d;this._currentGraphic=a;if(!this._supportsCanvas)return null;this._map||(this._map=a.getLayer()._map,this._objectIdField=a.getLayer().objectIdField,this._currentMapScale=this._map.getScale(),this._currentResolution=this._map.extent.getWidth()/this._map.width,this._map.on("zoom-end",h.hitch(this,function(a){this._currentMapScale=this._map.getScale();this._currentResolution=a.extent.getWidth()/this._map.width;this._symbolMap[this._currentMapScale]={}})));if(this._symbolMap[this._currentMapScale]&&
this._symbolMap[this._currentMapScale][a.attributes[this._objectIdField]])return b=this._symbolMap[this._currentMapScale][a.attributes[this._objectIdField]],d=this._getShapeProperties(a),b.setOffset(d.dx,d.dy),b;b=this._generateFieldsCount(this.fields,a.attributes,this.dotValue);d=this._getShapeProperties(a);b=new c(this._generateImageSrc(d.width,d.height,b,d.minXY,d.maxXY),this.outline,d.width,d.height);b.setOffset(d.dx,d.dy);this._symbolMap[this._currentMapScale]||(this._symbolMap[this._currentMapScale]=
{});return this._symbolMap[this._currentMapScale][a.attributes[this._objectIdField]]=b},_generateFieldsCount:function(a,c,b){var d,e;for(e=a.length-1;0<=e;e--)d=c[a[e].name]/b,a[e].numPoints=Math.round(d);return a},_getShapeProperties:function(a){var c,b,d,e;c=a.geometry.getExtent();c.contains(this._map.extent)&&(c=this._map.extent);d=Math.ceil(c.getWidth()/this._currentResolution);e=Math.ceil(c.getHeight()/this._currentResolution);b=this._map.toScreen(new k(c.xmin,c.ymin,c.spatialReference));c=this._map.toScreen(new k(c.xmax,
c.ymax,c.spatialReference));a=a.getLayer().getNode().getCTM();return{minXY:b,maxXY:c,dx:(b.x-a.e)%d,dy:(c.y-a.f)%e,width:d,height:e}},_generateImageSrc:function(a,c,b,d,e,k){var g=this.dotSize,p,f,s;this._canvas?(this._canvas.width=a,this._canvas.height=c):this._canvas=this._initCanvas(a,c);p=this._canvas.getContext("2d");if(k=k||this.backgroundColor)p.fillStyle=k.toCss(!0),p.fillRect(0,0,a,c),p.fill();for(k=b.length-1;0<=k;k--){p.fillStyle=b[k].color.toCss(!0);for(f=b[k].numPoints-1;0<=f;f--)s=this._getRandomPoint(a,
c,d,e),"square"===this.dotShape?p.fillRect(s.x,s.y,g,g):"circle"===this.dotShape&&(p.beginPath(),p.arc(s.x,s.y,g/2,0,2*Math.PI,!0)),p.fill()}return this._canvas.toDataURL()},_initCanvas:function(a,c){var b=m.create("canvas",{id:"canvas",width:a+"px",height:c+"px",style:"position: absolute; left: -10000px; top: 0px;"},null);document.body.appendChild(b);return b},_getRandomInt:function(a,c){return Math.floor(Math.random()*(c-a+1)+a)},_getRandomPoint:function(c,b,d,e){var k={},g=this.outline&&this.outline.width?
this.outline.width:0;if(!0===this.exactCount&&c*b>this._exactCountMinArea){do k.x=this._getRandomInt(d.x,e.x),k.y=this._getRandomInt(e.y,d.y),c=new a(k.x,k.y),c=this._checkPointShapeBounds(c,this.dotSize+g,this._currentGraphic.geometry),!0===c&&(k.x-=d.x,k.y-=e.y);while(!1===c)}else k.x=this._getRandomInt(0,c),k.y=this._getRandomInt(0,b);return k},_checkPointShapeBounds:function(a,c,b){var d=null,d=!1,e=!0,k=0;do{switch(k){case 1:a.x+=c;break;case 2:a.y+=c;break;case 3:a.x-=c}d=this._map.toMap(a);
d=b.contains(d);!1===d&&(e=!1);k+=1}while(3>=k&&!0===e);return d},setDotSize:function(a){0<a&&(this.dotSize=a)},setDotValue:function(a){0<a&&(this.dotValue=a)},setOutline:function(a){this.outline=a},setBackgroundColor:function(a){this.backgroundColor=a},toJson:function(){try{throw Error("toJson is deprecated, use toJSON instead");}catch(a){console.warn(a.stack)}return this.toJSON()},toJSON:function(){var a=h.mixin(this.inherited(arguments),{type:"dotDensity",backgroundColor:g.toJSON(this.backgroundColor),
dotShape:this.dotShape,dotSize:0<this.dotSize?d.px2pt(this.dotSize):0,dotValue:this.dotValue,fields:l.map(this.fields,function(a){return e.fixJson({color:g.toJSON(a.color),name:a.name})}),legendOptions:this.legendOptions&&e.fixJson({backgroundColor:g.toJSON(this.legendOptions.backgroundColor),dotCoverage:this.legendOptions.dotCoverage,outline:this.legendOptions.outline&&this.legendOptions.outline.toJSON(),valueUnit:this.legendOptions.valueUnit}),outline:this.outline&&this.outline.toJSON()});return e.fixJson(a)}})})},
"dojox/main":function(){define(["dojo/_base/kernel"],function(b){return b.dojox})},"esri/views/3d/support/cameraUtilsSpherical":function(){define("../../../geometry/SpatialReference ../../../geometry/Extent ../../../geometry/support/webMercatorUtils ./mathUtils ./earthUtils ../lib/glMatrix ./cameraUtilsInternal".split(" "),function(b,h,l,m,g,e,d){function c(a,c,b){var d=n.create(),e=n.create();n.cross(a,q,x);0===n.dot(x,x)&&n.cross(a,t,x);u.identity(v);u.rotate(v,-m.deg2rad(c),a);u.rotate(v,-m.deg2rad(b),
x);n.cross(x,a,e);n.normalize(e);u.multiplyVec3(v,e);n.normalize(a,d);u.multiplyVec3(v,n.negate(d));return{direction:d,up:e}}function a(a){var c=a[1];a[1]=-a[2];a[2]=c}function k(a,b){var d=c(b,a.heading,a.tilt);a.up=d.up;return a}var p={headingTiltToDirectionUp:c,directionToHeadingTilt:function(a,c,b,e){var k=x,g=w;n.normalize(a,k);n.cross(k,q,w);0===n.dot(w,w)&&n.cross(k,t,w);n.cross(w,k,g);return d.directionToHeadingTilt(c,b,e,k,g)},eyeForCenterWithHeadingTilt:function(c,b,d,e){var g={eye:n.create(),
tilt:e,heading:d},p=x;p[0]=c[0];p[1]=c[2];p[2]=-c[1];d=m.deg2rad(d);var l=m.deg2rad(e);e=Math.sin(d);d=Math.cos(d);var h=Math.sin(l),q=Math.cos(l),r=n.length(p);if(1E-8>Math.abs(l))l=b+r;else var t=r/h,u=m.asin(b/t),l=t*Math.sin(Math.PI-l-u);var t=h*b,q=q*b,v=d*t,u=l-q,w=u*u,D=b*b*h*h,h=d*d*D,D=e*e*D,L=p[1]*u,W=h*(h+w-p[1]*p[1]);if(0>W)return n.scale(p,l/r,g.eye),g.tilt=0,g;var ca=Math.sqrt(W),W=h+w,L=0<d?-ca+L:ca+L;if(1E-8>Math.abs(W))return 1E-8>r?(g.eye[0]=0,g.eye[1]=0,g.eye[2]=b):n.scale(p,l/
r,g.eye),g.tilt=0,a(g.eye),k(g,c);g.eye[1]=L/W;b=g.eye[1]*g.eye[1];W=v*g.eye[1];v=1-b;L=Math.sqrt(v);b=h*b+D-2*W*L*u+v*w;if(1E-8>Math.abs(b))return n.scale(p,l/r,g.eye),g.tilt=0,a(g.eye),k(g,c);g.eye[0]=(v*(l*p[0]-q*p[0])-t*L*(p[0]*g.eye[1]*d+p[2]*e))/b;g.eye[2]=(v*(l*p[2]-q*p[2])-t*L*(p[2]*g.eye[1]*d-p[0]*e))/b;n.scale(g.eye,l);a(g.eye);return k(g,c)},lookAtTiltToEyeTilt:function(a,c,b){a=n.length(a);a=Math.sqrt(c*c+a*a-2*c*a*Math.cos(Math.PI-b));c=m.asin(c/(a/Math.sin(b)));return m.rad2deg(b-c)},
eyeTiltToLookAtTilt:function(a,c,b){b=m.deg2rad(b);a=n.length(a);return m.asin(c/(a/Math.sin(b)))+b},toExtent:function(a,c,d,e,k){var n,p=c.latitude;c=c.longitude;n=g.getLonDeltaForDistance(c,p,d)/2;d=c-n;c+=n;n=m.deg2rad(p);p=g.earthRadius;n=(1+Math.sin(n))/(1-Math.sin(n));var q=n+1,t=Math.tan(e/p/2),q=q*t;n=1.5*Math.PI-2*Math.atan(0.5*(q+Math.sqrt(4*n+q*q)));e=n+e/p;p=function(a){var c=Math.PI/2;a=m.cyclical2PI.normalize(a,-c);a>c&&(a=Math.PI-a);return a};n=p(n);e=p(e);e<n&&(p=e,e=n,n=p);n=Math.max(m.rad2deg(n),
-90);e=Math.min(m.rad2deg(e),90);c=r.monotonic(d,c);180<c-d&&(p=(c-d-180)/2,d+=p,c-=p);k?(k.xmin=d,k.ymin=n,k.xmax=c,k.ymax=e,k.spatialReference=b.WGS84):k=new h(d,n,c,e,b.WGS84);a.map.spatialReference&&a.map.spatialReference.isWebMercator()&&l.geographicToWebMercator(k,!1,k);return k}},n=e.vec3d,u=e.mat4d,q=n.createFrom(0,0,1),t=n.normalize(n.createFrom(1,1,1)),r=new m.Cyclical(-180,180),v=u.create(),x=n.create(),w=n.create();return p})},"esri/views/3d/support/ViewReadyMixin":function(){define(["../../../core/declare",
"../../../core/Accessor"],function(b,h){return b([h],{getDefaults:function(){return{view:null}},constructor:function(){this._viewReadyHandle=null;this._viewReadyHandler=this._viewReadyHandler.bind(this)},_viewGetter:function(){return this._view},_viewSetter:function(b){this._view&&this._disconnectView(this._view);this._viewReadyHandle&&(this._viewReadyHandle.remove(),this._viewReadyHandle=null);if(this._view=b)this._viewReadyHandle=this._view.watch("ready",this._viewReadyHandler),this._view.ready&&
this._connectView(this._view)},_viewReadyHandler:function(b){b?this._connectView(this._view):this._disconnectView(this._view)},_connectView:function(b){},_disconnectView:function(b){}})})},"esri/views/3d/webgl-engine/lib/Renderer":function(){define("./IntervalUtilities ./ModelDirtyTypes ./Float32ArrayList ./InstanceBufferData ./VertexBufferLayout ../materials/internal/SimpleGLMaterial ../materials/internal/TexOnlyGLMaterial ./GLFBO ./GLVBO ./GLSLProgram ./LinearDepthTextureHelper ./NormalTextureHelper ./bitset ./Util ./gl-matrix".split(" "),
function(b,h,l,m,g,e,d,c,a,k,p,n,u,q,t){function r(a){this.camera=null;this.slot=0;this.pass="";this.getMaterial=this.filterFaceRange=this.filterContent=this.visibleContent=this.ssaoHelper=this.shadowMap=this.lightingData=null;this.set(a)}var v=q.assert,x=q.subtractObjects,w=q.array2object,f=q.objectEmpty,s=q.getFirstObjectValue,z=q.setMatrixTranslation3,y=t.vec2d,A=t.mat4d,B=t.vec3d,E=t.vec4d,F=q.VertexAttrConstants;r.prototype.set=function(a){if(a)for(var c in a)this[c]=a[c]};var G=function(a,c,
b,f,d,e,k,n){this.name=a;this.from=c;this.to=b;this.displayedIndexRange=f;this.transformation=d;this.instanceParameters=e;this.idx=k;this.dataId=n;null!=d&&(this.transformationNormal=A.create(),A.set(d,this.transformationNormal),A.inverse(this.transformationNormal,this.transformationNormal),A.transpose(this.transformationNormal,this.transformationNormal))},Q=function(a,c,b,f){var d=E.create(a),e=E.create(c),k=E.create(b),n=B.create(f);this.setUniforms=function(a){a.uniform4fv("lightAmbient",d);a.uniform4fv("lightDiffuse",
e);a.uniform4fv("lightSpecular",k);a.uniform3fv("lightDirection",n)};this.set=function(a){a.ambient&&E.set(a.ambient,d);a.diffuse&&E.set(a.diffuse,e);a.specular&&E.set(a.specular,k);a.direction&&B.set(a.direction,n)};this.get=function(){return{ambient:d,diffuse:e,specular:k,direction:n}};this.getLightDirection=function(){return n};this.getLightAmbient=function(){return d};this.getLightDiffuse=function(){return e};this.getLightSpecular=function(){return k}};return function(q,t,E,C,D,L){function W(){var a=
X.clone();a.and(U);return a}function ca(a){return a.material.getDrawMode(D)===D.LINES?Ia:Ga}function V(a){return a.material}var R=new Q([1,1,1,1],[1,1,1,1],[1,1,1,1],[0,1,0]),N={},H={},O=[],I=[[],[],[],[],[],[],[]],J=0,S=!1,U,ba,X,$=0,P=0,aa=0,da,Y,fa,ga=1;this.ssaoEnabled=!1;var ea=new r({lightingData:R});D.enable(D.DEPTH_TEST);D.enable(D.CULL_FACE);D.disable(D.BLEND);D.blendFunc(D.SRC_ALPHA,D.ONE_MINUS_SRC_ALPHA);var ia=D.getContextAttributes().alpha?D.RGBA:D.RGB,ja={angleInstancedArrays:D.getExtension("ANGLE_instanced_arrays")},
Z=!0,ha={view:null,proj:null,viewInvTransp:null,nearFar:null,lightingData:null,viewport:null,framebufferTex:null,shadowMap:null,origin:void 0,pixelRatio:null,instanceParameters:void 0,depthFBO:null,extensions:ja},na=new p(D),sa=new n(D);this.dispose=function(){var a,c,b;for(a in N)for(c in qb(a),b=N[a],b.origin2data)b.origin2data[c].vbo.dispose();N=null;for(a in H)for(c in qb(a),b=H[a],b.origin2data)b.origin2data[c].vbo.dispose();H=null;ab.dispose();Va.dispose();Aa&&D.deleteTexture(Aa);Aa=null;D.deleteTexture(ra);
ra=null;na.getEnableState()&&na.disable();sa.getEnableState()&&sa.disable()};this.setLightingData=function(a){R.set(a);Z=!0};this.getLightingData=function(){return R.get()};this.setPixelRatio=function(a){ga=a;Z=!0};this.getPixelRatio=function(){return ga};this.addExternalRenderer=function(a,c){Array.isArray(a)||(a=[a]);a.forEach(function(a){v(a<I.length,"invalid slot for external renderer");I[a].push(c)});c.setContext(D);c.setTextureRep&&c.setTextureRep(C);return Z=!0};this.removeExternalRenderer=
function(a,c){Array.isArray(a)||(a=[a]);var b=0;a.forEach(function(a){v(a<I.length,"invalid slot for external renderer");a=I[a];for(var f=0;f<a.length;f++)if(a[f]===c){a[f]=a[a.length-1];a.pop();Z=!0;b++;break}});return b===a.length};this.getExternalRenderers=function(){return I};this.resetNeedsRender=function(){Z=!1;for(var a=0;a<I.length;a++)for(var c=I[a],b=0;b<c.length;b++)c[b].resetNeedsRender&&c[b].resetNeedsRender()};this.needsRender=function(){if(Z)return!0;for(var a=0;a<I.length;a++)for(var c=
I[a],b=0;b<c.length;b++)if(!c[b].needsRender||c[b].needsRender())return!0;return!1};var xa,qa=0,ya=0,Fa=0,wa=0,ma=0,oa=0;this.getCombinedStats=function(){var a={trianglesRendered:qa,drawCallsInstanced:ya,drawCallsAngleInstanced:Fa,drawCallsMerged:wa,drawCallsFragmented:ma,instancesDrawnAngle:oa},c=0,b=0,f=0,d,e,k,n;for(d in H)for(k in e=H[d],e.origin2data)n=e.origin2data[k],c+=n.buffer.getArray().length,b+=n.buffer.getSize(),f+=n.optimalCount;for(d in N)for(k in e=N[d],e.origin2data)n=e.origin2data[k],
c+=n.buffer.getArray().length,b+=n.buffer.getSize(),f+=n.optimalCount;a.VBOallocatedSize=4*c/1024;a.VBOusedSize=4*b/1024;a.VBOoptimalSize=4*f/1024;return a};this.setContent=function(a){for(var c={},b=0,f=a.length;b<f;++b)c[a[b].uniqueName]=a[b];a=void 0===xa?a:x(c,xa);b=void 0===xa?[]:x(xa,c);xa=c;this.modify(a,b)};this.setSelectionObject=function(a,c){a?(U=ob(w([a])),ba=void 0,null!=c&&1==c.length&&(ba=[[3*c[0][0],3*c[0][1]]]),X&&(fa=W())):ba=fa=U=void 0;Z=!0};this.setHighlightObjects=function(a,
c){"object"!==typeof c&&(c={});var b=0<aa&&(Date.now()-Y)/1E3<aa;$="number"===typeof c.fadeInTime?c.fadeInTime:0.2;P="number"===typeof c.fadeOutTime?c.fadeOutTime:0.5;da="number"===typeof c.holdTime?c.holdTime:1;aa=0<=da?da+$+P:0;!a||0===a.length?(b||(Y=Date.now()),$=0,aa=P):(Y=Date.now(),X=ob(w(a)),U&&(fa=W()));Z=!0};var Ga=new e(q,[0.1,0.2,0.9,0.4],D.EQUAL),Ia=new e(q,[0.1,0.2,0.9,0.4],D.EQUAL,D.LINES),ra=D.createTexture();D.bindTexture(D.TEXTURE_2D,ra);D.texParameteri(D.TEXTURE_2D,D.TEXTURE_MIN_FILTER,
D.NEAREST);D.texParameteri(D.TEXTURE_2D,D.TEXTURE_MAG_FILTER,D.NEAREST);D.texParameteri(D.TEXTURE_2D,D.TEXTURE_WRAP_S,D.CLAMP_TO_EDGE);D.texParameteri(D.TEXTURE_2D,D.TEXTURE_WRAP_T,D.CLAMP_TO_EDGE);D.texImage2D(D.TEXTURE_2D,0,D.RGBA,4,4,0,D.RGBA,D.UNSIGNED_BYTE,null);if(ia===D.RGBA){t=new Uint8Array(64);for(var ta=0;64>ta;ta++)t[ta]=255;var Aa=D.createTexture();D.bindTexture(D.TEXTURE_2D,Aa);D.texParameteri(D.TEXTURE_2D,D.TEXTURE_MIN_FILTER,D.NEAREST);D.texImage2D(D.TEXTURE_2D,0,D.RGBA,4,4,0,D.RGBA,
D.UNSIGNED_BYTE,t);var Ca=new d(q,Aa,[1,1,1,1],!0,D.ALWAYS)}t=function(a,c,b,f,d){S=!0;oa=ya=wa=qa=ma=Fa=0;Xa(a.projectionMatrix);for(var e=0;3>e;e++)Ja("material",e,a,b,f),za(e,a,c,void 0,void 0,V,b);Ja("material",3,a,b,f);za(3,a,c,void 0,void 0,V,b);e=a.viewport;D.bindTexture(D.TEXTURE_2D,ra);D.copyTexImage2D(D.TEXTURE_2D,0,ia,e[0],e[1],e[2],e[3],0);ea.set({framebufferTex:ra});Ja("material",4,a,b,f);D.clear(D.DEPTH_BUFFER_BIT);za(4,a,c,void 0,void 0,V,b);if(U){f=U;e=ba;S=!0;for(var n=0;6>n;++n)za(n,
a,c,f,e,ca,b);S=!1}if(X)if(f=(Date.now()-Y)/1E3,0<=da&&f>=aa)fa=X=void 0;else{pb[3]=f<$?f*(0.7/$):0<=da&&f>aa-P?0.7*(1-(f-(aa-P))/P):0.7;ab.setSize(a.width,a.height);ab.bind();D.clear(D.COLOR_BUFFER_BIT|D.DEPTH_BUFFER_BIT);D.viewport(0,0,a.width,a.height);for(f=0;6>f;++f)za(f,a,c,X,void 0,V,b);if(fa){f=fa;S=!0;for(e=0;6>e;++e)za(e,a,c,f,void 0,ca,b);S=!1}a=a.viewport;D.viewport(a[0],a[1],a[2],a[3]);D.bindFramebuffer(D.FRAMEBUFFER,d);Ua.bind(D,hb);Ua.bindView(D,hb);Va.bind();Va.setPointers(Ua.getProgram());
D.drawArrays(D.TRIANGLE_STRIP,0,Va.getNum());Ua.release(D,hb)}D.bindBuffer(D.ARRAY_BUFFER,null);k.unuse(D);Ca&&!d&&(D.blendFuncSeparate(D.ZERO,D.ONE,D.ONE,D.ZERO),Ca.bind(D,hb),Ca.bindView(D,hb),Va.bind(),Va.setPointers(Ca.getProgram()),D.drawArrays(D.TRIANGLE_STRIP,0,Va.getNum()),Ca.release(D),D.blendFunc(D.SRC_ALPHA,D.ONE_MINUS_SRC_ALPHA));J++;S=!1};ta=function(a,c,b,f,d){S=!0;oa=ya=wa=qa=ma=Fa=0;Xa(a.projectionMatrix);ha.view=a.viewMatrix;ha.proj=a.projectionMatrix;ha.viewInvTransp=a.viewInverseTransposeMatrix;
Ra[0]=a.near;Ra[1]=a.far;ha.nearFar=Ra;ha.lightingData=R;ha.viewport=a.fullViewport;ha.framebufferTex=ra;ha.shadowMap=b;ha.pixelRatio=ga;ha.instanceParameters=void 0;ha.depthFBO=na.getDepthFBO();ha.normalFBO=sa.getNormalFBO();f=O.length;var e=!0;for(d=0;d<f;d++){var n=O[d][1];if(n.instanced&&(a=n.instanced,(b=a.material)&&(!b.isVisible||b.isVisible())))Qa(a,b,ha,Infinity,c,null,null,!1),e=!0;if(n.merged&&(a=n.merged,(b=a.material)&&(!b.isVisible||b.isVisible())))e&&(e=b.getProgram(),e.use(),e.uniformMatrix4fv("model",
Pa),e.hasUniform("modelNormal")&&e.uniformMatrix4fv("modelNormal",Pa),e=!1),Ea(a,b,ha,Infinity)}D.bindBuffer(D.ARRAY_BUFFER,null);k.unuse(D);J++;S=!1};this.render=L?ta:t;this.renderAuxiliaryBuffers=function(a,c,b,f,d,e){b=this.ssaoEnabled;for(var k=0;k<I.length&&!b;k++)for(var n=I[k],g=0;g<n.length&&!b;g++)b=b||!!n[g].needsDepthMap;na.setEnableState(b);b&&(na.setupFBOs(a),na.prepareDepthPass(),this.renderSimple(a,c,"materialDepth"),na.finish(e));sa.setEnableState(this.ssaoEnabled);this.ssaoEnabled&&
(sa.setupFBOs(a),sa.prepareNormalPass(),this.renderSimple(a,c,"materialNormal"),sa.finish(e));this.ssaoEnabled&&f.computeSSAO(a,e,d,na.getDepthFBO(),sa.getNormalFBO());f.bindAll(q)};var Ja=function(a,c,b,f,d){var e=I[c];ea.set({slot:c,camera:b,shadowMap:f,ssaoHelper:d,pass:a,depth:na.getDepthFBO(),normals:sa.getNormalFBO()});for(a=0;a<e.length;a++)e[a].render(ea)};this.renderSimple=function(a,c,b,f,d){S=!0;Xa(a.projectionMatrix);d=function(a){return a[b]};for(var e=0;6>e;++e)Ja(b,e,a,f),za(e,a,c,
void 0,void 0,d,f);S=!1};var Ra=y.create(),za=function(a,c,b,f,d,e,k){ha.view=c.viewMatrix;ha.proj=c.projectionMatrix;ha.viewInvTransp=c.viewInverseTransposeMatrix;Ra[0]=c.near;Ra[1]=c.far;ha.nearFar=Ra;ha.lightingData=R;ha.viewport=c.fullViewport;ha.framebufferTex=ra;ha.shadowMap=k;ha.pixelRatio=ga;ha.instanceParameters=void 0;ha.depthFBO=na.getDepthFBO();for(var n in H)c=H[n],(k=e(c))&&(k.beginSlot(a)&&(!k.isVisible||k.isVisible()))&&Qa(c,k,ha,a,b,f,d,!1);if(f)for(n in N)c=N[n],(k=e(c))&&(k.beginSlot(a)&&
(!k.isVisible||k.isVisible()))&&Qa(c,k,ha,a,null,f,d,!0);else{b=q.getProgramsUsingUniform("model");f=q.getProgramsUsingUniform("modelNormal");for(d=0;d<b.length;d++)c=b[d],c.use(),c.uniformMatrix4fv("model",Pa),-1<f.indexOf(c)&&c.uniformMatrix4fv("modelNormal",Pa);for(n in N)c=N[n],(k=e(c))&&(k.beginSlot(a)&&(!k.isVisible||k.isVisible()))&&Ea(c,k,ha,a)}},Qa=function(a,c,b,f,d,e,k,n){f=!1;var g=c.getDrawMode(D),p=ja.angleInstancedArrays,s;for(s in a.origin2data){var l=a.origin2data[s];b.origin=l.origin;
var h=!1;if(c.instanced)for(var q in l.perGeometryDataInfo){var m=l.perGeometryDataInfo[q];f||(c.bind(D,b),f=!0);h||(l.vbo.bind(),l.vbo.setPointers(c.getProgram()),c.bindView(D,b),h=!0);m.instanceBuffer.bind();m.instanceBuffer.setPointers(c.getProgram());var r=m.to-m.from,t=m.refCount;g===D.TRIANGLES&&(qa+=t*r/3);p.drawArraysInstancedANGLE(g,m.from,r,t);Fa++;oa+=t}else{var m=l.instances,u;for(u in m){var r=m[u],t=r.idx,v=r.displayedIndexRange;k&&(v=k);if(!(v&&0===v.length)&&!(d&&!d.get(t)||e&&!e.get(t)))f||
(c.bind(D,b),f=!0),h||(l.vbo.bind(),l.vbo.setPointers(c.getProgram()),c.bindView(D,b),h=!0),n||c.bindInstance(D,r),ya++,g===D.TRIANGLES&&(qa+=(r.to-r.from)/3),v?bb(v,r.from,g):D.drawArrays(g,r.from,r.to-r.from)}}}f&&c.release(D,b)},bb=function(a,c,b){for(var f=0;f<a.length;f++){var d=a[f];D.drawArrays(b,d[0]+c,d[1]-d[0]+1)}ma+=a.length-1},Ea=function(a,c,b,f){f=!1;for(var d in a.origin2data){var e=a.origin2data[d];b.origin=e.origin;if(!(e.displayedIndexRange&&0===e.displayedIndexRange.length)){f||
(c.bind(D,b),f=!0);e.vbo.bind();e.vbo.setPointers(c.getProgram());c.bindView(D,b);wa++;var k=c.getDrawMode(D);k===D.TRIANGLES&&(qa+=e.vbo.getNum()/3);e.displayedIndexRange?bb(e.displayedIndexRange,0,k):D.drawArrays(k,0,e.vbo.getNum())}}f&&c.release(D,b)},Xa=function(a){for(var c=q.getProgramsUsingUniform("proj"),b=0;b<c.length;b++)c[b].uniformMatrix4fv("proj",a);if(R){c=q.getProgramsUsingUniform("lightDirection");for(b=0;b<c.length;b++)R.setUniforms(c[b])}};this.print=function(){console.log("number of materials (merged/instanced): "+
Object.keys(N).length+"/"+Object.keys(H).length);var a=0,c,b,f;for(c in N)for(f in b=N[c],b.origin2data)a+=Object.keys(b.origin2data[f].instances).length;var d=0;for(c in H)for(f in b=H[c],b.origin2data)d+=Object.keys(b.origin2data[f].instances).length;console.log("number of instances (merged/instanced):"+a+"/"+d)};this.isEmpty=function(){for(var a in H){var c=H[a],b;for(b in c.origin2data)if(!f(c.origin2data[b].instances))return!1}for(a in N)for(b in c=N[a],c.origin2data)if(!f(c.origin2data[b].instances))return!1;
return!0};this.modify=function(c,f,d,e){S&&console.warn("Renderer.modify called while rendering");var k=[],n=[];kb(c,k,n);var g=[],p=[];kb(f,g,p);var q={};if(d)for(var r=h.UpdateTypes,t=0;t<d.length;t++){var u=d[t],w=u.renderGeometry,x=cb(w),B=u.updateType;if(B&r.FACERANGE){var y=w,Q=x,M=q,T=y.material.getId(),C=y.origin.id,J=(Q?H:N)[T].origin2data[C],U=J.instances[y.uniqueName];U&&(U.displayedIndexRange=y.displayedIndexRange,Q||(M[T+"_"+C]=J))}if(B&r.VERTEXATTRS||!x&&B&r.TRANSFORMATION){var W=w,
P=x,I=W.material,$=I.getId(),O=(P?H:N)[$].origin2data[W.origin.id],V=O.instances[W.uniqueName],ca=void 0,ba=void 0;if(!P){var aa=W.origin.vec3;z(Ma,-aa[0],-aa[1],-aa[2]);A.multiply(Ma,W.transformation,db);A.inverse(db,Wa);A.transpose(Wa);ca=db;ba=Wa}var R=I.getVertexBufferLayout().getStride();v(V.from+I.getOutputAmount(s(W.data.faces.indices).length)/R===V.to,"material VBO layout has changed");I.fillInterleaved(W.data,ca,ba,W.instanceParameters,O.buffer.getArray(),V.from*R);O.vbo.updateSubData(O.buffer.getArray(),
V.from*R,V.to*R)}else if(x&&B&r.TRANSFORMATION){var X=w,da=X.origin.vec3,Ra=(x?H:N)[X.material.getId()].origin2data[X.origin.id],Y=Ra.instances[X.uniqueName];z(Ma,-da[0],-da[1],-da[2]);A.multiply(Ma,X.transformation,Y.transformation);A.inverse(Y.transformation,Y.transformationNormal);A.transpose(Y.transformationNormal,Y.transformationNormal);var fa=Ra.perGeometryDataInfo[X.data.id],ha=fa.instanceBufferData;if(ha){var za=ha.getSlot(X.idx);ha.fill(za,0,Y.transformation);ha.fill(za,16,Y.transformationNormal);
var ea=ha.getOffset(za);fa.instanceBuffer.updateSubData(ha.getArray(),ea,ea+32)}}else if(B&r.COLORATTRS){var ga=w,ia=ga.material,Qa=ia.getId(),bb=ga.origin.id,ya=(cb(ga)?H:N)[Qa].origin2data[bb],ja=ya.instances[ga.uniqueName],na={};na[F.COLOR]=!0;var xa=ia.getVertexBufferLayout().getStride();v(ja.from+ia.getOutputAmount(s(ga.data.faces.indices).length)/xa===ja.to,"material VBO layout has changed");ia.fillInterleaved(ga.data,void 0,void 0,ga.instanceParameters,ya.buffer.getArray(),ja.from*xa,na);ya.vbo.updateSubData(ya.buffer.getArray(),
ja.from*xa,ja.to*xa)}}var Ya=[],sa=lb(k,g,!1),Ea;for(Ea in sa){var Fa=sa[Ea],Aa;for(Aa in Fa){var ma=Fa[Aa],wa=ma.optimalCount,ra=ma.material,Xa=ra.getVertexBufferLayout(),qa=Xa.getStride(),ta=N[Ea];if(void 0===ta){v(0<wa);var Ja=ra.getRenderPriority(),ta={material:E.aquire(ra),materialDepthShadowMap:E.aquireDepthShadowMap(ra),materialNormal:E.aquireNormal(ra),materialDepth:E.aquireDepth(ra),origin2data:{}};N[Ea]=ta;L&&vb(ta,Ja,"merged")}var la=ta.origin2data[Aa];void 0===la&&(v(0<wa),la={instances:{},
vbo:new a(void 0,Xa,D),buffer:new l(wa),optimalCount:0,origin:ma.origin},ta.origin2data[Aa]=la);var oa,Ia,Ca,Ga;if(0<wa){var Da=la.buffer.getSize(),Va=la.buffer.getArray(),Pa=wa<ma.sparseCount/2,Pa=Pa|la.buffer.resize(Pa?wa:ma.sparseCount),Na=ma.toRemove;if(Pa){var Da=0,hb=la.buffer.getArray(),ab=!1,Ha,Ua;oa=0;for(Ia=Na.length;oa<Ia;++oa)Ha=la.instances[Na[oa].uniqueName],la.optimalCount-=(Ha.to-Ha.from)*qa,delete la.instances[Na[oa].uniqueName];var wb={};for(Ua in la.instances)Ha=la.instances[Ua],
v(void 0===wb[Ha.from]),wb[Ha.from]=Ha;for(Ua in wb)Ha=wb[Ua],Ca=Ha.from*qa,Ga=Ha.to*qa,hb.set(Va.subarray(Ca,Ga),Da),Ha.from=Da/qa,Da+=Ga-Ca,Ha.to=Da/qa,Ha.displayedIndexRange&&(ab=!0);v(Da==la.optimalCount)}else{oa=0;for(Ia=Na.length;oa<Ia;++oa){var xb=Na[oa].uniqueName;v(void 0!==la.instances[xb]);Ca=la.instances[xb].from*qa;Ga=la.instances[xb].to*qa;la.buffer.erase(Ca,Ga);delete la.instances[xb];la.optimalCount-=Ga-Ca}}z(Ma,-ma.origin[0],-ma.origin[1],-ma.origin[2]);var ob=ma.toAdd;oa=0;for(Ia=
ob.length;oa<Ia;++oa){var Za=ob[oa],pb=Za.data;A.multiply(Ma,Za.transformation,db);A.inverse(db,Wa);A.transpose(Wa);var Gb=Da;ra.fillInterleaved(pb,db,Wa,Za.instanceParameters,la.buffer.getArray(),Da);var Cb=ra.getOutputAmount(s(pb.faces.indices).length),Vb=Gb+Cb;v(void 0===la.instances[Za.uniqueName]);Ha=new G(Za.name,Gb/qa,Vb/qa,Za.displayedIndexRange,void 0,void 0,Za.idx);Za.displayedIndexRange&&(ab=!0);la.instances[Za.uniqueName]=Ha;la.optimalCount+=Cb;Da+=Cb}v(la.optimalCount===wa);la.vbo.setData(la.buffer.getArray(),
la.buffer.getSize());if(ab||la.displayedIndexRange)q[Ea+"_"+Aa]=la}else v(0===wa),la.vbo.dispose(),delete ta.origin2data[Aa],0===Object.keys(ta.origin2data).length&&(Ya.push(Ea),delete N[Ea],L&&ub(ta,"merged"))}}var Hb=lb(n,p,!0),Ka,ib;for(ib in Hb){var Ib=Hb[ib],mb;for(mb in Ib){var ua=Ib[mb];if(0===ua.optimalCount)Ka=H[ib],Ka.origin2data[mb].vbo.dispose(),delete Ka.origin2data[mb],0===Object.keys(Ka.origin2data).length&&(Ya.push(ib),delete H[ib],L&&ub(Ka,"instanced"));else{var $a=ua.material;Ka=
H[ib];if(void 0===Ka){var Wb=$a.getRenderPriority();Ka={material:E.aquire($a),materialDepthShadowMap:E.aquireDepthShadowMap($a),materialNormal:E.aquireNormal($a),materialDepth:E.aquireDepth($a),origin2data:{}};H[ib]=Ka;L&&vb(Ka,Wb,"instanced")}var Jb=$a.getVertexBufferLayout(),rb=Ka.material.instanced?$a.getInstanceBufferLayout():null,Xb=rb&&rb.hasAttribute("instanceColor"),Sa=Jb.getStride(),ka=Ka.origin2data[mb];void 0===ka&&(ka={instances:{},vbo:new a(void 0,Jb,D),buffer:new l(ua.optimalCount),
optimalCount:0,perGeometryDataInfo:{},origin:ua.origin},Ka.origin2data[mb]=ka);var Ta=ka.buffer.getSize(),Yb=ka.buffer.getArray(),yb=ua.optimalCount<ua.sparseCount/2,yb=yb|ka.buffer.resize(yb?ua.optimalCount:ua.sparseCount),Oa,nb,eb,fb,va,La,zb,Ba,pa;for(va in ua.perGeometryDelta)if((pa=ka.perGeometryDataInfo[va])&&pa.instanceBufferData){var Kb=ua.perGeometryDelta[va].removeCount;0<Kb&&pa.instanceBufferData.prepareFree(Kb)}var Ab=ua.toRemove;if(yb){Oa=0;for(nb=Ab.length;Oa<nb;++Oa)Ba=Ab[Oa],delete ka.instances[Ba.uniqueName],
va=Ba.data.id,La=pa=ka.perGeometryDataInfo[va],0===--La.refCount&&void 0===ua.dataId2refCount[va]?(ka.optimalCount-=(La.to-La.from)*Sa,delete ka.perGeometryDataInfo[va]):pa.instanceBufferData&&pa.instanceBufferData.free(Ba.idx);var Ta=0,Zb=ka.buffer.getArray(),Bb={},Lb;for(Lb in ka.perGeometryDataInfo)La=ka.perGeometryDataInfo[Lb],v(void 0===Bb[La.from]),Bb[La.from]=La;for(zb in Bb)La=Bb[zb],eb=La.from*Sa,fb=La.to*Sa,Zb.set(Yb.subarray(eb,fb),Ta),La.from=Ta/Sa,Ta+=fb-eb,La.to=Ta/Sa;for(zb in ka.instances){var gb=
ka.instances[zb];gb.from=ka.perGeometryDataInfo[gb.dataId].from;gb.to=ka.perGeometryDataInfo[gb.dataId].to}}else{Oa=0;for(nb=Ab.length;Oa<nb;++Oa)Ba=Ab[Oa],delete ka.instances[Ba.uniqueName],va=Ba.data.id,pa=ka.perGeometryDataInfo[va],0===--pa.refCount&&void 0===ua.dataId2refCount[va]?(eb=pa.from*Sa,fb=pa.to*Sa,ka.buffer.erase(eb,fb),ka.optimalCount-=fb-eb,delete ka.perGeometryDataInfo[va]):pa.instanceBufferData&&pa.instanceBufferData.free(Ba.idx)}z(Ma,-ua.origin[0],-ua.origin[1],-ua.origin[2]);for(va in ua.perGeometryDelta)if((pa=
ka.perGeometryDataInfo[va])&&pa.instanceBufferData){var Mb=ua.perGeometryDelta[va].addCount;0<Mb&&pa.instanceBufferData.prepareAllocate(Mb)}var Nb=ua.toAdd;Oa=0;for(nb=Nb.length;Oa<nb;++Oa){Ba=Nb[Oa];var Db=Ba.data;va=Db.id;pa=ka.perGeometryDataInfo[va];if(void 0===pa){$a.fillInterleaved(Db,void 0,void 0,void 0,ka.buffer.getArray(),Ta);var Ob=$a.getOutputAmount(s(Db.faces.indices).length);eb=Ta/Sa;Ta+=Ob;fb=Ta/Sa;ka.optimalCount+=Ob;pa={refCount:1,from:eb,to:fb,instanceBuffer:null,instanceBufferData:null};
rb&&(pa.instanceBuffer=new a(void 0,rb,D),pa.instanceBufferData=new m(rb.getStride(),ua.perGeometryDelta[va].addCount));ka.perGeometryDataInfo[va]=pa}else++pa.refCount;v(pa.from*Sa<=ka.buffer.getSize()&&pa.to*Sa<=ka.buffer.getSize());var Pb=A.create();A.multiply(Ma,Ba.transformation,Pb);var gb=new G(Ba.name,pa.from,pa.to,Ba.displayedIndexRange,Pb,Ba.instanceParameters,Ba.idx,va),sb=pa.instanceBufferData;if(sb){var Eb=sb.allocate(Ba.idx);sb.fill(Eb,0,gb.transformation);sb.fill(Eb,16,gb.transformationNormal);
Xb&&sb.fill(Eb,32,Ba.instanceParameters.color)}ka.instances[Ba.uniqueName]=gb}v(ka.optimalCount===ua.optimalCount);ka.vbo.setData(ka.buffer.getArray(),ka.buffer.getSize());for(va in ka.perGeometryDataInfo){var Fb=ka.perGeometryDataInfo[va];if(Fb.instanceBuffer){var Qb=ua.perGeometryDelta[va];if(0<Qb.addCount+Qb.removeCount){var Rb=Fb.instanceBufferData.compact();Fb.instanceBuffer.setData(Rb,Rb.length)}}}}}}for(var $b in q){var jb=q[$b];jb.displayedIndexRange=[];var Sb=jb.instances,Tb=!0,Ub;for(Ub in Sb){var tb=
Sb[Ub];tb.displayedIndexRange?(jb.displayedIndexRange.push.apply(jb.displayedIndexRange,b.offsetIntervals(tb.displayedIndexRange,tb.from)),Tb=!1):jb.displayedIndexRange.push([tb.from,tb.to-1])}jb.displayedIndexRange=Tb?null:b.mergeIntervals(jb.displayedIndexRange)}qb(Ya);for(var ac in e)E.updateMaterialParameters(ac);Z=!0};var Ya=1535;this.setThreshold=function(a){Ya=a;this.dispose();a=Array(Object.keys(xa).length);var c=0,b;for(b in xa)a[c++]=xa[b];xa=void 0;this.setContent(a)};var cb=function(a){var c=
!1,b=s(a.data.faces.indices).length,c=c|!1===a.material.canBeMerged,c=c|a.material.instanced,c=c|a.material.isBackdrop;return a.singleUse?c:c|=b>Ya},kb=function(a,c,b){for(var f=0;f<a.length;++f)1>s(a[f].data.faces.indices).length||(cb(a[f])?b.push(a[f]):c.push(a[f]))},Ma=A.identity(),db=A.create(),Wa=A.create(),lb=function(a,c,b){var f={};Da(a,!0,b,f);Da(c,!1,b,f);return f},Da=function(a,c,b,f){for(var d=0,e=a.length;d<e;++d){var k=a[d],n=k.origin,g=k.material,p=g.getId(),l=b?H[p]:N[p];void 0!==
l&&(l=l.origin2data[n.id]);var h=f[p];void 0===h&&(h={},f[p]=h);p=h[n.id];if(void 0===p){p={optimalCount:void 0===l?0:l.optimalCount,sparseCount:void 0===l?0:l.buffer.getSize(),material:g,toAdd:[],toRemove:[],perGeometryDelta:null,origin:n.vec3};if(b){var q={};if(void 0!==l)for(var m in l.perGeometryDataInfo)q[m]=l.perGeometryDataInfo[m].refCount;p.dataId2refCount=q;p.perGeometryDelta={}}h[n.id]=p}n=g.getOutputAmount(s(k.data.faces.indices).length);b?(g=k.data.id,l=p.perGeometryDelta[g],l||(l={addCount:0,
removeCount:0},p.perGeometryDelta[g]=l),c?(l.addCount++,void 0===p.dataId2refCount[g]&&(p.dataId2refCount[g]=0),1===++p.dataId2refCount[g]&&(p.optimalCount+=n,p.sparseCount+=n),p.toAdd.push(k)):(l.removeCount++,0===--p.dataId2refCount[g]&&(delete p.dataId2refCount[g],p.optimalCount-=n),p.toRemove.push(k))):c?(p.optimalCount+=n,p.sparseCount+=n,p.toAdd.push(k)):(p.optimalCount-=n,p.toRemove.push(k))}},vb=function(a,c,b){for(var f,d=a.material.getMaterialId(),e=O.length,k=0;k<e&&O[k][0]>=c;){f=O[k][1];
if(f.id===d){v(!f[b],"matData for type already exists");f[b]=a;return}k++}f={id:d,instanced:null,merged:null};f[b]=a;O.splice(k,0,[c,f])},ub=function(a,c){for(var b=a.material.getMaterialId(),f=0;O[f][1].id!==b;)f++;b=O[f][1];b[c]=null;!b.instanced&&!b.merged&&O.splice(f,1)},Na=function(a,c){for(var b=c.length,f=0,d;f<b&&c[f][1].id!==a;)f++;if(f<b){var e=c[f][1],e=(e.merged||e.instanced).material.getRenderPriority();d=c[f][0];if(e!==c[f][0]){c[f][0]=e;for(var k=e>d?-1:1,f=f+k;-1<f&&f<b&&k*c[f][0]>
k*e;)d=c[f],c[f]=c[f-k],c[f-k]=d,f+=k}}};this.updateRenderOrder=Na;this.modifyRenderOrder=function(a){if(L){for(var c in a)Na(c,O);Z=!0}};var qb=function(a){if(Array.isArray(a))for(var c=0;c<a.length;c++)E.release(a[c]),E.releaseDepth(a[c]),E.releaseNormal(a[c]);else E.release(a),E.releaseDepth(a),E.releaseNormal(a)},ob=function(a){for(var c=new u,b=0;2>b;++b){var f=0===b?N:H,d;for(d in f){var e=f[d].origin2data,k;for(k in e){var n=e[k].instances,g;for(g in n){var p=n[g];void 0!==a[p.name]&&c.set(p.idx)}}}}return c},
ab=new c(D.RGB,D.UNSIGNED_BYTE,!0,D.NEAREST,D),pb=[1,1,1,0.5],Ua=new d(q,ab.getTexture(),pb,!0,D.ALWAYS),Pa=A.identity();t=B.create();var hb={proj:Pa,view:Pa,nearFar:[-1,1],origin:t};t=new Float32Array(20);t[0]=-1;t[1]=-1;t[2]=0;t[3]=0;t[4]=0;t[5]=1;t[6]=-1;t[7]=0;t[8]=1;t[9]=0;t[10]=-1;t[11]=1;t[12]=0;t[13]=0;t[14]=1;t[15]=1;t[16]=1;t[17]=0;t[18]=1;t[19]=1;var Va=new a(t,g.Defaults.PosTex,D)}})},"esri/tasks/support/ImageServiceIdentifyResult":function(){define(["../../core/declare","../../core/JSONSupport",
"../../geometry/support/jsonUtils","./FeatureSet"],function(b,h,l,m){return b(h,{declaredClass:"esri.tasks.ImageServiceIdentifyResult",catalogItemVisibilities:null,catalogItems:null,_catalogItemsReader:function(b){return b&&m.fromJSON(b)},location:null,_locationReader:function(b){return b&&l.fromJSON(b)},name:null,objectId:null,properties:null,value:null})})},"esri/views/3d/constraints/SceneViewTiltConstraint":function(){define(["../../../core/declare","../../../core/Accessor","../support/mathUtils"],
function(b,h,l){b=b([h],{declaredClass:"esri.views.3d.constraints.SceneViewTiltConstraint",constructor:function(){this._max=0.5},max:0.5,mode:"auto",autoUpdate:function(b){"auto"===this.mode&&this._max!==b&&(this._max=b,this.notifyChange("max"))},_maxSetter:function(b){this.mode="manual";this._max=l.clamp(b,0.5,179.5)},_maxGetter:function(){return this._max},scale:function(b){}});b.MAX_DEFAULT=0.5;b.MIN_DEFAULT=179.5;return b})},"esri/layers/support/LayerInfo":function(){define(["../../core/declare",
"dojo/_base/lang","../../core/lang"],function(b,h,l){return b(null,{declaredClass:"esri.layers.support.LayerInfo",constructor:function(b){h.mixin(this,b)},toJson:function(){try{throw Error("toJson is deprecated, use toJSON instead");}catch(b){console.warn(b.stack)}return this.toJSON()},toJSON:function(){return l.fixJson({defaultVisibility:this.defaultVisibility,id:this.id,maxScale:this.maxScale,minScale:this.minScale,name:this.name,parentLayerId:this.parentLayerId,subLayerIds:this.subLayerIds})}})})},
"esri/views/FlatLayerViewsCollection":function(){define(["../core/declare","../core/Collection"],function(b,h){return b([h],{classMetadata:{properties:{view:{}}},constructor:function(){this._handles=new h;this._reset=this._reset.bind(this);this._watcher=this.watch(["view.factory.working","view.layerViews","view.basemapView.baseLayerViews","view.basemapView.referenceLayerViews","view.basemapView.elevationLayerViews"],this._reset)},initialize:function(){this._reset()},destroy:function(){this._handles.drain(function(b){b.remove()});
this._handles=null;this._watcher.remove();this._watcher=null},view:null,_reset:function(b){if(this._accessorProps.initialized&&!this.get("view.factory.working")){b=this.get("view.layerViews");var h=this.get("view.basemapView.baseLayerViews"),g=this.get("view.basemapView.referenceLayerViews"),e=this.get("view.basemapView.elevationLayerViews"),d;this._handles.drain(function(c){c.remove()});d=[];this._pushItem(d,e);this._pushItem(d,h);this._pushItem(d,b);this._pushItem(d,g);b=this.filter(function(c){return-1===
d.indexOf(c)});this.removeItems(b);b=0;for(h=d.length;b<h;b++)g=d[b],this.getItemAt(b)!==g&&(e=this.indexOf(g),-1<e?this.moveItem(g,b):this.addItem(g,b))}},_pushItem:function(b,h){var g=this._getChildren(h);g?(g.forEach(function(e){this._pushItem(b,e)},this),this._handles.addItem(g.on("change",this._reset))):h&&b.push(h)},_getChildren:function(b){return b?b.isInstanceOf(h)?b:b.layerViews:null}})})},"esri/Viewpoint":function(){define(["./core/JSONSupport","./Camera","./core/lang","./geometry/support/jsonUtils"],
function(b,h,l,m){var g=b.createSubclass({declaredClass:"esri.Viewpoint",rotation:0,_rotationSetter:function(b){b%=360;0>b&&(b+=360);return b},scale:0,targetGeometry:null,_targetGeometryReader:function(b){return m.fromJSON(b)},camera:null,_cameraReader:function(b){return h.fromJSON(b)},toJSON:function(){var b={scale:this.scale,rotation:this.rotation,targetGeometry:this.targetGeometry?this.targetGeometry.toJSON():void 0,camera:this.camera?this.camera.toJSON():void 0};b.camera&&delete b.camera.fov;
return l.fixJson(b)},clone:function(){return new g({rotation:this.rotation,scale:this.scale,targetGeometry:this.targetGeometry?this.targetGeometry.clone():null,camera:this.camera?this.camera.clone():null})}});return g})},"esri/views/3d/webgl-engine/lib/GLSLShader":function(){define([],function(){return function(b,h,l,m){var g,e=m,d=function(){var a=h;if(void 0!==e){for(var b="",d=0;d<e.length;d++)b+="#define "+e[d]+"\n";a=b+a}l.shaderSource(g,a);l.compileShader(g);l.getShaderParameter(g,l.COMPILE_STATUS)||
(console.error(l.getShaderInfoLog(g)),console.error(c(a)))},c=function(a){var c=2;return a.replace(/\n/g,function(){var a=c++;1E3>a&&(a=("  "+a).slice(-3));return"\n"+a+":"})};this.changeDefines=function(a){if(JSON.stringify(e)==JSON.stringify(a))return!1;e=a;void 0!==g&&d();console.log("updating shader");return!0};this.getGLName=function(){void 0===g&&(g=l.createShader(b),d());return g}}})},"esri/portal/PortalItem":function(){define("./PortalComment ./PortalRating dojo/_base/array ../core/declare dojo/_base/lang require".split(" "),
function(b,h,l,m,g,e){return m([],{declaredClass:"esri.arcgis.PortalItem",portal:null,constructor:function(b){g.mixin(this,b);this.folderId=this.ownerFolder||this.folderId;this.itemUrl=(this.portal&&this.portal.portalUrl)+"content/items/"+this.id;this.userItemUrl=this.hasOwnProperty("ownerFolder")?this.itemUrl.replace("content","content/users/"+this.owner+(this.folderId?"/"+this.folderId:"")):null;this.itemDataUrl=this.portal.portalUtil.formatUrl(this.itemUrl+"/data");this.thumbnailUrl=this.portal.portalUtil.formatUrl(this.itemUrl+
"/info/"+this.thumbnail);this.displayName=this._getDisplayName();this.iconUrl=this._getIconUrl();this.isPremiumContent=this._getIsPremiumContent();this.created=this.created?new Date(this.created):null;this.uploaded=this.uploaded?new Date(this.uploaded):null;this.modified=this.modified?new Date(this.modified):null},getTypeInfo:function(){var b=this.type;return{source:-1<l.indexOf(this.typeKeywords||[],"ArcGIS Server")||"Feature Collection"===b?b:null,displayName:this.displayName,iconUrl:this.iconUrl,
isPremiumContent:this.isPremiumContent,premiumIconUrl:this._getPremiumIconUrl()}},addComment:function(d){var c=g.isString(d)?{comment:d}:d;return this.portal.portalUtil.request(this.itemUrl+"/addComment",c,{usePost:!0}).then(g.hitch(this,function(a){return new b(g.mixin(c,{id:a.commentId,item:this}))}))},updateComment:function(b){if(b&&b.url&&b.comment)return this.portal.portalUtil.request(b.url+"/update",{comment:b.comment},{usePost:!0}).then(function(c){b.id=c.commentId;return b});throw Error();
},getComments:function(){return this.portal.portalUtil.requestToTypedArray(this.itemUrl+"/comments",null,null,b,{item:this})},deleteComment:function(b){if(b&&b.url)return this.portal.portalUtil.request(b.url+"/delete",null,{usePost:!0});throw Error();},addRating:function(b){var c=g.isObject(b)?b:{rating:parseFloat(b)};return this.portal.portalUtil.request(this.itemUrl+"/addRating",c,{usePost:!0}).then(g.hitch(this,function(a){return new h(g.mixin(c,{id:a.ratingId,item:this}))}))},getRating:function(){return this.portal.portalUtil.request(this.itemUrl+
"/rating").then(g.hitch(this,function(b){return new h(g.mixin(b,{item:this}))}))},deleteRating:function(){return this.portal.portalUtil.request(this.itemUrl+"/deleteRating",null,{usePost:!0})},_getDisplayName:function(){var b=this.type,c=this.typeKeywords||[],a=b;"Feature Service"===b||"Feature Collection"===b?a=-1<l.indexOf(c,"Table")?"Table":"Feature Layer":"Image Service"===b?a=-1<l.indexOf(c,"Elevation 3D Layer")?"Elevation Layer":"Imagery Layer":"Scene Service"===b?a="Scene Layer":"Stream Service"===
b?a="Feature Layer":"Microsoft Powerpoint"===b?a="Microsoft PowerPoint":"GeoJson"===b?this.type=a="GeoJSON":"Globe Service"===b?a="Globe Layer":"Map Service"===b&&(a=-1<l.indexOf(c,"Hosted Service")||-1<l.indexOf(c,"Tiled")?"Tile Layer":"Map Image Layer");return a},_getIconUrl:function(){var b=this.type&&this.type.toLowerCase()||"",c=this.typeKeywords||[],a=!1,k=!1;0<b.indexOf("service")||"feature collection"===b||"kml"===b||"wms"===b||"wmts"===b?(a=-1<l.indexOf(c,"Hosted Service"),b="feature service"===
b||"feature collection"===b||"kml"===b?(k=-1<l.indexOf(c,"Table"))?"table":a?"featureshosted":"features":"map service"===b||"wms"===b||"wmts"===b?a||-1<l.indexOf(c,"Tiled")?"maptiles":"mapimages":"scene service"===b?"sceneweblayer":"image service"===b?-1<l.indexOf(c,"Elevation 3D Layer")?"elevationlayer":"imagery":"stream service"===b?"streamlayer":"layers"):"web map"===b||"cityengine web scene"===b?b="maps":"web scene"===b?(b="webscene",-1<l.indexOf(c,"ViewingMode-Local")||(b+="global")):b="web mapping application"===
b||"mobile application"===b||"application"===b||"operation view"===b||"desktop application"===b?"apps":"map document"===b||"map package"===b||"published map"===b||"scene document"===b||"globe document"===b||"basemap package"===b||"mobile basemap package"===b||"mobile map package"===b||"project package"===b||"project template"===b||"pro map"===b||"layout"===b||"layer"===b&&-1<l.indexOf(c,"ArcGIS Pro")||"explorer map"===b&&l.indexOf(c,"Explorer Document")?"mapsgray":"service definition"===b||"csv"===
b||"shapefile"===b||"cad drawing"===b||"geojson"===b?"datafiles":"explorer add in"===b||"desktop add in"===b||"windows viewer add in"===b||"windows viewer configuration"===b?"appsgray":"rule package"===b||"file geodatabase"===b||"csv collection"===b||"kml collection"===b||"windows mobile package"===b||"map template"===b||"desktop application template"===b||"arcpad package"===b||"code sample"===b||"document link"===b||"tile package"===b||"scene package"===b||"operations dashboard add in"===b||"rules package"===
b||"image"===b||"workflow manager package"===b||"desktop style"===b||"explorer map"===b&&-1<l.indexOf(c,"Explorer Mapping Application")||-1<l.indexOf(c,"Document")?"datafilesgray":"geocoding service"===b||"network analysis service"===b||"geoprocessing service"===b||"geodata service"===b||"geometry service"===b||"geoprocessing package"===b||"locator package"===b||"geoprocessing sample"===b||"workflow manager service"===b||"raster function template"===b?"toolsgray":"layer"===b||"layer package"===b||
"explorer layer"===b?"layersgray":"task file"===b?"taskfile":"maps";return b?e.toUrl("../css/images/item_type_icons/"+b+"16.png"):null},_getIsPremiumContent:function(){var b=this.typeKeywords,c=!1;if(-1<l.indexOf(b,"Service")&&(-1<l.indexOf(b,"Requires Subscription")||-1<l.indexOf(this.typeKeywords,"Requires Credits")))c=!0;return c},_getPremiumIconUrl:function(){var b=this.typeKeywords,c;this.isPremiumContent&&(c=-1<l.indexOf(b,"Requires Credits")?"premiumcredits":"premiumitem");return c?e.toUrl("../css/images/item_type_icons/"+
c+"16.png"):null}})})},"esri/symbols/PictureFillSymbol":function(){define("../core/declare dojo/_base/lang ../core/lang ../core/screenUtils ../core/urlUtils ./FillSymbol".split(" "),function(b,h,l,m,g,e){var d={xscale:1,yscale:1,xoffset:0,yoffset:0,width:16,height:16};b=b(e,{declaredClass:"esri.symbols.PictureFillSymbol",type:"picturefillsymbol",classMetadata:{computed:{url:["source"]},reader:{exclude:["contentType","imageData","size","url"],add:["source"]}},getDefaults:function(){return h.mixin(this.inherited(arguments),
d)},normalizeCtorArgs:function(c,a,b,d){if(c&&"string"!==typeof c&&null==c.imageData)return c;var e={};c&&(e.url=c);a&&(e.outline=a);null!=b&&(e.width=b);null!=d&&(e.height=d);return e},_widthReader:m.pt2px,_heightReader:m.pt2px,xoffset:0,_xoffsetReader:m.pt2px,yoffset:0,_yoffsetReader:m.pt2px,_urlGetter:function(){return this.source?this.source.url:void 0},_urlSetter:function(c){var a;c&&0===c.indexOf("data:")?(a=c.substring(5,c.indexOf(";")),this.source={value:c,contentType:a,imageData:c.substring(13+
a.length)}):this.source={url:c};return c},_sourceReader:function(c,a){return a.imageData?{url:a.url,contentType:a.contentType,imageData:a.imageData}:{url:a.url}},toJSON:function(){var c=this.source,a=this.url,b=c&&c.imageData,c=c&&c.contentType;if(h.isString(a)&&(0===a.indexOf("/")||0===a.indexOf("//")||0===a.indexOf("./")||0===a.indexOf("../")))a=g.getAbsoluteUrl(a);var d=m.px2pt(this.width),d=isNaN(d)?void 0:d,e=m.px2pt(this.height),e=isNaN(e)?void 0:e,u=m.px2pt(this.xoffset),u=isNaN(u)?void 0:
u,q=m.px2pt(this.yoffset),q=isNaN(q)?void 0:q;return l.fixJson(h.mixin(this.inherited(arguments),{type:"esriPFS",url:a,imageData:b,contentType:c,width:d,height:e,xoffset:u,yoffset:q,xscale:this.xscale,yscale:this.yscale}))}});b.defaultProps=d;return b})},"dojo/_base/Color":function(){define(["./kernel","./lang","./array","./config"],function(b,h,l,m){var g=b.Color=function(b){b&&this.setColor(b)};g.named={black:[0,0,0],silver:[192,192,192],gray:[128,128,128],white:[255,255,255],maroon:[128,0,0],red:[255,
0,0],purple:[128,0,128],fuchsia:[255,0,255],green:[0,128,0],lime:[0,255,0],olive:[128,128,0],yellow:[255,255,0],navy:[0,0,128],blue:[0,0,255],teal:[0,128,128],aqua:[0,255,255],transparent:m.transparentColor||[0,0,0,0]};h.extend(g,{r:255,g:255,b:255,a:1,_set:function(b,d,c,a){this.r=b;this.g=d;this.b=c;this.a=a},setColor:function(b){h.isString(b)?g.fromString(b,this):h.isArray(b)?g.fromArray(b,this):(this._set(b.r,b.g,b.b,b.a),b instanceof g||this.sanitize());return this},sanitize:function(){return this},
toRgb:function(){return[this.r,this.g,this.b]},toRgba:function(){return[this.r,this.g,this.b,this.a]},toHex:function(){return"#"+l.map(["r","g","b"],function(b){b=this[b].toString(16);return 2>b.length?"0"+b:b},this).join("")},toCss:function(b){var d=this.r+", "+this.g+", "+this.b;return(b?"rgba("+d+", "+this.a:"rgb("+d)+")"},toString:function(){return this.toCss(!0)}});g.blendColors=b.blendColors=function(b,d,c,a){var k=a||new g;l.forEach(["r","g","b","a"],function(a){k[a]=b[a]+(d[a]-b[a])*c;"a"!=
a&&(k[a]=Math.round(k[a]))});return k.sanitize()};g.fromRgb=b.colorFromRgb=function(b,d){var c=b.toLowerCase().match(/^rgba?\(([\s\.,0-9]+)\)/);return c&&g.fromArray(c[1].split(/\s*,\s*/),d)};g.fromHex=b.colorFromHex=function(b,d){var c=d||new g,a=4==b.length?4:8,k=(1<<a)-1;b=Number("0x"+b.substr(1));if(isNaN(b))return null;l.forEach(["b","g","r"],function(d){var n=b&k;b>>=a;c[d]=4==a?17*n:n});c.a=1;return c};g.fromArray=b.colorFromArray=function(b,d){var c=d||new g;c._set(Number(b[0]),Number(b[1]),
Number(b[2]),Number(b[3]));isNaN(c.a)&&(c.a=1);return c.sanitize()};g.fromString=b.colorFromString=function(b,d){var c=g.named[b];return c&&g.fromArray(c,d)||g.fromRgb(b,d)||g.fromHex(b,d)};return g})},"esri/layers/mixins/ArcGISCachedService":function(){define("../../core/declare dojo/_base/lang dojo/io-query ../../core/JSONSupport ../../core/urlUtils ../support/TileInfo ../support/TileMap".split(" "),function(b,h,l,m,g,e,d){return b(m,{declaredClass:"esri.layers.mixins.ArcGISCachedService",classMetadata:{computed:{supportsBlankTile:["version"]},
reader:{add:["tileMap"],exclude:["minScale","maxScale"]}},resampling:!0,resamplingTolerance:3,supportsBlankTile:!1,_supportsBlankTileGetter:function(){return 10.2<=this.version},tileInfo:null,_tileInfoReader:function(c,a){var b=a.minScale?a.minScale:Infinity,d=a.maxScale?a.maxScale:-Infinity;return c?(c.lods=c.lods.filter(function(a){return a.scale<=b&&a.scale>=d}),e.fromJSON(c)):null},tileMap:null,_tileMapReader:function(c,a){return a.capabilities&&-1<a.capabilities.indexOf("Tilemap")?new d({layer:this}):
null},refreshTimestamp:null,refresh:function(){this.refreshTimestamp=Date.now();this.inherited(arguments)},getTileUrl:function(c,a,b){var d=h.mixin({},this.parsedUrl.query,{token:this.token,blankTile:!this.tileMap&&this.resampling&&this.supportsBlankTile?!1:null,_ts:this.refreshTimestamp});c=this.parsedUrl.path+"/tile/"+c+"/"+a+"/"+b;d=l.objectToQuery(d);return g.addProxy(c+(d?"?"+d:""))}})})},"dojo/Deferred":function(){define(["./has","./_base/lang","./errors/CancelError","./promise/Promise","./promise/instrumentation"],
function(b,h,l,m,g){var e=Object.freeze||function(){},d=function(a,b,d,e,k){2===b&&(p.instrumentRejected&&0===a.length)&&p.instrumentRejected(d,!1,e,k);for(k=0;k<a.length;k++)c(a[k],b,d,e)},c=function(c,b,d,e){var g=c[b],l=c.deferred;if(g)try{var h=g(d);if(0===b)"undefined"!==typeof h&&k(l,b,h);else{if(h&&"function"===typeof h.then){c.cancel=h.cancel;h.then(a(l,1),a(l,2),a(l,0));return}k(l,1,h)}}catch(m){k(l,2,m)}else k(l,b,d);2===b&&p.instrumentRejected&&p.instrumentRejected(d,!!g,e,l.promise)},
a=function(a,c){return function(b){k(a,c,b)}},k=function(a,c,b){if(!a.isCanceled())switch(c){case 0:a.progress(b);break;case 1:a.resolve(b);break;case 2:a.reject(b)}},p=function(a){var b=this.promise=new m,k=this,g,h,v,x=!1,w=[];Error.captureStackTrace&&(Error.captureStackTrace(k,p),Error.captureStackTrace(b,p));this.isResolved=b.isResolved=function(){return 1===g};this.isRejected=b.isRejected=function(){return 2===g};this.isFulfilled=b.isFulfilled=function(){return!!g};this.isCanceled=b.isCanceled=
function(){return x};this.progress=function(a,c){if(g){if(!0===c)throw Error("This deferred has already been fulfilled.");return b}d(w,0,a,null,k);return b};this.resolve=function(a,c){if(g){if(!0===c)throw Error("This deferred has already been fulfilled.");return b}d(w,g=1,h=a,null,k);w=null;return b};var f=this.reject=function(a,c){if(g){if(!0===c)throw Error("This deferred has already been fulfilled.");return b}Error.captureStackTrace&&Error.captureStackTrace(v={},f);d(w,g=2,h=a,v,k);w=null;return b};
this.then=b.then=function(a,f,d){var e=[d,a,f];e.cancel=b.cancel;e.deferred=new p(function(a){return e.cancel&&e.cancel(a)});g&&!w?c(e,g,h,v):w.push(e);return e.deferred.promise};this.cancel=b.cancel=function(c,b){if(g){if(!0===b)throw Error("This deferred has already been fulfilled.");}else{if(a){var d=a(c);c="undefined"===typeof d?c:d}x=!0;if(g){if(2===g&&h===c)return c}else return"undefined"===typeof c&&(c=new l),f(c),c}};e(b)};p.prototype.toString=function(){return"[object Deferred]"};g&&g(p);
return p})},"esri/views/3d/navigation/spherical/actions/PanSpherical":function(){define("./ActionSpherical ../../mixins/PanMixin ../../../lib/glMatrix ../../../support/earthUtils ../../../support/mathUtils ../../../webgl-engine/lib/Util ../../ContinuousAction ../../NavigationConstants".split(" "),function(b,h,l,m,g,e,d,c){var a=l.vec2d,k=l.vec3d,p=l.vec4d,n=l.mat4d,u=k.create(),q=k.create(),t=k.create(),r=k.create(),v=k.create(),x=k.create(),w=n.create(),f=c.Pan.Mode,s=c.Pan.Direction,z=c.Pan.Vertical,
y=c.Pan.Momentum;return b.createSubclass([h],{declaredClass:"esri.views.3d.navigation.spherical.actions.PanSpherical",constructor:function(){this._lastPanActionPtr=this._panMode=0;this._lastPanActions=[];this._plane=p.create();this.continuous=new d;for(var c=0;c<y.BUFFER_SIZE;c++)this._lastPanActions[c]={point:k.create(),pointScreen:a.create(),time:0}},begin:function(c,b){this.inherited(arguments);this.pickPointInScreen(c,this._navPickPoint)?this._navSphereRadius=k.length(this._navPickPoint):(this._navSphereRadius=
k.length(this.targetCamera.center),this._navSphereRadius<0.9*m.earthRadius&&(this._navSphereRadius=m.earthRadius),this.createPickRay(c,c,this.currentCamera.viewMatrix,u,q),k.subtract(q,this.currentCamera.eye),this.intersectManifold(this.currentCamera.eye,q,this._navSphereRadius-m.earthRadius,this._navPickPoint)||this.closestPointOnSphereSilhouette(this.currentCamera.eye,u,this._navSphereRadius,this._navPickPoint));var d=!1;this.renderCoordsHelper.getAltitude(this.currentCamera.eye)<z.ELEVATION_THRESHOLD&&
(this._navSphereRadius>k.length(this.currentCamera.eye)?d=!0:(k.normalize(k.subtract(this.targetCamera.eye,this._navPickPoint,t)),d=Math.abs(0.5*Math.PI-Math.acos(k.dot(this._navPickPoint,t)/k.length(this._navPickPoint)))<z.ANGLE_THRESHOLD));d?(this._panMode=f.VERTICAL,k.normalize(k.subtract(this.targetCamera.eye,this.targetCamera.center,t)),this.updatePlane(this._navPickPoint,t)):(this._panMode=f.HORIZONTAL,this._addToLastPanActions(void 0===b?e.performance.now():b,this._navPickPoint,c));a.set(c,
this._dragLastPoint);a.set(c,this._dragBeginPoint);this._mouseDownCamera.copyFrom(this.targetCamera)},update:function(c,b){if(this._panMode===f.HORIZONTAL){if(0>=this._navSphereRadius)return;this.createPickRay(c,this._dragBeginPoint,this._mouseDownCamera.viewMatrix,u,q);k.subtract(q,this._mouseDownCamera.eye);this.intersectManifold(this._mouseDownCamera.eye,q,this._navSphereRadius-m.earthRadius,this._targetOnSphere)||this.closestPointOnSphereSilhouette(this._mouseDownCamera.eye,u,this._navSphereRadius,
this._targetOnSphere);this.rotateCameraWithPointsOnSphere(this._navPickPoint,this._targetOnSphere,this._mouseDownCamera,this.targetCamera,this._navSphereRadius);this._addToLastPanActions(void 0===b?e.performance.now():b,this._targetOnSphere,c)}else{this.createPickRay(this._dragLastPoint,this._dragBeginPoint,this.currentCamera.viewMatrix,u,q);k.subtract(q,u);if(!e.rayPlane(u,q,this._plane,r))return;this.createPickRay(c,this._dragBeginPoint,this.currentCamera.viewMatrix,u,q);k.subtract(q,u);if(!e.rayPlane(u,
q,this._plane,v))return;k.subtract(v,r);k.subtract(this.targetCamera.eye,v);k.subtract(this.targetCamera.center,v);a.set(c,this._dragLastPoint)}this.constrainTargetEyeByElevationAndMoveLookAt();a.set(c,this._dragLastPoint);this.fixTargetUpVector();this.targetAndCurrentChanged();this.inherited(arguments)},end:function(a,c){this._panMode===f.HORIZONTAL&&this._initiateMomentumPanning(a,c);this._navSphereRadius=0;this.inherited(arguments)},_initiateMomentumPanning:function(c,b){if(0<a.dist(this._dragLastPoint,
c)&&0<this._navSphereRadius){this.update(c,b);var f=this._lastPanActionPtr;do if(f=(f-1+y.BUFFER_SIZE)%y.BUFFER_SIZE,this._lastPanActions[this._lastPanActionPtr].time-this._lastPanActions[f].time>1E3*y.INPUT_FILTER)break;while(this._lastPanActionPtr!==f);f++;f%=y.BUFFER_SIZE;f===this._lastPanActionPtr&&(f=(this._lastPanActionPtr-1+y.BUFFER_SIZE)%y.BUFFER_SIZE);var d=0.0010*(this._lastPanActions[this._lastPanActionPtr].time-this._lastPanActions[f].time);if(0<d){var e=this.rotationFromPointsOnSphere(this._lastPanActions[f].point,
this._lastPanActions[this._lastPanActionPtr].point,this._navSphereRadius,this.continuous.direction);this.continuous.velocity=e/d;var e=a.create(),k=a.create();this.normalizeCoordinate(this._lastPanActions[f].pointScreen,e);this.normalizeCoordinate(this._lastPanActions[this._lastPanActionPtr].pointScreen,k);f=Math.min(a.dist(e,k)/d/y.DURATION_LONG_VEL,1);this.continuous.timer=y.DURATION_SHORT+f*(y.DURATION_LONG-y.DURATION_SHORT);this.animationStarted();return!0}this.currentReachedTarget()}else this.setPoiAuto(c,
!0);return!1},beginContinuous:function(a){this.inherited(arguments);this.setCurrentToTarget();0===this.continuous.status&&k.set3(0,0,0,this.continuous.direction);if(!(this.continuous.status&a)){this.continuous.status|=a;if(a&(s.LEFT|s.RIGHT|s.FORWARD|s.BACKWARD))this._computePanAxis(a,x),k.add(this.continuous.direction,x);else{var c=this.continuous.status&(s.UP|s.DOWN);this.continuous.radiusChange=c===s.UP?1:c===s.DOWN?-1:0}this.continuous.velocity=this._computePanVelocity()}this.continuous.timer=
0},updateContinuous:function(a){if(this.continuous&&this.continuous.active){a=this.continuous.step(a);var c=0.01<k.dot(this.continuous.direction,this.continuous.direction);if(0<Math.abs(this.continuous.radiusChange)){var b=1+a*this.continuous.radiusChange;k.scale(this.targetCamera.center,b);k.scale(this.targetCamera.eye,b);this.continuous.velocity=this._computePanVelocity();c||(this.constrainTargetEyeByElevationAndMoveLookAt(),this.targetAndCurrentChanged(!0))}c&&(n.identity(w),n.rotate(w,a,this.continuous.direction),
n.multiplyVec3(w,this.targetCamera.eye),n.multiplyVec3(w,this.targetCamera.center),n.multiplyVec3(w,this.targetCamera.up),this.constrainTargetEyeByElevationAndMoveLookAt(),this.fixTargetUpVector(),this.targetAndCurrentChanged())}},endContinuous:function(a){this.continuous.status&=~a;if(0===this.continuous.status)this.continuous.stop(),this.continuous.radiusChange=0;else if(a&(s.LEFT|s.RIGHT|s.FORWARD|s.BACKWARD))this._computePanAxis(a,x),k.subtract(this.continuous.direction,x),0.01>k.length(this.continuous.direction)&&
k.set3(0,0,0,this.continuous.direction);else{var c=this.continuous.status&(s.UP|s.DOWN);this.continuous.radiusChange=c==s.UP?1:c==s.DOWN?-1:0}this.inherited(arguments)},_computePanAxis:function(a,c){k.subtract(this.targetCamera.center,this.targetCamera.eye,c);k.cross(c,this.targetCamera.up);if(a===s.LEFT||a===s.RIGHT)k.normalize(c),k.cross(c,this.targetCamera.center);(a===s.RIGHT||a===s.FORWARD)&&k.negate(c);k.normalize(c)},_computePanVelocity:function(){var a=0.5*Math.abs(k.length(this.targetCamera.eye)-
m.earthRadius),a=g.clamp(a,1,2*m.earthRadius);return g.acos(1-a*a/(2*m.earthRadius*m.earthRadius))},_addToLastPanActions:function(c,b,f){this._lastPanActionPtr=(this._lastPanActionPtr+1)%5;this._lastPanActions[this._lastPanActionPtr].time=c;k.set(b,this._lastPanActions[this._lastPanActionPtr].point);a.set(f,this._lastPanActions[this._lastPanActionPtr].pointScreen)},updatePlane:function(a,c){p.set4(c[0],c[1],c[2],-k.dot(c,a),this._plane)}})})},"esri/symbols/LabelSymbol3D":function(){define(["../core/declare",
"./Symbol3D"],function(b,h){var l=b(h,{declaredClass:"esri.symbol.LabelSymbol3D",type:"LabelSymbol3D",_allowedLayerTypes:["Text"]});l.fromJSON=function(b){var g=new l;g.read(b);return g};return l})},"esri/views/ui/DefaultUI":function(){define("../../widgets/Attribution ../../widgets/Compass ../../widgets/Logo ../../widgets/Zoom ./Component ./UI dojo/_base/lang".split(" "),function(b,h,l,m,g,e,d){return e.createSubclass({declaredClass:"esri.views.ui.DefaultUI",constructor:function(){this._handles=
[];this._addComponents=this._addComponents.bind(this);this._componentsWatcher=this._componentsWatcher.bind(this)},getDefaults:function(){return d.mixin(this.inherited(arguments),{components:["logo","attribution","zoom","compass"]})},initialize:function(){this._addComponents(this.components);this._handles.push(this.watch("components",this._componentsWatcher))},destroy:function(){this._handles.forEach(function(c){c.remove()});this._handles.length=0},_defaultPositionLookup:{attribution:"bottom-right",
logo:"bottom-right",compass:"top-left",zoom:"top-left"},_handles:null,_removeComponents:function(c){c.forEach(function(a){if(a=this.find(a))this.remove(a),a.destroy()},this)},_componentsSetter:function(c,a){return c||[]},_viewSetter:function(c,a){if(c===a)return c;this._updateViewAwareWidgets(c);return this.inherited(arguments)},resize:function(c,a){this.inherited(arguments);this._layout(c,a)},_updateViewAwareWidgets:function(c){this.components.forEach(function(a){(a=this.find(a))&&a._widget.hasOwnProperty("view")&&
a._widget.set("view",c)},this)},_layout:function(c,a){var b=this.find("attribution");b&&b._widget.set("maxWidth",0.45*c);(b=this.find("logo"))&&b._widget.set("size",25E4>c*a?"small":"medium")},_componentsWatcher:function(c,a){this._removeComponents(a);this._addComponents(c)},_addComponents:function(c){this._accessorProps.initialized&&c.forEach(function(a){this.add(this._createComponent(a),this._defaultPositionLookup[a])},this)},_createComponent:function(c){var a=this._createWidget(c);if(a)return new g({id:c,
node:a})},_createWidget:function(c){if("attribution"===c)return this._createAttribution();if("compass"===c)return this._createCompass();if("logo"===c)return this._createLogo();if("zoom"===c)return this._createZoom()},_createAttribution:function(){var c=new b({view:this.view});c.startup();return c},_createCompass:function(){var c=new h({view:this.view});c.startup();return c},_createLogo:function(){var c=new l;c.startup();return c},_createZoom:function(){var c=new m({view:this.view});c.startup();return c}})})},
"esri/Map":function(){define("dojo/_base/lang ./core/declare dojo/Deferred ./geometry/Extent ./geometry/SpatialReference ./geometry/support/webMercatorUtils ./core/Accessor ./core/Evented ./core/Promise ./LayersMixin ./BasemapMixin".split(" "),function(b,h,l,m,g,e,d,c,a,k,p){return h([d,c,a,k,p],{declaredClass:"esri.Map",classMetadata:{properties:{extent:{type:m},spatialReference:{type:g}}},constructor:function(a){this._loadPromises={};this._loadHandler=this._loadHandler.bind(this);this._loadErrorHandler=
this._loadErrorHandler.bind(this);this.watch("basemap",this._basemapWatcher.bind(this));this._loadingPromise=new l;this.addResolvingPromise(this._loadingPromise.promise)},getDefaults:function(){return b.mixin(this.inherited(arguments),{loaded:!1,visible:!0})},destroy:function(){this.emit("destroy")},_loadingPromise:null,loaded:!1,layerAdded:function(a){this._loadPromises[a.id]=a.then(this._loadHandler)},layerRemoved:function(a){var c=this._loadPromises[a.id];c&&(c.cancel(),delete this._loadPromises[a.id])},
_computeInitialState:function(){var a=this.basemap||this.layers.getItemAt(0),c=a.initialExtent||a.fullExtent,b=this.extent;if(!this.spatialReference){var d=a.spatialReference,e=b&&b.spatialReference;if(e&&!e.equals(d)&&(a.tileInfo||!a.url))e=null;this.spatialReference=(d=e||d)&&d.clone()}b&&(b=this._projectGeometry(b,d));b=b||c&&c.clone();if(!b)return"[Map] Unable to calculate initial extent";this.extent=b},_projectGeometry:function(a,c){var b=a&&a.spatialReference;c&&(b&&!c.equals(b))&&(c._canProject(b)?
c.isWebMercator()?a=e.geographicToWebMercator(a):4326===c.wkid&&(a=e.webMercatorToGeographic(a,!0)):(console.log('[Map] Cannot project geometry from spatial reference: "${from}" to: "${to}"',b.wkid||b.wkt,c.wkid||c.wkt),a=null));return a},_basemapWatcher:function(a,c){c&&this._loadPromises[c.id]&&(this._loadPromises[c.id].cancel(),delete this._loadPromises[c.id]);a&&!this.isResolved()&&(this._loadPromises[a.id]=a.then(this._loadHandler,this._loadErrorHandler),a.load())},_loadHandler:function(a){delete this._loadPromises[a.id];
if(!this.loaded&&(a===this.basemap||!this.basemap&&0===this.layers.indexOf(a)))(a=this._computeInitialState())?this.reject(Error(a)):(this.loaded=!0,this.emit("load"),this._loadingPromise.resolve(this))},_loadErrorHandler:function(a){console.error(a)}})})},"esri/views/ui/Component":function(){define(["../../core/Accessor","dojo/dom","dojo/dom-class"],function(b,h,l){return b.createSubclass({declaredClass:"esri.views.ui.Component",css:{component:"esri-component"},destroy:function(){this._widget?this._widget.destroy():
this.node=null},_widget:null,node:null,_nodeSetter:function(b,g){if(b===g)return b;this._widget=null;b&&(this._widget=b.domNode?b:null,b=b.domNode||h.byId(b),l.add(b,this.css.component));g&&l.remove(g,this.css.component);return b}})})},"dojo/dom":function(){define(["./sniff","./_base/window"],function(b,h){if(7>=b("ie"))try{document.execCommand("BackgroundImageCache",!1,!0)}catch(l){}var m={};b("ie")?m.byId=function(b,d){if("string"!=typeof b)return b;var c=d||h.doc,a=b&&c.getElementById(b);if(a&&
(a.attributes.id.value==b||a.id==b))return a;c=c.all[b];if(!c||c.nodeName)c=[c];for(var k=0;a=c[k++];)if(a.attributes&&a.attributes.id&&a.attributes.id.value==b||a.id==b)return a}:m.byId=function(b,d){return("string"==typeof b?(d||h.doc).getElementById(b):b)||null};m.isDescendant=function(b,d){try{b=m.byId(b);for(d=m.byId(d);b;){if(b==d)return!0;b=b.parentNode}}catch(c){}return!1};b.add("css-user-select",function(b,d,c){if(!c)return!1;b=c.style;d=["Khtml","O","Moz","Webkit"];c=d.length;var a="userSelect";
do if("undefined"!==typeof b[a])return a;while(c--&&(a=d[c]+"UserSelect"));return!1});var g=b("css-user-select");m.setSelectable=g?function(b,d){m.byId(b).style[g]=d?"":"none"}:function(b,d){b=m.byId(b);var c=b.getElementsByTagName("*"),a=c.length;if(d)for(b.removeAttribute("unselectable");a--;)c[a].removeAttribute("unselectable");else for(b.setAttribute("unselectable","on");a--;)c[a].setAttribute("unselectable","on")};return m})},"esri/views/3d/webgl-engine/lib/GLMaterialRep":function(){define(["./Util"],
function(b){return function(h,l){function m(a){a.updateVisibility();a.updateParameters&&a.updateParameters()}var g={},e=function(a){var c=0;this.incRefCnt=function(){++c};this.decRefCnt=function(){--c;b.assert(0<=c)};this.getRefCnt=function(){return c};this.getGLMaterial=function(){return a}};this.aquire=function(a){return d(a,0,g)};this.aquireDepthShadowMap=function(a){return d(a,1,g)};this.aquireDepth=function(a){return d(a,3,g)};this.aquireNormal=function(a){return d(a,2,g)};var d=function(a,c,
b){var d=a.getId();1===c?d+="_depthShadowMap":2===c?d+="_normal":3===c&&(d+="_depth");var g=b[d];void 0===g?(a=(g=a.getGLMaterials()[c])?new g(a,l,h):void 0,g=new e(a),b[d]=g):a=g.getGLMaterial();g.incRefCnt();if(a)if(b=a,b.getAllPrograms){b=b.getAllPrograms();for(d=0;d<b.length;d++)l.increaseRefCount(b[d])}else l.increaseRefCount(b.getProgram());return a};this.release=function(a){c(a)};this.releaseDepth=function(a){c(a+"_depth")};this.releaseNormal=function(a){c(a+"_normal")};var c=function(a){var c=
g[a];c.decRefCnt();if(0===c.getRefCnt()){if(c=c.getGLMaterial()){if(c.getAllPrograms)for(var b=c.getAllPrograms(),d=0;d<b.length;d++)l.decreaseRefCount(b[d]);else l.decreaseRefCount(c.getProgram());void 0!==c.dispose&&c.dispose()}delete g[a]}};this.updateMaterialParameters=function(a){var c=g[a];c&&c.getGLMaterial()&&m(c.getGLMaterial());(c=g[a+"_depth"])&&c.getGLMaterial()&&m(c.getGLMaterial());(a=g[a+"_normal"])&&a.getGLMaterial()&&m(a.getGLMaterial())}}})},"esri/widgets/Basemap":function(){define("../core/declare dojo/_base/array dojo/_base/lang dojo/has ../kernel ../request ./BasemapLayer".split(" "),
function(b,h,l,m,g,e,d){return b(null,{declaredClass:"esri.widgets.Basemap",id:null,title:"",thumbnailUrl:null,layers:null,itemId:null,basemapGallery:null,constructor:function(c,a){c=c||{};!c.layers&&!c.itemId&&console.error("esri.widgets.Basemap: unable to find the 'layers' property in parameters");this.id=c.id;this.itemId=c.itemId;this.layers=c.layers;this.title=c.title||"";this.thumbnailUrl=c.thumbnailUrl;this.basemapGallery=a},getLayers:function(c){if(this.layers)return this.layers;if(this.itemId)return c=
e({url:(c||g.dijit._arcgisUrl)+"/content/items/"+this.itemId+"/data",content:{f:"json"},callbackParamName:"callback",error:l.hitch(this,function(a,c){this.basemapGallery?this.basemapGallery.emitError("esri.widgets.Basemap: could not access basemap item."):console.error("esri.widgets.Basemap: could not access basemap item.")})}),c.then(l.hitch(this,function(a,c){if(a.baseMap)return this.layers=[],h.forEach(a.baseMap.baseMapLayers,function(a){this.layers.push(new d(a))},this),this.layers;this.basemapGallery?
this.basemapGallery.emitError("esri.widgets.Basemap: could not access basemap item."):console.error("esri.widgets.Basemap: could not access basemap item.");return[]})),c}})})},"esri/views/3d/layers/TiledLayerView3D":function(){define(["../../../core/declare","../../layers/LayerView","../terrain/TilingScheme","./support/LayerViewUpdatingPercentage"],function(b,h,l,m){return b([h,m],{declaredClass:"esri.views.3d.layers.TiledLayerView3D",_numUpdating:0,_maxNumUpdating:0,initialize:function(){this._minDataLevel=
0;this._maxDataLevel=Infinity;this.addResolvingPromise(this.layer.then(function(){var b=l.checkUnsupported(this.layer.tileInfo);if(b)throw b;this._minDataLevel=Infinity;this._maxDataLevel=0;this.layer.tileInfo.lods.forEach(function(b){this._minDataLevel=Math.min(b.level,this._minDataLevel);this._maxDataLevel=Math.max(b.level,this._maxDataLevel)}.bind(this))}.bind(this)))},getTileUrl:function(b,e,d){return this.layer.getTileUrl(b,e,d)},isTransparent:function(){return this.layer.tileInfo&&"JPEG"!==
this.layer.tileInfo.format}})})},"dojo/window":function(){define("./_base/lang ./sniff ./_base/window ./dom ./dom-geometry ./dom-style ./dom-construct".split(" "),function(b,h,l,m,g,e,d){h.add("rtl-adjust-position-for-verticalScrollBar",function(a,c){var b=l.body(c),e=d.create("div",{style:{overflow:"scroll",overflowX:"visible",direction:"rtl",visibility:"hidden",position:"absolute",left:"0",top:"0",width:"64px",height:"64px"}},b,"last"),h=d.create("div",{style:{overflow:"hidden",direction:"ltr"}},
e,"last"),q=0!=g.position(h).x;e.removeChild(h);b.removeChild(e);return q});h.add("position-fixed-support",function(a,c){var b=l.body(c),e=d.create("span",{style:{visibility:"hidden",position:"fixed",left:"1px",top:"1px"}},b,"last"),h=d.create("span",{style:{position:"fixed",left:"0",top:"0"}},e,"last"),q=g.position(h).x!=g.position(e).x;e.removeChild(h);b.removeChild(e);return q});var c={getBox:function(a){a=a||l.doc;var b="BackCompat"==a.compatMode?l.body(a):a.documentElement,d=g.docScroll(a);if(h("touch")){var e=
c.get(a);a=e.innerWidth||b.clientWidth;b=e.innerHeight||b.clientHeight}else a=b.clientWidth,b=b.clientHeight;return{l:d.x,t:d.y,w:a,h:b}},get:function(a){if(h("ie")&&c!==document.parentWindow){a.parentWindow.execScript("document._parentWindow \x3d window;","Javascript");var b=a._parentWindow;a._parentWindow=null;return b}return a.parentWindow||a.defaultView},scrollIntoView:function(a,c){try{a=m.byId(a);var b=a.ownerDocument||l.doc,d=l.body(b),u=b.documentElement||d.parentNode,q=h("ie"),t=h("webkit");
if(!(a==d||a==u))if(!h("mozilla")&&(!q&&!t&&!h("opera")&&!h("trident"))&&"scrollIntoView"in a)a.scrollIntoView(!1);else{var r="BackCompat"==b.compatMode,v=Math.min(d.clientWidth||u.clientWidth,u.clientWidth||d.clientWidth),x=Math.min(d.clientHeight||u.clientHeight,u.clientHeight||d.clientHeight),b=t||r?d:u,w=c||g.position(a),f=a.parentNode,t=function(a){return 6>=q||7==q&&r?!1:h("position-fixed-support")&&"fixed"==e.get(a,"position").toLowerCase()},s=this,z=function(a,c,b){"BODY"==a.tagName||"HTML"==
a.tagName?s.get(a.ownerDocument).scrollBy(c,b):(c&&(a.scrollLeft+=c),b&&(a.scrollTop+=b))};if(!t(a))for(;f;){f==d&&(f=b);var y=g.position(f),A=t(f),B="rtl"==e.getComputedStyle(f).direction.toLowerCase();if(f==b){y.w=v;y.h=x;if(b==u&&(q||h("trident"))&&B)y.x+=b.offsetWidth-y.w;if(0>y.x||!q||9<=q||h("trident"))y.x=0;if(0>y.y||!q||9<=q||h("trident"))y.y=0}else{var E=g.getPadBorderExtents(f);y.w-=E.w;y.h-=E.h;y.x+=E.l;y.y+=E.t;var F=f.clientWidth,G=y.w-F;0<F&&0<G&&(B&&h("rtl-adjust-position-for-verticalScrollBar")&&
(y.x+=G),y.w=F);F=f.clientHeight;G=y.h-F;0<F&&0<G&&(y.h=F)}A&&(0>y.y&&(y.h+=y.y,y.y=0),0>y.x&&(y.w+=y.x,y.x=0),y.y+y.h>x&&(y.h=x-y.y),y.x+y.w>v&&(y.w=v-y.x));var Q=w.x-y.x,M=w.y-y.y,T=Q+w.w-y.w,K=M+w.h-y.h,C,D;if(0<T*Q&&(f.scrollLeft||f==b||f.scrollWidth>f.offsetHeight)){C=Math[0>Q?"max":"min"](Q,T);if(B&&(8==q&&!r||9<=q||h("trident")))C=-C;D=f.scrollLeft;z(f,C,0);C=f.scrollLeft-D;w.x-=C}if(0<K*M&&(f.scrollTop||f==b||f.scrollHeight>f.offsetHeight))C=Math.ceil(Math[0>M?"max":"min"](M,K)),D=f.scrollTop,
z(f,0,C),C=f.scrollTop-D,w.y-=C;f=f!=b&&!A&&f.parentNode}}}catch(L){console.error("scrollIntoView: "+L),a.scrollIntoView(!1)}}};b.setObject("dojo.window",c);return c})},"esri/views/3d/navigation/NavigationConstants":function(){define([],function(){return{Pan:{Direction:{LEFT:1,RIGHT:2,FORWARD:4,BACKWARD:8,UP:16,DOWN:32},Mode:{HORIZONTAL:0,VERTICAL:1},Momentum:{DURATION_SHORT:1,DURATION_LONG:3,DURATION_LONG_VEL:8,INPUT_FILTER:0.2,BUFFER_SIZE:5},Vertical:{ELEVATION_THRESHOLD:3E4,ANGLE_THRESHOLD:8/180*
Math.PI}},Rotate:{PivotPoint:{POI:1,EYE:2}}}})},"esri/views/3d/webgl-engine/lib/ShadowMap":function(){define("./GLVBO ./GLSLProgram ./VertexBufferLayout ./GLUtil ./Camera ./Util ./gl-matrix".split(" "),function(b,h,l,m,g,e,d){var c=d.vec2d,a=d.vec3d,k=d.vec4d,p=d.mat3d,n=d.mat4d,u=d.mat4;return function(d,t){function r(c,b){a.set3(c[b],c[b+3],c[b+6],ia);return ia}var v,x=4096,w,f,s=1,z=2,y=[0,0,0,0,0],A=function(){this.camera=new g;this.lightMat=n.create()},B=[],E,F,G;for(E=0;4>E;++E)B[E]=new A;this.getIsSupported=
function(){return t.getExtension("OES_standard_derivatives")};this.setTextureResolution=function(a){x=a};this.getTextureResolution=function(){return x};this.setMaxNumCascades=function(a){z=e.clamp(Math.floor(a),1,4)};this.getMaxNumCascades=function(){return z};this.setEnableState=function(a){e.assert(a!==this.getEnableState());a?this.enable():this.disable()};this.getEnableState=function(){return void 0!==v};this.enable=function(){e.assert(!this.getEnableState());e.assert(this.getIsSupported(),"Shadow maps not supported");
v=t.createTexture();t.bindTexture(t.TEXTURE_2D,v);t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST);t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST);t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE);t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE);t.texImage2D(t.TEXTURE_2D,0,t.RGBA,x,x,0,t.RGBA,t.UNSIGNED_BYTE,null);w=t.createRenderbuffer();t.bindRenderbuffer(t.RENDERBUFFER,w);t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_COMPONENT16,x,x);f=t.createFramebuffer();
t.bindFramebuffer(t.FRAMEBUFFER,f);t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,v,0);t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,w);m.checkFramebufferStatus(t.FRAMEBUFFER,t);t.bindRenderbuffer(t.RENDERBUFFER,null);t.bindFramebuffer(t.FRAMEBUFFER,null)};this.disable=function(){e.assert(this.getEnableState());t.deleteFramebuffer(f);t.deleteRenderbuffer(w);t.deleteTexture(v);v=w=f=void 0};var Q=n.create(),M=n.create(),T=k.create(),K=Array(8);for(E=
0;8>E;++E)K[E]=k.create();var C=a.create(),D=a.create(),L=c.create(),W=c.create(),ca=c.create(),V=c.create(),R=c.create(),N=n.create(),H=a.create();this.prepare=function(b,d,g,p,l){e.assert(this.getEnableState());n.multiply(b.projectionMatrix,b.viewMatrix,Q);var h=l[0],q=l[1];2>h&&(h=2);2>q&&(q=2);h>=q&&(h=2,q=4);s=Math.min(1+Math.floor(e.logWithBase(q/h,4)),z);g=Math.pow(q/h,1/s);for(l=0;l<s+1;++l)y[l]=h*Math.pow(g,l);n.inverse(Q,M);n.lookAt([0,0,0],[-d[0],-d[1],-d[2]],[0,1,0],N);g=b.viewMatrix;
b=b.projectionMatrix;for(l=0;l<s;++l){p=B[l];h=-y[l];q=-y[l+1];h=(b[10]*h+b[14])/Math.abs(b[11]*h+b[15]);q=(b[10]*q+b[14])/Math.abs(b[11]*q+b[15]);e.assert(h<q);for(F=0;8>F;++F){k.set4(0===F%4||3==F%4?-1:1,0===F%4||1==F%4?-1:1,4>F?h:q,1,T);n.multiplyVec4(M,T,K[F]);for(G=0;3>G;++G)K[F][G]/=K[F][3]}a.negate(K[0],H);n.translate(N,H,p.camera.viewMatrix);for(F=0;8>F;++F)n.multiplyVec3(p.camera.viewMatrix,K[F]);a.set(K[0],C);a.set(K[0],D);for(F=1;8>F;++F)for(G=0;3>G;++G)C[G]=Math.min(C[G],K[F][G]),D[G]=
Math.max(D[G],K[F][G]);C[2]-=200;D[2]+=200;p.camera.near=-D[2];p.camera.far=-C[2];h=1/K[0][3];q=1/K[4][3];e.assert(h<q);var m=h+Math.sqrt(h*q),u=Math.sin(Math.acos(g[2]*d[0]+g[6]*d[1]+g[10]*d[2])),m=m/u,h=K,v=m,w=u,u=L,E=W,A=ca,S=V,m=R;c.set2(0,0,ba);for(var J=void 0,J=0;4>J;++J)c.add(ba,h[J],ba);c.scale(ba,0.25);c.set2(0,0,X);for(J=4;8>J;++J)c.add(X,h[J],X);c.scale(X,0.25);c.lerp(h[4],h[5],0.5,$[0]);c.lerp(h[5],h[6],0.5,$[1]);c.lerp(h[6],h[7],0.5,$[2]);c.lerp(h[7],h[4],0.5,$[3]);for(var U=0,I=c.dist2($[0],
ba),J=1;4>J;++J){var O=c.dist2($[J],ba);O<I&&(I=O,U=J)}c.subtract($[U],h[U+4],P);J=P[0];P[0]=-P[1];P[1]=J;c.subtract(X,ba,aa);c.lerp(P,aa,w);c.normalize(P);U=w=void 0;w=U=c.dot(c.subtract(h[0],ba,da),P);for(J=1;8>J;++J)I=c.dot(c.subtract(h[J],ba,da),P),I<w?w=I:I>U&&(U=I);c.set(ba,u);c.scale(P,w-v,da);c.add(u,da,u);for(var O=-1,za=1,J=v=I=0;8>J;++J){c.subtract(h[J],u,Y);c.normalize(Y);var ia=P[0]*Y[1]-P[1]*Y[0];0<ia?ia>O&&(O=ia,I=J):ia<za&&(za=ia,v=J)}e.verify(0<O,"leftArea");e.verify(0>za,"rightArea");
c.scale(P,w,fa);c.add(fa,ba,fa);c.scale(P,U,ga);c.add(ga,ba,ga);ea[0]=-P[1];ea[1]=P[0];E=e.rayRay2D(u,h[v],ga,c.add(ga,ea,da),1,E);A=e.rayRay2D(u,h[I],ga,da,1,A);S=e.rayRay2D(u,h[I],fa,c.add(fa,ea,da),1,S);h=e.rayRay2D(u,h[v],fa,da,1,m);e.verify(E,"rayRay");e.verify(A,"rayRay");e.verify(S,"rayRay");e.verify(h,"rayRay");A=L;h=W;u=V;S=R;m=p.camera.projectionMatrix;c.scale(c.subtract(u,S,ja),0.5);Z[0]=ja[0];Z[1]=ja[1];Z[2]=0;Z[3]=ja[1];Z[4]=-ja[0];Z[5]=0;Z[6]=ja[0]*ja[0]+ja[1]*ja[1];Z[7]=ja[0]*ja[1]-
ja[1]*ja[0];Z[8]=1;Z[6]=-c.dot(r(Z,0),A);Z[7]=-c.dot(r(Z,1),A);A=c.dot(r(Z,0),u)+Z[6];E=c.dot(r(Z,1),u)+Z[7];J=c.dot(r(Z,0),S)+Z[6];S=c.dot(r(Z,1),S)+Z[7];A=-(A+J)/(E+S);Z[0]+=Z[1]*A;Z[3]+=Z[4]*A;Z[6]+=Z[7]*A;A=1/(c.dot(r(Z,0),u)+Z[6]);E=1/(c.dot(r(Z,1),u)+Z[7]);Z[0]*=A;Z[3]*=A;Z[6]*=A;Z[1]*=E;Z[4]*=E;Z[7]*=E;Z[2]=Z[1];Z[5]=Z[4];Z[8]=Z[7];Z[7]+=1;A=c.dot(r(Z,1),h)+Z[7];E=c.dot(r(Z,2),h)+Z[8];J=c.dot(r(Z,1),u)+Z[7];S=c.dot(r(Z,2),u)+Z[8];A=-0.5*(A/E+J/S);Z[1]+=Z[2]*A;Z[4]+=Z[5]*A;Z[7]+=Z[8]*A;A=c.dot(r(Z,
1),h)+Z[7];E=c.dot(r(Z,2),h)+Z[8];J=-E/A;Z[1]*=J;Z[4]*=J;Z[7]*=J;m[0]=Z[0];m[1]=Z[1];m[2]=0;m[3]=Z[2];m[4]=Z[3];m[5]=Z[4];m[6]=0;m[7]=Z[5];m[8]=0;m[9]=0;m[10]=1;m[11]=0;m[12]=Z[6];m[13]=Z[7];m[14]=0;m[15]=Z[8];p.camera.projectionMatrix[10]=2/(C[2]-D[2]);p.camera.projectionMatrix[14]=-(C[2]+D[2])/(C[2]-D[2]);n.multiply(p.camera.projectionMatrix,p.camera.viewMatrix,p.lightMat);h=x/2;p.camera.viewport[0]=0===l%2?0:h;p.camera.viewport[1]=0===Math.floor(l/2)?0:h;p.camera.viewport[2]=h;p.camera.viewport[3]=
h}y[s]=100*q;t.bindFramebuffer(t.FRAMEBUFFER,f);t.clearColor(1,1,1,1);t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT)};var O=[];this.getCascades=function(){for(var a=0;a<s;++a)O[a]=B[a];O.length=s;return O};this.finish=function(a){e.assert(this.getEnableState());h.unuse(t);t.bindFramebuffer(t.FRAMEBUFFER,a)};this.bind=function(a){var c=this.getEnableState();t.activeTexture(t.TEXTURE7);t.bindTexture(t.TEXTURE_2D,c?v:null);t.activeTexture(t.TEXTURE0);a.use();a.uniform1i("depthTex",7);a.uniform1f("depthHalfPixelSz",
c?0.5/x:-1);a.uniform1i("shadowMapNum",s);a.uniform4f("shadowMapDistance",y[0],y[1],y[2],y[3])};this.bindAll=function(a){a=a.getProgramsUsingUniform("shadowMapDistance");for(var c=0;c<a.length;c++)this.bind(a[c])};var I=u.create(),J=new Float32Array(64);this.bindView=function(a,c){if(this.getEnableState()){var b;u.translate(B[0].lightMat,c,I);for(b=0;16>b;++b)J[b]=I[b];u.translate(B[1].lightMat,c,I);for(b=0;16>b;++b)J[16+b]=I[b];u.translate(B[2].lightMat,c,I);for(b=0;16>b;++b)J[32+b]=I[b];u.translate(B[3].lightMat,
c,I);for(b=0;16>b;++b)J[48+b]=I[b];a.uniformMatrix4fv("shadowMapMatrix",J)}};A=new Float32Array(16);A[0]=0;A[1]=0;A[2]=0;A[3]=0;A[4]=256;A[5]=0;A[6]=1;A[7]=0;A[8]=0;A[9]=256;A[10]=0;A[11]=1;A[12]=256;A[13]=256;A[14]=1;A[15]=1;var S=l.Defaults.Pos2Tex,U=new b(A,S,t);this.drawDebugQuad=function(a){e.assert(this.getEnableState());var c=d.get("showDepth");t.disable(t.DEPTH_TEST);c.use();c.uniformMatrix4fv("proj",a);c.uniform1i("depthTex",0);t.bindTexture(t.TEXTURE_2D,v);S.enableVertexAttribArrays(t,c);
U.bind();U.setPointers(c);t.drawArrays(t.TRIANGLE_STRIP,0,U.getNum());t.bindBuffer(t.ARRAY_BUFFER,null);S.disableVertexAttribArrays(t,c);h.unuse(t);t.enable(t.DEPTH_TEST)};var ba=c.create(),X=c.create(),$=[c.create(),c.create(),c.create(),c.create()],P=c.create(),aa=c.create(),da=c.create(),Y=c.create(),fa=c.create(),ga=c.create(),ea=c.create(),ia=a.create(),ja=c.create(),Z=p.create()}})},"dojo/_base/lang":function(){define(["./kernel","../has","../sniff"],function(b,h){h.add("bug-for-in-skips-shadowed",
function(){for(var a in{toString:1})return 0;return 1});var l=h("bug-for-in-skips-shadowed")?"hasOwnProperty valueOf isPrototypeOf propertyIsEnumerable toLocaleString toString constructor".split(" "):[],m=l.length,g=function(a,c,d){d||(d=a[0]&&b.scopeMap[a[0]]?b.scopeMap[a.shift()][1]:b.global);try{for(var e=0;e<a.length;e++){var g=a[e];if(!(g in d))if(c)d[g]={};else return;d=d[g]}return d}catch(l){}},e=Object.prototype.toString,d=function(a,c,b){return(b||[]).concat(Array.prototype.slice.call(a,
c||0))},c=/\{([^\}]+)\}/g,a={_extraNames:l,_mixin:function(a,c,b){var d,e,g,r={};for(d in c)if(e=c[d],!(d in a)||a[d]!==e&&(!(d in r)||r[d]!==e))a[d]=b?b(e):e;if(h("bug-for-in-skips-shadowed")&&c)for(g=0;g<m;++g)if(d=l[g],e=c[d],!(d in a)||a[d]!==e&&(!(d in r)||r[d]!==e))a[d]=b?b(e):e;return a},mixin:function(c,b){c||(c={});for(var d=1,e=arguments.length;d<e;d++)a._mixin(c,arguments[d]);return c},setObject:function(a,c,b){var d=a.split(".");a=d.pop();return(b=g(d,!0,b))&&a?b[a]=c:void 0},getObject:function(a,
c,b){return g(a?a.split("."):[],c,b)},exists:function(c,b){return void 0!==a.getObject(c,!1,b)},isString:function(a){return"string"==typeof a||a instanceof String},isArray:function(a){return a&&(a instanceof Array||"array"==typeof a)},isFunction:function(a){return"[object Function]"===e.call(a)},isObject:function(c){return void 0!==c&&(null===c||"object"==typeof c||a.isArray(c)||a.isFunction(c))},isArrayLike:function(c){return c&&void 0!==c&&!a.isString(c)&&!a.isFunction(c)&&!(c.tagName&&"form"==
c.tagName.toLowerCase())&&(a.isArray(c)||isFinite(c.length))},isAlien:function(c){return c&&!a.isFunction(c)&&/\{\s*\[native code\]\s*\}/.test(String(c))},extend:function(c,b){for(var d=1,e=arguments.length;d<e;d++)a._mixin(c.prototype,arguments[d]);return c},_hitchArgs:function(c,d){var e=a._toArray(arguments,2),g=a.isString(d);return function(){var l=a._toArray(arguments),h=g?(c||b.global)[d]:d;return h&&h.apply(c||this,e.concat(l))}},hitch:function(c,d){if(2<arguments.length)return a._hitchArgs.apply(b,
arguments);d||(d=c,c=null);if(a.isString(d)){c=c||b.global;if(!c[d])throw['lang.hitch: scope["',d,'"] is null (scope\x3d"',c,'")'].join("");return function(){return c[d].apply(c,arguments||[])}}return!c?d:function(){return d.apply(c,arguments||[])}},delegate:function(){function c(){}return function(b,d){c.prototype=b;var e=new c;c.prototype=null;d&&a._mixin(e,d);return e}}(),_toArray:h("ie")?function(){function a(c,b,d){d=d||[];for(b=b||0;b<c.length;b++)d.push(c[b]);return d}return function(c){return(c.item?
a:d).apply(this,arguments)}}():d,partial:function(c){return a.hitch.apply(b,[null].concat(a._toArray(arguments)))},clone:function(c){if(!c||"object"!=typeof c||a.isFunction(c))return c;if(c.nodeType&&"cloneNode"in c)return c.cloneNode(!0);if(c instanceof Date)return new Date(c.getTime());if(c instanceof RegExp)return RegExp(c);var b,d,e;if(a.isArray(c)){b=[];d=0;for(e=c.length;d<e;++d)d in c&&b.push(a.clone(c[d]))}else b=c.constructor?new c.constructor:{};return a._mixin(b,c,a.clone)},trim:String.prototype.trim?
function(a){return a.trim()}:function(a){return a.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},replace:function(b,d,e){return b.replace(e||c,a.isFunction(d)?d:function(c,b){return a.getObject(b,!1,d)})}};a.mixin(b,a);return a})},"dojo/sniff":function(){define(["./has"],function(b){var h=navigator,l=h.userAgent,h=h.appVersion,m=parseFloat(h);b.add("air",0<=l.indexOf("AdobeAIR"));b.add("msapp",parseFloat(l.split("MSAppHost/")[1])||void 0);b.add("khtml",0<=h.indexOf("Konqueror")?m:void 0);b.add("webkit",
parseFloat(l.split("WebKit/")[1])||void 0);b.add("chrome",parseFloat(l.split("Chrome/")[1])||void 0);b.add("safari",0<=h.indexOf("Safari")&&!b("chrome")?parseFloat(h.split("Version/")[1]):void 0);b.add("mac",0<=h.indexOf("Macintosh"));b.add("quirks","BackCompat"==document.compatMode);if(l.match(/(iPhone|iPod|iPad)/)){var g=RegExp.$1.replace(/P/,"p"),e=l.match(/OS ([\d_]+)/)?RegExp.$1:"1",e=parseFloat(e.replace(/_/,".").replace(/_/g,""));b.add(g,e);b.add("ios",e)}b.add("android",parseFloat(l.split("Android ")[1])||
void 0);b.add("bb",(0<=l.indexOf("BlackBerry")||0<=l.indexOf("BB10"))&&parseFloat(l.split("Version/")[1])||void 0);b.add("trident",parseFloat(h.split("Trident/")[1])||void 0);b.add("svg","undefined"!==typeof SVGAngle);b("webkit")||(0<=l.indexOf("Opera")&&b.add("opera",9.8<=m?parseFloat(l.split("Version/")[1])||m:m),0<=l.indexOf("Gecko")&&(!b("khtml")&&!b("webkit")&&!b("trident"))&&b.add("mozilla",m),b("mozilla")&&b.add("ff",parseFloat(l.split("Firefox/")[1]||l.split("Minefield/")[1])||void 0),document.all&&
!b("opera")&&(l=parseFloat(h.split("MSIE ")[1])||void 0,(h=document.documentMode)&&(5!=h&&Math.floor(l)!=h)&&(l=h),b.add("ie",l)),b.add("wii","undefined"!=typeof opera&&opera.wiiremote));return b})},"esri/views/3d/support/MapCoordsHelper":function(){define("dojo/Evented dojo/Deferred ../../../core/declare ../../../config ../../../tasks/support/ProjectParameters ../../../geometry/SpatialReference ../../../geometry/Point ../../../geometry/support/scaleUtils".split(" "),function(b,h,l,m,g,e,d,c){return l(b,
{mapUnitInMeters:1,spatialReference:null,constructor:function(a,b){this.spatialReference=a;this.mapUnitInMeters=c.getUnitValueForSR(this.spatialReference);this.geometryService=b||m.geometryService},toGeographic:function(a){var c=new h,b=!0,n=this.spatialReference;if(!this.geometryService)return c.reject("Must specify geometryService in esri/config"),c;if(!Array.isArray(a[0])||"number"===typeof a[0])a=[a],b=!1;a.forEach(function(c,b){c instanceof d||(a[b]=new d(c,n))});var l=new g({geometries:a,outSR:e.WGS84});
this.geometryService.project(l).then(function(a){try{a=a.map(function(a){return[a.x,a.y]}),c.resolve(b?a:a[0])}catch(d){c.reject(d)}},function(a){c.reject(a)});return c.promise},canProject:function(){return!!this.geometryService}})})},"esri/symbols/support/jsonUtils":function(){define("../SimpleMarkerSymbol ../PictureMarkerSymbol ../SimpleLineSymbol ../CartographicLineSymbol ../SimpleFillSymbol ../PictureFillSymbol ../TextSymbol ../PointSymbol3D ../LineSymbol3D ../PolygonSymbol3D ../MeshSymbol3D ../LabelSymbol3D".split(" "),
function(b,h,l,m,g,e,d,c,a,k,p,n){var u={fromJson:function(a){try{throw Error("fromJson is deprecated, use fromJSON instead");}catch(c){console.warn(c.stack)}return u.fromJSON(a)},fromJSON:function(q){var t=null;if(!q)return null;switch(q.type){case "esriSMS":t=b.fromJSON(q);break;case "esriPMS":t=h.fromJSON(q);break;case "esriTS":t=d.fromJSON(q);break;case "esriSLS":t=void 0!==q.cap?m.fromJSON(q):l.fromJSON(q);break;case "esriCLS":t=m.fromJSON(q);break;case "esriSFS":t=g.fromJSON(q);break;case "esriPFS":t=
e.fromJSON(q);break;case "PointSymbol3D":t=c.fromJSON(q);break;case "LineSymbol3D":t=a.fromJSON(q);break;case "PolygonSymbol3D":t=k.fromJSON(q);break;case "MeshSymbol3D":t=p.fromJSON(q);break;case "LabelSymbol3D":t=n.fromJSON(q)}return t}};return u})},"esri/core/JSONSupport":function(){define(["dojo/has","dojo/_base/lang","./declare","./Accessor","./accessorSupport/introspect"],function(b,h,l,m,g){Function.prototype.bind.call(console.error,console);b=l(m,{declaredClass:"esri.core.JSONSupport",read:function(b){var c=
g(this).classMetadata,a=this._accessorProps,e=c.properties,p=(c=c.reader)&&c.add,n=c&&c.exclude,l,h,c=Object.getOwnPropertyNames(b);n&&(c=c.filter(function(a){return-1===n.indexOf(a)}));p&&(c=c.concat(p||[]));for(var m=0;p=c[m];m++)l=b[p],h=e[p]&&e[p].reader,a.setDefault(p,h?h.call(this,l,b):l);return this},toJson:function(){try{throw Error("toJson is deprecated, use toJSON instead");}catch(b){console.warn(b.stack)}return this.toJSON.apply(this,arguments)}});var e=function(b){if(!b)return null;if(b.declaredClass)throw Error("JSON object is already hydrated");
var c=new this;c.read(b);return c};l.after(function(b){if(l.hasMixin(b,"esri.core.JSONSupport")){b.fromJSON=e.bind(b);b=h.getObject("_esriMeta.classMetadata",!1,b);var c=b.properties,a=h.getObject("reader.add",!1,b);h.getObject("reader.exclude",!1,b);a&&c&&a.slice().filter(function(a){return!c[a]||!c[a].reader}).forEach(function(c){a.splice(a.indexOf(c),1)},this)}});return b})},"esri/layers/support/TileInfo":function(){define("dojo/_base/lang ../../core/lang ../../geometry/SpatialReference ../../geometry/Point ./LOD ../../core/JSONSupport".split(" "),
function(b,h,l,m,g,e){var d=e.createSubclass({declaredClass:"esri.layers.support.TileInfo",classMetadata:{computed:{origin:["spatialReference"]}},lods:null,_lodsReader:function(c){return c.map(function(a){return g.fromJSON(a)})},_lodsSetter:function(c){var a=0,b=0,d=[];c&&(a=-Infinity,b=Infinity,c.forEach(function(c){d.push(c.scale);a=c.scale>a?c.scale:a;b=c.scale<b?c.scale:b},this));this.scales=d;this.minScale=a;this.maxScale=b;return c},origin:null,_originReader:function(c,a){return m.fromJSON(b.mixin({spatialReference:a.spatialReference},
c))},spatialReference:null,_spatialReferenceReader:function(c,a){return c&&new l(c)},_spatialReferenceSetter:function(c){return c?c.clone():null},zoomToScale:function(c){var a=this.scales;if(0>=c)return a[0];if(c>=a.length)return a[a.length-1];var b=Math.round(c-0.5),d=Math.round(c);return a[d]+(d-c)*(a[b]-a[d])},scaleToZoom:function(c){var a=this.scales,b=0,d=a.length-1,e,g;for(b;b<d;b++){e=a[b];g=a[b+1];if(e<=c)return b;if(g===c)return b+1;if(e>c&&g<c)return b+1-(c-g)/(e-g)}},snapScale:function(c,
a){null==a&&(a=0.95);var b=this.scaleToZoom(c);return b%Math.floor(b)>=a?this.zoomToScale(Math.ceil(b)):this.zoomToScale(Math.floor(b))},clone:function(){return d.fromJSON(this.toJSON())},toJSON:function(){return h.fixJson({rows:this.rows,cols:this.cols,dpi:this.dpi,format:this.format,compressionQuality:this.compressionQuality,origin:this.origin&&this.origin.toJSON(),spatialReference:this.spatialReference&&this.spatialReference.toJSON(),lods:this.lods&&this.lods.map(function(c){return c.toJSON()})})}});
return d})},"esri/core/watchUtils":function(){define([],function(){function b(a,c,b,d){var e=a.watch(c,function(c,e,k,g){d(c)&&b.call(a,c,e,k,g)}),g=a.get(c);d(g)&&b.call(a,g,g,c,a);return e}function h(a,c,d,e){var g=!1,l=b(a,c,function(c,b,e,k){g=!0;l&&l.remove();d.call(a,c,b,e,k)},e);g&&l.remove();return l}function l(a){return!!a}function m(a){return!0===a}function g(a){return!1===a}function e(a){return void 0!==a}function d(a){return void 0===a}var c={init:function(a,b,d){var e=a.get(b);d.call(a,
e,e,b,a);return c.watch(a,b,d)},watch:function(a,c,b){return a.watch(c,b)},once:function(a,c,b){!b&&"function"===typeof c&&(b=c,c="*");var d=a.watch(c,function(c,e,k,g){d.remove();b.call(a,c,e,k,g)});return d},when:function(a,c,d){return b(a,c,d,l)},whenOnce:function(a,c,b){return h(a,c,b,l)},whenTrue:function(a,c,d){return b(a,c,d,m)},whenTrueOnce:function(a,c,b){return h(a,c,b,m)},whenFalse:function(a,c,d){return b(a,c,d,g)},whenFalseOnce:function(a,c,b){return h(a,c,b,g)},whenDefined:function(a,
c,d){return b(a,c,d,e)},whenDefinedOnce:function(a,c,b){return h(a,c,b,e)},whenUndefined:function(a,c,e){return b(a,c,e,d)},whenUndefinedOnce:function(a,c,b){return h(a,c,b,d)},pausable:function(a,c,b){!b&&"function"===typeof c&&(b=c,c="*");var d=!1;return{remove:a.watch(c,function(c,e,k,g){d||b.call(a,c,e,k,g)}).remove,pause:function(){d=!0},resume:function(){d=!1}}}};return c})},"dijit/registry":function(){define(["dojo/_base/array","dojo/_base/window","./main"],function(b,h,l){var m={},g={},e=
{length:0,add:function(b){if(g[b.id])throw Error("Tried to register widget with id\x3d\x3d"+b.id+" but that id is already registered");g[b.id]=b;this.length++},remove:function(b){g[b]&&(delete g[b],this.length--)},byId:function(b){return"string"==typeof b?g[b]:b},byNode:function(b){return g[b.getAttribute("widgetId")]},toArray:function(){var b=[],c;for(c in g)b.push(g[c]);return b},getUniqueId:function(b){var c;do c=b+"_"+(b in m?++m[b]:m[b]=0);while(g[c]);return"dijit"==l._scopeName?c:l._scopeName+
"_"+c},findWidgets:function(b,c){function a(b){for(b=b.firstChild;b;b=b.nextSibling)if(1==b.nodeType){var d=b.getAttribute("widgetId");d?(d=g[d])&&e.push(d):b!==c&&a(b)}}var e=[];a(b);return e},_destroyAll:function(){l._curFocus=null;l._prevFocus=null;l._activeStack=[];b.forEach(e.findWidgets(h.body()),function(b){b._destroyed||(b.destroyRecursive?b.destroyRecursive():b.destroy&&b.destroy())})},getEnclosingWidget:function(b){for(;b;){var c=1==b.nodeType&&b.getAttribute("widgetId");if(c)return g[c];
b=b.parentNode}return null},_hash:g};return l.registry=e})},"esri/views/3d/support/projectionUtils":function(){define("../../../geometry/SpatialReference ../../../geometry/Point ./mathUtils ./earthUtils ../lib/glMatrix ../webgl-engine/lib/BufferVectorMath".split(" "),function(b,h,l,m,g,e){var d=g.vec3d,c=g.mat4d,a=e.Vec3Compact,k=d.create(),p=d.create(),n=d.create(),u=l.deg2rad(1),q=l.rad2deg(1),t=new b({wkt:'      GEOCCS["Spherical geocentric",        DATUM["Not specified",          SPHEROID["Sphere",'+
m.earthRadius+',0]],        PRIMEM["Greenwich",0.0,          AUTHORITY["EPSG","8901"]],        UNIT["m",1.0],        AXIS["Geocentric X",OTHER],        AXIS["Geocentric Y",EAST],        AXIS["Geocentric Z",NORTH]      ]    '}),r=b.WGS84.wkid,v=m.earthRadius,x=function(a){return a===t?1:a.wkid===r?2:a.isWebMercator()?3:0};b=function(a,c,b,f){b[f++]=a[c++];b[f++]=a[c++];b[f]=a[c]};var w=function(a,c,b,f){var d=0.4999999*Math.PI,e=u*a[c+1],e=l.clamp(e,-d,d),d=Math.sin(e);b[f++]=u*a[c]*v;b[f++]=v/2*Math.log((1+
d)/(1-d));b[f]=a[c+2]},f=function(a,c,b,f){var d=v+a[c+2],e=u*a[c+1];a=u*a[c];c=Math.cos(e);b[f++]=Math.cos(a)*c*d;b[f++]=Math.sin(a)*c*d;b[f]=Math.sin(e)*d},s=[void 0,f,b,w],z=[void 0,function(c,b,f,d){var e=a.length(c,b),k=l.asin(c[b+2]/e),n=Math.cos(k);c=(0<c[b+1]?1:-1)*l.acos(c[b]/(n*e));f[d++]=q*c;f[d++]=q*k;f[d]=e-v},b,function(a,c,b,f){b[f++]=q*(a[c++]/v);b[f++]=q*(Math.PI/2-2*Math.atan(Math.exp(-1*a[c++]/v)));b[f]=a[c]}];return{SphericalRenderSpatialReference:t,vectorToVector:function(a,c,
b,f){2===a.length?(k[0]=a[0],k[1]=a[1],k[2]=0,a=k):a===b&&(d.set(a,k),a=k);return this.bufferToBuffer(a,c,0,b,f,0,1)},pointToVector:function(a,c,b){k[0]=a.x;k[1]=a.y;k[2]=a.z||0;return this.bufferToBuffer(k,a.spatialReference,0,c,b,0,1)},vectorToPoint:function(a,c,b,f){"esri.SpatialReference"===b.declaredClass?(f=b,b=new h({spatialReference:f})):f=f||b.spatialReference;return this.bufferToBuffer(a,c,0,k,f,0,1)?(b.x=k[0],b.y=k[1],b.z=k[2],b.spatialReference=f,b):null},xyzToVector:function(a,c,b,f,
d,e){k[0]=a;k[1]=c;k[2]=b;return this.bufferToBuffer(k,f,0,d,e,0,1)},bufferToBuffer:function(a,c,b,f,d,e,k){k=k||1;var n=x(c),g=x(d);k=b+3*k;if(n===g&&(0!==n||c.equals(d)))for(;b<k;b++,e++)f[e]=a[b];else if(0<n&&0<g)if(2!==g)if(d=s[g],2!==n)for(n=z[n];b<k;b+=3,e+=3)n(a,b,p,0,c.wkid),d(p,0,f,e);else for(;b<k;b+=3,e+=3)d(a,b,f,e);else for(n=z[n];b<k;b+=3,e+=3)n(a,b,f,e,c.wkid);else return!1;return!0},convertExtent:function(a,c){if(null==a)return null;var b=[0,0,0],f=[0,0,0],d=this.xyzToVector(a.xmin,
a.ymin,a.zmin||0,a.spatialReference,b,c),d=d&&this.xyzToVector(a.xmax,a.ymax,a.zmax||0,a.spatialReference,f,c);return!d?null:[b,f]},computeLinearTransformation:function(a,b,d,e){var k=x(a),g=x(e);if(k===g&&(0!==k||a.equals(e)))return c.identity(d),c.translate(d,b),!0;if(1===g){if(e=z[k])return e(b,0,p,0,a.wkid),f(p,0,n,0),e=u*p[0],b=u*p[1],a=Math.sin(e),e=Math.cos(e),k=Math.sin(b),b=Math.cos(b),d[0]=-a,d[4]=-k*e,d[8]=b*e,d[12]=n[0],d[1]=e,d[5]=-k*a,d[9]=b*a,d[13]=n[1],d[2]=0,d[6]=b,d[10]=k,d[14]=
n[2],d[3]=0,d[7]=0,d[11]=0,d[15]=1,!0}else if(3===g&&(2===k||1===k))return z[k](b,0,p,0,a.wkid),a=u*p[1],w(p,0,n,0),c.identity(d),c.translate(d,n),a=1/Math.cos(a),c.scale(d,[a,a,1]),!0;return!1},mbsToMbs:function(a,c,b,d){var e=x(c),k=x(d);if(e===k&&(0!==e||c.equals(d)))return b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[3],!0;if(1===k){if(d=z[e])return d(a,0,p,0,c.wkid),f(p,0,b,0),b[3]=a[3],!0}else if(3===k&&(2===e||1===e))return z[e](a,0,p,0,c.wkid),c=u*p[1],c=Math.abs(c)+Math.asin(a[3]/(v+a[2])),w(p,0,
b,0),c>0.9999*Math.PI?b[3]=Number.MAX_VALUE:(c=1/Math.cos(c),b[3]=c*a[3]),!0;return!1},extentToBoundingBox:function(a,c,b){if(null==a)return!1;var f;k[0]=null!=a.xmin?a.xmin:0;k[1]=null!=a.ymin?a.ymin:0;k[2]=null!=a.zmin?a.zmin:0;f=this.bufferToBuffer(k,a.spatialReference,0,c,b,0,1);k[0]=null!=a.xmax?a.xmax:0;k[1]=null!=a.ymax?a.ymax:0;k[2]=null!=a.zmax?a.zmax:0;f=f&&this.bufferToBuffer(k,a.spatialReference,0,c,b,3,1);null==a.xmin&&(c[0]=-Infinity);null==a.ymin&&(c[1]=-Infinity);null==a.zmin&&(c[2]=
-Infinity);null==a.xmax&&(c[3]=Infinity);null==a.ymax&&(c[4]=Infinity);null==a.zmax&&(c[5]=Infinity);return f},extentToBoundingRect:function(a,c,b){if(null==a)return!1;var f;k[0]=null!=a.xmin?a.xmin:0;k[1]=null!=a.ymin?a.ymin:0;k[2]=null!=a.zmin?a.zmin:0;f=this.bufferToBuffer(k,a.spatialReference,0,k,b,0,1);c[0]=k[0];c[1]=k[1];k[0]=null!=a.xmax?a.xmax:0;k[1]=null!=a.ymax?a.ymax:0;k[2]=null!=a.zmax?a.zmax:0;f=f&&this.bufferToBuffer(k,a.spatialReference,0,k,b,0,1);c[2]=k[0];c[3]=k[1];null==a.xmin&&
(c[0]=-Infinity);null==a.ymin&&(c[1]=-Infinity);null==a.xmax&&(c[2]=Infinity);null==a.ymax&&(c[3]=Infinity);return f},webMercator:{x2lon:function(a){return a/v},y2lat:function(a){return Math.PI/2-2*Math.atan(Math.exp(-1*a/v))},lon2x:function(a){return a*v},lat2y:function(a){a=Math.sin(a);return v/2*Math.log((1+a)/(1-a))}}}})},"dijit/form/_FormMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/_base/kernel dojo/_base/lang dojo/on dojo/window".split(" "),function(b,h,l,m,g,e){return h("dijit.form._FormMixin",
null,{state:"",_getDescendantFormWidgets:function(d){var c=[];b.forEach(d||this.getChildren(),function(a){"value"in a?c.push(a):c=c.concat(this._getDescendantFormWidgets(a.getChildren()))},this);return c},reset:function(){b.forEach(this._getDescendantFormWidgets(),function(b){b.reset&&b.reset()})},validate:function(){var d=!1;return b.every(b.map(this._getDescendantFormWidgets(),function(c){c._hasBeenBlurred=!0;var a=c.disabled||!c.validate||c.validate();!a&&!d&&(e.scrollIntoView(c.containerNode||
c.domNode),c.focus(),d=!0);return a}),function(c){return c})},setValues:function(b){l.deprecated(this.declaredClass+"::setValues() is deprecated. Use set('value', val) instead.","","2.0");return this.set("value",b)},_setValueAttr:function(d){var c={};b.forEach(this._getDescendantFormWidgets(),function(a){a.name&&(c[a.name]||(c[a.name]=[])).push(a)});for(var a in c)if(c.hasOwnProperty(a)){var e=c[a],g=m.getObject(a,!1,d);void 0!==g&&(g=[].concat(g),"boolean"==typeof e[0].checked?b.forEach(e,function(a){a.set("value",
-1!=b.indexOf(g,a._get("value")))}):e[0].multiple?e[0].set("value",g):b.forEach(e,function(a,c){a.set("value",g[c])}))}},getValues:function(){l.deprecated(this.declaredClass+"::getValues() is deprecated. Use get('value') instead.","","2.0");return this.get("value")},_getValueAttr:function(){var d={};b.forEach(this._getDescendantFormWidgets(),function(c){var a=c.name;if(a&&!c.disabled){var b=c.get("value");"boolean"==typeof c.checked?/Radio/.test(c.declaredClass)?!1!==b?m.setObject(a,b,d):(b=m.getObject(a,
!1,d),void 0===b&&m.setObject(a,null,d)):(c=m.getObject(a,!1,d),c||(c=[],m.setObject(a,c,d)),!1!==b&&c.push(b)):(c=m.getObject(a,!1,d),"undefined"!=typeof c?m.isArray(c)?c.push(b):m.setObject(a,[c,b],d):m.setObject(a,b,d))}});return d},isValid:function(){return""==this.state},onValidStateChange:function(){},_getState:function(){var d=b.map(this._descendants,function(c){return c.get("state")||""});return 0<=b.indexOf(d,"Error")?"Error":0<=b.indexOf(d,"Incomplete")?"Incomplete":""},disconnectChildren:function(){},
connectChildren:function(d){this._descendants=this._getDescendantFormWidgets();b.forEach(this._descendants,function(c){c._started||c.startup()});d||this._onChildChange()},_onChildChange:function(b){(!b||"state"==b||"disabled"==b)&&this._set("state",this._getState());if(!b||"value"==b||"disabled"==b||"checked"==b)this._onChangeDelayTimer&&this._onChangeDelayTimer.remove(),this._onChangeDelayTimer=this.defer(function(){delete this._onChangeDelayTimer;this._set("value",this.get("value"))},10)},startup:function(){this.inherited(arguments);
this._descendants=this._getDescendantFormWidgets();this.value=this.get("value");this.state=this._getState();var b=this;this.own(g(this.containerNode,"attrmodified-state, attrmodified-disabled, attrmodified-value, attrmodified-checked",function(c){c.target!=b.domNode&&b._onChildChange(c.type.replace("attrmodified-",""))}));this.watch("state",function(c,a,b){this.onValidStateChange(""==b)})},destroy:function(){this.inherited(arguments)}})})},"esri/views/3d/navigation/spherical/actions/RotateSpherical":function(){define(["./ActionSpherical",
"../../mixins/RotateMixin"],function(b,h){return b.createSubclass([h],{declaredClass:"esri.views.3d.navigation.spherical.actions.RotateSpherical"})})},"dijit/BackgroundIframe":function(){define("require ./main dojo/_base/config dojo/dom-construct dojo/dom-style dojo/_base/lang dojo/on dojo/sniff".split(" "),function(b,h,l,m,g,e,d,c){c.add("config-bgIframe",c("ie")&&!/IEMobile\/10\.0/.test(navigator.userAgent)||c("trident")&&/Windows NT 6.[01]/.test(navigator.userAgent));var a=new function(){var a=
[];this.pop=function(){var d;a.length?(d=a.pop(),d.style.display=""):(9>c("ie")?(d="\x3ciframe src\x3d'"+(l.dojoBlankHtmlUrl||b.toUrl("dojo/resources/blank.html")||'javascript:""')+"' role\x3d'presentation' style\x3d'position: absolute; left: 0px; top: 0px;z-index: -1; filter:Alpha(Opacity\x3d\"0\");'\x3e",d=document.createElement(d)):(d=m.create("iframe"),d.src='javascript:""',d.className="dijitBackgroundIframe",d.setAttribute("role","presentation"),g.set(d,"opacity",0.1)),d.tabIndex=-1);return d};
this.push=function(c){c.style.display="none";a.push(c)}};h.BackgroundIframe=function(b){if(!b.id)throw Error("no id");if(c("config-bgIframe")){var p=this.iframe=a.pop();b.appendChild(p);7>c("ie")||c("quirks")?(this.resize(b),this._conn=d(b,"resize",e.hitch(this,"resize",b))):g.set(p,{width:"100%",height:"100%"})}};e.extend(h.BackgroundIframe,{resize:function(a){this.iframe&&g.set(this.iframe,{width:a.offsetWidth+"px",height:a.offsetHeight+"px"})},destroy:function(){this._conn&&(this._conn.remove(),
this._conn=null);this.iframe&&(this.iframe.parentNode.removeChild(this.iframe),a.push(this.iframe),delete this.iframe)}});return h.BackgroundIframe})},"esri/core/screenUtils":function(){define([],function(){var b={DPI:96,pt2px:function(h){return h/72*b.DPI},px2pt:function(h){return 72*h/b.DPI}};return b})},"esri/symbols/TextSymbol3DLayer":function(){define(["../core/declare","dojo/_base/lang","../core/lang","../core/screenUtils","./Symbol3DLayer"],function(b,h,l,m,g){return b(g,{type:"Text",material:void 0,
size:void 0,_sizeReader:m.pt2px,text:void 0,font:void 0,toJSON:function(){var b={font:this.font?h.clone(this.font):void 0,size:null!=this.size?m.px2pt(this.size):void 0};h.mixin(b,this.inherited(arguments));return l.fixJson(b,!0)}})})},"dojox/color":function(){define(["./color/_base"],function(b){return b})},"esri/views/3d/webgl-engine/lib/ModelDirtyTypes":function(){define(function(){return{GeomDirtyType:{ADD:1,UPDATE:2,REMOVE:4},UpdateTypes:{REINSERT:1,FACERANGE:2,VERTEXATTRS:4,COLORATTRS:8,TRANSFORMATION:16}}})},
"dojo/io-query":function(){define(["./_base/lang"],function(b){var h={};return{objectToQuery:function(l){var m=encodeURIComponent,g=[],e;for(e in l){var d=l[e];if(d!=h[e]){var c=m(e)+"\x3d";if(b.isArray(d))for(var a=0,k=d.length;a<k;++a)g.push(c+m(d[a]));else g.push(c+m(d))}}return g.join("\x26")},queryToObject:function(l){var h=decodeURIComponent;l=l.split("\x26");for(var g={},e,d,c=0,a=l.length;c<a;++c)if(d=l[c],d.length){var k=d.indexOf("\x3d");0>k?(e=h(d),d=""):(e=h(d.slice(0,k)),d=h(d.slice(k+
1)));"string"==typeof g[e]&&(g[e]=[g[e]]);b.isArray(g[e])?g[e].push(d):g[e]=d}return g}}})},"esri/views/3d/webgl-engine/materials/ColorMaterial":function(){define(["dojo/_base/lang","dojo/text!./ColorMaterial.xml","./internal/MaterialUtil","../lib/GLSLProgram","../lib/GLSLShader"],function(b,h,l,m,g){var e=function(c,a){l.basicMaterialConstructor(this,a);c=c||{};c.color=c.color||[1,1,1,1];c.polygonOffset=c.polygonOffset||!1;c.vertexColors=c.vertexColors||!1;var b=l.Layouts.PosColor;this.getParams=
function(){return c};this.setColor=function(a){c.color=a;this.notifyDirty("matChanged")};this.getColor=function(){return c.color};this.setTransparent=function(a){c.transparent=a;this.notifyDirty("matChanged")};this.getTransparent=function(a){return c.transparent};this.dispose=function(){};this.getOutputAmount=function(a){return a*b.getStride()};this.getVertexBufferLayout=function(){return b};this.fillInterleaved=function(a,c,d,e,g,h,m){l.fillInterleaved(a,c,d,e,b,g,h,m)};this.intersect=l.intersectTriangleGeometry;
this.getGLMaterials=function(){return[d,void 0,void 0]};this.getAllTextureIds=function(){return[]}},d=function(c,a,d){l.basicGLMaterialConstructor(this,c);var e=b.clone(c.getParams()),n=a.get("colorMaterial"),g=c.getColor();this.beginSlot=function(a){return a===(1>g[3]?2:1)};this.getProgram=function(){return n};this.updateParameters=function(){e.color=c.getColor();e.transparent=c.getTransparent()};this.bind=function(a,b){n.use();n.uniform4fv("eColor",e.color);c.getVertexBufferLayout().enableVertexAttribArrays(a,
n);e.polygonOffset&&(a.enable(a.POLYGON_OFFSET_FILL),a.polygonOffset(1,1));e.transparent&&a.enable(a.BLEND);a.web3DDefaultState.cullEnabled&&a.disable(a.CULL_FACE)};this.release=function(a){c.getVertexBufferLayout().disableVertexAttribArrays(a,n);e.transparent&&a.disable(a.BLEND);a.web3DDefaultState.cullEnabled&&a.enable(a.CULL_FACE)};this.bindView=function(a,c){l.bindView(c.origin,c.view,n)};this.bindInstance=function(a,c){n.uniformMatrix4fv("model",c.transformation)};this.getDrawMode=function(a){return a.TRIANGLES}};
e.programs=null;e.loadShaders=function(c,a,b,d){c._parse(h);a=new g(d.VERTEX_SHADER,c.vertexShaderColorMaterial,d);c=new g(d.FRAGMENT_SHADER,c.fragmentShaderColorMaterial,d);d=new m([a,c],d);b.add("colorMaterial",d)};return e})},"dijit/_OnDijitClickMixin":function(){define("dojo/on dojo/_base/array dojo/keys dojo/_base/declare dojo/has ./a11yclick".split(" "),function(b,h,l,m,g,e){b=m("dijit._OnDijitClickMixin",null,{connect:function(b,c,a){return this.inherited(arguments,[b,"ondijitclick"==c?e:c,
a])}});b.a11yclick=e;return b})},"esri/symbols/PathSymbol3DLayer":function(){define(["../core/declare","dojo/_base/lang","../core/lang","./Symbol3DLayer"],function(b,h,l,m){return b(m,{classMetadata:{reader:{exclude:["width"],add:["size"]}},type:"Path",size:0,_sizeReader:function(b,e){return b||e.width||0},material:null,toJSON:function(){var b={size:this.size};h.mixin(b,this.inherited(arguments));return l.fixJson(b,!0)}})})},"esri/views/3d/terrain/MapTileAgent":function(){define(["./TileAgentBase",
"./TileUtils","./UpsampleInfo","../support/ObjectPool"],function(b,h,l,m){var g=function(){b.apply(this,arguments)};g.prototype=new b;g.prototype.constructor=g;g.prototype.dataArrived=function(b){b!==this.tile?this._setUpsamplingTile(b):this.tile.updateTexture();this._dataRequested=null;b!==this.tile&&this._requestNext()};g.prototype._findNextDownload=function(){var b,d=this.layerIdx,c=this.layerClass,a=this.tile.parentSurface.layerViewByIndex(d,c),k=a._minDataLevel,g=a._maxDataLevel;if(this._tileLayerInfo.data||
k>this.tile.lij[0])b=null;else{for(var n=0,l=this.tile,m=this.tile.parentSurface,t=m.getTilemapTile(l),m=m.tilemapStats,r=!1;l&&4>=n&&h.fallsWithinLayer(l,a,!1)&&l.lij[0]>=k;){if(l.layerInfo[c][d].data){this._setUpsamplingTile(l);break}t&&!t.tileDataAvailable(l,d,c)?r=!0:l.lij[0]<=g&&(b=l);l=l.parent;t=t?t.parent:null;n++}!b&&r&&m.tilesNotPresent++}return b};g.prototype._setUpsamplingTile=function(b){this._tileLayerInfo.upsampleFromTile&&this._tileLayerInfo.upsampleFromTile.tile===b||(this._tileLayerInfo.upsampleFromTile&&
l.Pool.release(this._tileLayerInfo.upsampleFromTile),this._tileLayerInfo.upsampleFromTile=h.computeUpsampleInfoForAncestor(this.tile,b),this.tile.updateTexture())};m.on(g,400);return g})},"esri/layers/support/LayerTimeOptions":function(){define(["../../core/declare","dojo/_base/lang","../../core/lang"],function(b,h,l){return b(null,{declaredClass:"esri.layers.support.LayerTimeOptions",constructor:function(b){b&&h.mixin(this,b)},toJson:function(){try{throw Error("toJson is deprecated, use toJSON instead");
}catch(b){console.warn(b.stack)}return this.toJSON()},toJSON:function(){return l.fixJson({timeDataCumulative:this.timeDataCumulative,timeOffset:this.timeOffset,timeOffsetUnits:this.timeOffsetUnits,useTime:this.useTime})}})})},"esri/views/3d/webgl-engine/lib/ModelDirtySet":function(){define(["./ModelContentType","./ModelDirtyTypes","./Util"],function(b,h,l){return function(m){function g(a,b,d,g,l,p,h,m,f){d=d||a.getParentLayer().getId();var s=a.getId();a=b.getId();d=e(k,d,s);(s=d[a])?(b=s[1],b&l?delete d[a]:
b&p?(s[1]=g,s[2]=f):b&h?s[2]|=f:b&m||c("ModelDirtySet.objGeometryAdded: inconsistent state")):d[a]=[b,g,f]}function e(a,c,b){a[c]||(a[c]={});a[c][b]||(a[c][b]={});return a[c][b]}var d=l.objectEmpty,c=l.assert,a={},k={},p={};this._getResidentGeometryRecords=function(){return a};this._getDirtyGeometryRecords=function(){return k};this.getDirtyMaterials=function(){return d(p)?null:p};this.clearDirtyMaterials=function(){p={}};this.hasDirtyGeometryRecords=function(){for(var a in k)for(var c in k[a]){var b=
k[a][c];if(b&&!d(b))return!0}return!1};this.handleUpdate=function(a,b,d){c(this[b],"ModelDirtySet doesn't know how to process "+b);return this[b](a,d)};this.getAddRemoveUpdateList=function(a){return this.getAddRemoveUpdateListFilteredByLayers(Object.keys(k),a)};this.getAddRemoveUpdateListFilteredByLayers=function(d,g){for(var l=[],p=[],r=[],v=0;v<d.length;v++){var x=d[v];if(x in k)for(var w in k[x]){var f=k[x][w];if(f){var s=e(a,x,w),z;for(z in f){var y=f[z],A=y[0],B=y[1],y=y[2],E=B&h.GeomDirtyType.UPDATE&&
y&h.UpdateTypes.REINSERT,F,G;if(B&h.GeomDirtyType.REMOVE||E)(F=s[z])?p.push.apply(p,F[1]):B===h.GeomDirtyType.REMOVE&&c(!1,"ModelDirtySet.getAddRemoveListFilteredByLayers: invalid remove"),g&&F&&delete s[z];if(B&h.GeomDirtyType.ADD||E)F=[A,[]],G=m.get(b.OBJECT,w),m.getGeometryRenderGeometries(G,A,F[1]),l.push.apply(l,F[1]),g&&(s[z]=F);if(B&h.GeomDirtyType.UPDATE&&!E)if(F=s[z],G=m.get(b.OBJECT,w),F){var B=F[1],E=B.length,Q;if(y&h.UpdateTypes.FACERANGE){var M=G.getVisibleIndexRanges(A);for(F=0;F<E;F++)Q=
B[F],Q.displayedIndexRange=M?M[Q.componentIdx]:void 0}if(y&h.UpdateTypes.TRANSFORMATION)for(F=0;F<E;F++)Q=B[F],G.getCombinedTransformation(A,Q.transformation),Q.updateTransformation(Q.transformation);for(F=0;F<E;F++)Q=B[F],r.push({renderGeometry:Q,updateType:y})}else c(!1,"ModelDirtySet.getAddRemoveListFilteredByLayers: invalid update")}}}g&&delete k[x]}return[l,p,r]};this.getResidentRenderGeometries=function(){return this.getResidentRenderGeometriesFilteredByLayers(Object.keys(a))};this.getResidentRenderGeometriesFilteredByLayers=
function(c){for(var b=[],d=0;d<c.length;d++){var e=c[d];if(e in a)for(var k in a[e]){var g=a[e][k];if(g)for(var l in g)b.push.apply(b,g[l][1])}}return b};this.hideFaceRange=function(a,c,b){b=b||a.getParentLayer().getId();g(a,c,b,h.GeomDirtyType.UPDATE,0,0,h.GeomDirtyType.UPDATE,h.GeomDirtyType.ADD|h.GeomDirtyType.REMOVE,h.UpdateTypes.FACERANGE)};this.unhideAllFaceRange=function(a,c){for(var b=0;b<a.getGeometryRecords().length;b++)g(a,a.getGeometryRecords()[b],c,h.GeomDirtyType.UPDATE,0,0,h.GeomDirtyType.UPDATE,
h.GeomDirtyType.ADD|h.GeomDirtyType.REMOVE,h.UpdateTypes.FACERANGE)};this.vertexAttrsUpdated=function(a,c,b){g(a,c,b,h.GeomDirtyType.UPDATE,0,0,h.GeomDirtyType.UPDATE,h.GeomDirtyType.ADD|h.GeomDirtyType.REMOVE,h.UpdateTypes.VERTEXATTRS)};this.colorAttrsUpdated=function(a,c,b){g(a,c,b,h.GeomDirtyType.UPDATE,0,0,h.GeomDirtyType.UPDATE,h.GeomDirtyType.ADD|h.GeomDirtyType.REMOVE,h.UpdateTypes.COLORATTRS)};this.matChanged=function(a){p[a.getId()]=!0};this.layerAdded=function(a){for(var c=a.getObjects(),
b=0;b<c.length;b++)this.layObjectAdded(a,c[b])};this.layerRemoved=function(a){for(var c=a.getObjects(),b=0;b<c.length;b++)this.layObjectRemoved(a,c[b])};this.layObjectAdded=function(a,c){for(var b=a.getId(),d=c.getGeometryRecords(),e=0;e<d.length;e++)this.objGeometryAdded(c,d[e],b)};this.layObjectRemoved=function(a,c){for(var b=a.getId(),d=c.getGeometryRecords(),e=0;e<d.length;e++)this.objGeometryRemoved(c,d[e],b)};this.layObjectReplaced=function(a,c){this.layObjectRemoved(a,c[0]);this.layObjectAdded(a,
c[1])};this.objDirty=function(c,b){b=b||c.getParentLayer().getId();var d=c.getId(),d=e(a,b,d),k;for(k in d)g(c,d[k][0],b,h.GeomDirtyType.UPDATE,0,h.GeomDirtyType.UPDATE,0,h.GeomDirtyType.ADD|h.GeomDirtyType.REMOVE,h.UpdateTypes.REINSERT)};this.objTransformation=function(c,b){b=b||c.getParentLayer().getId();var d=c.getId(),d=e(a,b,d),k;for(k in d)g(c,d[k][0],b,h.GeomDirtyType.UPDATE,0,0,h.GeomDirtyType.UPDATE,h.GeomDirtyType.ADD|h.GeomDirtyType.REMOVE,h.UpdateTypes.TRANSFORMATION)};this.objGeometryAdded=
function(a,c,b){g(a,c,b,h.GeomDirtyType.ADD,h.GeomDirtyType.REMOVE,0,0,0)};this.objGeometryRemoved=function(a,c,b){g(a,c,b,h.GeomDirtyType.REMOVE,h.GeomDirtyType.ADD,h.GeomDirtyType.UPDATE,0,0)};this.objGeometryReplaced=function(a,c){this.objGeometryRemoved(a,c[0]);this.objGeometryAdded(a,c[1])};this.objGeometryTransformation=function(a,c){this.objGeometryReplaced(a,c)};this.formatDebugInfo=function(a){var c=["ADD","UPD",void 0,"REM"];if(a)return"";a="";for(var b in k)for(var d in k[b]){var e=k[b][d];
if(e){0<a.length&&(a+="\n");a+=b+"."+d;var g=[],l;for(l in e){var p=e[l][1];g[p]||(g[p]=[]);g[p].push(e[l][0].geometry.getId())}for(e=0;e<g.length;e++)if(g[e]){a+=" "+c[e-1]+": ";for(p=0;p<g[e].length;p++)a+=g[e][p]+", "}}}return a}}})},"esri/views/3d/terrain/UpsampleInfo":function(){define(["../support/ObjectPool","../lib/glMatrix"],function(b,h){function l(b,e,d,c){this.offset=m.create();this.scale=0;this.tile=null;void 0!==b&&this.init(b,e,d,c)}var m=h.vec2d;l.prototype.init=function(b,e,d,c){this.tile=
b;this.offset[0]=e;this.offset[1]=d;this.scale=c};l.Pool=new b(400,l);return l})},"esri/views/3d/webgl-engine/lib/TextureRenderer":function(){define("./Renderer ./ShadowMap ./GLFBO ./GLVBO ./VertexBufferLayout ./Camera ./Util ./gl-matrix ../materials/internal/TexOnlyGLMaterial".split(" "),function(b,h,l,m,g,e,d,c,a){var k=c.vec3,p=c.mat4d;return function(a,c,g,m,r,v){var x={},w=[0,0,0,0],f=new b(g,void 0,m,r,a,!0),s=new h(g,a);f.setLightingData({ambient:[1,1,1,1],diffuse:[0,0,0,0],specular:[0,0,0,
0],direction:[0,-1,0]});var z={get:function(){return!0}};this.dispose=function(){for(var a in x)x[a].fbo.dispose(),r.release(a);x=null;f.dispose();f=null};this.addRenderGeometries=function(a){a.forEach(function(a){if(null==a.origin){var c=a.center,b=0,f=10*a.bsRadius/1E4;1<f&&(b=Math.ceil(d.logWithBase(f,2)));var f=1E4*Math.pow(2,b),e=Math.round(c[0]/f),n=Math.round(c[1]/f),c=Math.round(c[2]/f),b=b+"_"+e+"_"+n+"_"+c,g=A[b];void 0===g&&(g={vec3:k.createFrom(e*f,n*f,c*f),id:b},A[b]=g);a.origin=g}});
f.modify(a,[])};this.removeRenderGeometries=function(a){f.modify([],a)};this.updateRenderGeometries=function(a,c){var b=a.map(function(a){return{renderGeometry:a,updateType:c}});f.modify([],[],b,[])};this.updateRenderOrder=function(a){0<Object.keys(a).length&&f.modifyRenderOrder(a)};this.setBackgroundColor=function(a){w=a};this.isEmpty=function(){return f.isEmpty()};var y=new e;this.draw=function(b,d){var e=v.getDirtyMaterials();e&&f.modify([],[],[],e);v.clearDirtyMaterials();var k=b.getId(),h;if(x[k])e=
x[k].fbo;else{h=r.aquire(k);var e=new l(a.RGBA,a.UNSIGNED_BYTE,!1,a.NEAREST,a,h),m=Object.keys(x).length;x[k]={glName:h,fbo:e,idx:m}}k=d.width;h=d.height;if(e.getWidth()!==k||e.getHeight()!==h)e.setSize(k,h),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.LINEAR),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.LINEAR);y.near=1;y.far=1E4;e.bind();a.disable(a.DEPTH_TEST);a.blendFuncSeparate(a.SRC_ALPHA,a.ONE_MINUS_SRC_ALPHA,a.ONE,a.ONE_MINUS_SRC_ALPHA);a.clearColor.apply(a,w);a.clear(a.COLOR_BUFFER_BIT);
s.bindAll(g);f.setPixelRatio(d.pixelRatio||1);for(k=0;k<d.views.length;k++)h=d.views[k],y.viewport=h.viewport,p.ortho(0,h.extent[2]-h.extent[0],0,h.extent[3]-h.extent[1],y.near,y.far,y.projectionMatrix),p.identity(y.viewMatrix),p.translate(y.viewMatrix,[-h.extent[0],-h.extent[1],0]),y.setGLViewport(a),f.render(y,z,s,e);a.enable(a.DEPTH_TEST);a.blendFunc(a.SRC_ALPHA,a.ONE_MINUS_SRC_ALPHA);a.bindFramebuffer(a.FRAMEBUFFER,null);a.viewport(0,0,c.width,c.height)};var A={}}})},"dojox/color/_base":function(){define(["../main",
"dojo/_base/lang","dojo/_base/Color","dojo/colors"],function(b,h,l,m){b=h.getObject("color",!0,b);b.Color=l;b.blend=l.blendColors;b.fromRgb=l.fromRgb;b.fromHex=l.fromHex;b.fromArray=l.fromArray;b.fromString=l.fromString;b.greyscale=m.makeGrey;h.mixin(b,{fromCmy:function(b,e,d){h.isArray(b)?(e=b[1],d=b[2],b=b[0]):h.isObject(b)&&(e=b.m,d=b.y,b=b.c);e=1-e/100;d=1-d/100;return new l({r:Math.round(255*(1-b/100)),g:Math.round(255*e),b:Math.round(255*d)})},fromCmyk:function(b,e,d,c){h.isArray(b)?(e=b[1],
d=b[2],c=b[3],b=b[0]):h.isObject(b)&&(e=b.m,d=b.y,c=b.b,b=b.c);e/=100;d/=100;c/=100;b=1-Math.min(1,b/100*(1-c)+c);e=1-Math.min(1,e*(1-c)+c);d=1-Math.min(1,d*(1-c)+c);return new l({r:Math.round(255*b),g:Math.round(255*e),b:Math.round(255*d)})},fromHsl:function(b,e,d){h.isArray(b)?(e=b[1],d=b[2],b=b[0]):h.isObject(b)&&(e=b.s,d=b.l,b=b.h);e/=100;for(d/=100;0>b;)b+=360;for(;360<=b;)b-=360;var c,a;120>b?(c=(120-b)/60,a=b/60,b=0):240>b?(c=0,a=(240-b)/60,b=(b-120)/60):(c=(b-240)/60,a=0,b=(360-b)/60);c=2*
e*Math.min(c,1)+(1-e);a=2*e*Math.min(a,1)+(1-e);b=2*e*Math.min(b,1)+(1-e);0.5>d?(c*=d,a*=d,b*=d):(c=(1-d)*c+2*d-1,a=(1-d)*a+2*d-1,b=(1-d)*b+2*d-1);return new l({r:Math.round(255*c),g:Math.round(255*a),b:Math.round(255*b)})}});b.fromHsv=function(b,e,d){h.isArray(b)?(e=b[1],d=b[2],b=b[0]):h.isObject(b)&&(e=b.s,d=b.v,b=b.h);360==b&&(b=0);e/=100;d/=100;var c,a,k;if(0==e)a=k=c=d;else{var p=b/60;b=Math.floor(p);var n=p-b,p=d*(1-e),m=d*(1-e*n);e=d*(1-e*(1-n));switch(b){case 0:c=d;a=e;k=p;break;case 1:c=
m;a=d;k=p;break;case 2:c=p;a=d;k=e;break;case 3:c=p;a=m;k=d;break;case 4:c=e;a=p;k=d;break;case 5:c=d,a=p,k=m}}return new l({r:Math.round(255*c),g:Math.round(255*a),b:Math.round(255*k)})};h.extend(l,{toCmy:function(){var b=1-this.g/255,e=1-this.b/255;return{c:Math.round(100*(1-this.r/255)),m:Math.round(100*b),y:Math.round(100*e)}},toCmyk:function(){var b,e,d,c=this.r/255;b=this.g/255;e=this.b/255;d=Math.min(1-c,1-b,1-e);b=(1-b-d)/(1-d);e=(1-e-d)/(1-d);return{c:Math.round(100*((1-c-d)/(1-d))),m:Math.round(100*
b),y:Math.round(100*e),b:Math.round(100*d)}},toHsl:function(){var b=this.r/255,e=this.g/255,d=this.b/255,c=Math.min(b,d,e),a=Math.max(b,e,d),k=a-c,l=0,n=0,c=(c+a)/2;0<c&&1>c&&(n=k/(0.5>c?2*c:2-2*c));0<k&&(a==b&&a!=e&&(l+=(e-d)/k),a==e&&a!=d&&(l+=2+(d-b)/k),a==d&&a!=b&&(l+=4+(b-e)/k),l*=60);return{h:l,s:Math.round(100*n),l:Math.round(100*c)}},toHsv:function(){var b=this.r/255,e=this.g/255,d=this.b/255,c=Math.min(b,d,e),a=Math.max(b,e,d),c=a-c,k=null,l=0==a?0:c/a;0==l?k=0:(k=b==a?60*(e-d)/c:e==a?120+
60*(d-b)/c:240+60*(b-e)/c,0>k&&(k+=360));return{h:k,s:Math.round(100*l),v:Math.round(100*a)}}});return b})},"esri/config":function(){define(["require","exports"],function(b,h){return{screenDPI:96,geometryService:null,geoRSSServiceUrl:null,kmlServiceUrl:null,request:{corsDetection:!(window&&window.cordova),corsDetectionTimeout:15,corsEnabledServers:"dev.arcgis.com devext.arcgis.com elevation3d.arcgis.com elevation3ddev.arcgis.com js.arcgis.com jsdev.arcgis.com jsqa.arcgis.com geocode.arcgis.com geocodedev.arcgis.com geocodeqa.arcgis.com geoenrich.arcgis.com geoenrichdev.arcgis.com geoenrichqa.arcgis.com qaext.arcgis.com server.arcgisonline.com services.arcgis.com services.arcgisonline.com services1.arcgis.com services2.arcgis.com services3.arcgis.com services4.arcgis.com services5.arcgis.com servicesdev.arcgis.com servicesdev1.arcgis.com servicesdev2.arcgis.com servicesdev3.arcgis.com servicesqa.arcgis.com servicesqa1.arcgis.com servicesqa2.arcgis.com servicesqa3.arcgis.com static.arcgis.com staticdev.arcgis.com tiles.arcgis.com tiles1.arcgis.com tiles2.arcgis.com tiles3.arcgis.com tiles4.arcgis.com tilesdevext.arcgis.com tilesqa.arcgis.com utility.arcgisonline.com www.arcgis.com".split(" "),
corsStatus:{},forceProxy:!1,maxUrlLength:2E3,maxWorkers:5,proxyRules:[],proxyUrl:null,timeout:6E4,useCors:!0,useWorkers:"on-request",webTierAuthServers:[]},useSpatialIndex:!1}})},"dojo/dom-geometry":function(){define(["./sniff","./_base/window","./dom","./dom-style"],function(b,h,l,m){function g(a,c,b,d,e,g){g=g||"px";a=a.style;isNaN(c)||(a.left=c+g);isNaN(b)||(a.top=b+g);0<=d&&(a.width=d+g);0<=e&&(a.height=e+g)}function e(a){return"button"==a.tagName.toLowerCase()||"input"==a.tagName.toLowerCase()&&
"button"==(a.getAttribute("type")||"").toLowerCase()}function d(a){return"border-box"==c.boxModel||"table"==a.tagName.toLowerCase()||e(a)}var c={boxModel:"content-box"};b("ie")&&(c.boxModel="BackCompat"==document.compatMode?"border-box":"content-box");c.getPadExtents=function(a,c){a=l.byId(a);var b=c||m.getComputedStyle(a),d=m.toPixelValue,e=d(a,b.paddingLeft),g=d(a,b.paddingTop),h=d(a,b.paddingRight),b=d(a,b.paddingBottom);return{l:e,t:g,r:h,b:b,w:e+h,h:g+b}};c.getBorderExtents=function(a,c){a=l.byId(a);
var b=m.toPixelValue,d=c||m.getComputedStyle(a),e="none"!=d.borderLeftStyle?b(a,d.borderLeftWidth):0,g="none"!=d.borderTopStyle?b(a,d.borderTopWidth):0,h="none"!=d.borderRightStyle?b(a,d.borderRightWidth):0,b="none"!=d.borderBottomStyle?b(a,d.borderBottomWidth):0;return{l:e,t:g,r:h,b:b,w:e+h,h:g+b}};c.getPadBorderExtents=function(a,b){a=l.byId(a);var d=b||m.getComputedStyle(a),e=c.getPadExtents(a,d),d=c.getBorderExtents(a,d);return{l:e.l+d.l,t:e.t+d.t,r:e.r+d.r,b:e.b+d.b,w:e.w+d.w,h:e.h+d.h}};c.getMarginExtents=
function(a,c){a=l.byId(a);var b=c||m.getComputedStyle(a),d=m.toPixelValue,e=d(a,b.marginLeft),g=d(a,b.marginTop),h=d(a,b.marginRight),b=d(a,b.marginBottom);return{l:e,t:g,r:h,b:b,w:e+h,h:g+b}};c.getMarginBox=function(a,d){a=l.byId(a);var e=d||m.getComputedStyle(a),g=c.getMarginExtents(a,e),h=a.offsetLeft-g.l,t=a.offsetTop-g.t,r=a.parentNode,v=m.toPixelValue;if(b("mozilla")){var x=parseFloat(e.left),e=parseFloat(e.top);!isNaN(x)&&!isNaN(e)?(h=x,t=e):r&&r.style&&(r=m.getComputedStyle(r),"visible"!=
r.overflow&&(h+="none"!=r.borderLeftStyle?v(a,r.borderLeftWidth):0,t+="none"!=r.borderTopStyle?v(a,r.borderTopWidth):0))}else if((b("opera")||8==b("ie")&&!b("quirks"))&&r)r=m.getComputedStyle(r),h-="none"!=r.borderLeftStyle?v(a,r.borderLeftWidth):0,t-="none"!=r.borderTopStyle?v(a,r.borderTopWidth):0;return{l:h,t:t,w:a.offsetWidth+g.w,h:a.offsetHeight+g.h}};c.getContentBox=function(a,d){a=l.byId(a);var e=d||m.getComputedStyle(a),g=a.clientWidth,h=c.getPadExtents(a,e),t=c.getBorderExtents(a,e);g?(e=
a.clientHeight,t.w=t.h=0):(g=a.offsetWidth,e=a.offsetHeight);b("opera")&&(h.l+=t.l,h.t+=t.t);return{l:h.l,t:h.t,w:g-h.w-t.w,h:e-h.h-t.h}};c.setContentSize=function(a,b,e){a=l.byId(a);var h=b.w;b=b.h;d(a)&&(e=c.getPadBorderExtents(a,e),0<=h&&(h+=e.w),0<=b&&(b+=e.h));g(a,NaN,NaN,h,b)};var a={l:0,t:0,w:0,h:0};c.setMarginBox=function(k,p,n){k=l.byId(k);var h=n||m.getComputedStyle(k);n=p.w;var q=p.h,t=d(k)?a:c.getPadBorderExtents(k,h),h=c.getMarginExtents(k,h);if(b("webkit")&&e(k)){var r=k.style;0<=n&&
!r.width&&(r.width="4px");0<=q&&!r.height&&(r.height="4px")}0<=n&&(n=Math.max(n-t.w-h.w,0));0<=q&&(q=Math.max(q-t.h-h.h,0));g(k,p.l,p.t,n,q)};c.isBodyLtr=function(a){a=a||h.doc;return"ltr"==(h.body(a).dir||a.documentElement.dir||"ltr").toLowerCase()};c.docScroll=function(a){a=a||h.doc;var d=h.doc.parentWindow||h.doc.defaultView;return"pageXOffset"in d?{x:d.pageXOffset,y:d.pageYOffset}:(d=b("quirks")?h.body(a):a.documentElement)&&{x:c.fixIeBiDiScrollLeft(d.scrollLeft||0,a),y:d.scrollTop||0}};b("ie")&&
(c.getIeDocumentElementOffset=function(a){a=a||h.doc;a=a.documentElement;if(8>b("ie")){var c=a.getBoundingClientRect(),d=c.left,c=c.top;7>b("ie")&&(d+=a.clientLeft,c+=a.clientTop);return{x:0>d?0:d,y:0>c?0:c}}return{x:0,y:0}});c.fixIeBiDiScrollLeft=function(a,d){d=d||h.doc;var e=b("ie");if(e&&!c.isBodyLtr(d)){var g=b("quirks"),l=g?h.body(d):d.documentElement,m=h.global;6==e&&(!g&&m.frameElement&&l.scrollHeight>l.clientHeight)&&(a+=l.clientLeft);return 8>e||g?a+l.clientWidth-l.scrollWidth:-a}return a};
c.position=function(a,d){a=l.byId(a);var e=h.body(a.ownerDocument),g=a.getBoundingClientRect(),g={x:g.left,y:g.top,w:g.right-g.left,h:g.bottom-g.top};if(9>b("ie")){var m=c.getIeDocumentElementOffset(a.ownerDocument);g.x-=m.x+(b("quirks")?e.clientLeft+e.offsetLeft:0);g.y-=m.y+(b("quirks")?e.clientTop+e.offsetTop:0)}d&&(e=c.docScroll(a.ownerDocument),g.x+=e.x,g.y+=e.y);return g};c.getMarginSize=function(a,b){a=l.byId(a);var d=c.getMarginExtents(a,b||m.getComputedStyle(a)),e=a.getBoundingClientRect();
return{w:e.right-e.left+d.w,h:e.bottom-e.top+d.h}};c.normalizeEvent=function(a){"layerX"in a||(a.layerX=a.offsetX,a.layerY=a.offsetY);if(!b("dom-addeventlistener")){var d=a.target,d=d&&d.ownerDocument||document,e=b("quirks")?d.body:d.documentElement,g=c.getIeDocumentElementOffset(d);a.pageX=a.clientX+c.fixIeBiDiScrollLeft(e.scrollLeft||0,d)-g.x;a.pageY=a.clientY+(e.scrollTop||0)-g.y}};return c})},"dijit/form/_FormValueMixin":function(){define("dojo/_base/declare dojo/dom-attr dojo/keys dojo/_base/lang dojo/on ./_FormWidgetMixin".split(" "),
function(b,h,l,m,g,e){return b("dijit.form._FormValueMixin",e,{readOnly:!1,_setReadOnlyAttr:function(b){h.set(this.focusNode,"readOnly",b);this._set("readOnly",b)},postCreate:function(){this.inherited(arguments);void 0===this._resetValue&&(this._lastValueReported=this._resetValue=this.value)},_setValueAttr:function(b,c){this._handleOnChange(b,c)},_handleOnChange:function(b,c){this._set("value",b);this.inherited(arguments)},undo:function(){this._setValueAttr(this._lastValueReported,!1)},reset:function(){this._hasBeenBlurred=
!1;this._setValueAttr(this._resetValue,!0)}})})},"esri/widgets/BasemapGallery":function(){define("require dojo/_base/array dojo/_base/lang dojo/_base/kernel dojo/dom dojo/dom-construct dojo/dom-class dojo/on dijit/_Widget dijit/_Templated ../kernel ../core/declare ../core/promiseList ../core/urlUtils ../request ../geometry/Extent ../virtualearth/VETiledLayer ../layers/OpenStreetMapLayer ../layers/ArcGISTiledLayer ../layers/ArcGISDynamicLayer ../layers/WebTiledLayer ../layers/support/TileInfo ../layers/ArcGISImageServiceLayer ../layers/support/ImageServiceParameters ./Basemap ./Widget dojo/text!./templates/BasemapGallery.html".split(" "),
function(b,h,l,m,g,e,d,c,a,k,p,n,u,q,t,r,v,x,w,f,s,z,y,A,B,E,F){return n([E,a,k],{declaredClass:"esri.widgets.BasemapGallery",widgetsInTemplate:!0,templateString:F,basePath:b.toUrl(".")+"/",loaded:!1,basemaps:[],bingMapsKey:null,flowContainer:null,_hasUI:!1,_selectedBasemap:null,_selectBasemapInProgress:!1,constructor:function(a,c){a=a||{};a.map||console.error("esri.widgets.BasemapGallery: Unable to find the 'map' property in parameters");this.map=a.map;this._hasUI=c?!0:!1;this.bingMapsKey=a.bingMapsKey&&
0<a.bingMapsKey.length?a.bingMapsKey:null;this.showArcGISBasemaps=!1===a.showArcGISBasemaps?!1:!0;this.basemaps=a.basemaps||[];this.basemapIds=a.basemapIds;this.referenceIds=a.referenceIds;this.basemapsGroup=a.basemapsGroup;this.arcgisUrl=p.dijit._arcgisUrl;a.portalUrl&&(this.arcgisUrl=a.portalUrl+"/sharing/rest");0>this.arcgisUrl.indexOf("://")?this.arcgisUrl=window.location.protocol+"//"+this.arcgisUrl:"https:"===window.location.protocol&&(this.arcgisUrl=this.arcgisUrl.replace("http:","https:"));
this.init()},init:function(){this.inherited(arguments);h.forEach(this.basemaps,function(a,c){if(!a.id||0===a.id.length)a.id=this._getUniqueId();h.forEach(a.layers,function(a){a.opacity=0<=a.opacity?a.opacity:1;a.visibility=!0},this)},this);this.basemapIds&&0<this.basemapIds.length&&h.forEach(this.basemapIds,function(a){this.map.getLayer(a)._basemapGalleryLayerType="basemap"},this);this.referenceIds&&0<this.referenceIds.length&&h.forEach(this.referenceIds,function(a){this.map.getLayer(a)._basemapGalleryLayerType=
"reference"},this);this.basemapsGroup&&(this.basemapsGroup.owner&&this.basemapsGroup.title||this.basemapsGroup.id)?this._findCustomBasemapsGroup(l.hitch(this,"_handleArcGISBasemapsResponse")):this.showArcGISBasemaps?this._findArcGISBasemapsGroup(l.hitch(this,"_handleArcGISBasemapsResponse")):this._finishStartup()},startup:function(){this.inherited(arguments);if(this.loaded)this._refreshUI();else this.on("load",l.hitch(this,function(){this._refreshUI()}))},select:function(a){this._select(a)},getSelected:function(){return this._selectedBasemap},
get:function(a){var c;for(c=0;c<this.basemaps.length;c++)if(this.basemaps[c].id==a)return this.basemaps[c];return null},add:function(a){return a&&!a.id?(a.id=this._getUniqueId(),this.basemaps.push(a),this._refreshUI(),this.emitAdd(a),!0):a&&this._isUniqueId(a.id)?(this.basemaps.push(a),this._refreshUI(),this.emitAdd(a),!0):!1},remove:function(a){var c;for(c=0;c<this.basemaps.length;c++){var b=this.basemaps[c];if(b.id===a)return this._selectedBasemap&&this._selectedBasemap.id===b.id&&(this._selectedBasemap=
null),this.basemaps.splice(c,1),this._refreshUI(),this.emit("remove",{basemap:b}),b}return null},emitAdd:function(a){this.emit("add",{basemap:a})},emitError:function(a){this.emit("error",{message:a})},_defaultBasemapGalleryGroupQuery:'title:"ArcGIS Online Basemaps" AND owner:esri',_basemapGalleryGroupQuery:null,_finishStartup:function(){this.loaded=!0;this.emit("load");0===this.map.layerIds.length&&(0<this.basemaps.length&&!this._selectBasemapInProgress)&&this._select(this.basemaps[0].id)},_findCustomBasemapsGroup:function(a){this.basemapsGroup&&
this.basemapsGroup.id?this._findArcGISBasemaps(this.basemapsGroup.id,a):(this._basemapGalleryGroupQuery='title:"'+this.basemapsGroup.title+'" AND owner:'+this.basemapsGroup.owner,this._findArcGISBasemapsGroup(a))},_findArcGISBasemapsGroup:function(a){if(this._basemapGalleryGroupQuery)this._findArcGISBasemapsGroupContent(a);else{var c=this.arcgisUrl+"/accounts/self",b={f:"json"};b.culture=m.locale;t({url:c,content:b,callbackParamName:"callback",load:l.hitch(this,function(c,b){this._basemapGalleryGroupQuery=
c&&c.basemapGalleryGroupQuery?c.basemapGalleryGroupQuery:this._defaultBasemapGalleryGroupQuery;this._findArcGISBasemapsGroupContent(a)}),error:l.hitch(this,function(a,c){this._basemapGalleryGroupQuery=this._defaultBasemapGalleryGroupQuery})})}},_findArcGISBasemapsGroupContent:function(a){var c=l.hitch(this,"_findArcGISBasemaps"),b=this.arcgisUrl+"/community/groups",f={};f.q=this._basemapGalleryGroupQuery;f.f="json";t({url:b,content:f,callbackParamName:"callback",load:l.hitch(this,function(b,f){0<
b.results.length?c(b.results[0].id,a):this.emitError("esri.widgets.BasemapGallery: could not find group for basemaps.")}),error:l.hitch(this,function(a){this.emitError("esri.widgets.BasemapGallery: could not find group for basemaps.")})})},_findArcGISBasemaps:function(a,c){var b=this.arcgisUrl+"/search",f={};f.q="group:"+a+' AND type:"web map"';f.sortField="name";f.sortOrder="desc";f.num=50;f.f="json";t({url:b,content:f,callbackParamName:"callback",load:l.hitch(this,function(a,b){0<a.results.length?
c(a.results):this.emitError("esri.widgets.BasemapGallery: could not find group for basemaps.")}),error:l.hitch(this,function(a,c){this.emitError("esri.widgets.BasemapGallery: could not find group for basemaps.")})})},_handleArcGISBasemapsResponse:function(a){0<a.length&&(h.forEach(a,function(a,c){if(this.bingMapsKey||!this.bingMapsKey&&a.title&&-1==a.title.indexOf("Bing Maps")){var b={};b.id=this._getUniqueId();b.title=a.title;b.thumbnailUrl="";if(a.thumbnail&&a.thumbnail.length&&(b.thumbnailUrl=
this.arcgisUrl+"/content/items/"+a.id+"/info/"+a.thumbnail,p.id)){var f=p.id.findCredential(q.urlToObject(this.arcgisUrl).path);f&&(b.thumbnailUrl+="?token\x3d"+f.token)}b.itemId=a.id;b=new B(b,this);this.basemaps.splice(0,0,b)}},this),this._finishStartup())},_refreshUI:function(){this._hasUI&&(e.empty(this.flowContainer),h.forEach(this.basemaps,function(a,c){a.id||(a.id="basemap_"+c);this.flowContainer.appendChild(this._buildNodeLayout(a))},this),e.create("br",{style:{clear:"both"}},this.flowContainer),
this._markSelected(this._selectedBasemap))},_buildNodeLayout:function(a){var b=e.create("div",{id:this.id+"_galleryNode_"+a.id,"class":"esri-basemap-gallery-node"}),f=e.create("a",{href:"javascript:void(0);"},b);c(f,"click",l.hitch(this,"_onNodeClick",a));var d=a.title||"";a.thumbnailUrl?e.create("img",{"class":"esri-basemap-gallery-thumbnail",src:a.thumbnailUrl,title:d,alt:d},f):e.create("img",{"class":"esri-basemap-gallery-thumbnail",src:this.basePath.toString()+"images/transparent.gif",title:d,
alt:d},f);a=e.create("div",{"class":"esri-basemap-gallery-label-container"},b);e.create("span",{innerHTML:d,alt:d,title:d},a);return b},_onNodeClick:function(a,c){c.preventDefault();this._markSelected(a);this.select(a.id)},_markSelected:function(a){a&&(h.forEach(m.query(".esri-basemap-gallery-selected-node",this.domNode),function(a){d.remove(a,"esri-basemap-gallery-selected-node")}),(a=g.byId(this.id+"_galleryNode_"+a.id))&&d.add(a,"esri-basemap-gallery-selected-node"))},_select:function(a){this._selectBasemapInProgress=
!0;var c=this.get(a);c?(c.layers?this._getServiceInfos(c):(a=c.getLayers(this.arcgisUrl),l.isArray(a)?this._getServiceInfos(c):a.then(l.hitch(this,function(a){this._getServiceInfos(c)}))),this._markSelected(c)):this._selectBasemapInProgress=!1},_getServiceInfos:function(a){"https:"==location.protocol&&h.forEach(a.layers,function(a){if(this._isAgolService(a.url)||this._isHostedService(a.url))a.url=a.url.replace("http:","https:")},this);this._selectedBasemap=a;var c=[];h.forEach(a.layers,function(a){a.url&&
(0<a.url.length&&!a.isReference&&!a.type)&&(a.deferredsPos=c.length,c.push(this._getServiceInfo(a.url)))},this);0<c.length?u(c).then(l.hitch(this,function(c){this._switchBasemapLayers(a);this._updateReferenceLayer(a)})):(this._switchBasemapLayers(a),this._updateReferenceLayer(a))},_switchBasemapLayers:function(a){a=a.layers;if(0<this.map.layerIds.length&&0===this.map.getNumLevels()&&("OpenStreetMap"===a[0].type||a[0].type&&-1<a[0].type.indexOf("BingMaps")||"WebTiledLayer"===a[0].type))this.emitError("esri.widgets.BasemapGallery: Unable to switch basemap because new basemap is a tiled service and cannot be loaded as a dynamic layer.");
else{h.forEach(a,function(a){!a.isReference&&(a.type&&-1<a.type.indexOf("BingMaps")&&!this.bingMapsKey)&&this.emitError("esri.widgets.BasemapGallery: Invalid Bing Maps key.")},this);this._removeBasemapLayers();var c=0;h.forEach(a,function(a){if(!a.isReference){var b;if("OpenStreetMap"===a.type){if(0<this.map.layerIds.length&&0===this.map.getNumLevels()){this.emitError("esri.widgets.BasemapGallery: Unable to switch basemap because new basemap is a tiled service and cannot be loaded as a dynamic layer.");
return}b=new x({id:"layer_osm",opacity:a.opacity})}else if(a.type&&-1<a.type.indexOf("BingMaps")){if(0<this.map.layerIds.length&&0===this.map.getNumLevels()){this.emitError("esri.widgets.BasemapGallery: Unable to switch basemap because new basemap is a tiled service and cannot be loaded as a dynamic layer.");return}b=v.MAP_STYLE_AERIAL_WITH_LABELS;"BingMapsAerial"==a.type?b=v.MAP_STYLE_AERIAL:"BingMapsRoad"==a.type&&(b=v.MAP_STYLE_ROAD);b=new v({id:"layer_bing",bingMapsKey:this.bingMapsKey,mapStyle:b,
opacity:a.opacity})}else if("WebTiledLayer"==a.type){if(0<this.map.layerIds.length&&0===this.map.getNumLevels()){this.emitError("esri.widgets.BasemapGallery: Unable to switch basemap because new basemap is a tiled service and cannot be loaded as a dynamic layer.");return}b=new s(a.templateUrl,{visible:a.visibility,opacity:a.opacity,copyright:a.copyright,fullExtent:a.fullExtent,initialExtent:a.initialExtent||a.fullExtent,subDomains:a.subDomains,tileInfo:a.tileInfo?new z(a.tileInfo):null,tileServers:a.tileServers})}else a.serviceInfoResponse&&
a.serviceInfoResponse.mapName?b=(0===this.map.layerIds.length||0<this.map.getNumLevels())&&!0===a.serviceInfoResponse.singleFusedMapCache?this._loadAsCached(a):this._loadAsDynamic(a):a.serviceInfoResponse&&a.serviceInfoResponse.pixelSizeX&&(b=new A,b.bandIds=a.bandIds,!a.bandIds&&(a.serviceInfoResponse.bandCount&&3<parseInt(a.serviceInfoResponse.bandCount))&&(b.bandIds=[0,1,2]),b=new y(a.url,{resourceInfo:a.serviceInfoResponse,opacity:a.opacity,visible:a.visibility,imageServiceParameters:b}));b&&
(b._basemapGalleryLayerType="basemap",this.map.addLayer(b,c),c++)}},this);this._selectBasemapInProgress=!1;this.emit("selection-change")}},_removeBasemapLayers:function(){var a=this.map.layerIds,c=[];h.forEach(a,function(a){a=this.map.getLayer(a);"basemap"===a._basemapGalleryLayerType&&c.push(a)},this);0===c.length&&0<a.length&&c.push(this.map.getLayer(a[0]));0<c.length&&h.forEach(c,function(a){this.map.removeLayer(a)},this)},_updateReferenceLayer:function(a){var c;this._removeReferenceLayer();for(c=
0;c<a.layers.length;c++)!0===a.layers[c].isReference&&this._addReferenceLayer(a.layers[c])},_removeReferenceLayer:function(){var a;for(a=this.map.layerIds.length-1;0<=a;a--){var c=this.map.getLayer(this.map.layerIds[a]);"reference"===c._basemapGalleryLayerType&&this.map.removeLayer(c)}},_addReferenceLayer:function(a){this._getServiceInfo(a.url,l.hitch(this,"_handleReferenceServiceInfoResponse",a))},_handleReferenceServiceInfoResponse:function(a,c,b){var f;(a.serviceInfoResponse=c)&&c.mapName?f=!0===
c.singleFusedMapCache?this._loadAsCached(a):this._loadAsDynamic(a):c&&c.pixelSizeX&&(b=new A,b.bandIds=a.bandIds,!a.bandIds&&(c.bandCount&&3<parseInt(c.bandCount))&&(b.bandIds=[0,1,2]),f=new y(a.url,{resourceInfo:c,opacity:a.opacity,visible:a.visibility,imageServiceParameters:b}));f&&(f._basemapGalleryLayerType="reference",this.map.addLayer(f))},_getServiceInfo:function(a,c){return t({url:a,content:{f:"json"},callbackParamName:"callback",load:function(a,b){c&&c(a,b)},error:l.hitch(this,function(a,
c){this.emitError("esri.widgets.BasemapGallery: service not accessible.")})})},_loadAsCached:function(a){var c=[];a.displayLevels||(c=h.map(a.serviceInfoResponse.tileInfo.lods,function(a){return a.level}));var b=null;a.exclusionAreas&&a.exclusionAreas.length&&(b=[],h.forEach(a.exclusionAreas,function(a){b.push({minZoom:a.minZoom,maxZoom:a.maxZoom,minScale:a.minScale,maxScale:a.maxScale,geometry:new r(a.geometry)})}));return new w(a.url,{resourceInfo:a.serviceInfoResponse,opacity:a.opacity,visible:a.visibility,
exclusionAreas:b,displayLevels:a.displayLevels||c})},_loadAsDynamic:function(a){var c=new f(a.url,{resourceInfo:a.serviceInfoResponse,opacity:a.opacity,visible:a.visibility});a.visibleLayers&&c.setVisibleLayers(a.visibleLayers);return c},_getIntersectionPercent:function(a,c){var b=c.intersects(a);if(b){var b=b.getWidth()*b.getHeight(),f=c.getWidth()*c.getHeight();return 100*(b/f)}return 0},_getIds:function(){var a=[];h.forEach(this.basemaps,function(c){a.push(c.id)},this);return a},_getUniqueId:function(){for(var a=
","+this._getIds().toString()+",",c=0;;)if(-1<a.indexOf(",basemap_"+c+","))c++;else return"basemap_"+c},_isUniqueId:function(a){return-1===(","+this._getIds().toString()+",").indexOf(","+a+",")?!0:!1},_isAgolService:function(a){if(!a)return!1;var c=!1;h.forEach(("undefined"===typeof window.esriGeowConfig?{httpsDomains:["arcgis.com","arcgisonline.com"]}:window.esriGeowConfig).httpsDomains,function(b){if(-1<a.indexOf("."+b+"/")||-1<a.indexOf("/"+b+"/"))c=!0});return c},_isHostedService:function(a){return!a?
!1:-1!==a.indexOf(".arcgis.com/")}})})},"dojo/date/stamp":function(){define(["../_base/lang","../_base/array"],function(b,h){var l={};b.setObject("dojo.date.stamp",l);l.fromISOString=function(b,g){l._isoRegExp||(l._isoRegExp=/^(?:(\d{4})(?:-(\d{2})(?:-(\d{2}))?)?)?(?:T(\d{2}):(\d{2})(?::(\d{2})(.\d+)?)?((?:[+-](\d{2}):(\d{2}))|Z)?)?$/);var e=l._isoRegExp.exec(b),d=null;if(e){e.shift();e[1]&&e[1]--;e[6]&&(e[6]*=1E3);g&&(g=new Date(g),h.forEach(h.map("FullYear Month Date Hours Minutes Seconds Milliseconds".split(" "),
function(a){return g["get"+a]()}),function(a,c){e[c]=e[c]||a}));d=new Date(e[0]||1970,e[1]||0,e[2]||1,e[3]||0,e[4]||0,e[5]||0,e[6]||0);100>e[0]&&d.setFullYear(e[0]||1970);var c=0,a=e[7]&&e[7].charAt(0);"Z"!=a&&(c=60*(e[8]||0)+(Number(e[9])||0),"-"!=a&&(c*=-1));a&&(c-=d.getTimezoneOffset());c&&d.setTime(d.getTime()+6E4*c)}return d};l.toISOString=function(b,g){var e=function(a){return 10>a?"0"+a:a};g=g||{};var d=[],c=g.zulu?"getUTC":"get",a="";"time"!=g.selector&&(a=b[c+"FullYear"](),a=["0000".substr((a+
"").length)+a,e(b[c+"Month"]()+1),e(b[c+"Date"]())].join("-"));d.push(a);if("date"!=g.selector){a=[e(b[c+"Hours"]()),e(b[c+"Minutes"]()),e(b[c+"Seconds"]())].join(":");c=b[c+"Milliseconds"]();g.milliseconds&&(a+="."+(100>c?"0":"")+e(c));if(g.zulu)a+="Z";else if("time"!=g.selector)var c=b.getTimezoneOffset(),k=Math.abs(c),a=a+((0<c?"-":"+")+e(Math.floor(k/60))+":"+e(k%60));d.push(a)}return d.join("T")};return l})},"esri/views/3d/support/eventUtils":function(){define(["../../../core/watchUtils","dojo/on",
"dojo/_base/lang"],function(b,h,l){function m(){this.handles=[];this.ids={}}function g(b){var c={},a;for(a in b){var e=b[a];if("function"===typeof e)c[a]=e;else for(var g in e)c[a+"."+g]=e[g]}return c}function e(b,c){var a={},e;for(e in b){var g=b[e],n={};"object"===typeof g&&(n=l.mixin({},g),delete n.handler,g=g.handler);c&&(g=function(a){return function(){a.apply(c,arguments)}}(g));var m=e.split("."),q;1===m.length?(q="",m=e[0]):(q=m.slice(0,m.length-1).join("."),m=m[m.length-1]);a[q]||(a[q]=[]);
a[q].push({eventName:m,handler:g,installer:n.pausable?h.pausable:h})}return a}m.prototype.remove=function(){this.handles.forEach(function(b){b.remove()});this.handles.length=0;this.ids={}};m.prototype.push=function(){2===arguments.length&&"string"===typeof arguments[0]?(this.handles.push(arguments[1]),this.ids[arguments[0]]=arguments[1]):this.handles.push.apply(this.handles,arguments)};m.prototype.byId=function(b){return this.ids[b]};return{Handles:m,on:function(d,c,a,k){var l=new m,n={};if("string"===
typeof c){var h={};h[c]=a;c=h;a=k}c=e(g(c),a);for(var q in c){var t=new m;n[q]=t;q?l.push(b.init(d,q,function(a,c,b){return function(d){a.remove();d&&b.forEach(function(b){a.push(c+"."+b.eventName,b.installer(d,b.eventName,b.handler))})}}(t,q,c[q]))):c[q].forEach(function(a){t.push(q+"."+a.eventName,a.installer(d,a.eventName,a.handler))})}var r=new m,v=r.remove;r.remove=function(){for(var a in n)n[a].remove();n={};l.remove();v.call(r)};r.byId=function(a){for(var c in n){var b=n[c].byId(a);if(b)return b}return null};
return r}}})},"esri/views/SceneView":function(){define("../core/declare dojo/_base/lang dojo/dom dojo/Deferred ./View ./ViewAnimation ../geometry/SpatialReference ../geometry/support/webMercatorUtils ../Camera ../geometry/Point ../geometry/Extent ../geometry/ScreenPoint ../Viewpoint ../core/Scheduler ../core/sniff ../core/watchUtils ./3d/SceneViewEnvironment ./3d/SceneViewEnvironmentManager ./3d/SceneViewConstraints ./3d/lib/glMatrix ./3d/support/cameraUtils ./3d/support/viewpointUtils ./3d/support/eventUtils ./3d/support/projectionUtils ./3d/webgl-engine/Stage ./3d/webgl-engine/lib/Selector ./3d/support/RenderCoordsHelper ./3d/support/MapCoordsHelper ./3d/support/ResourceController ./3d/terrain/TerrainSurface ./3d/layers/graphics/LabelManager ./3d/navigation/spherical/NavigationSpherical ./3d/navigation/planar/NavigationPlanar ./3d/navigation/EventController ./3d/support/Frustum ./3d/webgl-engine/lib/es6-shim".split(" "),
function(b,h,l,m,g,e,d,c,a,k,p,n,u,q,t,r,v,x,w,f,s,z,y,A,B,E,F,G,Q,M,T,K,C,D,L,W){function ca(a,c){return function(){return!this.ready||this._destroying?this._initialProps&&this._initialProps[a]:c.apply(this,arguments)}}function V(a,c){return function(b){if(!this.ready||this._destroying)this._initialProps[a]=b;else return c.apply(this,arguments)}}var R=f.vec3d,N=R.create(),H=new k(0,0,0),O=new a(new k(0,0,0)),I=b(g,{declaredClass:"esri.views.SceneView",classMetadata:{properties:{spatialReference:{readOnly:!0,
dependsOn:["map.spatialReference"],getter:function(){return this.map&&this.map.spatialReference}},camera:{copy:function(a,c){a.position.x=c.position.x;a.position.y=c.position.y;a.position.z=c.position.z;a.position.spatialReference=c.position.spatialReference;a.heading=c.heading;a.tilt=c.tilt},type:a},center:{copy:function(a,c){if(!a)return c.clone();a.x=c.x;a.y=c.y;a.z=c.z;a.spatialReference=c.spatialReference;return a},type:k},extent:{copy:function(a,c){a.xmin=c.xmin;a.ymin=c.ymin;a.zmin=c.zmin;
a.xmax=c.xmax;a.ymax=c.ymax;a.zmax=c.zmax;a.spatialReference=c.spatialReference},type:p},viewpoint:{copy:function(a,c){a.rotation=c.rotation;a.scale=c.scale;a.targetGeometry=c.targetGeometry;a.camera=c.camera}},fullExtent:{readOnly:!0},clippingArea:{type:p},basemapTerrain:{readOnly:!0},canvas:{readOnly:!0},environment:{type:v},constraints:{type:w},animation:{type:e},navigation:{readOnly:!0}},computed:{scale:["camera"],zoom:["camera"],center:["camera"],viewpoint:["camera"],extent:["camera"],rotation:["camera"]}},
getDefaults:function(a){var c=h.mixin(this.inherited(arguments),{padding:{top:0,right:0,bottom:0,left:0}});c.environment||(c.environment=new v);c.constraints||(this._defaultConstraints=new w,c.constraints=this._defaultConstraints);return c},normalizeCtorArgs:function(a){a=h.mixin({},a);a.environment&&"esri.views.3d.SceneViewEnvironment"!==a.environment.declaredClass&&(a.environment=new v(a.environment));"planar"!==a.globeMode&&"spherical"!==a.globeMode&&delete a.globeMode;return a},constructor:function(){this.watch("ready",
this._viewReadyHandler.bind(this));this._initialProps={};this._basemapTerrainExtentHandler=this._basemapTerrain=this._canvas=null;this._globeMode="spherical";this._initCoordinateSystem();this._externalCameraSet=!1;this._frustum=new L;this.navigationController=this._navigation=this._constraints=this._environment=this._animationDelayId=this._animationStateWatcher=this.animation=null;this.navigationControls=D.PAN;this.resourceController=new Q(this);this.labelManager=new T(this);this.environmentManager=
new x({view:this});this._updateDrawingOrderHandle=this.layerViewsFlat.on("change",this._updateDrawingOrder.bind(this));this._updateDrawingOrder();this._initialExtent=null;this._initialExtentOrigin=I.ExtentOrigins.VIEWPORT;this._layerViewsUpdatingHandles={};this._evaluateUpdating=this._evaluateUpdating.bind(this);this._updateUpdatingMonitorsHandle=this.layerViewsFlat.on("change",this._updateUpdatingMonitors.bind(this));this._navigationHandles=y.on(this,{navigation:{currentViewChanged:this._navigationCurrentViewChanged,
targetViewChanged:{handler:this._navigationTargetViewChanged,pausable:!0},currentViewReachedTarget:this._navigationCurrentViewReachedTarget,animationStarted:{handler:this._navigationAnimationStarted,pausable:!0}}},this);this._navigationHandles.push(this.watch("navigation.interacting",this._navigationInteractingChanged.bind(this)));this._mapSpatialReferenceHandle=this.watch("map.spatialReference",this._mapSpatialReferenceChanged.bind(this))},initialize:function(){t("esri-webgl")?this._viewInitializePromise.resolve():
this._viewInitializePromise.reject(Error("WebGL is required but not supported"))},type:"3d",globeMode:"spherical",updatingPercentage:0,environment:null,constraints:null,animation:null,camera:null,viewpoint:null,extent:null,clippingArea:null,scale:0,zoom:0,center:null,toMap:function(a,c,b){if(!this.ready)return null;a=this._normalizePoint(a,c,void 0,H);a=this._stage._pick([a.x,this.height-a.y]).getMinResult();return this._computeMapPointFromIntersectionResult(a,b)},toScreen:function(a,c,b,f){if(!this.ready)return null;
a=this._normalizePoint(a,c,b,H);A.pointToVector(a,N,this.renderSpatialReference);return this.engineToScreen(N,f)},pixelSizeAt:function(a,c,b){if(!this.ready)return null;if("esri.geometry.ScreenPoint"===a.declaredClass){if(!this._stage._pick([a.x,this.height-a.y]).getMinResult().getIntersectionPoint(N))return 0}else a=this._normalizePoint(a,c,b,H),A.pointToVector(a,N,this.renderSpatialReference);return this.navigation.currentCamera.computePixelSizeAt(N)},hitTest:function(a,c){if(!this.ready)return null;
var b=this._normalizePoint(a,c,void 0,H),f=new m,b=[b.x,this.height-b.y],b=this._stage._pick(b,null,null,!0).getMinResult(),d=this._computeMapPointFromIntersectionResult(b),e;null!=b.object&&(e=this._getGraphicFromStageObject(b.object,b.triangleNr));e?e.then(function(a){f.resolve({mapPoint:d,graphic:a})},function(){f.resolve({mapPoint:d,graphic:null})}):f.resolve({mapPoint:d,graphic:null});return f.promise},animateTo:function(a,c){if(this.ready){c=c||{};var b=this.createViewpoint(a,c);if(!b)return(new m).reject(Error("Failed to convert target to viewpoint")).promise;
var f=z.toCamera(this,b);if(!f)return(new m).reject(Error("Failed to convert viewpoint to camera")).promise;this._animationDelayId&&(clearTimeout(this._animationDelayId),this._animationDelayId=0);!this.animation||"running"!==this.animation.state?this.animation=new e({target:b}):this.animation.target=b;var d=this.animation,k=function(){this._navigationHandles.byId("navigation.targetViewChanged").pause();this._navigationHandles.byId("navigation.animationStarted").pause();this._setCamera(f,{animate:!0});
d.state===e.State.STOPPED&&(d.state=e.State.FINISHED);this._navigationHandles.byId("navigation.targetViewChanged").resume();this._navigationHandles.byId("navigation.animationStarted").resume();this.animation&&this._hidePopupWindow()}.bind(this);c.delay?this._animationDelayId=setTimeout(function(){this._animationDelayId=0;k()}.bind(this),c.delay):k();return d}},createViewpoint:function(a,c){return z.create(this,a,c)},takeScreenshot:function(a){a=h.mixin({format:"png",quality:100},a||{});var c=new m,
b,f;a.includePadding||(b=this.width-this.padding.left-this.padding.right,f=this.height-this.padding.top-this.padding.bottom);var d=b/f;void 0!==a.width&&void 0===a.height?a.height=Math.floor(a.width/d):void 0!==a.height&&void 0===a.width&&(a.width=Math.floor(d*a.height));!a.area&&!a.includePadding&&(a.area={x:this.padding.left,y:this.padding.top,width:b,height:f});this._stage.requestScreenCapture(a,function(a){c.resolve(a)});return c.promise},setInitialExtent:function(a,b){var f=this.get("map.spatialReference");
return f&&a&&!c.canProject(a.spatialReference,f)?!this._externalCameraSet:b>=this._initialExtentOrigin?(this._initialExtentOrigin=b,a&&!this._externalCameraSet?(this.ready?(this._setInitialViewpointFromExtent(a),this._initialExtent=null):this._initialExtent=a,!0):!this._externalCameraSet):!1},engineToScreen:function(a,c){var b=R.create();this._stage.getCamera().projectPoint(a,b);var f=b[0],d=this.height-b[1],b=b[2];return c?(c.x=f,c.y=d,c.z=b,c):new n({x:f,y:d,z:b})},destroy:function(){this._destroying=
!0;this._animationDelayId&&clearTimeout(this._animationDelayId);this.environmentManager.view=null;this.destroyLayerViews();this.factory.destroy();this._disposeSurface();this.labelManager.destroy();this.labelManager=null;this.resourceController.destroy();this.resourceController=null;this._updateUpdatingMonitorsHandle.remove();this._updateUpdatingMonitorsHandle=null;this._navigationHandles.remove();this._navigationHandles=null;this._mapSpatialReferenceHandle.remove();this._mapSpatialReferenceHandle=
null},setLightingParameters:function(a){this._stage&&(this._stage.setDirectionalLight(a.diffuse),this._stage.setAmbientLight(a.ambient))},getRenderingParameters:function(a){return this._stage?this._stage.getRenderParams(a):null},setRenderingParameters:function(a){this._stage&&this._stage.setRenderParams(a)},has:function(a){return this._stage.has(a)},flushDisplayModifications:function(){this._stage.processDirty()},getFrustum:function(){this._frustum.dirty&&this._frustum.update(this.navigation.currentCamera);
return this._frustum},getDrawingOrder:function(a){return this.layerViewsFlat.findIndex(function(c){return c.layer&&c.layer.id===a})},renderSpatialReference:null,_trackCanvasSize:function(){this.on("resize",function(a){if(this.canvas){this.canvas.width=a.width;this.canvas.height=a.height;var c=this._stage.getCamera();c.width=a.width;c.height=a.height;this._stage.setCamera(c);this.navigation&&(this.navigation.windowSize=[a.width,a.height])}}.bind(this));this.canvas.width=this.width;this.canvas.height=
this.height},_computeMapPointFromIntersectionResult:function(a,c){if(a.getIntersectionPoint(N)){var b=this.map.spatialReference||d.WGS84;A.vectorToVector(N,this.renderSpatialReference,N,b)||(b=d.WGS84,A.vectorToVector(N,this.renderSpatialReference,N,b));c?(c.x=N[0],c.y=N[1],c.z=N[2],c.spatialReference=b):c=new k(N,b);"terrain"===a.intersector&&this.basemapTerrain&&(b=this.basemapTerrain.getElevation(c),null!==b&&(c.z=b));return c}return null},_onGeometryPicked:function(a,c,b){var f={};f.screenPoint=
{x:c[0],y:c[1]};if(c=this._computeMapPointFromIntersectionResult(b))f.mapPoint=c;null!=a?(a=this._getGraphicFromStageObject(a,b.triangleNr))&&a.then(function(a){f.graphic=a;this.emit("tap",f);this.emit("click",f)}.bind(this),function(a){this.emit("tap",f);this.emit("click",f)}.bind(this)):(this.emit("tap",f),this.emit("click",f))},_getGraphicFromStageObject:function(a,c){var b=a.getMetadata();if(null!=b&&null!=b.layerId&&(b=this.map.getLayer(b.layerId)))if((b=this.getLayerView(b))&&null!=b.getGraphicsFromStageObject&&
!b.suspended)return b.getGraphicsFromStageObject(a,c);return null},_initBasemapTerrain:function(a){this._disposeBasemapTerrain();this._basemapTerrain=new M(this,a);this.notifyChange("basemapTerrain");this.notifyChange("fullExtent");this._basemapTerrainExtentHandler=this._basemapTerrain.watch("extent",function(){this.notifyChange("fullExtent")}.bind(this));this.navigation.elevationProvider=this._basemapTerrain},_initGlobe:function(a){this._initCoordinateSystem();this._initNavigation(a);this.onViewExtentUpdatedHandle&&
(this.onViewExtentUpdatedHandle.remove(),this.onViewExtentUpdatedHandle=null);this._stage.setViewParams({backgroundColor:[0,0,0,0],maxFarNearRatio:0,frustumCullingEnabled:!1});this._initBasemapTerrain(a);this._navigationCurrentViewChanged({camera:this.navigation.currentCamera})},_initCoordinateSystem:function(){if(this.map&&this.map.spatialReference){var a=this.map.spatialReference,c=this.mapCoordsHelper?this.mapCoordsHelper.mapUnitInMeters:1;if(!this.mapCoordsHelper||!this.mapCoordsHelper.spatialReference.equals(a))this.mapCoordsHelper=
new G(a),this._stage&&this._stage.setIntersectTolerance(E.DEFAULT_TOLERANCE/this.mapCoordsHelper.mapUnitInMeters),this._constraints&&this._constraints.scale(c/this.mapCoordsHelper.mapUnitInMeters);a=(c="spherical"===this._globeMode)?A.SphericalRenderSpatialReference:a;a!==this.renderSpatialReference&&(this.renderSpatialReference=a,this.renderCoordsHelper=new (c?F.Spherical:F.Planar)(a))}else this.renderSpatialReference=this.renderCoordsHelper=this.mapCoordsHelper=null},_hidePopupWindow:function(){this.popup&&
this.popup.isShowing&&this.popup.hide()},_navigationInteractingChanged:function(a){a=!!a;a!==this.interacting&&(a&&this._hidePopupWindow(),this.interacting=a)},_paddingEqualsArray:function(a){var c=this.padding;return!c?!0:c.top===a[0]&&c.right===a[1]&&c.bottom===a[2]&&c.left===a[3]},_navigationCurrentViewChanged:function(a){this._frustum.dirty=!0;a=a.camera;var c=a.padding;if(!this._paddingEqualsArray(c)){var b=this._padding,c={top:c[0],right:c[1],bottom:c[2],left:c[3]};this.ready?(this._padding=
c,this.notifyChange("padding",b,c)):this.padding=c}this._stage.setCamera(a);this.notifyChange("camera")},_navigationAnimationStarted:function(a){a=z.create(this,this.navigation.targetCamera);this.animation?this.animation.target=a:this.animation=new e({target:a})},_navigationTargetViewChanged:function(a){if(this.animation){a=a.camera;var c=this.map.spatialReference||d.WGS84,b=s.internalToExternal(this,a);a=new u({camera:b,targetGeometry:A.vectorToPoint(a.center,c,this.renderSpatialReference),scale:s.computeScale(this,
a),rotation:z.headingToRotation(b.heading)});this.animation.target=a}},_navigationCurrentViewReachedTarget:function(a){if(this.animation&&(!a.finishedAnimation||!this._animationDelayId)){this._animationDelayId&&(clearTimeout(this._animationDelayId),this._animationDelayId=0);this._animationStateWatcher&&(this._animationStateWatcher.remove(),this._animationStateWatcher=null);var c=this.animation;this.animation=null;a.finishedAnimation?c.finish():c.stop();this.notifyChange("animation")}},_setCamera:function(a,
c){var b=s.externalToInternal(this,a);b&&(this.navigation.setCamera(b,c),this._externalCameraSet=!0);this._hidePopupWindow()},_evaluateUpdating:function(){var a=0,c=0,b=!1;this.layerViewsFlat.forEach(function(f){f.updating&&(b=!0,f=f.updatingPercentage,null!=f&&(++c,a+=f))});b!==this.updating&&(this.updating=b);a=0!==c?a/c:b?100:0;this.updatingPercentage!==a&&(this.updatingPercentage=a)},_updateUpdatingMonitors:function(a){for(var c=0;c<a.removed.length;c++){var b=a.removed[c],f=this._layerViewsUpdatingHandles[b.id];
f&&(delete this._layerViewsUpdatingHandles[b.id],f.remove())}for(c=0;c<a.added.length;c++)b=a.added[c],b.layer&&(f=b.watch(["updating","updatingPercentage"],this._evaluateUpdating),this._layerViewsUpdatingHandles[b.id]=f);this._evaluateUpdating()},_mapSpatialReferenceChanged:function(a){this.basemapTerrain&&(this.basemapTerrain.spatialReference&&a&&!this.basemapTerrain.spatialReference.equals(a))&&(this.basemapTerrain.tilingScheme=null,this._externalCameraSet=!1,r.once(this,"fullExtent",function(){this._externalCameraSet||
this._setInitialViewpointFromExtent(this.fullExtent)}.bind(this)));this._initCoordinateSystem()},_pickRay:function(){return this._stage?this._stage.pickRay.apply(this._stage,arguments):null},_pickRayWithBeginPoint:function(){return this._stage?this._stage.pickRayWithBeginPoint.apply(this._stage,arguments):null},_removeHandles:function(a){for(var c=0;c<a.length;c++){var b=a[c];this[b]&&(this[b].remove(),this[b]=null)}},_setCanvas:function(a){if(a!==this._canvas){var c=this._canvas;this._canvas=a;this.notifyChange("canvas",
c,a)}},_disposeSurface:function(){this._removeHandles(["_stageFrameTask","_updateDrawingOrderHandle","onViewExtentUpdateHandle"]);this._disposeBasemapTerrain();this._setNavigation(null);this.environmentManager.dispose();this._stage&&(this._stage.dispose(),this._stage=null);this._setCanvas(null)},_disposeBasemapTerrain:function(){this._basemapTerrain&&(this._basemapTerrain.destroy(),this._basemapTerrain=null,this._basemapTerrainExtentHandler.remove(),this._basemapTerrainExtentHandler=null)},_disposeNavigation:function(){this._navigation&&
(this._navigation.destroy(),this._navigation=this._navigation.elevationProvider=null);this.navigationController&&(this.navigationControls=this.navigationController.getControls(),this.navigationController.destroy(),this.navigationController=null)},_setNavigation:function(a){if(this._navigation!==a){this._disposeNavigation();if(this._navigation=a)a.windowSize=[this.width,this.height],a.userConstraints=this.constraints;this.notifyChange("navigation");this._accessorProps.dispatch()}},_initNavigation:function(a){a=
a||this.globeMode;var c={view:this};"spherical"===a?this._setNavigation(new K(c)):this._setNavigation(new C(c));this.navigationController=new D(this,this.navigationControls)},_initSurface:function(){var a={};null!=this.antialias&&(a.antialias=this.antialias);this._stage=new B(l.byId(this.surface),a);this._stage.selectionState=!1;this._stage.onGeometryPicked=this._onGeometryPicked.bind(this);this.mapCoordsHelper&&this._stage.setIntersectTolerance(E.DEFAULT_TOLERANCE/this.mapCoordsHelper.mapUnitInMeters);
this._setCanvas(this._stage.getCanvas());this._stageFrameTask=q.addFrameTask(this._stage.getFrameTask());this._trackCanvasSize();this._initGlobe(this.globeMode)},_normalizePoint:function(a,c,b,f){f.spatialReference=void 0;"object"===typeof a?Array.isArray(a)?(f.x=a[0],f.y=a[1],f.z=a[2]):(f.x=a.x,f.y=a.y,f.z=a.z,a.spatialReference&&(f.spatialReference=a.spatialReference)):(f.x=a,f.y=c,f.z=b);f.spatialReference||(f.spatialReference=this.map.spatialReference||d.WGS84);return f},_viewReadyHandler:function(a){if(a){this._initSurface();
for(var c in this._initialProps)this._initialProps.hasOwnProperty(c)&&this.set(c,this._initialProps[c]);this._initialProps={};!this.setInitialExtent(this.map.extent,I.ExtentOrigins.MAP)&&(this._initialExtent&&!this._externalCameraSet)&&(this._setInitialViewpointFromExtent(this._initialExtent),this._initialExtent=null);this._externalCameraSet||(a=this.camera.clone(),a.heading=0,a.tilt=0,this.camera=a)}else this._disposeSurface()},_cameraSetter:V("camera",function(a){this._setCamera(a,{animate:!1})}),
_cameraGetter:ca("camera",function(a){return s.internalToExternal(this,this.navigation.currentCamera,a)}),_externalExtent:function(){this._cachedExtentDirty&&(s.toExtent(this,null,null,this._cachedExtent,O),this._cachedExtentDirty=!1);return this._cachedExtent},_extentGetter:ca("extent",function(a){return s.toExtent(this,null,null,a,O)}),_extentSetter:V("extent",function(a){if(a=s.fromExtent(this,a,this.camera,O))this.camera=a}),_scaleGetter:ca("scale",function(){return s.computeScale(this)}),_scaleSetter:V("scale",
function(a){var c=this.camera,b=this.navigation.currentCamera.center,f=R.create();A.vectorToVector(b,this.renderSpatialReference,f,d.WGS84);a=s.scaleToDistance(this,a,f[1]);c=s.eyeHeadingTiltForCenterPointAtDistance(this,c.heading,c.tilt,b,a);this.navigation.setCameraFromEyeCenterAndUp(c.eye,c.center,c.up,{animate:!1});this._hidePopupWindow();this._externalCameraSet=!0}),_zoomGetter:ca("zoom",function(){return s.scaleToZoom(this,this.scale)}),_zoomSetter:V("zoom",function(a){this.scale=s.zoomToScale(this,
a)}),_centerGetter:ca("center",function(a){var c=this.map.spatialReference||d.WGS84;return A.vectorToPoint(this.navigation.currentCamera.center,this.renderSpatialReference,a||c,c)}),_centerSetter:V("center",function(a){var c=this.camera;a=s.eyeHeadingTiltForCenterPointAtDistance(this,c.heading,c.tilt,a,this.navigation.currentCamera.distance);this.navigation.setCameraFromEyeCenterAndUp(a.eye,a.center,a.up,{animate:!1});this._hidePopupWindow();this._externalCameraSet=!0}),_viewpointGetter:ca("viewpoint",
function(){return this.createViewpoint(this.camera)}),_viewpointSetter:V("viewpoint",function(a){a=this.createViewpoint(a);(a=z.toCamera(this,a))&&this._setCamera(a,{animate:!1})}),_rotationGetter:ca("rotation",function(){return z.headingToRotation(this.camera.heading)}),_rotationSetter:V("rotation",function(a){var c=this.navigation.currentCamera,b=c.distance,f=this.camera;a=z.rotationToHeading(a);c=s.eyeHeadingTiltForCenterPointAtDistance(this,a,f.tilt,c.center,b,{noReset:!0});this.navigation.setCameraFromEyeCenterAndUp(c.eye,
c.center,c.up,{animate:!1});this._hidePopupWindow();this._externalCameraSet=!0}),_fullExtentGetter:function(){if(this._basemapTerrain&&this._basemapTerrain.spatialReference){var a=this._basemapTerrain.extent,c=Math.max(a[2]-a[0],a[3]-a[1]);return new p({xmin:a[0],ymin:a[1],zmin:4*-c,xmax:a[2],ymax:a[3],zmax:4*c,spatialReference:this._basemapTerrain.spatialReference})}return new p({spatialReference:this.map&&this.map.spatialReference?this.map.spatialReference:d.WebMercator})},_globeModeSetter:function(a){a!==
this._globeMode&&(this._globeMode=a,this.ready&&this._initGlobe(a));return a},_globeModeGetter:function(){return this._globeMode},_screenCenterGetter:function(){var a=this.padding;return new n((this.size[0]-(a.left+a.right))/2+a.left,(this.size[1]-(a.top+a.bottom))/2+a.top)},_updateDrawingOrder:function(){var a=this.layerViewsFlat.length-1;this.layerViewsFlat.forEach(function(c,b){c.drawingOrder=a-b},this)},_paddingGetter:ca("padding",function(){return this._padding}),_paddingSetter:V("padding",function(a){this._padding=
{top:a&&a.top||0,right:a&&a.right||0,bottom:a&&a.bottom||0,left:a&&a.left||0};this.navigation&&(this.navigation.padding=this._padding)}),_constraintsGetter:ca("constraints",function(){return this._constraints}),_constraintsSetter:V("constraints",function(a){this._constraints=a;this._constraints===this._defaultConstraints&&(this._defaultConstraints=null,this._constraints.scale(1/this.mapCoordsHelper.mapUnitInMeters));this.navigation.userConstraints=a}),_animationSetter:function(a){this.ready&&(this._animationStateWatcher&&
(this._animationStateWatcher.remove(),this._animationStateWatcher=null),(this._animation=a)&&a.then(function(){if(this._animation===a){var c=!!this._animationDelayId;c&&(clearTimeout(this._animationDelayId),this._animationDelayId=0);var b=a.target;this.animation=null;a.state===e.State.FINISHED?c?this.viewpoint=b:this.navigation.setCurrentToTarget():this.navigation.setCamera(this.navigation.currentCamera,{animate:!1})}}.bind(this)))},_animationGetter:function(){return this._animation},_canvasGetter:function(){return this._canvas},
_basemapTerrainGetter:function(){return this._basemapTerrain},_navigationGetter:function(){return this._navigation},_clippingAreaSetter:function(a){if(null!=a&&!a.spatialReference.equals(this.map.spatialReference))if(c.canProject(a.spatialReference,this.map.spatialReference))a=c.project(a,this.map.spatialReference);else{console.error("Setting clippingArea with incompatible SpatialReference.");return}if(null!=a){if(!a.equals(this._clippingArea))return this._clippingArea=a}else if(null!=this._clippingArea)return this._clippingArea=
null},_clippingAreaGetter:function(){return this._clippingArea},_setInitialViewpointFromExtent:function(a){c.canProject(a.spatialReference,this.map.spatialReference)&&(this.viewpoint=this.createViewpoint({target:a,heading:0,tilt:0.5}))}});I.ExtentOrigins={VIEWPORT:0,MAP:1,PORTAL:2,WEBSCENE:3};return I})},"dojo/request/handlers":function(){define(["../json","../_base/kernel","../_base/array","../has","../selector/_loader"],function(b,h,l,m){function g(a){var c=k[a.options.handleAs];a.data=c?c(a):a.data||
a.text;return a}m.add("activex","undefined"!==typeof ActiveXObject);m.add("dom-parser",function(a){return"DOMParser"in a});var e;if(m("activex")){var d=["Msxml2.DOMDocument.6.0","Msxml2.DOMDocument.4.0","MSXML2.DOMDocument.3.0","MSXML.DOMDocument"],c;e=function(a){function b(a){try{var d=new ActiveXObject(a);d.async=!1;d.loadXML(k);e=d;c=a}catch(g){return!1}return!0}var e=a.data,k=a.text;e&&(m("dom-qsa2.1")&&!e.querySelectorAll&&m("dom-parser"))&&(e=(new DOMParser).parseFromString(k,"application/xml"));
if(!e||!e.documentElement)(!c||!b(c))&&l.some(d,b);return e}}var a=function(a){return!m("native-xhr2-blob")&&"blob"===a.options.handleAs&&"undefined"!==typeof Blob?new Blob([a.xhr.response],{type:a.xhr.getResponseHeader("Content-Type")}):a.xhr.response},k={javascript:function(a){return h.eval(a.text||"")},json:function(a){return b.parse(a.text||null)},xml:e,blob:a,arraybuffer:a,document:a};g.register=function(a,c){k[a]=c};return g})},"dijit/place":function(){define("dojo/_base/array dojo/dom-geometry dojo/dom-style dojo/_base/kernel dojo/_base/window ./Viewport ./main".split(" "),
function(b,h,l,m,g,e,d){function c(a,c,d,m){var q=e.getEffectiveBox(a.ownerDocument);(!a.parentNode||"body"!=String(a.parentNode.tagName).toLowerCase())&&g.body(a.ownerDocument).appendChild(a);var t=null;b.some(c,function(c){var b=c.corner,f=c.pos,e=0,g={w:{L:q.l+q.w-f.x,R:f.x-q.l,M:q.w}[b.charAt(1)],h:{T:q.t+q.h-f.y,B:f.y-q.t,M:q.h}[b.charAt(0)]},l=a.style;l.left=l.right="auto";d&&(e=d(a,c.aroundCorner,b,g,m),e="undefined"==typeof e?0:e);var p=a.style,r=p.display,v=p.visibility;"none"==p.display&&
(p.visibility="hidden",p.display="");l=h.position(a);p.display=r;p.visibility=v;r={L:f.x,R:f.x-l.w,M:Math.max(q.l,Math.min(q.l+q.w,f.x+(l.w>>1))-l.w)}[b.charAt(1)];v={T:f.y,B:f.y-l.h,M:Math.max(q.t,Math.min(q.t+q.h,f.y+(l.h>>1))-l.h)}[b.charAt(0)];f=Math.max(q.l,r);p=Math.max(q.t,v);r=Math.min(q.l+q.w,r+l.w);v=Math.min(q.t+q.h,v+l.h);r-=f;v-=p;e+=l.w-r+(l.h-v);if(null==t||e<t.overflow)t={corner:b,aroundCorner:c.aroundCorner,x:f,y:p,w:r,h:v,overflow:e,spaceAvailable:g};return!e});t.overflow&&d&&d(a,
t.aroundCorner,t.corner,t.spaceAvailable,m);c=t.y;var r=t.x,v=g.body(a.ownerDocument);/relative|absolute/.test(l.get(v,"position"))&&(c-=l.get(v,"marginTop"),r-=l.get(v,"marginLeft"));v=a.style;v.top=c+"px";v.left=r+"px";v.right="auto";return t}var a={TL:"BR",TR:"BL",BL:"TR",BR:"TL"};return d.place={at:function(d,e,g,l,h){g=b.map(g,function(c){var b={corner:c,aroundCorner:a[c],pos:{x:e.x,y:e.y}};l&&(b.pos.x+="L"==c.charAt(1)?l.x:-l.x,b.pos.y+="T"==c.charAt(0)?l.y:-l.y);return b});return c(d,g,h)},
around:function(a,d,e,g,q){function t(a,c){E.push({aroundCorner:a,corner:c,pos:{x:{L:z,R:z+A,M:z+(A>>1)}[a.charAt(1)],y:{T:y,B:y+B,M:y+(B>>1)}[a.charAt(0)]}})}var r;if("string"==typeof d||"offsetWidth"in d||"ownerSVGElement"in d){if(r=h.position(d,!0),/^(above|below)/.test(e[0])){var v=h.getBorderExtents(d),x=d.firstChild?h.getBorderExtents(d.firstChild):{t:0,l:0,b:0,r:0},w=h.getBorderExtents(a),f=a.firstChild?h.getBorderExtents(a.firstChild):{t:0,l:0,b:0,r:0};r.y+=Math.min(v.t+x.t,w.t+f.t);r.h-=
Math.min(v.t+x.t,w.t+f.t)+Math.min(v.b+x.b,w.b+f.b)}}else r=d;if(d.parentNode){v="absolute"==l.getComputedStyle(d).position;for(d=d.parentNode;d&&1==d.nodeType&&"BODY"!=d.nodeName;){x=h.position(d,!0);w=l.getComputedStyle(d);/relative|absolute/.test(w.position)&&(v=!1);if(!v&&/hidden|auto|scroll/.test(w.overflow)){var f=Math.min(r.y+r.h,x.y+x.h),s=Math.min(r.x+r.w,x.x+x.w);r.x=Math.max(r.x,x.x);r.y=Math.max(r.y,x.y);r.h=f-r.y;r.w=s-r.x}"absolute"==w.position&&(v=!0);d=d.parentNode}}var z=r.x,y=r.y,
A="w"in r?r.w:r.w=r.width,B="h"in r?r.h:(m.deprecated("place.around: dijit/place.__Rectangle: { x:"+z+", y:"+y+", height:"+r.height+", width:"+A+" } has been deprecated.  Please use { x:"+z+", y:"+y+", h:"+r.height+", w:"+A+" }","","2.0"),r.h=r.height),E=[];b.forEach(e,function(a){var c=g;switch(a){case "above-centered":t("TM","BM");break;case "below-centered":t("BM","TM");break;case "after-centered":c=!c;case "before-centered":t(c?"ML":"MR",c?"MR":"ML");break;case "after":c=!c;case "before":t(c?
"TL":"TR",c?"TR":"TL");t(c?"BL":"BR",c?"BR":"BL");break;case "below-alt":c=!c;case "below":t(c?"BL":"BR",c?"TL":"TR");t(c?"BR":"BL",c?"TR":"TL");break;case "above-alt":c=!c;case "above":t(c?"TL":"TR",c?"BL":"BR");t(c?"TR":"TL",c?"BR":"BL");break;default:t(a.aroundCorner,a.corner)}});a=c(a,E,q,{w:A,h:B});a.aroundNodePos=r;return a}}})},"esri/layers/FeatureLayer":function(){define("require ../core/declare dojo/_base/lang dojo/_base/array dojo/Deferred ../core/JSONSupport ../core/sniff ../geometry/Extent ../geometry/SpatialReference ../core/Collection ../symbols/SimpleMarkerSymbol ../symbols/SimpleLineSymbol ../symbols/SimpleFillSymbol ../symbols/support/jsonUtils ../renderers/SimpleRenderer ../renderers/UniqueValueRenderer ../renderers/support/jsonUtils ./GraphicsLayer ./support/Field ./support/FeatureType ./support/FeatureTemplate ./support/TimeInfo ./support/LabelClass".split(" "),
function(b,h,l,m,g,e,d,c,a,k,p,n,u,q,t,r,v,x,w,f,s,z,y){var A=h([x,e],{declaredClass:"esri.layers.FeatureLayer",classMetadata:{computed:{allRenderers:["loaded","renderer","fields"],capabilities:["editable"],outFields:["requiredFields"],requiredFields:["allRenderers"],supportsAdvancedQueries:["hasMemorySource"]},reader:{exclude:"id copyrightText definitionExpression currentVersion extent drawingInfo".split(" "),add:"isTable layerId copyright defaultDefinitionExpression version initialExtent fullExtent spatialReference objectIdField renderer labelingInfo opacity editable trackIdField".split(" ")}},
_rndProps:"attributeField attributeField2 attributeField3 rotationInfo.field proportionalSymbolInfo.field proportionalSymbolInfo.normalizationField colorInfo.field colorInfo.normalizationField".split(" "),_visVariableProps:["field","normalizationField"],controllerModulePaths:{"0":"./graphics/controllers/SnapshotController",1:{"2d":"./graphics/controllers/OnDemandController","3d":"./graphics/controllers/OnDemandController"},2:"./graphics/controllers/SelectionController",6:"./graphics/controllers/AutoController"},
normalizeCtorArgs:function(a,c){return"string"===typeof a?l.mixin({},{url:a},c):a&&a.layerDefinition?l.mixin({},{collectionLayer:a},c):a},getDefaults:function(a){var c=this.inherited(arguments);return l.mixin(c||{},{mode:A.MODE_SNAPSHOT,hasMemorySource:!!a.collectionLayer})},initialize:function(){var a=this.createGraphicsSource();a.then(l.hitch(this,this._initLayerProperties));this.addResolvingPromise(a)},_allowGeometryUpdatesReader:function(a){return null==a?!0:a},_allRenderersGetter:function(){return this._getAllRenderers(this.renderer)},
_capabilitiesGetter:function(a){var c=this.editable,b=l.trim(a||"");a=m.map(b&&b.split(","),l.trim);var f=m.map(b&&b.toLowerCase().split(","),l.trim),b=f.indexOf("editing"),f={Create:m.indexOf(f,"create"),Update:m.indexOf(f,"update"),Delete:m.indexOf(f,"delete")};if(c&&-1===b)a.push("Editing");else if(!c&&-1<b){var c=[b],d;for(d in f)-1<f[d]&&c.push(f[d]);c.sort();for(d=c.length-1;0<=d;d--)a.splice(c[d],1)}return a.join(",")},copyright:null,_copyrightReader:function(a,c){return c.copyrightText},_defaultDefinitionExpressionReader:function(a,
c){return c.definitionExpression},_defaultSymbolReader:function(a){return a&&q.fromJSON(a)},_editable:!1,_editableReader:function(a,c){c.capabilities?a=-1!==c.capabilities.toLowerCase().indexOf("editing"):this.hasMemorySource||(a=-1!==this.parsedUrl.path.search(/\/FeatureServer\//i));return!!a},_editableGetter:function(){return this._editable||this.userIsAdmin},_editableSetter:function(a){this._editable=a},_fieldsReader:function(a){return a.map(function(a){return new w(a)})},fullExtent:null,_fullExtentReader:function(a,
b){return b.extent&&c.fromJSON(b.extent)},generalizeForScale:4E3,hasAttachments:!1,_hasAttachmentsReader:function(a){return!this.hasMemorySource&&!!a},hasM:!1,hasMemorySource:!1,hasZ:!1,_initialExtentReader:function(a,b){return b.extent&&c.fromJSON(b.extent)},_isTableReader:function(a,c){return"Table"===c.type},_labelingInfoReader:function(a,c){if(a=c.drawingInfo&&c.drawingInfo.labelingInfo){var b=/\[([^\[\]]+)\]/ig,f,d=function(a,b){var f=this.getField(b,c.fields);return"["+(f&&f.name||b)+"]"}.bind(this);
a=a.map(function(a){a=new y(a);if(f=a.labelExpression)a.labelExpression=f.replace(b,d);return a})}return a},latticeTiling:!1,_latticeTilingReader:function(a,c){return!("esriGeometryPoint"===c.geometryType||"esriGeometryMultipoint"===c.geometryType)},_layerIdReader:function(a,c){return c.id},maxPointCountForAuto:4E3,maxRecordCountForAuto:2E3,maxVertexCountForAuto:25E4,_minScaleReader:function(a,c){return c.effectiveMinScale||a},_maxScaleReader:function(a,c){return c.effectiveMaxScale||a},_objectIdFieldReader:function(a,
c){a||c.fields.some(function(c){"esriFieldTypeOID"===c.type&&(a=c.name);return!!a});return a},_opacityReader:function(a,c){return 1-(c.drawingInfo&&c.drawingInfo.transparency||0)/100},_outFields:null,_outFieldsGetter:function(){var a=this._outFields,c=this.requiredFields;a?-1===a.indexOf("*")&&c.forEach(function(c){-1===a.indexOf(c)&&a.push(c)}):a=c;this.loaded&&(a=a.filter(function(a){return"*"===a||!!this.getField(a)},this),a=a.map(function(a){return"*"===a?a:this.getField(a).name},this));return a},
_outFieldsSetter:function(a){this._outFields=a},_rendererSetter:function(a){var c=this._getAllRenderers(a);this._fixRendererFields(c);return a},_rendererReader:function(a,c){var b;if(a=c.drawingInfo&&c.drawingInfo.renderer)a=v.fromJSON(a),a.addBreak&&a.setMaxInclusive(!0);else if(c.defaultSymbol)b=q.fromJSON(c.defaultSymbol),c.types&&c.types.length?(a=new r(b,c.typeIdField),m.forEach(c.types,function(c){a.addValue(c.id,q.fromJSON(c.symbol))})):a=new t(b);else if("Table"!==c.type){switch(c.geometryType){case "esriGeometryPoint":case "esriGeometryMultipoint":b=
new p;break;case "esriGeometryPolyline":b=new n;break;case "esriGeometryPolygon":b=new u}a=b&&new t(b)}return a},_requiredFieldsGetter:function(){var a=this.timeInfo,c=[this.objectIdField,this.typeIdField,this.editFieldsInfo&&this.editFieldsInfo.creatorField,a&&a.startTimeField,a&&a.endTimeField,this.trackIdField],b=this._rndProps;m.forEach(this.allRenderers,function(a){m.forEach(b,function(b){c.push(l.getObject(b,!1,a))});a.visualVariables&&a.visualVariables.forEach(function(a){this._visVariableProps.forEach(function(b){c.push(a[b])})},
this)},this);c=c.concat(this.dataAttributes);return c.filter(function(a,c,b){return!!a&&b.indexOf(a)===c&&"function"!==typeof a})},returnM:!1,returnZ:!1,_spatialReferenceReader:function(c,b){return(c=b.extent&&b.extent.spatialReference)&&a.fromJSON(c)},_supportsAdvancedQueries:!1,_supportsAdvancedQueriesGetter:function(){return this.hasMemorySource?!1:this._supportsAdvancedQueries},_supportsAdvancedQueriesSetter:function(a){this._supportsAdvancedQueries=a},_templatesReader:function(a,c){var b=c.editFieldsInfo,
f=b&&b.creatorField,b=b&&b.editorField;a=a&&a.map(function(a){return new s(a)});this._fixTemplates(a,f);this._fixTemplates(a,b);return a},_timeInfoReader:function(a){a=a&&new z(a);a.trackIdField=this.trackIdField||a.trackIdField;return a},_trackIdFieldReader:function(a,c){return c.timeInfo&&c.timeInfo.trackIdField},_typeIdFieldReader:function(a,c){if(a){var b=this.getField(a,c.fields);b&&(a=b.name)}return a},_typesReader:function(a,c){var b=c.editFieldsInfo,d=b&&b.creatorField,e=b&&b.editorField;
return a&&a.map(function(a){a=new f(a);this._fixTemplates(a.templates,d);this._fixTemplates(a.templates,e);return a},this)},userIsAdmin:!1,_versionReader:function(a,c){(a=c.currentVersion)||(a=c.hasOwnProperty("capabilities")||c.hasOwnProperty("drawingInfo")||c.hasOwnProperty("hasAttachments")||c.hasOwnProperty("htmlPopupType")||c.hasOwnProperty("relationships")||c.hasOwnProperty("timeInfo")||c.hasOwnProperty("typeIdField")||c.hasOwnProperty("types")?10:9.3);return a},createGraphicsSource:function(){var a=
new g;b(["./graphics/sources/"+(this.collectionLayer?"MemorySource":"FeatureLayerSource")],l.hitch(this,function(c){var b=new c({layer:this});b.then(l.hitch(this,function(){this.emit("graphics-source-create",{graphicsSource:b});a.resolve(b)}),function(c){a.reject(c)})}));return a.promise},createGraphicsController:function(a){var c=new g,f=this.controllerModulePaths[this.mode],d=a.layerView,e=new k,n=l.mixin(a.options||{},{layer:this,layerView:d,graphicsCollection:e});"object"===typeof f&&(f=f[d.view.type]);
f?b([f],l.hitch(this,function(a){var b=new a(n);b.then(l.hitch(this,function(){this.emit("graphics-controller-create",{graphicsController:b});c.resolve(b)}),function(a){c.reject(a)})})):c.reject(Error('Module path not found for controller type: "'+this.mode+'"'));return c.promise},getField:function(a,c){var b;if(c=c||this.fields)a=a.toLowerCase(),m.some(c,function(c){c&&c.name.toLowerCase()===a&&(b=c);return!!b});return b},_initLayerProperties:function(a){this.graphicsSource=a;a=a.layerDefinition;
a._ssl&&(delete a._ssl,this.url=this.url.replace(/^http:/i,"https:"));this.read(a);this._verifyFields();this._fixSymbolUrls();this.useQueryTimestamp=(d("ie")||d("safari"))&&this.editable&&10.02>this.version;this.watch("token",function(){this._fixSymbolUrls()}.bind(this))},_fixSymbolUrls:function(){var a=this.renderer;if(!this.hasMemorySource){var c=this.parsedUrl.path+"/images/",b=this.token,f=[a.symbol,a.defaultSymbol];m.forEach(a.infos,function(a){f.push(a.symbol)});m.forEach(f,function(a){var f=
a&&a.url;f&&(-1===f.search(/https?\:/)&&-1===f.indexOf("data:")&&(a.url=c+f),b&&(-1!==a.url.search(/https?\:/)&&-1===a.url.indexOf("?token\x3d"))&&(a.url+="?token\x3d"+b))})}},_getAllRenderers:function(a){var c=[];a&&[a,a.trackRenderer,a.observationRenderer,a.latestObservationRenderer].forEach(function(a){a&&(c.push(a),a.rendererInfos&&a.rendererInfos.forEach(function(a){a.renderer&&c.push(a.renderer)}))});return c},_fixRendererFields:function(a){var c=this.fields;a&&c&&a.forEach(function(a){this._fixFieldName(this._rndProps,
a);m.forEach(a.visualVariables,function(a){this._fixFieldName(this._visVariableProps,a)},this)},this)},_fixFieldName:function(a,c){m.forEach(a,function(a){var b=l.getObject(a,!1,c);(b=b&&"function"!==typeof b&&this.getField(b))&&l.setObject(a,b.name,c)},this)},_verifyFields:function(){var a=this.parsedUrl&&this.parsedUrl.path||"undefined";this.objectIdField||console.log("FeatureLayer: 'objectIdField' property is not defined (url: "+a+")");!this.isTable&&(!this.hasMemorySource&&-1===a.search(/\/FeatureServer\//i)&&
!m.some(this.fields,function(a){return"esriFieldTypeGeometry"===a.type}))&&console.log("FeatureLayer: unable to find field of type 'esriFieldTypeGeometry' in the layer 'fields' list. If you are using a map service layer, features will not have geometry (url: "+a+")")},_fixTemplates:function(a,c){m.forEach(a,function(a){(a=a.prototype&&a.prototype.attributes)&&c&&delete a[c]})}});l.mixin(A,{MODE_SNAPSHOT:0,MODE_ONDEMAND:1,MODE_SELECTION:2,SELECTION_NEW:3,SELECTION_ADD:4,SELECTION_SUBTRACT:5,MODE_AUTO:6,
POPUP_URL:"esriServerHTMLPopupTypeAsURL",POPUP_NONE:"esriServerHTMLPopupTypeNone",POPUP_HTML_TEXT:"esriServerHTMLPopupTypeAsHTMLText"});return A})},"dgrid/util/touch":function(){define(["dojo/on","dojo/query"],function(b,h){function l(g,e,d,c){if(!(1<d.targetTouches.length)){var a=d.changedTouches[0],k=a.screenX,l=a.screenY;c&&d.preventDefault();var n=b(g,"touchend",function(a){var b=a.changedTouches[0];a.targetTouches.length||(Math.abs(b.screenX-k)<m.tapRadius&&Math.abs(b.screenY-l)<m.tapRadius&&
(c&&a.preventDefault(),e.call(this,a)),n.remove())})}}var m={tapRadius:10,dbltapTime:250,selector:function(g,e,d){return function(c,a){var k=e.bubble;k?e=k:!1!==d&&(d=!0);return b(c,e,function(b){var e=b.target;3===e.nodeType&&(e=e.parentNode);for(;!h.matches(e,g,c);)if(e===c||!d||!(e=e.parentNode))return;return a.call(e,b)})}},countCurrentTouches:function(b,e){if(!("touches"in b))return-1;var d,c,a;for(c=d=0;a=b.touches[d];++d)e.contains(a.target)&&++c;return c},tap:function(g,e){return b(g,"touchstart",
function(b){l(g,e,b)})},dbltap:function(g,e){var d,c;return b(g,"touchstart",function(a){d?l(g,function(a){if(d){var b=a.changedTouches[0];Math.abs(b.screenX-d.screenX)<m.tapRadius&&Math.abs(b.screenY-d.screenY)<m.tapRadius&&(c&&clearTimeout(c),d=c=null,e.call(this,a))}},a,!0):l(g,function(a){d=a.changedTouches[0];c=setTimeout(function(){d=c=null},m.dbltapTime)},a)})}};return m})},"esri/views/3d/webgl-engine/lib/es6-shim":function(){(function(b){var h=function(){var l="undefined"===typeof global?
window:global,h=l.isFinite,g;if(g=!!Object.defineProperty)try{Object.defineProperty({},"x",{}),g=!0}catch(e){g=!1}var d=g,c=Array.prototype.slice,a=String.prototype.indexOf,k=Object.prototype.toString,p=Object.prototype.hasOwnProperty,n=function(a,c){Object.keys(c).forEach(function(b){var f=c[b];b in a||(d?Object.defineProperty(a,b,{configurable:!0,enumerable:!1,writable:!0,value:f}):a[b]=f)})},u={ToInt32:function(a){return a>>0},ToUint32:function(a){return a>>>0},toInteger:function(a){a=+a;return Number.isNaN(a)?
0:0===a||!Number.isFinite(a)?a:Math.sign(a)*Math.floor(Math.abs(a))}};n(String,{fromCodePoint:function(){for(var a=c.call(arguments,0),b=[],d,f=0,e=a.length;f<e;f++){d=Number(a[f]);if(!Object.is(d,u.toInteger(d))||0>d||1114111<d)throw new RangeError("Invalid code point "+d);65536>d?b.push(String.fromCharCode(d)):(d-=65536,b.push(String.fromCharCode((d>>10)+55296)),b.push(String.fromCharCode(d%1024+56320)))}return b.join("")},raw:function(){var a=arguments[0],d=c.call(arguments,1),a=Object(Object(a).raw),
e=Object.keys(a).length,e=u.ToUint32(e);if(0===e)return"";for(var f=[],k=0,g,n;k<e;){g=String(k);n=a[g];n=String(n);f.push(n);if(k+1>=e)break;n=d[g];if(n===b)break;g=String(n);f.push(g);k++}return f.join("")}});n(String.prototype,{repeat:function(){var a=function(c,b){if(1>b)return"";if(b%2)return a(c,b-1)+c;var f=a(c,b/2);return f+f};return function(c){c=u.toInteger(c);if(0>c||Infinity===c)throw new RangeError;return a(String(this),c)}}(),startsWith:function(a,c){if(null==this)throw new TypeError("Cannot call method 'startsWith' of "+
this);var b=String(this);a=String(a);var f=Math.max(u.toInteger(c),0);return b.slice(f,f+a.length)===a},endsWith:function(a,c){if(null==this)throw new TypeError("Cannot call method 'endsWith' of "+this);var d=String(this);a=String(a);var f=d.length,e=c===b?f:u.toInteger(c),f=Math.min(e,f);return d.slice(f-a.length,f)===a},contains:function(c,b){return-1!==a.call(this,c,b)},codePointAt:function(a){var c=String(this),d=u.toInteger(a),f=c.length;if(0>d||d>=f)return b;a=c.charCodeAt(d);if(55296>a||56319<
a||d+1===f)return a;c=c.charCodeAt(d+1);return 56320>c||57343<c?a:1024*(a-55296)+(c-56320)+65536}});n(Array,{from:function(a,c,d){if(c!==b&&"[object Function]"!==k.call(c))throw new TypeError("when provided, the second argument must be a function");a=Object(a);for(var f=u.ToUint32(a.length),e="function"===typeof this?Object(new this(f)):Array(f),g=0;g<f;g++){var n=a[g];e[g]=c!==b?d?c.call(d,n):c(n):n}e.length=f;return e},of:function(){return Array.from(arguments)}});n(l,{ArrayIterator:function(a,
c){this.i=0;this.array=a;this.kind=c}});n(ArrayIterator.prototype,{next:function(){var a=this.i;this.i=a+1;var c=this.array;if(a>=c.length)throw Error();if(c.hasOwnProperty(a)){var b=this.kind,f;"key"===b&&(f=a);"value"===b&&(f=c[a]);"entry"===b&&(f=[a,c[a]])}else f=this.next();return f}});n(Array.prototype,{copyWithin:function(a,c){var b=Object(this),f=Math.max(u.toInteger(b.length),0),d=0>a?Math.max(f+a,0):Math.min(a,f),e=0>c?Math.max(f+c,0):Math.min(c,f),k=2<arguments.length?arguments[2]:f,k=0>
k?Math.max(f+k,0):Math.min(k,f),f=Math.min(k-e,f-d),k=1;e<d&&d<e+f&&(k=-1,e+=f-1,d+=f-1);for(;0<f;)p.call(b,e)?b[d]=b[e]:delete b[e],e+=k,d+=k,f-=1;return b},fill:function(a){for(var c=this.length,b=1<arguments.length?u.toInteger(arguments[1]):0,f=2<arguments.length?u.toInteger(arguments[2]):c,b=0>b?Math.max(c+b,0):Math.min(b,c);b<c&&b<f;++b)this[b]=a;return this},find:function(a,c){var d=Object(this),f=u.ToUint32(d.length);if(0===f)return b;if("function"!==typeof a)throw new TypeError("Array#find: predicate must be a function");
for(var e=0,k;e<f&&e in d;e++)if(k=d[e],a.call(c,k,e,d))return k;return b},findIndex:function(a,c){var b=Object(this),f=u.ToUint32(b.length);if(0===f)return-1;if("function"!==typeof a)throw new TypeError("Array#findIndex: predicate must be a function");for(var d=0,e;d<f&&d in b;d++)if(e=b[d],a.call(c,e,d,b))return d;return-1},keys:function(){return new ArrayIterator(this,"key")},values:function(){return new ArrayIterator(this,"value")},entries:function(){return new ArrayIterator(this,"entry")}});
g=Math.pow(2,53)-1;n(Number,{MAX_SAFE_INTEGER:g,MIN_SAFE_INTEGER:-g,EPSILON:2.220446049250313E-16,parseInt:l.parseInt,parseFloat:l.parseFloat,isFinite:function(a){return"number"===typeof a&&h(a)},isSafeInteger:function(a){return"number"===typeof a&&!Number.isNaN(a)&&Number.isFinite(a)&&parseInt(a,10)===a&&Math.abs(a)<=Number.MAX_SAFE_INTEGER},isNaN:function(a){return a!==a}});n(Number.prototype,{clz:function(){var a=+this;if(!a||!Number.isFinite(a))return 32;a=0>a?Math.ceil(a):Math.floor(a);a-=4294967296*
Math.floor(a/4294967296);return 32-a.toString(2).length}});d&&n(Object,{getOwnPropertyDescriptors:function(a){var c={};Object.getOwnPropertyNames(a).forEach(function(b){c[b]=Object.getOwnPropertyDescriptor(a,b)});return c},getPropertyDescriptor:function(a,c){for(var d=Object.getOwnPropertyDescriptor(a,c),f=Object.getPrototypeOf(a);d===b&&null!==f;)d=Object.getOwnPropertyDescriptor(f,c),f=Object.getPrototypeOf(f);return d},getPropertyNames:function(a){var c=Object.getOwnPropertyNames(a);a=Object.getPrototypeOf(a);
for(var b=function(a){-1===c.indexOf(a)&&c.push(a)};null!==a;)Object.getOwnPropertyNames(a).forEach(b),a=Object.getPrototypeOf(a);return c},assign:function(a,c){return Object.keys(c).reduce(function(a,b){a[b]=c[b];return a},a)},mixin:function(a,c){return Object.getOwnPropertyNames(c).reduce(function(a,b){var d=Object.getOwnPropertyDescriptor(c,b);return Object.defineProperty(a,b,d)},a)}});n(Object,{getOwnPropertyKeys:function(a){return Object.keys(a)},is:function(a,c){return a===c?0===a?1/a===1/c:
!0:Number.isNaN(a)&&Number.isNaN(c)}});n(Math,{acosh:function(a){a=Number(a);return Number.isNaN(a)||1>a?NaN:1===a?0:Infinity===a?a:Math.log(a+Math.sqrt(a*a-1))},asinh:function(a){a=Number(a);return 0===a||!h(a)?a:Math.log(a+Math.sqrt(a*a+1))},atanh:function(a){a=Number(a);return Number.isNaN(a)||-1>a||1<a?NaN:-1===a?-Infinity:1===a?Infinity:0===a?a:0.5*Math.log((1+a)/(1-a))},cbrt:function(a){a=Number(a);if(0===a)return a;var c=0>a;c&&(a=-a);a=Math.pow(a,1/3);return c?-a:a},cosh:function(a){a=Number(a);
if(0===a)return 1;if(!h(a))return a;0>a&&(a=-a);return 21<a?Math.exp(a)/2:(Math.exp(a)+Math.exp(-a))/2},expm1:function(a){a=Number(a);if(-Infinity===a)return-1;if(!h(a)||0===a)return a;for(var c=0,b=1;50>b;b++){for(var f=2,d=1;f<=b;f++)d*=f;c+=Math.pow(a,b)/d}return c},hypot:function(a,c){var b=!1,f=!0,d=!1,e=[];Array.prototype.every.call(arguments,function(a){a=Number(a);Number.isNaN(a)?b=!0:Infinity===a||-Infinity===a?d=!0:0!==a&&(f=!1);if(d)return!1;b||e.push(Math.abs(a));return!0});if(d)return Infinity;
if(b)return NaN;if(f)return 0;e.sort(function(a,c){return c-a});var k=e[0],g=e.map(function(a){return a/k}).reduce(function(a,c){return a+c*c},0);return k*Math.sqrt(g)},log2:function(a){return Math.log(a)*Math.LOG2E},log10:function(a){return Math.log(a)*Math.LOG10E},log1p:function(a){a=Number(a);if(-1>a||Number.isNaN(a))return NaN;if(0===a||Infinity===a)return a;if(-1===a)return-Infinity;var c=0;if(0>a||1<a)return Math.log(1+a);for(var b=1;50>b;b++)c=0===b%2?c-Math.pow(a,b)/b:c+Math.pow(a,b)/b;return c},
sign:function(a){a=+a;return 0===a||Number.isNaN(a)?a:0>a?-1:1},sinh:function(a){a=Number(a);return!h(a)||0===a?a:(Math.exp(a)-Math.exp(-a))/2},tanh:function(a){a=Number(a);return Number.isNaN(a)||0===a?a:Infinity===a?1:-Infinity===a?-1:(Math.exp(a)-Math.exp(-a))/(Math.exp(a)+Math.exp(-a))},trunc:function(a){a=Number(a);return 0>a?-Math.floor(-a):Math.floor(a)},imul:function(a,c){var b=a&65535,f=c&65535;return b*f+((a>>>16&65535)*f+b*(c>>>16&65535)<<16>>>0)|0}});if(d){var q=function(a){var c=typeof a;
return"string"===c?"$"+a:"number"===c&&!Object.is(a,-0)?a:null},t=function(){return Object.create?Object.create(null):{}},r={Map:function(){function a(c,b){this.key=c;this.value=b;this.prev=this.next=null}function c(a,b){this.head=a._head;this.i=this.head.next;this.kind=b}function d(){if(!(this instanceof d))throw new TypeError('Map must be called with "new"');var c=new a(null,null);c.next=c.prev=c;n(this,{_head:c,_storage:t(),_size:0})}var f={};a.prototype.isRemoved=function(){return this.key===
f};c.prototype={next:function(){for(var a=this.i,c=this.kind,f=this.head;a!==f;){this.i=a.next;if(!a.isRemoved())return a="key"===c?a.key:"value"===c?a.value:[a.key,a.value],{value:a,done:!1};a=this.i}return{value:b,done:!0}}};Object.defineProperty(d.prototype,"size",{configurable:!0,enumerable:!1,get:function(){return this._size}});n(d.prototype,{get:function(a){var c=q(a);if(null!==c)return(a=this._storage[c])?a.value:b;for(var f=c=this._head;(f=f.next)!==c;)if(Object.is(f.key,a))return f.value;
return b},has:function(a){var c=q(a);if(null!==c)return c in this._storage;for(var b=c=this._head;(b=b.next)!==c;)if(Object.is(b.key,a))return!0;return!1},set:function(c,b){var f=this._head,d=f,e,k=q(c);if(null!==k){if(k in this._storage){this._storage[k].value=b;return}e=this._storage[k]=new a(c,b);d=f.prev}for(;(d=d.next)!==f;)if(Object.is(d.key,c)){d.value=b;return}e=e?e:new a(c,b);e.next=this._head;e.prev=this._head.prev;e.prev.next=e;e.next.prev=e;this._size+=1},"delete":function(a){var c=this._head,
b=c,d=q(a);if(null!==d){if(!(d in this._storage))return!1;b=this._storage[d].prev;delete this._storage[d]}for(;(b=b.next)!==c;)if(Object.is(b.key,a))return b.key=b.value=f,b.prev.next=b.next,b.next.prev=b.prev,this._size-=1,!0;return!1},clear:function(){this._size=0;this._storage=t();for(var a=this._head,c,b=a.next;(c=b)!==a;)c.key=c.value=f,b=c.next,c.next=c.prev=a;a.next=a.prev=a},keys:function(){return new c(this,"key")},values:function(){return new c(this,"value")},entries:function(){return new c(this,
"key+value")},forEach:function(a){for(var c=1<arguments.length?arguments[1]:null,b=this._head,f=b;(f=f.next)!==b;)f.isRemoved()||a.call(c,f.value,f.key,this)}});return d}(),Set:function(){var a=function(){if(!(this instanceof a))throw new TypeError('Set must be called with "new"');n(this,{"[[SetData]]":null,_storage:t()})},c=function(a){if(!a["[[SetData]]"]){var c=a["[[SetData]]"]=new r.Map;Object.keys(a._storage).forEach(function(a){a=36===a.charCodeAt(0)?a.substring(1):+a;c.set(a,a)});a._storage=
null}};Object.defineProperty(a.prototype,"size",{configurable:!0,enumerable:!1,get:function(){c(this);return this["[[SetData]]"].size}});n(a.prototype,{has:function(a){var b;if(this._storage&&null!==(b=q(a)))return!!this._storage[b];c(this);return this["[[SetData]]"].has(a)},add:function(a){var b;if(this._storage&&null!==(b=q(a)))this._storage[b]=!0;else return c(this),this["[[SetData]]"].set(a,a)},"delete":function(a){var b;if(this._storage&&null!==(b=q(a)))delete this._storage[b];else return c(this),
this["[[SetData]]"]["delete"](a)},clear:function(){if(this._storage)this._storage=t();else return this["[[SetData]]"].clear()},keys:function(){c(this);return this["[[SetData]]"].keys()},values:function(){c(this);return this["[[SetData]]"].values()},entries:function(){c(this);return this["[[SetData]]"].entries()},forEach:function(a){var b=1<arguments.length?arguments[1]:null,d=this;c(this);this["[[SetData]]"].forEach(function(c,e){a.call(b,e,e,d)})}});return a}()};n(l,r);if(l.Map||l.Set)if("function"!==
typeof l.Map.prototype.clear||0!==(new l.Set).size||0!==(new l.Map).size||"function"!==typeof l.Set.prototype.keys||"function"!==typeof l.Map.prototype.forEach||"function"!==typeof l.Set.prototype.forEach)l.Map=r.Map,l.Set=r.Set}};"function"===typeof define&&"object"===typeof define.amd&&define.amd?define(h):h()})()},"esri/views/3d/navigation/planar/actions/PanPlanar":function(){define(["./ActionPlanar","../../mixins/PanMixin","../../../lib/glMatrix","../../../webgl-engine/lib/Util"],function(b,h,
l,m){var g=l.vec2d,e=l.vec3d,d=e.create(),c=e.create(),a=e.create(),k=e.create(),p=e.create(),n=e.create(),u=Math.PI/9,q=e.create(),t=e.create();return b.createSubclass([h],{declaredClass:"esri.views.3d.navigation.planar.actions.PanPlanar",begin:function(b){this.inherited(arguments);this.pickPointInScreen(b,d)||this.pickFreePointInScreen(b,d);e.normalize(e.subtract(this.targetCamera.eye,this.targetCamera.center,c));this.renderCoordsHelper.worldUpAtPosition(b,n);var k=e.dot(c,n);0>k&&(e.negate(c),
k=-k);var l=Math.asin(k);l>=u?e.set(n,c):(e.subtract(c,e.scale(n,k,a)),e.normalize(c),l>u&&(e.lerp(c,n,(l-u)/(u-u)),e.normalize(c)));this.updatePlane(d,c);g.set(b,this._dragLastPoint);g.set(b,this._dragBeginPoint)},update:function(a){this._intersectPanPlane(this._dragLastPoint,this._dragBeginPoint,q)&&this._intersectPanPlane(a,this._dragBeginPoint,t)&&(e.subtract(t,q),e.subtract(this.targetCamera.eye,t),e.subtract(this.targetCamera.center,t),g.set(a,this._dragLastPoint),this.constrainTargetEyeByElevationAndMoveLookAt(),
this.targetAndCurrentChanged())},_intersectPanPlane:function(a,c,b){this.createPickRay(a,c,this.currentCamera.viewMatrix,k,p);e.subtract(p,k);return m.rayPlane(k,p,this._plane,b)},end:function(a){this.setPoiAuto(a,!0);this._navSphereRadius=0;this.inherited(arguments)}})})},"dojo/colors":function(){define(["./_base/kernel","./_base/lang","./_base/Color","./_base/array"],function(b,h,l,m){var g={};h.setObject("dojo.colors",g);var e=function(c,a,b){0>b&&++b;1<b&&--b;var d=6*b;return 1>d?c+(a-c)*d:1>
2*b?a:2>3*b?c+6*(a-c)*(2/3-b):c};b.colorFromRgb=l.fromRgb=function(c,a){var b=c.toLowerCase().match(/^(rgba?|hsla?)\(([\s\.\-,%0-9]+)\)/);if(b){var d=b[2].split(/\s*,\s*/),g=d.length,b=b[1];if("rgb"==b&&3==g||"rgba"==b&&4==g)return b=d[0],"%"==b.charAt(b.length-1)?(b=m.map(d,function(a){return 2.56*parseFloat(a)}),4==g&&(b[3]=d[3]),l.fromArray(b,a)):l.fromArray(d,a);if("hsl"==b&&3==g||"hsla"==b&&4==g){var b=(parseFloat(d[0])%360+360)%360/360,h=parseFloat(d[1])/100,q=parseFloat(d[2])/100,h=0.5>=q?
q*(h+1):q+h-q*h,q=2*q-h,b=[256*e(q,h,b+1/3),256*e(q,h,b),256*e(q,h,b-1/3),1];4==g&&(b[3]=d[3]);return l.fromArray(b,a)}}return null};var d=function(c,a,b){c=Number(c);return isNaN(c)?b:c<a?a:c>b?b:c};l.prototype.sanitize=function(){this.r=Math.round(d(this.r,0,255));this.g=Math.round(d(this.g,0,255));this.b=Math.round(d(this.b,0,255));this.a=d(this.a,0,1);return this};g.makeGrey=l.makeGrey=function(c,a){return l.fromArray([c,c,c,a])};h.mixin(l.named,{aliceblue:[240,248,255],antiquewhite:[250,235,
215],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],blanchedalmond:[255,235,205],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,
183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],gainsboro:[220,
220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,
211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,
209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],oldlace:[253,245,230],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],
rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],whitesmoke:[245,245,245],yellowgreen:[154,
205,50]});return l})},"dojo/cldr/supplemental":function(){define(["../_base/lang","../i18n"],function(b,h){var l={};b.setObject("dojo.cldr.supplemental",l);l.getFirstDayOfWeek=function(b){b={bd:5,mv:5,ae:6,af:6,bh:6,dj:6,dz:6,eg:6,iq:6,ir:6,jo:6,kw:6,ly:6,ma:6,om:6,qa:6,sa:6,sd:6,sy:6,ye:6,ag:0,ar:0,as:0,au:0,br:0,bs:0,bt:0,bw:0,by:0,bz:0,ca:0,cn:0,co:0,dm:0,"do":0,et:0,gt:0,gu:0,hk:0,hn:0,id:0,ie:0,il:0,"in":0,jm:0,jp:0,ke:0,kh:0,kr:0,la:0,mh:0,mm:0,mo:0,mt:0,mx:0,mz:0,ni:0,np:0,nz:0,pa:0,pe:0,ph:0,
pk:0,pr:0,py:0,sg:0,sv:0,th:0,tn:0,tt:0,tw:0,um:0,us:0,ve:0,vi:0,ws:0,za:0,zw:0}[l._region(b)];return void 0===b?1:b};l._region=function(b){b=h.normalizeLocale(b);b=b.split("-");var g=b[1];g?4==g.length&&(g=b[2]):g={aa:"et",ab:"ge",af:"za",ak:"gh",am:"et",ar:"eg",as:"in",av:"ru",ay:"bo",az:"az",ba:"ru",be:"by",bg:"bg",bi:"vu",bm:"ml",bn:"bd",bo:"cn",br:"fr",bs:"ba",ca:"es",ce:"ru",ch:"gu",co:"fr",cr:"ca",cs:"cz",cv:"ru",cy:"gb",da:"dk",de:"de",dv:"mv",dz:"bt",ee:"gh",el:"gr",en:"us",es:"es",et:"ee",
eu:"es",fa:"ir",ff:"sn",fi:"fi",fj:"fj",fo:"fo",fr:"fr",fy:"nl",ga:"ie",gd:"gb",gl:"es",gn:"py",gu:"in",gv:"gb",ha:"ng",he:"il",hi:"in",ho:"pg",hr:"hr",ht:"ht",hu:"hu",hy:"am",ia:"fr",id:"id",ig:"ng",ii:"cn",ik:"us","in":"id",is:"is",it:"it",iu:"ca",iw:"il",ja:"jp",ji:"ua",jv:"id",jw:"id",ka:"ge",kg:"cd",ki:"ke",kj:"na",kk:"kz",kl:"gl",km:"kh",kn:"in",ko:"kr",ks:"in",ku:"tr",kv:"ru",kw:"gb",ky:"kg",la:"va",lb:"lu",lg:"ug",li:"nl",ln:"cd",lo:"la",lt:"lt",lu:"cd",lv:"lv",mg:"mg",mh:"mh",mi:"nz",mk:"mk",
ml:"in",mn:"mn",mo:"ro",mr:"in",ms:"my",mt:"mt",my:"mm",na:"nr",nb:"no",nd:"zw",ne:"np",ng:"na",nl:"nl",nn:"no",no:"no",nr:"za",nv:"us",ny:"mw",oc:"fr",om:"et",or:"in",os:"ge",pa:"in",pl:"pl",ps:"af",pt:"br",qu:"pe",rm:"ch",rn:"bi",ro:"ro",ru:"ru",rw:"rw",sa:"in",sd:"in",se:"no",sg:"cf",si:"lk",sk:"sk",sl:"si",sm:"ws",sn:"zw",so:"so",sq:"al",sr:"rs",ss:"za",st:"za",su:"id",sv:"se",sw:"tz",ta:"in",te:"in",tg:"tj",th:"th",ti:"et",tk:"tm",tl:"ph",tn:"za",to:"to",tr:"tr",ts:"za",tt:"ru",ty:"pf",ug:"cn",
uk:"ua",ur:"pk",uz:"uz",ve:"za",vi:"vn",wa:"be",wo:"sn",xh:"za",yi:"il",yo:"ng",za:"cn",zh:"cn",zu:"za",ace:"id",ady:"ru",agq:"cm",alt:"ru",amo:"ng",asa:"tz",ast:"es",awa:"in",bal:"pk",ban:"id",bas:"cm",bax:"cm",bbc:"id",bem:"zm",bez:"tz",bfq:"in",bft:"pk",bfy:"in",bhb:"in",bho:"in",bik:"ph",bin:"ng",bjj:"in",bku:"ph",bqv:"ci",bra:"in",brx:"in",bss:"cm",btv:"pk",bua:"ru",buc:"yt",bug:"id",bya:"id",byn:"er",cch:"ng",ccp:"in",ceb:"ph",cgg:"ug",chk:"fm",chm:"ru",chp:"ca",chr:"us",cja:"kh",cjm:"vn",ckb:"iq",
crk:"ca",csb:"pl",dar:"ru",dav:"ke",den:"ca",dgr:"ca",dje:"ne",doi:"in",dsb:"de",dua:"cm",dyo:"sn",dyu:"bf",ebu:"ke",efi:"ng",ewo:"cm",fan:"gq",fil:"ph",fon:"bj",fur:"it",gaa:"gh",gag:"md",gbm:"in",gcr:"gf",gez:"et",gil:"ki",gon:"in",gor:"id",grt:"in",gsw:"ch",guz:"ke",gwi:"ca",haw:"us",hil:"ph",hne:"in",hnn:"ph",hoc:"in",hoj:"in",ibb:"ng",ilo:"ph",inh:"ru",jgo:"cm",jmc:"tz",kaa:"uz",kab:"dz",kaj:"ng",kam:"ke",kbd:"ru",kcg:"ng",kde:"tz",kdt:"th",kea:"cv",ken:"cm",kfo:"ci",kfr:"in",kha:"in",khb:"cn",
khq:"ml",kht:"in",kkj:"cm",kln:"ke",kmb:"ao",koi:"ru",kok:"in",kos:"fm",kpe:"lr",krc:"ru",kri:"sl",krl:"ru",kru:"in",ksb:"tz",ksf:"cm",ksh:"de",kum:"ru",lag:"tz",lah:"pk",lbe:"ru",lcp:"cn",lep:"in",lez:"ru",lif:"np",lis:"cn",lki:"ir",lmn:"in",lol:"cd",lua:"cd",luo:"ke",luy:"ke",lwl:"th",mad:"id",mag:"in",mai:"in",mak:"id",man:"gn",mas:"ke",mdf:"ru",mdh:"ph",mdr:"id",men:"sl",mer:"ke",mfe:"mu",mgh:"mz",mgo:"cm",min:"id",mni:"in",mnk:"gm",mnw:"mm",mos:"bf",mua:"cm",mwr:"in",myv:"ru",nap:"it",naq:"na",
nds:"de","new":"np",niu:"nu",nmg:"cm",nnh:"cm",nod:"th",nso:"za",nus:"sd",nym:"tz",nyn:"ug",pag:"ph",pam:"ph",pap:"bq",pau:"pw",pon:"fm",prd:"ir",raj:"in",rcf:"re",rej:"id",rjs:"np",rkt:"in",rof:"tz",rwk:"tz",saf:"gh",sah:"ru",saq:"ke",sas:"id",sat:"in",saz:"in",sbp:"tz",scn:"it",sco:"gb",sdh:"ir",seh:"mz",ses:"ml",shi:"ma",shn:"mm",sid:"et",sma:"se",smj:"se",smn:"fi",sms:"fi",snk:"ml",srn:"sr",srr:"sn",ssy:"er",suk:"tz",sus:"gn",swb:"yt",swc:"cd",syl:"bd",syr:"sy",tbw:"ph",tcy:"in",tdd:"cn",tem:"sl",
teo:"ug",tet:"tl",tig:"er",tiv:"ng",tkl:"tk",tmh:"ne",tpi:"pg",trv:"tw",tsg:"ph",tts:"th",tum:"mw",tvl:"tv",twq:"ne",tyv:"ru",tzm:"ma",udm:"ru",uli:"fm",umb:"ao",unr:"in",unx:"in",vai:"lr",vun:"tz",wae:"ch",wal:"et",war:"ph",xog:"ug",xsr:"np",yao:"mz",yap:"fm",yav:"cm",zza:"tr"}[b[0]];return g};l.getWeekend=function(b){var g=l._region(b);b={"in":0,af:4,dz:4,ir:4,om:4,sa:4,ye:4,ae:5,bh:5,eg:5,il:5,iq:5,jo:5,kw:5,ly:5,ma:5,qa:5,sd:5,sy:5,tn:5}[g];g={af:5,dz:5,ir:5,om:5,sa:5,ye:5,ae:6,bh:5,eg:6,il:6,
iq:6,jo:6,kw:6,ly:6,ma:6,qa:6,sd:6,sy:6,tn:6}[g];void 0===b&&(b=6);void 0===g&&(g=0);return{start:b,end:g}};return l})},"dojo/number":function(){define(["./_base/lang","./i18n","./i18n!./cldr/nls/number","./string","./regexp"],function(b,h,l,m,g){var e={};b.setObject("dojo.number",e);e.format=function(c,a){a=b.mixin({},a||{});var d=h.normalizeLocale(a.locale),d=h.getLocalization("dojo.cldr","number",d);a.customs=d;d=a.pattern||d[(a.type||"decimal")+"Format"];return isNaN(c)||Infinity==Math.abs(c)?
null:e._applyPattern(c,d,a)};e._numberPatternRE=/[#0,]*[#0](?:\.0*#*)?/;e._applyPattern=function(c,a,b){b=b||{};var d=b.customs.group,g=b.customs.decimal;a=a.split(";");var l=a[0];a=a[0>c?1:0]||"-"+l;if(-1!=a.indexOf("%"))c*=100;else if(-1!=a.indexOf("\u2030"))c*=1E3;else if(-1!=a.indexOf("\u00a4"))d=b.customs.currencyGroup||d,g=b.customs.currencyDecimal||g,a=a.replace(/\u00a4{1,3}/,function(a){return b[["symbol","currency","displayName"][a.length-1]]||b.currency||""});else if(-1!=a.indexOf("E"))throw Error("exponential notation not supported");
var h=e._numberPatternRE,l=l.match(h);if(!l)throw Error("unable to find a number expression in pattern: "+a);!1===b.fractional&&(b.places=0);return a.replace(h,e._formatAbsolute(c,l[0],{decimal:g,group:d,places:b.places,round:b.round}))};e.round=function(c,a,b){b=10/(b||10);return(b*+c).toFixed(a)/b};if(0==(0.9).toFixed()){var d=e.round;e.round=function(c,a,b){var e=Math.pow(10,-a||0),g=Math.abs(c);if(!c||g>=e)e=0;else if(g/=e,0.5>g||0.95<=g)e=0;return d(c,a,b)+(0<c?e:-e)}}e._formatAbsolute=function(c,
a,b){b=b||{};!0===b.places&&(b.places=0);Infinity===b.places&&(b.places=6);a=a.split(".");var d="string"==typeof b.places&&b.places.indexOf(","),g=b.places;d?g=b.places.substring(d+1):0<=g||(g=(a[1]||[]).length);0>b.round||(c=e.round(c,g,b.round));c=String(Math.abs(c)).split(".");var l=c[1]||"";a[1]||b.places?(d&&(b.places=b.places.substring(0,d)),d=void 0!==b.places?b.places:a[1]&&a[1].lastIndexOf("0")+1,d>l.length&&(c[1]=m.pad(l,d,"0",!0)),g<l.length&&(c[1]=l.substr(0,g))):c[1]&&c.pop();g=a[0].replace(",",
"");d=g.indexOf("0");-1!=d&&(d=g.length-d,d>c[0].length&&(c[0]=m.pad(c[0],d)),-1==g.indexOf("#")&&(c[0]=c[0].substr(c[0].length-d)));var g=a[0].lastIndexOf(","),h,t;-1!=g&&(h=a[0].length-g-1,a=a[0].substr(0,g),g=a.lastIndexOf(","),-1!=g&&(t=a.length-g-1));a=[];for(g=c[0];g;)d=g.length-h,a.push(0<d?g.substr(d):g),g=0<d?g.slice(0,d):"",t&&(h=t,delete t);c[0]=a.reverse().join(b.group||",");return c.join(b.decimal||".")};e.regexp=function(c){return e._parseInfo(c).regexp};e._parseInfo=function(c){c=c||
{};var a=h.normalizeLocale(c.locale),a=h.getLocalization("dojo.cldr","number",a),b=c.pattern||a[(c.type||"decimal")+"Format"],d=a.group,n=a.decimal,l=1;if(-1!=b.indexOf("%"))l/=100;else if(-1!=b.indexOf("\u2030"))l/=1E3;else{var m=-1!=b.indexOf("\u00a4");m&&(d=a.currencyGroup||d,n=a.currencyDecimal||n)}a=b.split(";");1==a.length&&a.push("-"+a[0]);a=g.buildGroupRE(a,function(a){a="(?:"+g.escapeString(a,".")+")";return a.replace(e._numberPatternRE,function(a){var b={signed:!1,separator:c.strict?d:[d,
""],fractional:c.fractional,decimal:n,exponent:!1};a=a.split(".");var k=c.places;1==a.length&&1!=l&&(a[1]="###");1==a.length||0===k?b.fractional=!1:(void 0===k&&(k=c.pattern?a[1].lastIndexOf("0")+1:Infinity),k&&void 0==c.fractional&&(b.fractional=!0),!c.places&&k<a[1].length&&(k+=","+a[1].length),b.places=k);a=a[0].split(",");1<a.length&&(b.groupSize=a.pop().length,1<a.length&&(b.groupSize2=a.pop().length));return"("+e._realNumberRegexp(b)+")"})},!0);m&&(a=a.replace(/([\s\xa0]*)(\u00a4{1,3})([\s\xa0]*)/g,
function(a,b,d,e){a=g.escapeString(c[["symbol","currency","displayName"][d.length-1]]||c.currency||"");b=b?"[\\s\\xa0]":"";e=e?"[\\s\\xa0]":"";return!c.strict?(b&&(b+="*"),e&&(e+="*"),"(?:"+b+a+e+")?"):b+a+e}));return{regexp:a.replace(/[\xa0 ]/g,"[\\s\\xa0]"),group:d,decimal:n,factor:l}};e.parse=function(c,a){var b=e._parseInfo(a),d=RegExp("^"+b.regexp+"$").exec(c);if(!d)return NaN;var g=d[1];if(!d[1]){if(!d[2])return NaN;g=d[2];b.factor*=-1}g=g.replace(RegExp("["+b.group+"\\s\\xa0]","g"),"").replace(b.decimal,
".");return g*b.factor};e._realNumberRegexp=function(c){c=c||{};"places"in c||(c.places=Infinity);"string"!=typeof c.decimal&&(c.decimal=".");if(!("fractional"in c)||/^0/.test(c.places))c.fractional=[!0,!1];"exponent"in c||(c.exponent=[!0,!1]);"eSigned"in c||(c.eSigned=[!0,!1]);var a=e._integerRegexp(c),b=g.buildGroupRE(c.fractional,function(a){var b="";a&&0!==c.places&&(b="\\"+c.decimal,b=Infinity==c.places?"(?:"+b+"\\d+)?":b+("\\d{"+c.places+"}"));return b},!0),d=g.buildGroupRE(c.exponent,function(a){return a?
"([eE]"+e._integerRegexp({signed:c.eSigned})+")":""}),a=a+b;b&&(a="(?:(?:"+a+")|(?:"+b+"))");return a+d};e._integerRegexp=function(c){c=c||{};"signed"in c||(c.signed=[!0,!1]);"separator"in c?"groupSize"in c||(c.groupSize=3):c.separator="";var a=g.buildGroupRE(c.signed,function(a){return a?"[-+]":""},!0),b=g.buildGroupRE(c.separator,function(a){if(!a)return"(?:\\d+)";a=g.escapeString(a);" "==a?a="\\s":"\u00a0"==a&&(a="\\s\\xa0");var b=c.groupSize,d=c.groupSize2;return d?(a="(?:0|[1-9]\\d{0,"+(d-1)+
"}(?:["+a+"]\\d{"+d+"})*["+a+"]\\d{"+b+"})",0<b-d?"(?:"+a+"|(?:0|[1-9]\\d{0,"+(b-1)+"}))":a):"(?:0|[1-9]\\d{0,"+(b-1)+"}(?:["+a+"]\\d{"+b+"})*)"},!0);return a+b};return e})},"dijit/layout/_ContentPaneResizeMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-class dojo/dom-geometry dojo/dom-style dojo/_base/lang dojo/query ../registry ../Viewport ./utils".split(" "),function(b,h,l,m,g,e,d,c,a,k){return h("dijit.layout._ContentPaneResizeMixin",null,{doLayout:!0,isLayoutContainer:!0,
startup:function(){if(!this._started){var c=this.getParent();this._childOfLayoutWidget=c&&c.isLayoutContainer;this._needLayout=!this._childOfLayoutWidget;this.inherited(arguments);this._isShown()&&this._onShow();this._childOfLayoutWidget||this.own(a.on("resize",e.hitch(this,"resize")))}},_checkIfSingleChild:function(){if(this.doLayout){var a=[],b=!1;d("\x3e *",this.containerNode).some(function(d){var e=c.byNode(d);e&&e.resize?a.push(e):!/script|link|style/i.test(d.nodeName)&&d.offsetHeight&&(b=!0)});
this._singleChild=1==a.length&&!b?a[0]:null;l.toggle(this.containerNode,this.baseClass+"SingleChild",!!this._singleChild)}},resize:function(a,c){this._resizeCalled=!0;this._scheduleLayout(a,c)},_scheduleLayout:function(a,c){this._isShown()?this._layout(a,c):(this._needLayout=!0,this._changeSize=a,this._resultSize=c)},_layout:function(a,c){delete this._needLayout;!this._wasShown&&!1!==this.open&&this._onShow();a&&m.setMarginBox(this.domNode,a);var b=this.containerNode;if(b===this.domNode){var d=c||
{};e.mixin(d,a||{});if(!("h"in d)||!("w"in d))d=e.mixin(m.getMarginBox(b),d);this._contentBox=k.marginBox2contentBox(b,d)}else this._contentBox=m.getContentBox(b);this._layoutChildren()},_layoutChildren:function(){this._checkIfSingleChild();if(this._singleChild&&this._singleChild.resize){var a=this._contentBox||m.getContentBox(this.containerNode);this._singleChild.resize({w:a.w,h:a.h})}else for(var a=this.getChildren(),c,b=0;c=a[b++];)c.resize&&c.resize()},_isShown:function(){if(this._childOfLayoutWidget)return this._resizeCalled&&
"open"in this?this.open:this._resizeCalled;if("open"in this)return this.open;var a=this.domNode,c=this.domNode.parentNode;return"none"!=a.style.display&&"hidden"!=a.style.visibility&&!l.contains(a,"dijitHidden")&&c&&c.style&&"none"!=c.style.display},_onShow:function(){this._wasShown=!0;this._needLayout&&this._layout(this._changeSize,this._resultSize);this.inherited(arguments)}})})},"dijit/form/_ButtonMixin":function(){define(["dojo/_base/declare","dojo/dom","dojo/has","../registry"],function(b,h,
l,m){var g=b("dijit.form._ButtonMixin"+(l("dojo-bidi")?"_NoBidi":""),null,{label:"",type:"button",__onClick:function(b){b.stopPropagation();b.preventDefault();this.disabled||this.valueNode.click(b);return!1},_onClick:function(b){if(this.disabled)return b.stopPropagation(),b.preventDefault(),!1;!1===this.onClick(b)&&b.preventDefault();var d=b.defaultPrevented;if(!d&&"submit"==this.type&&!(this.valueNode||this.focusNode).form)for(var c=this.domNode;c.parentNode;c=c.parentNode){var a=m.byNode(c);if(a&&
"function"==typeof a._onSubmit){a._onSubmit(b);b.preventDefault();d=!0;break}}return!d},postCreate:function(){this.inherited(arguments);h.setSelectable(this.focusNode,!1)},onClick:function(){return!0},_setLabelAttr:function(b){this._set("label",b);(this.containerNode||this.focusNode).innerHTML=b}});l("dojo-bidi")&&(g=b("dijit.form._ButtonMixin",g,{_setLabelAttr:function(){this.inherited(arguments);this.applyTextDir(this.containerNode||this.focusNode)}}));return g})},"esri/widgets/Ripple":function(){define(["./Widget",
"dojo/dom-construct","dojo/dom-style"],function(b,h,l){return b.createSubclass([],{declaredClass:"esri.widgets.Ripple",constructor:function(b){this._nodes=[]},destroy:function(){this._destroyNodes();this.inherited(arguments)},css:{ripple:"esri-ripple",rippleStart:"esri-ripple-start"},view:null,show:function(b){this._mapPoint=b;this.view.then(function(){var g=this.view.toScreen(b.x,b.y);this._destroyNodes();g=h.create("div",{className:this.css.ripple+" "+this.css.rippleStart,style:{left:g.x+"px",top:g.y+
"px"}},this.view.surface);this._nodes.push(g)}.bind(this))},_setViewAttr:function(b){this._set("view",b);this._viewChange()},_destroyNodes:function(){for(var b=0,g=this._nodes.length;b<g;b++)h.destroy(this._nodes[b]);this._nodes.length=0},_viewMoved:function(){var b=this._mapPoint,g=this._nodes,e=g.length;if(e&&b)for(var b=this.view.toScreen(b.x,b.y),d=0;d<e;d++)l.set(g[d],{left:b.x+"px",top:b.y+"px"})},_viewChange:function(){this._viewWatch&&this._viewWatch.remove();this.view&&(this._viewWatch=this.view.watch("viewpoint",
this._viewMoved.bind(this)),this.own(this._viewWatch))}})})},"dojo/promise/tracer":function(){define(["../_base/lang","./Promise","../Evented"],function(b,h,l){function m(b){setTimeout(function(){e.apply(g,b)},0)}var g=new l,e=g.emit;g.emit=null;h.prototype.trace=function(){var d=b._toArray(arguments);this.then(function(c){m(["resolved",c].concat(d))},function(c){m(["rejected",c].concat(d))},function(c){m(["progress",c].concat(d))});return this};h.prototype.traceRejected=function(){var d=b._toArray(arguments);
this.otherwise(function(c){m(["rejected",c].concat(d))});return this};return g})},"esri/views/3d/navigation/planar/ConstraintsPlanar":function(){define("../mixins/ConstraintsMixin ../../support/mathUtils ../../support/earthUtils ../../support/RenderCoordsHelper ../../constraints/SceneViewTiltConstraint ../../lib/glMatrix ../../webgl-engine/lib/Util".split(" "),function(b,h,l,m,g,e,d){var c=e.vec3d,a=e.vec4d,k=a.create(),p=c.create(),n=c.create();return b.createSubclass({declaredClass:"esri.views.3d.navigation.planar.ConstraintsPlanar",
defaultConstraints:{tilt:new b.Tilt({min:function(){return h.deg2rad(g.MAX_DEFAULT)},max:h.makePiecewiseLinearFunction([[4E3,h.deg2rad(g.MIN_DEFAULT)],[1E4,h.deg2rad(88)],[6E6,h.deg2rad(88)]])}),altitude:new b.Altitude({min:function(a){return a._autoAltitudeConstraints.min},max:function(a){return a._autoAltitudeConstraints.max}}),collision:new b.Collision},_updateAutoAltitudeConstraints:function(a){a=Math.max(a.xmax-a.xmin,a.ymax-a.ymin);var c=this.mapCoordsHelper?this.mapCoordsHelper.mapUnitInMeters:
1;this._autoAltitudeConstraints.max=3*a/Math.atan(this._targetCameraBeforeElevationUpdate._fov/2);this._autoAltitudeConstraints.min=-this._autoAltitudeConstraints.max;this._autoAltitudeConstraints.min*=c;this._autoAltitudeConstraints.max*=c},limitAltitude:function(a,c,b,d){return this.constraints.altitude.apply(this,a)},limitTiltByAltitudeConstraints:function(a,c,b,d){return a},distanceToSilhouette:function(a,b,d,e,k){k||(k={maxFarNearRatio:0,distance:0});k.maxFarNearRatio=this.maxFarNearRatio;var g=
m.Planar.prototype.getAltitude(a.eye),w=g*=d;e=g-e;var f=this.elevationProvider?this.elevationProvider.getElevationBounds():null;f&&(g=0<=e?w-d*f[0]:d*f[1]-w);c.subtract(a.center,a.eye,n);p[0]=0<n[0]?b.xmax:b.xmin;p[1]=0<n[1]?b.ymax:b.ymin;p[2]=0<n[2]?b.zmax:b.zmin;c.subtract(p,a.eye);c.normalize(n);a=c.dot(p,n);a=1.1*a*d;w=g+l.earthRadius;w=Math.sqrt(w*w-l.earthRadius*l.earthRadius);b=Math.max(b.xmax-b.xmin,b.ymax-b.ymin);f=1E-4*b*d;d=h.clamp((g-f)/(0.0010*b*d-f),0,1);k.distance=h.lerp(w,a,d*d*d);
k.maxFarNearRatio=h.clamp(2E6-2E6*((Math.log(Math.abs(e))-9.55)/(11.27-9.55)),2E4,2E6);k.distance*=Math.max(100*Math.log(Math.abs(e)),1);k.distance=Math.min(k.distance,34064E4);return k},intersectManifold:function(b,e,g,n){var l=this.renderCoordsHelper.worldUp;a.set4(l[0],l[1],l[2],g,k);return!d.rayPlane(b,e,k,n)||0>c.dot(c.subtract(n,b,p),e)?!1:!0},getCenterIntersectTerrainFallback:function(a,b,d){c.set(b,d)}})})},"esri/views/3d/support/StreamDataManager":function(){define(["../../../core/declare",
"./StreamDataLoader"],function(b,h){var l=b(null,{_clientType:void 0,_loader:void 0,constructor:function(b,g,e){this._clientType=b;this._loader=g;this._addUrlTokenFunction=e},request:function(b,g,e){return this._loader.request(b,g,this._clientType,e,this._addUrlTokenFunction)},isRequested:function(b){return this._loader.isRequested(b)},cancelRequest:function(b){this._loader.cancel(b)},getRequestedURLs:function(){return this._loader.getRequestedURLs(this._clientType)},cancelRequestsBulk:function(b){this._loader.cancelBulk(b,
this._clientType)}});return b(null,{constructor:function(b){this._loader=new h(b)},destroy:function(){this._loader.destroy();this._loader=null},hasPendingDownloads:function(){return this._loader.hasPendingDownloads()},makeSupplier:function(b,g){return new l(b,this._loader,g)}})})},"esri/portal/PortalFolder":function(){define(["./PortalItem","../core/declare","dojo/_base/lang"],function(b,h,l){return h([],{declaredClass:"esri.arcgis.PortalFolder",portal:null,constructor:function(b){l.mixin(this,b);
this.url=(this.portal&&this.portal.portalUrl)+"content/users/"+this.username+"/"+this.id;this.created=this.created?new Date(this.created):null},getItems:function(){return this.portal.portalUtil.requestToTypedArray(this.url,null,null,b,{portal:this.portal,folderId:this.id})}})})},"esri/core/accessorSupport/PropertyNotifier":function(){define(["dojo/has"],function(b){b=function(b,h){this.key=b;this.chain=b.split(".");this.deps=h};b.prototype={install:function(b){return new h(this,b)}};var h=function(b,
h){this.binding=b;this.obj=h;this._installs=[];this._props=h._accessorProps;this._callback=this._callback.bind(this);this._install(h,0);this._notify()};h.prototype={remove:function(){this._installs.forEach(function(b){b.remove()});this._installs=this._props=this.binding=this.obj=null},_install:function(b,h){var g=this.binding.chain,e=this._installs,d;h<e.length&&(e.splice(h).forEach(function(a){a.remove()}),this._notify());if(h!==g.length&&b&&(d=b._accessorProps)){for(var c,a=h;(c=g[a])&&b&&(d=b._accessorProps);)e[a]=
d.bind(c,a,this._callback),b=b[g[a++]];this._notify()}},_callback:function(b,h){1!==arguments.length&&this._install(h,b+1);this._notify()},_notify:function(){for(var b=this.binding.deps,h=this._props,g=0,e=b.length;g<e;g++)h._propertyWillChange(b[g])}};return b})},"dojox/xml/parser":function(){define(["dojo/_base/kernel","dojo/_base/lang","dojo/_base/array","dojo/_base/window","dojo/_base/sniff"],function(b){b.getObject("xml.parser",!0,dojox);dojox.xml.parser.parse=function(h,l){var m=b.doc,g;l=l||
"text/xml";if(h&&b.trim(h)&&"DOMParser"in b.global){g=(new DOMParser).parseFromString(h,l);m=g.documentElement;if("parsererror"==m.nodeName&&"http://www.mozilla.org/newlayout/xml/parsererror.xml"==m.namespaceURI){var e=m.getElementsByTagNameNS("http://www.mozilla.org/newlayout/xml/parsererror.xml","sourcetext")[0];e&&(e=e.firstChild.data);throw Error("Error parsing text "+m.firstChild.data+" \n"+e);}return g}if("ActiveXObject"in b.global){m=function(c){return"MSXML"+c+".DOMDocument"};m=["Microsoft.XMLDOM",
m(6),m(4),m(3),m(2)];b.some(m,function(c){try{g=new ActiveXObject(c)}catch(a){return!1}return!0});if(h&&g&&(g.async=!1,g.loadXML(h),m=g.parseError,0!==m.errorCode))throw Error("Line: "+m.line+"\nCol: "+m.linepos+"\nReason: "+m.reason+"\nError Code: "+m.errorCode+"\nSource: "+m.srcText);if(g)return g}else if(m.implementation&&m.implementation.createDocument){if(h&&b.trim(h)&&m.createElement){e=m.createElement("xml");e.innerHTML=h;var d=m.implementation.createDocument("foo","",null);b.forEach(e.childNodes,
function(c){d.importNode(c,!0)});return d}return m.implementation.createDocument("","",null)}return null};dojox.xml.parser.textContent=function(h,l){if(1<arguments.length)return dojox.xml.parser.replaceChildren(h,(h.ownerDocument||b.doc).createTextNode(l)),l;if(void 0!==h.textContent)return h.textContent;var m="";h&&b.forEach(h.childNodes,function(b){switch(b.nodeType){case 1:case 5:m+=dojox.xml.parser.textContent(b);break;case 3:case 2:case 4:m+=b.nodeValue}});return m};dojox.xml.parser.replaceChildren=
function(h,l){var m=[];b.isIE&&b.forEach(h.childNodes,function(b){m.push(b)});dojox.xml.parser.removeChildren(h);b.forEach(m,b.destroy);b.isArray(l)?b.forEach(l,function(b){h.appendChild(b)}):h.appendChild(l)};dojox.xml.parser.removeChildren=function(b){for(var l=b.childNodes.length;b.hasChildNodes();)b.removeChild(b.firstChild);return l};dojox.xml.parser.innerXML=function(b){return b.innerXML?b.innerXML:b.xml?b.xml:"undefined"!=typeof XMLSerializer?(new XMLSerializer).serializeToString(b):null};
return dojox.xml.parser})},"dojo/dnd/TimedMoveable":function(){define(["../_base/declare","./Moveable"],function(b,h){var l=h.prototype.onMove;return b("dojo.dnd.TimedMoveable",h,{timeout:40,constructor:function(b,g){g||(g={});g.timeout&&("number"==typeof g.timeout&&0<=g.timeout)&&(this.timeout=g.timeout)},onMoveStop:function(b){b._timer&&(clearTimeout(b._timer),l.call(this,b,b._leftTop));h.prototype.onMoveStop.apply(this,arguments)},onMove:function(b,g){b._leftTop=g;if(!b._timer){var e=this;b._timer=
setTimeout(function(){b._timer=null;l.call(e,b,b._leftTop)},this.timeout)}}})})},"esri/views/3d/webgl-engine/lib/Texture":function(){define(["./IdGen","./Util","./GLUtil","./DDSUtil"],function(b,h,l,m){var g=new b,e=function(b,c,a,e,g,n,h,m){h=!1!==h;var t=new Image;t.src=b;t.onerror=function(){n();t.onerror=void 0;t.onload=void 0};t.onload=function(){a.isTexture(c)&&l.texImage2D(t,c,a,e,g,h,!0,m);n();t.onerror=void 0;t.onload=void 0}};b=function c(a,b,p){var n=g.gen(b),u;this.getId=function(){return n};
this.params=p||{};this.params.wrapClamp=this.params.wrapClamp||!1;this.params.mipmap=!1!==this.params.mipmap;this.params.noUnpackFlip=this.params.noUnpackFlip||!1;this.estimatedTexMemRequiredMB=null==a?0:a.byteLength?a.byteLength/1E6:4*1.3*this.params.width*this.params.height/1E6;this.getEstimatedTexMemRequiredMB=function(){return this.estimatedTexMemRequiredMB};this.dispose=function(){a=void 0};this.deferredLoading=function(){return"string"===typeof a};this.getWidth=function(){return this.params.width};
this.getHeight=function(){return this.params.height};this.loadGl=function(b,k,g,n,p){"string"===typeof a?e(a,k,g,n,p,b,this.params.mipmap,this.params.noUnpackFlip):a instanceof Image||a instanceof ImageData||a instanceof HTMLCanvasElement?(this.params.width=a.width,this.params.height=a.height,l.texImage2D(a,k,g,n,p,this.params.mipmap,this.params.mipmap||!this.params.wrapClamp,this.params.noUnpackFlip)):a&&(this.params.encoding===c.DDS_ENCODING?(b=m.uploadDDSLevels(g,a,!0),g.texParameteri(g.TEXTURE_2D,
g.TEXTURE_MAG_FILTER,g.LINEAR),g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MIN_FILTER,1<b.mipmapCount?g.LINEAR_MIPMAP_LINEAR:g.LINEAR),this.params.width=b.width,this.params.height=b.height):(!0===this.params.noUnpackFlip&&g.pixelStorei(g.UNPACK_FLIP_Y_WEBGL,!1),h.assert(this.params.width&&this.params.height),b=g.RGBA,1===this.params.components&&(b=g.LUMINANCE),g.texImage2D(g.TEXTURE_2D,0,b,this.params.width,this.params.height,0,b,g.UNSIGNED_BYTE,a),this.params.mipmap?(g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MIN_FILTER,
g.LINEAR_MIPMAP_LINEAR),g.generateMipmap(g.TEXTURE_2D)):g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MIN_FILTER,g.LINEAR),!0===this.params.noUnpackFlip&&g.pixelStorei(g.UNPACK_FLIP_Y_WEBGL,!0)));g._isTracingEnabled&&(k._debugTracingType="Texture");a=void 0};this.setUnloadFunc=function(a){u=a};this.unload=function(){void 0!==u&&(u(n),u=void 0)}};b.__idGen=g;b.DDS_ENCODING="image/vnd-ms.dds";return b})},"esri/tasks/ImageServiceIdentifyTask":function(){define("../core/declare dojo/_base/lang ../request ../geometry/support/normalizeUtils ./Task ./support/ImageServiceIdentifyResult".split(" "),
function(b,h,l,m,g,e){b=b(g,{declaredClass:"esri.tasks.ImageServiceIdentifyTask",url:null,_parsedUrlGetter:function(b){var c=this.inherited(arguments);c.path+="/identify";return c},__msigns:[{n:"execute",c:1,a:[{i:0,p:["geometry"]}],e:2}],execute:function(b,c){var a=c.assembly,a=this._encode(h.mixin({},this.parsedUrl.query,{f:"json"},b.toJSON(a&&a[0])));return l({url:this.parsedUrl.path,content:a,callbackParamName:"callback"}).then(this._handleExecuteResponse)},_handleExecuteResponse:function(b){return e.fromJSON(b)}});
m._createWrappers(b);return b})},"dijit/a11yclick":function(){define(["dojo/keys","dojo/mouse","dojo/on","dojo/touch"],function(b,h,l,m){function g(c){if((c.keyCode===b.ENTER||c.keyCode===b.SPACE)&&!/input|button|textarea/i.test(c.target.nodeName))for(c=c.target;c;c=c.parentNode)if(c.dojoClick)return!0}var e;l(document,"keydown",function(c){g(c)?(e=c.target,c.preventDefault()):e=null});l(document,"keyup",function(c){g(c)&&c.target==e&&(e=null,l.emit(c.target,"click",{cancelable:!0,bubbles:!0,ctrlKey:c.ctrlKey,
shiftKey:c.shiftKey,metaKey:c.metaKey,altKey:c.altKey,_origType:c.type}))});var d=function(c,a){c.dojoClick=!0;return l(c,"click",a)};d.click=d;d.press=function(c,a){var d=l(c,m.press,function(c){("mousedown"!=c.type||h.isLeft(c))&&a(c)}),e=l(c,"keydown",function(c){(c.keyCode===b.ENTER||c.keyCode===b.SPACE)&&a(c)});return{remove:function(){d.remove();e.remove()}}};d.release=function(c,a){var d=l(c,m.release,function(c){("mouseup"!=c.type||h.isLeft(c))&&a(c)}),e=l(c,"keyup",function(c){(c.keyCode===
b.ENTER||c.keyCode===b.SPACE)&&a(c)});return{remove:function(){d.remove();e.remove()}}};d.move=m.move;return d})},"esri/core/accessorSupport/dictionary":function(){define([],function(){return function(){var b=Object.create(null);b.temp={};delete b.temp;return b}})},"esri/views/3d/webgl-engine/lib/GeometryUtil":function(){define(["./GeometryData","./BufferVectorMath","./Util","./gl-matrix"],function(b,h,l,m){function g(a,c,b,e,k){if(Math.abs(d.dot(c,a))>k)return!1;d.cross(a,c,b);d.normalize(b);d.cross(b,
a,e);d.normalize(e);return!0}function e(a,c,b,d,e,k,f){return g(a,c,e,k,f)||g(a,b,e,k,f)||g(a,d,e,k,f)}var d=m.vec3,c=m.vec3d,a=l.VertexAttrConstants,k=h.Vec3Compact,p=c.create(),n=c.create(),u={createSphereGeometry:function(c,e,k,g,n,h,f){c=c||50;g=void 0!==g?g:-Math.PI;n=void 0!==n?n:2*Math.PI;h=void 0!==h?h:0.5*-Math.PI;f=void 0!==f?f:Math.PI;var s=Math.max(3,Math.floor(e)||8),p=Math.max(2,Math.floor(k)||6),m=(s+1)*(p+1);k=new Float32Array(3*m);e=new Float32Array(3*m);var m=new Float32Array(2*
m),u,B,E=[],F=d.create(),G=0;for(B=0;B<=p;B++){var Q=[],M=B/p,T=h+M*f,K=Math.cos(T);for(u=0;u<=s;u++){var C=u/s,D=g+C*n,L=Math.cos(D)*K*c,W=Math.sin(T)*c,D=-Math.sin(D)*K*c;k[3*G]=L;k[3*G+1]=W;k[3*G+2]=D;d.set3(L,W,D,F);d.normalize(F);e[3*G]=F[0];e[3*G+1]=F[1];e[3*G+2]=F[2];m[2*G]=C;m[2*G+1]=M;Q.push(G);++G}E.push(Q)}c=new Uint32Array(3*2*s*(p-1));for(B=G=0;B<p;B++)for(u=0;u<s;u++)g=E[B][u],n=E[B][u+1],h=E[B+1][u+1],f=E[B+1][u],0===B?(c[G++]=g,c[G++]=h,c[G++]=f):B===p-1?(c[G++]=g,c[G++]=n,c[G++]=
h):(c[G++]=g,c[G++]=n,c[G++]=h,c[G++]=h,c[G++]=f,c[G++]=g);l.assert(G===c.length);s={};s[a.POSITION]=c;s[a.NORMAL]=c;s[a.UV0]=c;p={};p[a.POSITION]={size:3,data:k};p[a.NORMAL]={size:3,data:e};p[a.UV0]={size:2,data:m};return new b([{type:"triangle",indices:s,positionKey:a.POSITION}],p)},createPolySphereGeometry:function(c,d,e){function g(a,b){a>b&&(a=b+(b=a,0));var d=a.toString()+"."+b.toString();if(f[d])return f[d];var e=l.length;l.length+=3;k.add(l,3*a,l,3*b,l,e);k.scale(l,e,c/k.length(l,e));e/=3;
return f[d]=e}var n=c,l;e?(l=[0,-1,0,1,0,0,0,0,1,-1,0,0,0,0,-1,0,1,0],n=[0,1,2,0,2,3,0,3,4,0,4,1,1,5,2,2,5,3,3,5,4,4,5,1]):(e=n*(1+Math.sqrt(5))/2,l=[-n,e,0,n,e,0,-n,-e,0,n,-e,0,0,-n,e,0,n,e,0,-n,-e,0,n,-e,e,0,-n,e,0,n,-e,0,-n,-e,0,n],n=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1]);for(e=0;e<l.length;e+=3)k.scale(l,e,c/k.length(l,e));var f={};for(e=0;e<d;e++){for(var s=n.length,h=Array(4*s),p=0;p<s;p+=3){var m=
n[p],u=n[p+1],E=n[p+2],F=g(m,u),G=g(u,E),Q=g(E,m),M=4*p;h[M]=m;h[M+1]=F;h[M+2]=Q;h[M+3]=u;h[M+4]=G;h[M+5]=F;h[M+6]=E;h[M+7]=Q;h[M+8]=G;h[M+9]=F;h[M+10]=G;h[M+11]=Q}n=h;f={}}d=new Float32Array(l);for(e=0;e<d;e+=3)k.normalize(d,e);l=new Float32Array(l);e={};e[a.POSITION]=n;e[a.NORMAL]=n;n={};n[a.POSITION]={size:3,data:l};n[a.NORMAL]={size:3,data:d};return new b([{type:"triangle",indices:e,positionKey:a.POSITION}],n)},createPointGeometry:function(c,d,e,k,g,n,f){var l=new Float32Array(3);l[0]=d?d[0]:
0;l[1]=d?d[1]:0;l[2]=d?d[2]:0;d=new Float32Array(3);d[0]=c?c[0]:0;d[1]=c?c[1]:0;d[2]=c?c[2]:1;if(null==f)c=new Float32Array(2),c[0]=0,c[1]=0;else{c=new Float32Array(f.length);for(var h=0;h<f.length;h++)c[h]=f[h]}f=new Uint8Array(4);f[0]=e?255*e[0]:255;f[1]=e?255*e[1]:255;f[2]=e?255*e[2]:255;f[3]=e&&3<e.length?255*e[3]:255;e=new Float32Array(2);e[0]=null!=k&&2==k.length?k[0]:1;e[1]=null!=k&&2==k.length?k[1]:1;if(null!=n){var p=new Float32Array(4);p[0]=n[0];p[1]=n[1];p[2]=n[2];p[3]=n[3]}h=new Uint32Array(1);
h[0]=0;k={};k[a.POSITION]=h;k[a.NORMAL]=h;k[a.UV0]=h;k[a.COLOR]=h;k[a.SIZE]=h;null!=n&&(k[a.AUXPOS1]=h);h={};h[a.POSITION]={size:3,data:l};h[a.NORMAL]={size:3,data:d};h[a.UV0]={size:c.length,data:c};h[a.COLOR]={size:4,data:f};h[a.SIZE]={size:2,data:e};null!=n&&(h[a.AUXPOS1]={size:4,data:p});n=[{type:"point",indices:k,positionKey:a.POSITION}];return g?{faces:n[0],vertexAttr:h,id:b.getNewId().toString()}:new b(n,h)},createPointArrayGeometry:function(c,d){for(var e=new Float32Array(3*c.length),k=new Float32Array(d?
3*c.length:3),g=new Uint32Array(c.length),n=new Uint32Array(c.length),f=0;f<c.length;f++)e[3*f]=c[f][0],e[3*f+1]=c[f][1],e[3*f+2]=c[f][2],d&&(k[3*f]=d[f][0],k[3*f+1]=d[f][1],k[3*f+2]=d[f][2]),g[f]=f,n[f]=0;d||(k[0]=0,k[1]=1,k[2]=0);f=new Float32Array(2);f[0]=0;f[1]=0;var l={};l[a.POSITION]=g;l[a.NORMAL]=d?g:n;l[a.UV0]=n;g={};g[a.POSITION]={size:3,data:e};g[a.NORMAL]={size:3,data:k};g[a.UV0]={size:2,data:f};return new b([{type:"point",indices:l,positionKey:a.POSITION}],g)},createTriangleGeometry:function(){var c=
new Float32Array(9);c[0]=0;c[1]=0;c[2]=0;c[3]=0;c[4]=0;c[5]=100;c[6]=100;c[7]=0;c[8]=0;var d=new Uint32Array(3);d[0]=0;d[1]=1;d[2]=2;var e=new Float32Array(3);e[0]=0;e[1]=1;e[2]=0;var k=new Uint32Array(3);k[0]=0;k[1]=0;k[2]=0;var g=new Float32Array(2);g[0]=0;g[1]=0;var n=new Uint32Array(3);n[0]=0;n[1]=0;n[2]=0;var f={};f[a.POSITION]=d;f[a.NORMAL]=k;f[a.UV0]=n;d={};d[a.POSITION]={size:3,data:c};d[a.NORMAL]={size:3,data:e};d[a.UV0]={size:2,data:g};return new b([{type:"triangle",indices:f,positionKey:a.POSITION}],
d)},createSquareGeometry:function(c,d){var e,k,g=new Float32Array(12);if(c)for(e=0;4>e;e++)for(k=0;3>k;k++)g[3*e+k]=c[e][k];else g[0]=-1,g[1]=-1,g[2]=0,g[3]=1,g[4]=-1,g[5]=0,g[6]=1,g[7]=1,g[8]=0,g[9]=-1,g[10]=1,g[11]=0;var n=new Uint32Array(6);n[0]=0;n[1]=1;n[2]=2;n[3]=2;n[4]=3;n[5]=0;k=new Float32Array(3);k[0]=0;k[1]=0;k[2]=1;var f=new Uint32Array(6);for(e=0;6>e;e++)f[e]=0;e=new Float32Array(8);e[0]=0;e[1]=0;e[2]=1;e[3]=0;e[4]=1;e[5]=1;e[6]=0;e[7]=1;var l={};l[a.POSITION]=n;l[a.NORMAL]=f;l[a.UV0]=
n;n={};n[a.POSITION]={size:3,data:g};n[a.NORMAL]={size:3,data:k};n[a.UV0]={size:2,data:e};g=[{type:"triangle",indices:l,positionKey:a.POSITION}];return d?{faces:g[0],vertexAttr:n,id:b.getNewId().toString()}:new b(g,n)},createBoxGeometry:function(){var c,d,e=[[-0.5,-0.5,0.5],[0.5,-0.5,0.5],[0.5,0.5,0.5],[-0.5,0.5,0.5],[-0.5,-0.5,-0.5],[0.5,-0.5,-0.5],[0.5,0.5,-0.5],[-0.5,0.5,-0.5]],k=[0,0,1,-1,0,0,1,0,0,0,-1,0,0,1,0,0,0,-1],g=[0,0,1,0,1,1,0,1],n=[0,1,2,2,3,0,4,0,3,3,7,4,1,5,6,6,2,1,1,0,4,4,5,1,3,2,
6,6,7,3,5,4,7,7,6,5],f=Array(36);for(c=0;6>c;c++)for(d=0;6>d;d++)f[6*c+d]=c;var l=Array(36);for(c=0;6>c;c++)l[6*c+0]=0,l[6*c+1]=1,l[6*c+2]=2,l[6*c+3]=2,l[6*c+4]=3,l[6*c+5]=0;return function(c){var d;Array.isArray(c)||(c=[c,c,c]);var h=new Float32Array(24);for(d=0;8>d;d++)h[3*d]=e[d][0]*c[0],h[3*d+1]=e[d][1]*c[1],h[3*d+2]=e[d][2]*c[2];c={};c[a.POSITION]=new Uint8Array(n);c[a.NORMAL]=new Uint8Array(f);c[a.UV0]=new Uint8Array(l);d={};d[a.POSITION]={size:3,data:h};d[a.NORMAL]={size:3,data:new Float32Array(k)};
d[a.UV0]={size:2,data:new Float32Array(g)};return new b([{type:"triangle",indices:c,positionKey:a.POSITION}],d)}}(),createDiamondGeometry:function(){var c=[[-0.5,0,-0.5],[0.5,0,-0.5],[0.5,0,0.5],[-0.5,0,0.5],[0,-0.5,0],[0,0.5,0]],d=[0,1,-1,1,1,0,0,1,1,-1,1,0,0,-1,-1,1,-1,0,0,-1,1,-1,-1,0],e=[5,1,0,5,2,1,5,3,2,5,0,3,4,0,1,4,1,2,4,2,3,4,3,0],k=[0,0,0,1,1,1,2,2,2,3,3,3,4,4,4,5,5,5,6,6,6,7,7,7];return function(g){var n;Array.isArray(g)||(g=[g,g,g]);var f=new Float32Array(18);for(n=0;6>n;n++)f[3*n]=c[n][0]*
g[0],f[3*n+1]=c[n][1]*g[1],f[3*n+2]=c[n][2]*g[2];g={};g[a.POSITION]=new Uint8Array(e);g[a.NORMAL]=new Uint8Array(k);n={};n[a.POSITION]={size:3,data:f};n[a.NORMAL]={size:3,data:new Float32Array(d)};return new b([{type:"triangle",indices:g,positionKey:a.POSITION}],n)}}(),createTetrahedronGeometry:function(){var c=d.createFrom(-0.5,0,-0.5),e=d.createFrom(0.5,0,-0.5),k=d.createFrom(0,0,0.5),g=d.createFrom(0,0.5,0),n=d.create(),l=d.create(),f=d.create(),h=d.create(),p=d.create();d.subtract(c,g,n);d.subtract(c,
e,l);d.cross(n,l,f);d.normalize(f,f);d.subtract(e,g,n);d.subtract(e,k,l);d.cross(n,l,h);d.normalize(h,h);d.subtract(k,g,n);d.subtract(k,c,l);d.cross(n,l,p);d.normalize(p,p);var m=[c,e,k,g],u=[0,-1,0,f[0],f[1],f[2],h[0],h[1],h[2],p[0],p[1],p[2]],B=[0,1,2,3,1,0,3,2,1,3,0,2],E=[0,0,0,1,1,1,2,2,2,3,3,3];return function(c){var f;Array.isArray(c)||(c=[c,c,c]);var d=new Float32Array(12);for(f=0;4>f;f++)d[3*f]=m[f][0]*c[0],d[3*f+1]=m[f][1]*c[1],d[3*f+2]=m[f][2]*c[2];c={};c[a.POSITION]=new Uint8Array(B);c[a.NORMAL]=
new Uint8Array(E);f={};f[a.POSITION]={size:3,data:d};f[a.NORMAL]={size:3,data:new Float32Array(u)};return new b([{type:"triangle",indices:c,positionKey:a.POSITION}],f)}}(),createConeGeometry:function(c,e,k,g){var n=0,l=d.createFrom(0,n,0),f=d.createFrom(0,n+c,0),h=d.createFrom(0,-1,0),p=d.createFrom(0,1,0);g&&(n=c,f=d.createFrom(0,0,0),l=d.createFrom(0,n,0),h=d.createFrom(0,1,0),p=d.createFrom(0,-1,0));var l=[f,l],h=[h,p],p=k+2,m=0,f=Math.sqrt(c*c+e*e);if(g)for(g=k-1;0<=g;g--)m=g*(2*Math.PI/k),u=
d.createFrom(Math.cos(m)*e,n,Math.sin(m)*e),l.push(u),m=d.createFrom(c*Math.cos(m)/f,-e/f,c*Math.sin(m)/f),h.push(m);else for(g=0;g<k;g++){var m=g*(2*Math.PI/k),u=d.createFrom(Math.cos(m)*e,n,Math.sin(m)*e);l.push(u);m=d.createFrom(c*Math.cos(m)/f,e/f,c*Math.sin(m)/f);h.push(m)}c=new Uint32Array(6*(k+2));k=new Uint32Array(6*(k+2));n=e=0;for(g=3;g<l.length;g++)c[e++]=1,c[e++]=g-1,c[e++]=g,k[n++]=0,k[n++]=0,k[n++]=0;c[e++]=l.length-1;c[e++]=2;c[e++]=1;k[n++]=0;k[n++]=0;k[n++]=0;for(g=3;g<l.length;g++)c[e++]=
g,c[e++]=g-1,c[e++]=0,k[n++]=g,k[n++]=g-1,k[n++]=1;c[e++]=0;c[e++]=2;c[e++]=l.length-1;k[n++]=1;k[n++]=2;k[n++]=h.length-1;n=1;Array.isArray(n)||(n=[n,n,n]);e=new Float32Array(3*p);for(g=0;g<p;g++)e[3*g]=l[g][0]*n[0],e[3*g+1]=l[g][1]*n[1],e[3*g+2]=l[g][2]*n[2];l=new Float32Array(3*p);for(g=0;g<p;g++)l[3*g]=h[g][0],l[3*g+1]=h[g][1],l[3*g+2]=h[g][2];h={};h[a.POSITION]=c;h[a.NORMAL]=k;p={};p[a.POSITION]={size:3,data:e};p[a.NORMAL]={size:3,data:l};return new b([{type:"triangle",indices:h,positionKey:a.POSITION}],
p)},createCylinderGeometry:function(c,e,k,g,n,l){g||(g=d.createFrom(1,0,0));n||(n=d.createFrom(0,0,0));l=void 0===l?!0:l;var f=d.create();d.normalize(g,f);g=d.create();d.scale(f,Math.abs(c),g);var h=d.create();d.scale(g,-0.5,h);d.add(h,n);var p=d.createFrom(0,1,0);Math.abs(0.2>1-d.dot(f,p))&&d.set3(0,0,1,p);var m=d.create();d.cross(f,p,m);d.normalize(m);d.cross(m,f,p);var u=2*k+(l?2:0),B=k+(l?2:0);n=new Float32Array(3*u);c=new Float32Array(3*B);var E=new Float32Array(2*u),F=new Uint32Array(3*k*(l?
4:2)),G=new Float32Array(3*k*(l?4:2));l&&(n[3*(u-2)+0]=h[0],n[3*(u-2)+1]=h[1],n[3*(u-2)+2]=h[2],E[2*(u-2)]=0,E[2*(u-2)+1]=0,n[3*(u-1)+0]=n[3*(u-2)+0]+g[0],n[3*(u-1)+1]=n[3*(u-2)+1]+g[1],n[3*(u-1)+2]=n[3*(u-2)+2]+g[2],E[2*(u-1)]=1,E[2*(u-1)+1]=1,c[3*(B-2)+0]=-f[0],c[3*(B-2)+1]=-f[1],c[3*(B-2)+2]=-f[2],c[3*(B-1)+0]=f[0],c[3*(B-1)+1]=f[1],c[3*(B-1)+2]=f[2]);for(var Q,M=0,T=d.create(),K=d.create(),f=0;f<k;f++){Q=f*(2*Math.PI/k);d.scale(p,Math.sin(Q),T);d.scale(m,Math.cos(Q),K);d.add(T,K);c[3*f+0]=T[0];
c[3*f+1]=T[1];c[3*f+2]=T[2];d.scale(T,e);d.add(T,h);n[3*f+0]=T[0];n[3*f+1]=T[1];n[3*f+2]=T[2];E[2*f+0]=f/k;E[2*f+1]=0;n[3*(f+k)+0]=n[3*f+0]+g[0];n[3*(f+k)+1]=n[3*f+1]+g[1];n[3*(f+k)+2]=n[3*f+2]+g[2];E[2*(f+k)+0]=f/k;E[2*f+1]=1;Q=(f+1)%k;var C=function(a,c,b){F[a]=c;G[a]=b};l&&(C(M++,u-2,B-2),C(M++,f,B-2),C(M++,Q,B-2));C(M++,f,f);C(M++,f+k,f);C(M++,Q,Q);C(M++,Q,Q);C(M++,f+k,f);C(M++,Q+k,Q);l&&(C(M++,f+k,B-1),C(M++,u-1,B-1),C(M++,Q+k,B-1))}e={};e[a.POSITION]=F;e[a.NORMAL]=G;e[a.UV0]=F;k={};k[a.POSITION]=
{size:3,data:n};k[a.NORMAL]={size:3,data:c};k[a.UV0]={size:2,data:E};return new b([{type:"triangle",indices:e,positionKey:a.POSITION}],k)},createTubeGeometry:function(a,c,b,d,e){b=b||10;d=null!=d?d:!0;l.assert(1<a.length);for(var k=[],f=[],g=0;g<b;g++){k.push([0,-g-1,-((g+1)%b)-1]);var n=2*(g/b)*Math.PI;f.push([Math.cos(n)*c,Math.sin(n)*c])}return u.createPathExtrusionGeometry(f,a,[[0,0,0]],k,d,e)},createSquareTubeGeometry:function(a,c,b){b=b||!0;l.assert(1<a.length);c*=Math.SQRT2;return u.createPathExtrusionGeometry([[c,
c],[-c,c],[-c,-c],[c,-c]],a,[],[[-1,-2,-3],[-3,-4,-1]],b,[[0,1],[-1,0],[0,-1],[1,0]])},createPathExtrusionGeometry:function(c,k,g,n,l,h,f){var s,p=c.length,m=new Float32Array(3*k.length*p+(6*g.length||0)),u=new Float32Array(k.length*p+(2*g.length||0)),B=new Float32Array(3*k.length*p+(g?6:0)),E=0,F=0,G=0,Q=new Uint32Array(6*(k.length-1)*p+6*n.length),M=new Uint32Array(6*(k.length-1)*p+6*n.length),T=0,K=0,C=d.create(),D=d.create(),L=d.create(),W=d.create(),ca=d.create(),V=d.create(),R=d.create(),N=
d.create(),H=d.create(),O=d.create(),I=d.create(),J=d.create();d.set3(0,1,0,J);d.subtract(k[1],k[0],D);d.normalize(D);l?(d.add(k[0],h,I),d.normalize(I,L)):d.set3(0,0,1,L);e(D,L,J,J,V,L,0.99619469809);d.set(L,W);for(s=0;s<g.length;s++)d.scale(V,g[s][0],H),d.scale(L,g[s][2],I),d.add(H,I),d.add(H,k[0]),m[E++]=H[0],m[E++]=H[1],m[E++]=H[2],u[G++]=0;B[F++]=-D[0];B[F++]=-D[1];B[F++]=-D[2];for(s=0;s<n.length;s++)Q[T++]=0<n[s][0]?n[s][0]:-n[s][0]-1+g.length,Q[T++]=0<n[s][1]?n[s][1]:-n[s][1]-1+g.length,Q[T++]=
0<n[s][2]?n[s][2]:-n[s][2]-1+g.length,M[K++]=0,M[K++]=0,M[K++]=0;var S=g.length;s=g.length-1;for(var U,ba=0;ba<k.length;ba++){U=!1;0<ba&&(l?(d.add(k[ba],h,I),d.normalize(I,L)):d.set3(0,0,1,L),d.set(D,C),d.set(C,I),ba<k.length-1?(d.subtract(k[ba+1],k[ba],D),d.normalize(D),d.add(I,D)):U=!0,e(I,L,W,J,V,L,0.99619469809),d.set(L,W));f&&(e(D,L,W,J,N,R,0.99619469809),d.set(R,ca));for(var X=0;X<p;X++)if(d.scale(V,c[X][0],H),d.scale(L,c[X][1],I),d.add(H,I),f?(d.scale(N,f[X][0],O),d.scale(R,f[X][1],I),d.add(O,
I),d.normalize(O),d.scale(O,-1)):d.normalize(H,O),B[F++]=O[0],B[F++]=O[1],B[F++]=O[2],d.add(H,k[ba]),m[E++]=H[0],m[E++]=H[1],m[E++]=H[2],u[G++]=c[X][1],!U){var $=(X+1)%p;Q[T++]=S+X;Q[T++]=S+p+X;Q[T++]=S+$;Q[T++]=S+$;Q[T++]=S+p+X;Q[T++]=S+p+$;if(f)for($=0;6>$;$++)M[K++]=S-s+X;else for($=0;6>$;$++)M[K++]=Q[T-6+$]-s}S+=p}U=k[k.length-1];for(s=0;s<g.length;s++)d.scale(V,g[s][0],H),d.scale(L,g[s][1],I),d.add(H,I),d.add(H,U),m[E++]=H[0],m[E++]=H[1],m[E++]=H[2],u[G++]=0;c=F/3;B[F++]=D[0];B[F++]=D[1];B[F++]=
D[2];p=S-p;for(s=0;s<n.length;s++)Q[T++]=0<=n[s][0]?S+n[s][0]:-n[s][0]-1+p,Q[T++]=0<=n[s][2]?S+n[s][2]:-n[s][2]-1+p,Q[T++]=0<=n[s][1]?S+n[s][1]:-n[s][1]-1+p,M[K++]=c,M[K++]=c,M[K++]=c;n={};n[a.POSITION]=Q;n[a.NORMAL]=M;Q={};Q[a.POSITION]={size:3,data:m};Q.zOffset={size:1,data:u};Q[a.NORMAL]={size:3,data:B};return new b([{type:"triangle",indices:n,positionKey:a.POSITION}],Q)},createPolylineGeometry:function(c,d){l.assert(1<c.length,"createPolylineGeometry(): polyline needs at least 2 points");l.assert(3===
c[0].length,"createPolylineGeometry(): malformed vertex");for(var e=new Float32Array(3*c.length),k=new Uint32Array(2*(c.length-1)),g=0,n=0,f=0;f<c.length;f++){for(var h=0;3>h;h++)e[g++]=c[f][h];0<f&&(k[n++]=f-1,k[n++]=f)}n={};g={};n[a.POSITION]=k;g[a.POSITION]={size:3,data:e};e=[{type:"line",indices:n,positionKey:a.POSITION}];return d?{faces:e[0],vertexAttr:g,id:b.getNewId().toString()}:new b(e,g)},addVertexColors:function(c,d,e){var k,g,n;if(e){var f={};e=c.getVertexAttr();for(n in e)f[n]=e[n];c=
c.getFaces();e=Array(c.length);for(g=0;g<c.length;g++){k={};for(n in c[g].indices)k[n]=c[g].indices[n];e[g]={type:c[g].type,indices:k,positionKey:c[g].positionKey}}c=new b(e,f)}d=d||[1,1,1,1];n=new Uint8Array(4);n[0]=255*d[0];n[1]=255*d[1];n[2]=255*d[2];n[3]=255*(3<d.length?d[3]:1);c.getVertexAttr()[a.COLOR]={size:4,data:n};e=c.getFaces();for(g=0;g<e.length;g++)d=e[g],k=new Uint32Array(d.indices[d.positionKey].length),d.indices[a.COLOR]=k;return c},addNormals:function(a){var b=a.getVertexAttr();a=
a.getFaces();for(var d=h.Vec3Compact.subtract,e=a.map(function(a){return a.indices.position.length/3}).reduce(function(a,c){return a+c}),e=new Float32Array(3*e),k=b.position.data,g=0,f=0;f<a.length;f++){for(var l=a[f].indices.position,m=new Uint32Array(l.length),u=0;u<l.length;u+=3){d(k,3*l[u],k,3*l[u+2],n,0);d(k,3*l[u],k,3*l[u+1],p,0);c.cross(p,n);c.normalize(p);var A=g/3;e[g++]=p[0];e[g++]=p[1];e[g++]=p[2];m[u]=A;m[u+1]=A;m[u+2]=A}a[f].indices.normal=m}b.normal={size:3,data:e}},cgToGIS:function(a){var c=
a.getVertexAttr();a=c.position.data;var c=c.normal.data,b,d;if(c)for(b=0;b<c.length;b+=3)d=c[b+1],c[b+1]=-c[b+2],c[b+2]=d;if(a)for(b=0;b<a.length;b+=3)d=a[b+1],a[b+1]=-a[b+2],a[b+2]=d}};return u})},"esri/views/3d/webgl-engine/lib/webgl-debug":function(){define([],function(){function b(a){if(null==c){c={};for(var b in a)"number"==typeof a[b]&&(c[a[b]]=b)}}function h(){if(null==c)throw"WebGLDebugUtils.init(ctx) not called";}function l(a){h();var b=c[a];return void 0!==b?b:"*UNKNOWN WebGL ENUM (0x"+
a.toString(16)+")"}function m(a,c,b){a=d[a];return void 0!==a&&a[c]?l(b):null===b?"null":void 0===b?"undefined":b.toString()}function g(a,c,b){a.__defineGetter__(b,function(){return c[b]});a.__defineSetter__(b,function(a){c[b]=a})}function e(a){var c=a.getParameter(a.MAX_VERTEX_ATTRIBS),b=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,b);for(var d=0;d<c;++d)a.disableVertexAttribArray(d),a.vertexAttribPointer(d,4,a.FLOAT,!1,0,0),a.vertexAttrib1f(d,0);a.deleteBuffer(b);c=a.getParameter(a.MAX_TEXTURE_IMAGE_UNITS);
for(d=0;d<c;++d)a.activeTexture(a.TEXTURE0+d),a.bindTexture(a.TEXTURE_CUBE_MAP,null),a.bindTexture(a.TEXTURE_2D,null);a.activeTexture(a.TEXTURE0);a.useProgram(null);a.bindBuffer(a.ARRAY_BUFFER,null);a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,null);a.bindFramebuffer(a.FRAMEBUFFER,null);a.bindRenderbuffer(a.RENDERBUFFER,null);a.disable(a.BLEND);a.disable(a.CULL_FACE);a.disable(a.DEPTH_TEST);a.disable(a.DITHER);a.disable(a.SCISSOR_TEST);a.blendColor(0,0,0,0);a.blendEquation(a.FUNC_ADD);a.blendFunc(a.ONE,a.ZERO);
a.clearColor(0,0,0,0);a.clearDepth(1);a.clearStencil(-1);a.colorMask(!0,!0,!0,!0);a.cullFace(a.BACK);a.depthFunc(a.LESS);a.depthMask(!0);a.depthRange(0,1);a.frontFace(a.CCW);a.hint(a.GENERATE_MIPMAP_HINT,a.DONT_CARE);a.lineWidth(1);a.pixelStorei(a.PACK_ALIGNMENT,4);a.pixelStorei(a.UNPACK_ALIGNMENT,4);a.pixelStorei(a.UNPACK_FLIP_Y_WEBGL,!1);a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1);a.UNPACK_COLORSPACE_CONVERSION_WEBGL&&a.pixelStorei(a.UNPACK_COLORSPACE_CONVERSION_WEBGL,a.BROWSER_DEFAULT_WEBGL);
a.polygonOffset(0,0);a.sampleCoverage(1,!1);a.scissor(0,0,a.canvas.width,a.canvas.height);a.stencilFunc(a.ALWAYS,0,4294967295);a.stencilMask(4294967295);a.stencilOp(a.KEEP,a.KEEP,a.KEEP);a.viewport(0,0,a.canvas.width,a.canvas.height);for(a.clear(a.COLOR_BUFFER_BIT|a.DEPTH_BUFFER_BIT|a.STENCIL_BUFFER_BIT);a.getError(););}var d={enable:{"0":!0},disable:{"0":!0},getParameter:{"0":!0},drawArrays:{"0":!0},drawElements:{"0":!0,2:!0},createShader:{"0":!0},getShaderParameter:{1:!0},getProgramParameter:{1:!0},
getVertexAttrib:{1:!0},vertexAttribPointer:{2:!0},bindTexture:{"0":!0},activeTexture:{"0":!0},getTexParameter:{"0":!0,1:!0},texParameterf:{"0":!0,1:!0},texParameteri:{"0":!0,1:!0,2:!0},texImage2D:{"0":!0,2:!0,6:!0,7:!0},texSubImage2D:{"0":!0,6:!0,7:!0},copyTexImage2D:{"0":!0,2:!0},copyTexSubImage2D:{"0":!0},generateMipmap:{"0":!0},bindBuffer:{"0":!0},bufferData:{"0":!0,2:!0},bufferSubData:{"0":!0},getBufferParameter:{"0":!0,1:!0},pixelStorei:{"0":!0,1:!0},readPixels:{4:!0,5:!0},bindRenderbuffer:{"0":!0},
bindFramebuffer:{"0":!0},checkFramebufferStatus:{"0":!0},framebufferRenderbuffer:{"0":!0,1:!0,2:!0},framebufferTexture2D:{"0":!0,1:!0,2:!0},getFramebufferAttachmentParameter:{"0":!0,1:!0,2:!0},getRenderbufferParameter:{"0":!0,1:!0},renderbufferStorage:{"0":!0,1:!0},clear:{"0":!0},depthFunc:{"0":!0},blendFunc:{"0":!0,1:!0},blendFuncSeparate:{"0":!0,1:!0,2:!0,3:!0},blendEquation:{"0":!0},blendEquationSeparate:{"0":!0,1:!0},stencilFunc:{"0":!0},stencilFuncSeparate:{"0":!0,1:!0},stencilMaskSeparate:{"0":!0},
stencilOp:{"0":!0,1:!0,2:!0},stencilOpSeparate:{"0":!0,1:!0,2:!0,3:!0},cullFace:{"0":!0},frontFace:{"0":!0}},c=null;return{init:b,mightBeEnum:function(a){h();return void 0!==c[a]},glEnumToString:l,glFunctionArgToString:m,glFunctionArgsToString:function(a,c){for(var b="",d=0;d<c.length;++d)b+=(0==d?"":", ")+m(a,d,c[d]);return b},makeDebugContext:function(a,c,d){function e(a,b){return function(){d&&d(b,arguments);var e=a[b].apply(a,arguments),g=a.getError();0!=g&&(h[g]=!0,c(g,b,arguments));return e}}
b(a);c=c||function(a,c,b){for(var d="",f=0;f<b.length;++f)d+=(0==f?"":", ")+m(c,f,b[f]);a="WebGL error "+l(a)+" in "+c+"("+d+")";window.console&&window.console.error?window.console.error(a):window.console&&window.console.log&&window.console.log(a)};var h={},q={},t;for(t in a)"function"==typeof a[t]?q[t]=e(a,t):g(q,a,t);q.getError=function(){for(var c in h)if(h.hasOwnProperty(c)&&h[c])return h[c]=!1,c;return a.NO_ERROR};return q},makeLostContextSimulatingCanvas:function(a){function c(a){return"function"==
typeof a?a:function(c){a.handleEvent(c)}}function b(){for(var a=Object.keys(F),c=0;c<a.length;++c)delete F[a]}function d(){++A;s||y==A&&a.loseContext()}function l(a,c){var b=a[c];return function(){d();if(!s)return b.apply(a,arguments)}}function h(a){return{statusMessage:a,preventDefault:function(){B=!0}}}function m(a){for(var c in a)"function"==typeof a[c]?v[c]=l(a,c):g(v,a,c);v.getError=function(){d();if(!s)for(var a;a=r.getError();)F[a]=!0;for(a in F)if(F[a])return delete F[a],a;return v.NO_ERROR};
var b="createBuffer createFramebuffer createProgram createRenderbuffer createShader createTexture".split(" ");for(c=0;c<b.length;++c){var e=b[c];v[e]=function(c){return function(){d();if(s)return null;var b=c.apply(a,arguments);b.__webglDebugContextLostId__=f;z.push(b);return b}}(a[e])}b="getActiveAttrib getActiveUniform getBufferParameter getContextAttributes getAttachedShaders getFramebufferAttachmentParameter getParameter getProgramParameter getProgramInfoLog getRenderbufferParameter getShaderParameter getShaderInfoLog getShaderSource getTexParameter getUniform getUniformLocation getVertexAttrib".split(" ");
for(c=0;c<b.length;++c)e=b[c],v[e]=function(c){return function(){d();return s?null:c.apply(a,arguments)}}(v[e]);b="isBuffer isEnabled isFramebuffer isProgram isRenderbuffer isShader isTexture".split(" ");for(c=0;c<b.length;++c)e=b[c],v[e]=function(c){return function(){d();return s?!1:c.apply(a,arguments)}}(v[e]);v.checkFramebufferStatus=function(c){return function(){d();return s?v.FRAMEBUFFER_UNSUPPORTED:c.apply(a,arguments)}}(v.checkFramebufferStatus);v.getAttribLocation=function(c){return function(){d();
return s?-1:c.apply(a,arguments)}}(v.getAttribLocation);v.getVertexAttribOffset=function(c){return function(){d();return s?0:c.apply(a,arguments)}}(v.getVertexAttribOffset);v.isContextLost=function(){return s};return v}var r,v,x=[],w=[];v={};var f=1,s=!1,z=[],y=0,A=0,B=!1,E=0,F={};a.getContext=function(c){return function(){var b=c.apply(a,arguments);if(b instanceof WebGLRenderingContext){if(b!=r){if(r)throw"got different context";r=b;v=m(r)}return v}return b}}(a.getContext);(function(a){var b=a.addEventListener;
a.addEventListener=function(f,d,e){switch(f){case "webglcontextlost":x.push(c(d));break;case "webglcontextrestored":w.push(c(d));break;default:b.apply(a,arguments)}}})(a);a.loseContext=function(){if(!s){s=!0;y=0;for(++f;r.getError(););b();F[r.CONTEXT_LOST_WEBGL]=!0;var c=h("context lost"),d=x.slice();setTimeout(function(){for(var b=0;b<d.length;++b)d[b](c);0<=E&&setTimeout(function(){a.restoreContext()},E)},0)}};a.restoreContext=function(){s&&w.length&&setTimeout(function(){if(!B)throw"can not restore. webglcontestlost listener did not call event.preventDefault";
for(var a=0;a<z.length;++a){var c=z[a];c instanceof WebGLBuffer?r.deleteBuffer(c):c instanceof WebGLFramebuffer?r.deleteFramebuffer(c):c instanceof WebGLProgram?r.deleteProgram(c):c instanceof WebGLRenderbuffer?r.deleteRenderbuffer(c):c instanceof WebGLShader?r.deleteShader(c):c instanceof WebGLTexture&&r.deleteTexture(c)}e(r);s=!1;A=0;B=!1;for(var a=w.slice(),c=h("context restored"),b=0;b<a.length;++b)a[b](c)},0)};a.loseContextInNCalls=function(a){if(s)throw"You can not ask a lost contet to be lost";
y=A+a};a.getNumCalls=function(){return A};a.setRestoreTimeout=function(a){E=a};return a},resetToInitialState:e}})},"esri/Camera":function(){define(["dojo/_base/lang","./core/JSONSupport","./core/lang","./geometry/Point","./views/3d/support/mathUtils"],function(b,h,l,m,g){var e=h.createSubclass({declaredClass:"esri.Camera",classMetadata:{reader:{exclude:["fov"]}},getDefaults:function(b){if(!b.position)return{position:new m([0,0,0])}},normalizeCtorArgs:function(d,c,a,e){var g={};if(b.isObject(d)&&l.isDefined(d))if(l.isDefined(d.position)||
l.isDefined(d.tilt)||l.isDefined(d.heading)||l.isDefined(d.fov))l.isDefined(d.position)&&(g.position=new m(d.position)),l.isDefined(d.heading)&&(g.heading=d.heading),l.isDefined(d.tilt)&&(g.tilt=d.tilt),l.isDefined(d.fov)&&(g.fov=d.fov);else if(l.isDefined(d)&&(l.isDefined(d.x)||Array.isArray(d)))g.position=new m(d);l.isDefined(c)&&(g.heading=c);l.isDefined(a)&&(g.tilt=a);l.isDefined(e)&&(g.fov=e);return g},position:null,_positionReader:function(b,c){return m.fromJSON(b)},heading:0,_headingSetter:function(b){return g.cyclicalDeg.normalize(b)},
tilt:0,_tiltSetter:function(b){return Math.min(180,Math.max(-180,b))},fov:55,equals:function(b){return!b?!1:this.tilt===b.tilt&&this.heading===b.heading&&this.fov===b.fov&&this.position.equals(b.position)},clone:function(){return new e({position:this.position.clone(),heading:this.heading,tilt:this.tilt,fov:this.fov})},toJSON:function(){var b={position:this.position.toJSON(),heading:this.heading,tilt:this.tilt};return l.fixJson(b)}});return e})},"esri/views/3d/support/cameraUtilsInternal":function(){define(["./mathUtils",
"../lib/glMatrix"],function(b,h){var l=h.vec3d,m=l.create(),g=l.create();return{directionToHeadingTilt:function(e,d,c,a,k){var h=m;l.normalize(e,h);var n=Math.abs(l.dot(h,a));0.99<n&&(n=Math.abs(l.dot(d,a)),0.99>n?l.set(d,h):h=null);d=0;h&&(l.scale(a,l.dot(a,h),g),l.subtract(h,g),d=l.dot(h,k)/(l.length(h)*l.length(k)),l.cross(h,k,g),d=(0<l.dot(g,a)?1:-1)*b.rad2deg(b.acos(d)));e=b.rad2deg(b.acos(-l.dot(a,e)/l.length(e)));return c?(c.heading=d,c.tilt=e,c):{heading:d,tilt:e}}}})},"esri/widgets/Popup":function(){define("./Widget ../core/declare ../core/watchUtils dojo/_base/lang dojo/_base/array dijit/a11yclick dijit/_TemplatedMixin dojo/on dojo/promise/all ../views/2d/viewpointUtils ../geometry/support/mathUtils ../geometry/support/webMercatorUtils dojo/i18n!../nls/jsapi dojo/text!./Popup/templates/Popup.html dojo/string dojo/dom-class dojo/dom-attr dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/fx/easing ./Popup/PopupRenderer ./Ripple ./Spinner".split(" "),
function(b,h,l,m,g,e,d,c,a,k,p,n,u,q,t,r,v,x,w,f,s,z,y,A){return h([b,d],{declaredClass:"esri.widgets.Popup",templateString:q,_i18n:u.widgets.popup,css:{root:"esri-popup",container:"esri-container",visible:"esri-visible",showDock:"esri-show-dock",docked:"esri-docked",dockedLeft:"esri-docked-left",dockedRight:"esri-docked-right",dockedTop:"esri-docked-top",dockedBottom:"esri-docked-bottom",menuOpen:"esri-menu-open",background:"esri-background",shadow:"esri-shadow",main:"esri-main",header:"esri-header",
headerButtons:"esri-header-buttons",body:"esri-popup-body",bodyContent:"esri-popup-content",showContent:"esri-show-content",footer:"esri-footer",title:"esri-title",showTitle:"esri-show-title",btn:"esri-btn",icon:"esri-icon",iconText:"esri-icon-text",close:"esri-close",closeIcon:"esri-close-icon esri-icon-close",collapseIcon:"esri-down-icon esri-icon-down",dockBtn:"esri-dock",dockIcon:"esri-dock-icon",dockIconTop:"esri-icon-maximize",dockIconBottom:"esri-icon-dock-bottom",dockIconLeft:"esri-icon-dock-left",
dockIconRight:"esri-icon-dock-right",dockIconText:"esri-dock-text",undockIcon:"esri-undock-icon esri-icon-minimize",undockIconText:"esri-undock-text",actions:"esri-actions",action:"esri-action",pagination:"esri-pagination",showPagination:"esri-show-pagination",pointer:"esri-pointer",previous:"esri-previous",previousIcon:"esri-previous-icon esri-icon-left-triangle-arrow",next:"esri-next",nextIcon:"esri-next-icon esri-icon-right-triangle-arrow",pageMenu:"esri-page-menu",pageMenuViewport:"esri-page-menu-viewport",
pageMenuHeader:"esri-page-menu-header",pageMenuInfo:"esri-page-menu-info",pageMenuNote:"esri-page-menu-note",pageMenuActions:"esri-page-menu-actions",pageMenuPointer:"esri-page-menu-pointer",pageMenuSelected:"esri-selected",pageMenuBtn:"esri-page-menu-btn",pageMenuIcon:"esri-page-menu-icon esri-icon-layer-list",pageMenuNumber:"esri-page-menu-num",pageMenuTitle:"esri-page-menu-title",pageMenuCheckMark:"esri-page-menu-check-mark esri-icon-check-mark",pageText:"esri-page-text",zoomIcon:"esri-icon-zoom-in-magnifying-glass",
top:"esri-top",bottom:"esri-bottom",left:"esri-left",right:"esri-right",loading:"esri-loading",loadingContainer:"esri-loading-container",loadingIcon:"esri-loading-icon esri-icon-loading-indicator",clearfix:"esri-clearfix"},features:[],promises:[],actions:[],count:0,highlight:!0,visible:!1,selectedIndex:null,selectedFeature:null,zoomFactor:4,fillSymbol:null,markerSymbol:null,lineSymbol:null,pagination:!0,position:"top",padding:10,animation:{duration:300,easing:s.quadInOut},movePopupIntoView:!0,enableDock:!0,
docked:!1,dockPosition:{portrait:"bottom",landscape:"right"},title:null,content:null,location:null,autoClose:!1,autoDock:!0,autoUpdateLocation:!1,closestFirst:!1,dockAtSize:{width:480,height:640},finding:!1,spinner:!1,constructor:function(){this._events=[];this.set("actions",[{title:this._i18n.zoom,className:this.css.zoomIcon,action:this._zoomTo.bind(this)}])},postCreate:function(){var a=this;this.inherited(arguments);this.own(c(this._dockNode,e,this._toggleDock.bind(this)),c(this._closeNode,e,this._close.bind(this)),
c(this._previousNode,e,this.previous.bind(this)),c(this._nextNode,e,this.next.bind(this)),c(this._pageMenuNode,e,this._togglePageMenu.bind(this)),c(this._pageMenuCloseNode,e,this._togglePageMenu.bind(this)),c(this._pageMenuItemsNode,c.selector("tr:not(."+this.css.pageMenuSelected+")",e),function(){a._pageMenuItem(this)}));this._viewChange()},startup:function(){this.inherited(arguments);this.view?this.view.then(this._init.bind(this)):console.log(this.declaredClass+"::view required")},destroy:function(){this._ripple&&
this._ripple.destroy();this._spinner&&this._spinner.destroy();this.view=null;this._removeEvents();this.inherited(arguments)},reposition:function(){this._reposition()},next:function(){this.set("selectedIndex",this.selectedIndex+1)},previous:function(){this.set("selectedIndex",this.selectedIndex-1)},show:function(a){a&&this.set("location",a);this.set("visible",!0)},hide:function(){this.set("visible",!1)},setFeatures:function(a){a&&a[0]&&a[0].hasOwnProperty("then")?this.set("promises",a):this.set("features",
a)},clearFeatures:function(){this.set("features",[])},setContent:function(a){this.set("content",a)},setTitle:function(a){this.set("title",a)},resize:function(){},maximize:function(){this.set("docked",!0)},restore:function(){this.set("docked",!1)},getSelectedFeature:function(){return this.selectedFeature},select:function(a){this.set("selectedIndex",a)},selectNext:function(){this.next()},selectPrevious:function(){this.previous()},_init:function(){this._visibleChange();this._dockedChange();this._actionsChange();
this._setFeaturesChange();this.set("loaded",!0);this.emit("load")},_toggleDock:function(){this.set("docked",!this.docked)},_close:function(){this.set("visible",!1)},_getPoint:function(a){var c;if(a)switch(a.type){case "point":c=a;break;case "multipoint":case "polyline":case "polygon":c=a.getPoint(0,0)}return c},_navigateTo:function(a){var c=this.view&&this.view.get("state.extent");if(this.location&&c&&!c.contains(this.location))this.view.animateTo(this.location,this.animation);else if(!this.docked&&
a&&!this._animateVP&&this.movePopupIntoView){var b=c=0,f=w.position(this.view.surface,!0),d=f.h,f=f.w,e=this.view.padding;a.top<e.top?b=-a.top+this.padding+e.top:a.bottom>d-e.bottom&&(b=-(a.bottom-d+e.bottom)-this.padding);a.left<e.left?c=a.left-this.padding-e.left:a.right>f-e.right&&(c=a.right-f+e.right+this.padding);if(c||b)this._animateVP=k.translateBy(k.create(),this.view.viewpoint,[c,b]),this.view.animateTo(this._animateVP,this.animation).then(function(){this._animateVP=null}.bind(this))}},_setPosition:function(a){var c=
w.getContentBox(this._containerNode),b=w.position(this._pointerNode).h/2,d=c.h;if("top"===this.position||"bottom"===this.position)d+=b;var e=c.w;if("left"===this.position||"right"===this.position)e+=b;switch(this.position){case "bottom":c=a.y+b;b=a.x-e/2;d=a.y+d;e=b+e;break;case "left":c=a.y-d/2;b=a.x-e;d=c+d;e=b+e;break;case "right":c=a.y-d/2;b=a.x+b;d=c+d;e=a.x+e;break;default:c=a.y-d,b=a.x-e/2,d=c+d,e=b+e}var g=this.view.padding,k=this.css;r.remove(this._containerNode,[k.top,k.bottom,k.left,k.right]);
if(this.docked)a={left:"",top:"",right:"",bottom:""},g.left&&(a.marginLeft=g.left+"px"),g.top&&(a.marginTop=g.top+"px"),g.right&&(a.marginRight=g.right+"px"),g.bottom&&(a.marginBottom=g.bottom+"px"),f.set(this._containerNode,a);else{a={left:b+"px",top:c+"px",right:null,bottom:null,marginLeft:null,marginTop:null,marginRight:null,marginBottom:null};switch(this.position){case "bottom":g=k.bottom;break;case "right":g=k.right;break;case "left":g=k.left;break;default:g=k.top}r.add(this._containerNode,g)}f.set(this._containerNode,
a);return{top:c,left:b,bottom:d,right:e}},_zoomTo:function(){if(this.view&&this.location){var a={target:this.location};"point"===this.location.type&&(a.scale=this.view.scale/this.zoomFactor);this.view.animateTo(a,this.animation)}},_togglePageMenu:function(){this._containerNode&&r.toggle(this._containerNode,this.css.menuOpen)},_removeEvents:function(){if(this._events&&this._events.length)for(var a=0;a<this._events.length;a++)this._events[a]&&this._events[a].remove();this._events.length=0},_actionsChange:function(){if(this._actionsNode){x.empty(this._actionsNode);
this._removeEvents();var a=this.actions;if(a&&a.length)for(var b=0;b<a.length;b++){var f=a[b],d=x.create("div",{tabindex:"0",title:f.title,className:this.css.btn+" "+this.css.action});x.create("span",{"aria-hidden":!0,className:this.css.icon+" "+f.className},d);x.create("span",{textContent:f.title,className:this.css.iconText},d);x.place(d,this._actionsNode);this._events.push(c(d,e,f.action))}}},_dockPositionChange:function(){if(this._containerNode){var a=this.css;r.remove(this._containerNode,[a.dockedLeft,
a.dockedRight,a.dockedTop,a.dockedBottom]);r.remove(this._dockIconNode,[a.dockIconTop,a.dockIconBottom,a.dockIconLeft,a.dockIconRight]);var c;switch(this.view.cssTraits&&"portrait"===this.view.cssTraits.active.orientation?this.dockPosition.portrait:this.dockPosition.landscape){case "top":c=a.dockedTop;a=a.dockIconTop;break;case "bottom":c=a.dockedBottom;a=a.dockIconBottom;break;case "left":c=a.dockedLeft;a=a.dockIconLeft;break;default:c=a.dockedRight,a=a.dockIconRight}this.enableDock&&(r.add(this._dockIconNode,
a),this.docked&&r.add(this._containerNode,c))}},_dockedChange:function(){this._containerNode&&r.toggle(this._containerNode,this.css.docked,this.docked);this._dockPositionChange();this._locationChange()},_enableDockChange:function(){this._containerNode&&(this.enableDock?(r.toggle(this._containerNode,this.css.docked,this.docked),r.add(this._containerNode,this.css.showDock)):r.remove(this._containerNode,[this.css.docked,this.css.showDock]));this._dockPositionChange()},_visibleChange:function(){var a=
this.visible&&!this.spinner;this._containerNode&&r.toggle(this._containerNode,this.css.visible,a)},_locationChange:function(){var a=this._reposition();a&&a.then(function(a){this.spinner||this._navigateTo(a)}.bind(this))},_reposition:function(){if(this.location){var a=this._getPoint(this.location);if(a&&this.view)return this.view.then(function(){var c=this.view.toScreen(a.x,a.y);if(c)return this._setPosition(c)}.bind(this))}},_addContent:function(){this._contentChange();this._titleChange();this._pageText()},
_removeContent:function(){this._containerNode&&(v.set(this._bodyContentNode,"innerHTML",""),v.set(this._titleNode,"innerHTML",""),v.set(this._pageTextNode,"innerHTML",""),r.remove(this._containerNode,[this.css.showTitle,this.css.showContent]))},_titleChange:function(){if(this._containerNode){var a=this.title||"";v.set(this._titleNode,{textContent:a});r.toggle(this._containerNode,this.css.showTitle,a)}this._reposition()},_contentChange:function(){var a=this.content;a&&a.id&&x.place(a,this._bodyContentNode,
"only");this._containerNode&&r.toggle(this._containerNode,this.css.showContent,a);this._reposition()},_selectedFeatureChange:function(){this.selectedFeature&&(this._popupRenderer&&this._popupRenderer.destroy(),this._popupRenderer=new z({showTitle:!1,graphic:this.selectedFeature},x.create("div")),c(this._popupRenderer,"load",function(){this.set("title",this._popupRenderer.title);this.set("content",this._popupRenderer.domNode);this.autoUpdateLocation&&this.set("location",this.selectedFeature.geometry)}.bind(this)),
this._popupRenderer.startup())},_selectedIndexChange:function(){var a=null,c=this.features;c&&c.length&&(this.selectedIndex=(this.selectedIndex+this.features.length)%this.features.length,a=c[this.selectedIndex]);this.set("selectedFeature",a);this._pageText();this._pageMenuItems()},_setFeaturesChange:function(){this.finding||this.set("selectedIndex",null);var a=0;this.features&&this.features.length&&(this.finding||this.set("selectedIndex",0),a=this.features.length);this.set("count",a);this._paginationChange();
this.spinner||this._locationChange()},_pageMenuItem:function(a){var c=null;(a=v.get(a,"data-index"))&&(c=parseInt(a,10));null!==c&&this.set("selectedIndex",c);r.remove(this._containerNode,this.css.menuOpen)},_pageMenuItems:function(){var a=this.features;if(a){var c=a.length;this._pageMenuItemsNode&&v.set(this._pageMenuItemsNode,"innerHTML","");if(a&&c){var b=t.substitute(this._i18n.selectedFeatures,{total:c});v.set(this._pageMenuInfoNode,"textContent",b);for(b=0;b<c;b++){var f=a[b],d=this._i18n.untitled;
f&&(f=new z({showContent:!1,graphic:f}),f.startup(),d=f.title,f.destroy());f={};b===this.selectedIndex?f.className=this.css.pageMenuSelected:(f.role="menu-item",f.tabindex="0",f["data-index"]=b);f=x.create("tr",f,this._pageMenuItemsNode);x.create("th",{className:this.css.pageMenuNumber,textContent:b+1},f);d=x.create("td",{className:this.css.pageMenuTitle,textContent:d},f);b===this.selectedIndex&&x.create("span",{className:this.css.pageMenuCheckMark},d)}}}},_pageText:function(){var a="";this.pagination&&
(this.features&&1<this.features.length)&&(a=t.substitute(this._i18n.pageText,{index:this.selectedIndex+1,total:this.features.length}));this._pageTextNode&&v.set(this._pageTextNode,{textContent:a})},_paginationChange:function(){this._pageText();this._pageMenuItems();var a=this.pagination&&this.features&&1<this.features.length;this._containerNode&&r.toggle(this._containerNode,this.css.showPagination,a);this._reposition()},_autoCloseChange:function(){this._viewInteracting&&this._viewInteracting.remove();
this.autoClose&&(this._viewInteracting=this.view.watch("interacting",function(a){a&&this.visible&&this.set("visible",!1)}.bind(this)),this.own(this._viewInteracting))},_resized:function(){this._locationChange()},_viewSizeChange:function(){this.autoDock&&this.dockAtSize&&this.set("docked",this.view.ui.width<=this.dockAtSize.width||this.view.ui.height<=this.dockAtSize.height)},_viewChange:function(){this._viewPointEvent&&this._viewPointEvent.remove();this._viewPointEvent=this.view.watch("viewpoint",
this._reposition.bind(this));this.own(this._viewPointEvent);this._viewSizeEvent&&this._viewSizeEvent.remove();this._viewSizeEvent=this.view.watch("size",this._viewSizeChange.bind(this));this.own(this._viewSizeEvent);this._viewResizingEvent&&this._viewResizingEvent.remove();this._viewResizingEvent=l.whenFalse(this.view,"resizing",this._resized.bind(this));this.own(this._viewResizingEvent);this._autoCloseChange();x.place(this.domNode,this.view.root);this._ripple&&this._ripple.destroy();this._ripple=
new y({view:this.view});this._ripple.startup();this._spinner&&this._spinner.destroy();this._spinner=new A({view:this.view});this._spinner.startup();this._viewClick&&this._viewClick.remove();this._viewClick=c(this.view,"click",function(a){this._ripple.show(a.mapPoint)}.bind(this));this.own(this._viewClick)},_visibleChangeContent:function(){this.visible?this._addContent():this._removeContent();this.spinner||this._locationChange()},_updateFeatures:function(a,c){if(a&&this.promises){if(!this._unbind(a)||
c instanceof Error)return;if(c&&c.length){if(this.features){var b=c.filter(function(a){return-1===this.features.indexOf(a)}.bind(this));this.set("features",this.features.concat(b))}else this.set("features",c);null===this.selectedIndex&&this.set("selectedIndex",0);this.set("spinner",!1)}}this._created&&this._setFeaturesChange()},_findingChange:function(){this.finding?r.add(this._containerNode,this.css.loading):r.remove(this._containerNode,this.css.loading)},_spinnerChange:function(){this.spinner&&
this.location?this._spinner.show(this.location):this._spinner.hide();this._visibleChange()},_unbind:function(a){a=g.indexOf(this.promises,a);if(-1===a)return!1;this.promises.splice(a,1);return!0},_showClosestFirst:function(a,c){if(a&&a.length&&1<a.length){c=c.normalize();var b=Infinity,f=-1,d=p.getLength,e=c.spatialReference,g,k,l,h,s;for(l=a.length-1;0<=l;l--)if(k=a[l].geometry){h=k.spatialReference;g=0;try{s="point"===k.type?k:k.extent.center,s=s.normalize(),e&&(h&&!e.equals(h)&&e._canProject(h))&&
(s=e.isWebMercator()?n.geographicToWebMercator(s):n.webMercatorToGeographic(s)),g=d(c,s)}catch(m){}0<g&&g<b&&(b=g,f=l)}0<f&&a.splice(0,0,a.splice(f,1)[0])}return a},_setContentAttr:function(a){this._set("content",a);this._created&&this._contentChange()},_setLocationAttr:function(a){this._set("location",a);this._created&&(this._locationChange(),this._spinnerChange())},_setTitleAttr:function(a){this._set("title",a);this._created&&this._titleChange()},_setPaginationAttr:function(a){this._set("pagination",
a);this._created&&this._paginationChange()},_setSelectedIndexAttr:function(a){isNaN(a)&&(a=null);this._set("selectedIndex",a);this._created&&this._selectedIndexChange()},_setSelectedFeatureAttr:function(a){this._set("selectedFeature",a);this._created&&this._selectedFeatureChange()},_setPromisesAttr:function(c){this.set("features",[]);this.set("finding",!1);this.set("spinner",!1);this._set("promises",c);c&&c.length&&(this.set("spinner",!0),this.set("finding",!0),c=c.slice(0),c.forEach(function(a){a.always(function(c){this._updateFeatures(a,
c)}.bind(this))}.bind(this)),this._promisesAll&&this._promisesAll.cancel(),this._promisesAll=a(c).then(function(){this.set("finding",!1)}.bind(this)))},_setFeaturesAttr:function(a){this.closestFirst&&this.location&&(a=this._showClosestFirst(a,this.location));this._set("features",a);this._created&&this._setFeaturesChange()},_setSpinnerAttr:function(a){this._set("spinner",a);this._created&&this._spinnerChange()},_setDockPositionAttr:function(a){a=m.mixin({portrait:"bottom",landscape:"right"},this.dockPosition,
a);this._set("dockPosition",a);this._created&&this._dockPositionChange()},_setPositionAttr:function(a){this._set("position",a);this._created&&this._locationChange()},_setActionsAttr:function(a){this._set("actions",a);this._created&&this._actionsChange()},_setAutoCloseAttr:function(a){this._set("autoClose",a);this._created&&this._autoCloseChange()},_setDockedAttr:function(a){this._set("docked",a);this._created&&this._dockedChange()},_setEnableDockAttr:function(a){this._set("enableDock",a);this._created&&
this._enableDockChange()},_setFindingAttr:function(a){this._set("finding",a);this._created&&this._findingChange()},_setViewAttr:function(a){this._set("view",a);this._created&&this._viewChange()},_setVisibleAttr:function(a){this._set("visible",a);this._created&&(this._visibleChange(),this._visibleChangeContent())}})})},"esri/widgets/PopupLegacy/InfoTemplate":function(){define(["../../core/declare","dojo/_base/lang","../../core/lang"],function(b,h,l){return b(null,{declaredClass:"esri.InfoTemplate",
constructor:function(b,g){b&&h.isObject(b)&&!h.isFunction(b)?h.mixin(this,b):(this.title=b||"${*}",this.content=g||"${*}")},title:null,content:null,setTitle:function(b){this.title=b;return this},setContent:function(b){this.content=b;return this},toJson:function(){try{throw Error("toJson is deprecated, use toJSON instead");}catch(b){console.warn(b.stack)}return this.toJSON()},toJSON:function(){return l.fixJson({title:this.title,content:this.content})}})})},"esri/layers/support/RasterFunction":function(){define(["../../core/declare",
"dojo/_base/lang","../../core/lang"],function(b,h,l){var m=b(null,{declaredClass:"esri.layers.support.RasterFunction",functionName:null,arguments:null,functionArguments:null,variableName:null,outputPixelType:null,constructor:function(b){if(h.isObject(b)){var e=0;this.functionName=b.rasterFunction;this.functionArguments=h.clone(b.rasterFunctionArguments||b.arguments);h.mixin(this,b);if(b=this.functionArguments)if(b.Raster=this._toRasterFunction(b.Raster),b.Raster2=this._toRasterFunction(b.Raster2),
b.DEM=this._toRasterFunction(b.DEM),b.FillRaster=this._toRasterFunction(b.FillRaster),b.Rasters&&b.Rasters.length)for(e=0;e<b.Rasters.length;e++)b.Rasters[e]=this._toRasterFunction(b.Rasters[e])}},_toRasterFunction:function(b){return b&&(b.rasterFunction||b.functionName)?new m(b):b},_rfToJson:function(b){b&&"esri.layers.support.RasterFunction"===b.declaredClass&&(b=b.toJSON());return b},toJson:function(){try{throw Error("toJson is deprecated, use toJSON instead");}catch(b){console.warn(b.stack)}return this.toJSON()},
toJSON:function(){var b=h.clone(this.functionArguments||this.arguments);if(b&&(b.Raster=this._rfToJson(b.Raster),b.Raster2=this._rfToJson(b.Raster2),b.DEM=this._rfToJson(b.DEM),b.FillRaster=this._rfToJson(b.FillRaster),b.Rasters&&b.Rasters.length)){var e,d=[];for(e=0;e<b.Rasters.length;e++)d.push(this._rfToJson(b.Rasters[e]));b.Rasters=d}return l.filter({rasterFunction:this.functionName,rasterFunctionArguments:b,variableName:this.variableName,outputPixelType:this.outputPixelType?this.outputPixelType:
null},function(c){if(null!==c&&void 0!==c)return!0})}});return m})},"esri/views/3d/webgl-engine/lib/GLSLProgram":function(){define(["./GLSLShader","./gl-matrix"],function(b,h){function l(b,h){var n=c++,u,q,t,r=function(){if(void 0===u){u=h.createProgram();for(var a=0;a<b.length;++a)h.attachShader(u,b[a].getGLName());v()}},v=function(){void 0!==u&&(h.linkProgram(u),h.getProgramParameter(u,h.LINK_STATUS)||console.error("Could not initialize shader\nVALIDATE_STATUS: "+h.getProgramParameter(u,h.VALIDATE_STATUS)+
", gl error ["+h.getError()+"]infoLog: "+h.getProgramInfoLog(u)),q={},t={})};this.clearLookupTables=function(){q={};t={};x={};w={};f={};s={};z={}};this.dispose=function(){for(var c=0;c<b.length;++c){var f=b[c].getGLName();h.isShader(f)&&h.deleteShader(f)}h.isProgram(u)&&h.deleteProgram(u);a===this&&l.unuse(h)};this.getId=function(){return n};this.getShader=function(a){return b["vertex"===a?0:1]};this.changeShaderDefines=function(a,c){b[a].changeDefines(c)&&v()};this.use=function(){a!==this&&(r(),
h.useProgram(u),a=this)};this.getLocation=function(a){r();void 0===q[a]&&(q[a]=h.getUniformLocation(u,a));return q[a]};this.hasUniform=function(a){return null!==this.getLocation(a)};this.getAttribLocation=function(a){r();void 0===t[a]&&(t[a]=h.getAttribLocation(u,a));return t[a]};var x={};this.uniform1i=function(a,c){var b=x[a];if(void 0===b||c!==b)this.use(),h.uniform1i(this.getLocation(a,h),c),x[a]=c};this.uniform1f=function(a,c){var b=x[a];if(void 0===b||c!==b)this.use(),h.uniform1f(this.getLocation(a,
h),c),x[a]=c};var w={};this.uniform2f=function(a,c,b){var f=w[a];if(void 0===f||c!==f[0]||b!==f[1])this.use(),h.uniform2f(this.getLocation(a,h),c,b),void 0===f?w[a]=m.createFrom(c,b):m.set2(c,b,f)};this.uniform2fv=function(a,c){var b=w[a];if(2<c.length||void 0===b||c[0]!==b[0]||c[1]!==b[1])this.use(),h.uniform2fv(this.getLocation(a,h),c),void 0===b?w[a]=m.create(c):m.set(c,b)};var f={};this.uniform3f=function(a,c,b,d){var e=f[a];if(void 0===e||c!==e[0]||b!==e[1]||d!==e[2])this.use(),h.uniform3f(this.getLocation(a,
h),c,b,d),void 0===e?f[a]=g.createFrom(c,b,d):g.set3(c,b,d,e)};this.uniform3fv=function(a,c){var b=f[a];if(3<c.length||void 0===b||c[0]!==b[0]||c[1]!==b[1]||c[2]!==b[2])this.use(),h.uniform3fv(this.getLocation(a,h),c),void 0===b?f[a]=g.create(c):g.set(c,b)};var s={};this.uniform4f=function(a,c,b,f,d){var k=s[a];if(void 0===k||c!==k[0]||b!==k[1]||f!==k[2]||d!==k[3])this.use(),h.uniform4f(this.getLocation(a,h),c,b,f,d),void 0===k?s[a]=e.createFrom(c,b,f,d):e.set4(c,b,f,d,k)};this.uniform4fv=function(a,
c){var b=s[a];if(4<c.length||void 0===b||c[0]!==b[0]||c[1]!==b[1]||c[2]!==b[2]||c[3]!==b[3])this.use(),h.uniform4fv(this.getLocation(a,h),c),void 0===b?s[a]=e.create(c):e.set(c,b)};var z={};this.uniformMatrix4fv=function(a,c){var b=z[a];if(16<c.length||void 0===b||!(b[0]===c[0]&&b[1]===c[1]&&b[2]===c[2]&&b[3]===c[3]&&b[4]===c[4]&&b[5]===c[5]&&b[6]===c[6]&&b[7]===c[7]&&b[8]===c[8]&&b[9]===c[9]&&b[10]===c[10]&&b[11]===c[11]&&b[12]===c[12]&&b[13]===c[13]&&b[14]===c[14]&&b[15]===c[15]))this.use(),h.uniformMatrix4fv(this.getLocation(a,
h),!1,c),void 0===b?z[a]=d.create(c):d.set(c,b)};this.dispose=function(){if(void 0!==u){for(var a=0;a<b.length;++a){var c=b[a].getGLName();h.detachShader(u,c);h.deleteShader(c)}h.deleteProgram(u)}}}var m=h.vec2d,g=h.vec3d,e=h.vec4d,d=h.mat4d,c=0,a;l.fromSnippets=function(a,c,d,e,g){var h=[];a=Array.isArray(a)?a:[a];c=Array.isArray(c)?c:[c];var m;for(m=0;m<a.length;m++)h.push(new b(e.VERTEX_SHADER,d[a[m]],e,g));for(m=0;m<c.length;m++)h.push(new b(e.FRAGMENT_SHADER,d[c[m]],e,g));return new l(h,e)};
l.unuse=function(c){a=null;c.useProgram(null)};return l})},"esri/geometry/Polyline":function(){define("../core/declare dojo/_base/array dojo/_base/lang ../core/lang ./SpatialReference ./Geometry ./Point ./Extent ./support/zmUtils".split(" "),function(b,h,l,m,g,e,d,c,a){var k=b(e,{declaredClass:"esri.geometry.Polyline",classMetadata:{computed:{cache:["hasM","hasZ","paths"],extent:["cache"]}},getDefaults:function(a){return{paths:[]}},normalizeCtorArgs:function(a,c){var b=null,d=void 0,e=void 0,k=null;
a&&!Array.isArray(a)?(b=a.paths?a.paths:null,c=c||(b?a.spatialReference:a),d=a.hasZ,e=a.hasM):b=a;b=b||[];c=c||g.WGS84;b.length&&(b[0]&&null!=b[0][0]&&"number"==typeof b[0][0])&&(b=[b]);if(k=b[0]&&b[0][0])void 0===d&&void 0===e?(d=2<k.length,e=!1):void 0===d?d=!e&&3<k.length:void 0===e&&(e=!d&&3<k.length);return{paths:b,spatialReference:c,hasZ:d,hasM:e}},_extent:null,_path:0,_extentGetter:function(){function a(c){return function(a,b){return void 0===a?b:void 0===b?a:c(a,b)}}var b=this.paths,d=b.length;
if(!d||!b[0].length)return null;var e,k,g,l,h,m,f,s,z,y,A,B,E=m=b[0][0][0],F=f=b[0][0][1],G,Q,M=a(Math.min),T=a(Math.max),K=this.spatialReference,C=[],D,L,W,ca,V,R,N,H,O=this.hasZ,I=this.hasM,J=O?3:2;for(y=0;y<d;y++){e=b[y];D=L=e[0]&&e[0][0];W=ca=e[0]&&e[0][1];B=e.length;N=H=V=R=void 0;for(A=0;A<B;A++)k=e[A],g=k[0],l=k[1],E=M(E,g),F=M(F,l),m=T(m,g),f=T(f,l),D=M(D,g),W=M(W,l),L=T(L,g),ca=T(ca,l),O&&2<k.length&&(h=k[2],G=M(G,h),s=T(s,h),V=M(V,h),R=T(R,h)),I&&k.length>J&&(k=k[J],Q=M(Q,h),z=T(z,h),N=
M(N,k),H=T(H,k));C.push(new c({xmin:D,ymin:W,zmin:V,mmin:N,xmax:L,ymax:ca,zmax:R,mmax:H,spatialReference:K?K.clone():null}))}b=new c({xmin:E,ymin:F,xmax:m,ymax:f,spatialReference:K?K.toJSON():null});O&&(b.zmin=G,b.zmax=s);I&&(b.mmin=Q,b.mmax=z);b._partwise=1<C.length?C:null;return b},paths:null,type:"polyline",addPath:function(a){this.clearCache();this._path=this.paths.length;this.paths[this._path]=[];h.forEach(a,this._addPoint,this);return this},clone:function(){var a=new k;a.spatialReference=this.spatialReference;
a.paths=l.clone(this.paths);a.hasZ=this.hasZ;a.hasM=this.hasM;return a},getPoint:function(a,c){if(this._validateInputs(a,c)){var b=this.paths[a][c],e=this.hasZ,k=this.hasM;return e&&k?new d(b[0],b[1],b[2],b[3],this.spatialReference):e?new d(b[0],b[1],b[2],void 0,this.spatialReference):k?new d(b[0],b[1],void 0,b[2],this.spatialReference):new d(b[0],b[1],this.spatialReference)}},insertPoint:function(c,b,d){if(this._validateInputs(c)&&m.isDefined(b)&&0<=b&&b<=this.paths[c].length)return this.clearCache(),
a.updateSupportFromPoint(this,d),Array.isArray(d)||(d=d.toArray()),this.paths[c].splice(b,0,d),this},removePath:function(a){if(this._validateInputs(a,null)){this.clearCache();a=this.paths.splice(a,1)[0];var c,b=a.length,e=this.spatialReference;for(c=0;c<b;c++)a[c]=new d(a[c],e);return a}},removePoint:function(a,c){if(this._validateInputs(a,c))return this.clearCache(),new d(this.paths[a].splice(c,1)[0],this.spatialReference)},setPoint:function(c,b,d){if(this._validateInputs(c,b))return this.clearCache(),
a.updateSupportFromPoint(this,d),Array.isArray(d)||(d=d.toArray()),this.paths[c][b]=d,this},toJSON:function(){var a=this.spatialReference,a={paths:this.paths,spatialReference:a&&a.toJSON()};this.hasZ&&(a.hasZ=!0);this.hasM&&(a.hasM=!0);return a},_initPathPointsToArray:function(c){for(var b=0;b<c.paths.length;b++)c.paths[b]=h.map(c.paths[b],function(b){a.updateSupportFromPoint(c,b,!0);Array.isArray(b)||(c.spatialReference||(c.spatialReference=b.spatialReference),b=b.toArray());return b});return c},
_addPoint:function(c){Array.isArray(c)?this.paths[this._path].push(c):this.paths[this._path].push(c.toArray());a.updateSupportFromPoint(this,c)},_insertPoints:function(a,c){this.clearCache();this._path=c;this.paths[this._path]||(this.paths[this._path]=[]);h.forEach(a,this._addPoint,this)},_validateInputs:function(a,c){return null!==a&&void 0!==a&&(0>a||a>=this.paths.length)||null!==c&&void 0!==a&&(0>c||c>=this.paths[a].length)?!1:!0}});return k})},"esri/views/3d/webgl-engine/lib/PerformanceTimer":function(){define(["./Util"],
function(b){return function(h){var l=Array(h),m=0,g=NaN,e=0,d=0,c;this.reset=function(){for(var a=m=0;a<h;a++)l[a]=NaN};this.reset();this.start=function(){c=b.performance.now()};this.stop=function(){g=b.performance.now()-c;e+=g;d++;h&&(l[m]=g,m=(m+1)%h);return g};this.getLast=function(){return g};var a=function(a,c){return a+c};this.getLastFiltered=function(){return l.reduce(a)/l.length};this.getAverage=function(){return e/d};this.getTotal=function(){return e};this.getNumMeasurements=function(){return d}}})},
"dijit/hccss":function(){define(["dojo/dom-class","dojo/hccss","dojo/domReady","dojo/_base/window"],function(b,h,l,m){l(function(){h("highcontrast")&&b.add(m.body(),"dijit_a11y")});return h})},"esri/core/HandleRegistry":function(){define(["./Accessor"],function(b){return b.createSubclass({constructor:function(){this._groups={}},destroy:function(){this.removeAll();this._groups=null},_groups:null,_sizeGetter:function(){var b=0,l=this._groups,m;for(m in l)b+=l[m].length;return b},add:function(b,l){if(b&&
(b.remove||b.length)){var m=this._getOrCreateGroup(l);if("function"===typeof b.remove)m.push(b);else for(var g=0,e=b.length;g<e;g++)m.push(b[g]);this.notifyChange("size")}},remove:function(b){if(b=this._getGroup(b)){for(var l=0,m=b.length;l<m;l++)b[l].remove();b.length=0;this.notifyChange("size")}},removeAll:function(){var b=this._groups,l;for(l in b)this.remove(l),delete b[l]},_getOrCreateGroup:function(b){return this._getGroup(b)||(this._groups[this._ensureGroupName(b)]=[])},_getGroup:function(b){return this._groups[this._ensureGroupName(b)]},
_ensureGroupName:function(b){return b||"_default_"}})})},"esri/views/3d/support/earthUtils":function(){define(["dojo/_base/lang","./mathUtils","../../../geometry/Point","../../../geometry/SpatialReference","../../../geometry/support/webMercatorUtils"],function(b,h,l,m,g){var e=6378137,d=new l(0,0,m.WGS84),c={earthRadius:e,halfEarthCircumference:Math.PI*e,earthCircumference:2*Math.PI*e,getGreatCircleDistance:function(a,c,d,g){void 0===d&&(void 0===g&&b.isObject(a)&&b.isObject(c))&&(d=c.get("longitude"),
g=c.get("latitude"),c=a.get("latitude"),a=a.get("longitude"));c=h.deg2rad(c);g=h.deg2rad(g);a=h.deg2rad(a);d=h.deg2rad(d);a-=d;d=Math.sin((c-g)/2);a=Math.sin(a/2);c=2*h.asin(Math.sqrt(d*d+Math.cos(c)*Math.cos(g)*a*a))*e;return c=Math.round(1E4*c)/1E4},getGreatCircleSpanAt:function(a,c,b){var d=c.spatialReference,e=new l(c.x,a.y,d),g=new l(b.x,a.y,d);c=new l(a.x,c.y,d);a=new l(a.x,b.y,d);return{lon:this.getGreatCircleDistance(e,g),lat:this.getGreatCircleDistance(c,a)}},getLonDeltaForDistance:function(a,
c,b){a=b/e;c=h.deg2rad(c);a=Math.sin(a/2);c=Math.cos(c);c=2*h.asin(Math.sqrt(a*a/(c*c)));return h.rad2deg(c)},getLatDeltaForDistance:function(a,c,b){return h.rad2deg(b/e)},getLatLonDeltaForDistance:function(a,c,b){return{lat:this.getLatDeltaForDistance(a,c,b),lon:this.getLonDeltaForDistance(a,c,b)}},getMaxCameraAltitude:function(a){a=h.deg2rad(a/2);return(1-Math.sin(a))*e/Math.sin(a)},getViewExtentDistance:function(a,c){var b=h.deg2rad(c/2),b=(a+e)*Math.cos(b)-Math.sqrt(Math.pow(Math.cos(b)*(a+e),
2)-a*a-2*a*e);return 2*h.acos((Math.pow(a+e,2)+Math.pow(e,2)-Math.pow(b,2))/(2*(a+e)*e))*e},computeCarthesianDistance:function(a,c){function b(a){var c=h.deg2rad(a.get("latitude")),d=h.deg2rad(a.get("longitude")),g=Math.cos(c);a=e+(a.z||0);return[Math.cos(d)*g*a,Math.sin(c)*a,-Math.sin(d)*g*a]}var d=b(a),g=b(c),d=[g[0]-d[0],g[1]-d[1],g[2]-d[2]];return Math.sqrt(d[0]*d[0]+d[1]*d[1]+d[2]*d[2])},longitudeToTimezone:function(a,c){var b=a/15;c||(b=Math.round(b));return b},positionToTimezone:function(a,
b){a.spatialReference.wkid!==m.WGS84.wkid?g.webMercatorToGeographic(a,!1,d):(d.x=a.x,d.y=a.y);d.z=a.z;b||(b={hours:0,minutes:0,seconds:0});b.hours=c.longitudeToTimezone(d.x,!0);var e=b.hours%1;b.hours-=e;b.minutes=60*e;e=b.minutes%1;b.minutes-=e;b.seconds=Math.round(60*e);return b}};return c})},"esri/views/3d/webgl-engine/lib/Geometry":function(){define(["./IdGen","./Util","./gl-matrix"],function(b,h,l){var m=l.vec3d,g=new b,e=function c(a,b,e,g,l){h.assert(1<=a.length);h.assert(0===e.length%b);h.assert(e.length>=
a.length*b);h.assert(3===g.size||4===g.size);var q=g.data,t=g.size,r=0,v=a.length;null!=l&&(r=l[0],v=l[1]+1);var x=t*e[b*a[r]],w=m.createFrom(q[x],q[x+1],q[x+2]),f=m.create(w),s;for(l=r;l<v;++l){var z=b*a[l];for(s=0;s<b;++s)for(var x=t*e[z+s],y=0;3>y;++y){var A=q[x+y];A<w[y]?w[y]=A:A>f[y]&&(f[y]=A)}}var B=m.create();m.lerp(w,f,0.5,B);var E=0;for(l=r;l<v;++l){z=b*a[l];for(s=0;s<b;++s)x=t*e[z+s],r=q[x]-B[0],y=q[x+1]-B[1],x=q[x+2]-B[2],x=r*r+y*y+x*x,x>E&&(E=x)}var E=Math.sqrt(E),F;this.getCenter=function(){return B};
this.getBSRadius=function(){return E};this.getBBMin=function(){return w};this.getBBMax=function(){return f};this.getPrimitiveIndices=function(){return a};this.getIndices=function(){return e};this.getPosition=function(){return g};this.getChildren=function(){if(void 0===F&&(F="no_children",1<m.dist2(w,f))){var l=m.lerp(w,f,0.5,m.create()),h=a.length,s=new Uint8Array(h),q=Array(8),r;for(r=0;8>r;++r)q[r]=0;for(r=0;r<h;++r){for(var u=0,z=b*a[r],v=g.data,x=t*e[z],y=v[x],E=v[x+1],A=v[x+2],B=1;B<b;++B){var x=
t*e[z+B],H=v[x],O=v[x+1],x=v[x+2];H<y&&(y=H);O<E&&(E=O);x<A&&(A=x)}y<l[0]&&(u|=1);E<l[1]&&(u|=2);A<l[2]&&(u|=4);s[r]=u;++q[u]}for(r=u=0;8>r;++r)0<q[r]&&++u;if(2>u)return;l=Array(8);for(r=0;8>r;++r)l[r]=0<q[r]?new Uint32Array(q[r]):void 0;for(r=0;8>r;++r)q[r]=0;for(r=0;r<h;++r)u=s[r],l[u][q[u]++]=a[r];F=Array(8);for(r=0;8>r;++r)void 0!==l[r]&&(F[r]=new c(l[r],b,e,g))}return"no_children"===F?void 0:F}};return function(c,a,b){var l=g.gen(a);this.getId=function(){return l};this.metadata=void 0;this.singleUse=
!1;h.assert(1<=c.getFaces().length);b=b||[];this.getData=function(){return c};this.getNumGroups=function(){return c.getFaces().length};this.calculateBoundingInfo=function(a,b){var g=c.getFaces()[a],k="triangle"===g.type?3:1,l=g.indices[g.positionKey],m;if(0===l.length){l=new Uint32Array(k);for(m=0;m<k;++m)l[m]=m}m=l.length;h.assert(0===m%k);var p=m/k,w=new Uint32Array(p);for(m=0;m<p;++m)w[m]=m;return new e(w,k,l,c.getVertexAttr()[g.positionKey],b)};this.getBoundingInfo=function(a){var c=b[a];void 0===
c&&(c=this.calculateBoundingInfo(a),b[a]=c);return c};this.invalidateBoundingInfo=function(){b=[]}}})},"esri/portal/PortalProvision":function(){define(["./PortalListing","../core/declare","dojo/_base/lang"],function(b,h,l){return h([],{declaredClass:"esri.arcgis.PortalProvision",portal:null,constructor:function(h){l.mixin(this,h);this.created=this.created?new Date(this.created):null;this.startDate=this.startDate?new Date(this.startDate):null;this.endDate=this.endDate&&-1!==this.endDate?new Date(this.endDate):
null;this.listing=h.listing?new b(l.mixin(h.listing,{portal:this.portal})):null}})})},"esri/identity/ServerInfo":function(){define(["../core/declare","dojo/_base/lang","../core/lang"],function(b,h,l){return b(null,{declaredClass:"esri.ServerInfo",constructor:function(b){h.mixin(this,b)},toJson:function(){try{throw Error("toJson is deprecated, use toJSON instead");}catch(b){console.warn(b.stack)}return this.toJSON()},toJSON:function(){return l.fixJson({server:this.server,tokenServiceUrl:this.tokenServiceUrl,
adminTokenServiceUrl:this.adminTokenServiceUrl,shortLivedTokenValidity:this.shortLivedTokenValidity,owningSystemUrl:this.owningSystemUrl,owningTenant:this.owningTenant,currentVersion:this.currentVersion,hasPortal:this.hasPortal,hasServer:this.hasServer,webTierAuth:this.webTierAuth})}})})},"esri/layers/support/TimeInfo":function(){define(["../../core/declare","dojo/_base/lang","../../TimeExtent","./TimeReference","./LayerTimeOptions"],function(b,h,l,m,g){b=b(null,{declaredClass:"esri.layers.support.TimeInfo",
constructor:function(b){null!==b&&(h.mixin(this,b),b.exportOptions&&(this.exportOptions=new g(b.exportOptions)),this.timeExtent=null,b.timeExtent&&2===b.timeExtent.length&&(this.timeExtent=new l(b.timeExtent)),this.timeReference=new m(b.timeReference))}});h.mixin(b,{UNIT_CENTURIES:"esriTimeUnitsCenturies",UNIT_DAYS:"esriTimeUnitsDays",UNIT_DECADES:"esriTimeUnitsDecades",UNIT_HOURS:"esriTimeUnitsHours",UNIT_MILLISECONDS:"esriTimeUnitsMilliseconds",UNIT_MINUTES:"esriTimeUnitsMinutes",UNIT_MONTHS:"esriTimeUnitsMonths",
UNIT_SECONDS:"esriTimeUnitsSeconds",UNIT_UNKNOWN:"esriTimeUnitsUnknown",UNIT_WEEKS:"esriTimeUnitsWeeks",UNIT_YEARS:"esriTimeUnitsYears"});return b})},"esri/views/3d/webgl-engine/lib/GLFBO":function(){define(["./GLUtil"],function(b){return function(h,l,m,g,e,d){var c=e.createFramebuffer();d=d||e.createTexture();var a=m?e.createRenderbuffer():void 0;e.bindTexture(e.TEXTURE_2D,d);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,g);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,g);e.texParameteri(e.TEXTURE_2D,
e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE);e.texImage2D(e.TEXTURE_2D,0,e.RGBA,4,4,0,e.RGBA,e.UNSIGNED_BYTE,null);var k=0,p=0;this.dispose=function(){e.deleteFramebuffer(c);e.deleteTexture(d);void 0!==a&&e.deleteRenderbuffer(a)};this.setSize=function(g,m){g===k&&m===p||(k=g,p=m,e.bindTexture(e.TEXTURE_2D,d),e.texImage2D(e.TEXTURE_2D,0,h,k,p,0,h,l,null),void 0!==a&&(e.bindRenderbuffer(e.RENDERBUFFER,a),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_COMPONENT16,
k,p)),e.bindFramebuffer(e.FRAMEBUFFER,c),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,d,0),void 0!==a&&e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,a),b.checkFramebufferStatus(e.FRAMEBUFFER,e),void 0!==a&&e.bindRenderbuffer(e.RENDERBUFFER,null),e.bindFramebuffer(e.FRAMEBUFFER,null))};this.getWidth=function(){return k};this.getHeight=function(){return p};this.bind=function(){e.bindFramebuffer(e.FRAMEBUFFER,c)};this.getTexture=function(){return d};
this.getGLName=function(){return c}}})},"esri/views/3d/support/ResourceController":function(){define("../../../core/declare ../../../core/Scheduler ../support/eventUtils ./StreamDataManager ./PreallocArray ../webgl-engine/lib/Util".split(" "),function(b,h,l,m,g,e){function d(a){this.budget=this.begin=0;this.performance=e.performance;this.enabled=!0;void 0!==a&&this.reset(a)}var c=e.assert,a={TERRAIN:"terrain",SCENE:"scene",SYMBOLOGY:"symbols"},k=new g(20);d.prototype.now=function(){return this.performance.now()};
d.prototype.reset=function(a){this.begin=this.now();this.budget=this.enabled?a:Number.MAX_VALUE};d.prototype.done=function(){return this.enabled&&this.elapsed()>=this.budget};d.prototype.remaining=function(){return Math.max(this.budget-this.elapsed(),0)};d.prototype.elapsed=function(){return this.now()-this.begin};b=b(null,{constructor:function(c,b){this._clients=[];this._frameWorker=null;this._budget=new d;this._idleFrameWorkers=[];this._idleFrameWorkerRobin=0;this._idleUpdatesStartFired=!1;this._lastTargetChangeTime=
e.performance.now();this.navigationTimeout=300;this.animatingFrameTimeBudget=10;this.idleFrameWorkerBudget=30;this.idleFrameTimeBudget=50;var g={},k;for(k in a)g[a[k]]=0;g[a.TERRAIN]=15;g[a.SCENE]=20;g[a.SYMBOLOGY]=5;this._maxGpuMemory=1500;this.streamDataManager=new m(g);this._cameraListeners=l.on(c,{navigation:{currentViewReachedTarget:this._targetReached,targetViewChanged:this._targetChanged}},this);b||(b=h);this._frameTask=b.addFrameTask({update:this._frameUpdate.bind(this)});this._view=c;this.stats=
{frameUpdateTime:new p,idleUpdateTime:new p};this.frameUpdateNavigation=null},destroy:function(){this._frameTask.remove();this._frameTask=null;this._cameraListeners.remove();this.streamDataManager.destroy();this.streamDataManager=null},setEnableBudget:function(a){this._budget.enabled=!!a},registerClient:function(a,c,b){this._clients.push({client:a,type:c});"function"===typeof a.setMaxGpuMemory&&a.setMaxGpuMemory(this._maxGpuMemory);return this.streamDataManager.makeSupplier(c,b)},deregisterClient:function(a){for(var c=
0;c<this._clients.length;c++)if(this._clients[c].client===a){this._clients[c]=this._clients[this._clients.length-1];this._clients.pop();break}},setMaxGpuMemory:function(a){this._maxGpuMemory=a;for(var c=0;c<this._clients.length;c++){var b=this._clients[c].client;"function"===typeof b.setMaxGpuMemory&&b.setMaxGpuMemory(a)}},registerIdleFrameWorker:function(a,b){var d=this._idleFrameWorkers.some(function(c){return c.client===a});c(!d,"Can only register idle frame workers once per client/layer");c(!b.idleFrame||
b.needsUpdate,"needsUpdate has to be specified if idleFrame is specified");this._idleFrameWorkers.push({client:a,callbacks:b})},deregisterIdleFrameWorker:function(a){for(var c=this._idleFrameWorkers,b=0;b<c.length;b++)if(c[b].client===a){c[b]=c[c.length-1];c.pop();break}},registerFrameWorker:function(a){c(!this._frameWorker,"Only one (non-idle) per-frame worker supported at the moment");this._frameWorker=a},deregisterFrameWorker:function(){this._frameWorker=null},_targetChanged:function(a){this._lastTargetChangeTime=
e.performance.now();this._targetReached=!1;this._idleUpdatesStartFired&&(this._idleUpdatesStartFired=!1,this._callWorkersNoScheduling("idleEnd"))},_targetReached:function(a){this._targetReached=!0},_frameUpdate:function(a,c,b,d){a=this._budget.now()-this._lastTargetChangeTime>this.navigationTimeout&&this._targetReached;this._budget.reset((a?this.idleFrameWorkerBudget:this.animatingFrameTimeBudget)-d);this._view.navigation&&this._view.navigation.step(c);this._frameWorker&&(this._frameWorker(this._budget),
this.stats.frameUpdateTime.addSample(this._budget.elapsed()));a&&(this._idleUpdatesStartFired||(this._callWorkersNoScheduling("idleBegin"),this._idleUpdatesStartFired=!0),this._budget.reset(this.idleFrameTimeBudget-this._budget.elapsed()),3<this._budget.remaining()&&(this._callWorkersStrictScheduling("idleFrame",this._budget),this.stats.idleUpdateTime.addSample(this._budget.elapsed())))},_callWorkersNoScheduling:function(a){for(var c=this._idleFrameWorkers,b=0;b<c.length;b++){var d=c[b];d.callbacks[a]&&
d.callbacks[a].call(d.client)}},_callWorkersStrictScheduling:function(a,c){var b=this._idleFrameWorkers,d=b.length,e,g,l;k.clear();g=0;for(l=this._idleFrameWorkerRobin;g<d;g++)e=b[l++%d],e.callbacks.needsUpdate&&e.callbacks.needsUpdate.call(e.client)&&(0===k.length&&(this._idleFrameWorkerRobin=l),k.push(e));e=c.now();for(b=e+c.remaining();0<k.length&&e<b;)c.reset((b-e)/k.length),e=k.pop(),e.callbacks[a].call(e.client,c),e=c.now()}});b.ClientType=a;var p=function(){this.addSample=function(a){this.min=
Math.min(this.min,a);this.max=Math.max(this.max,a);this.total+=a;this.numSamples++};this.getAverage=function(){return this.total/this.numSamples};this.reset=function(){this.numSamples=this.total=0;this.min=Number.MAX_VALUE;this.max=-Number.MAX_VALUE};this.reset()};return b})},"dijit/form/_FormValueWidget":function(){define(["dojo/_base/declare","dojo/sniff","./_FormWidget","./_FormValueMixin"],function(b,h,l,m){return b("dijit.form._FormValueWidget",[l,m],{_layoutHackIE7:function(){if(7==h("ie"))for(var b=
this.domNode,e=b.parentNode,d=b.firstChild||b,c=d.style.filter,a=this;e&&0==e.clientHeight;)(function(){var b=a.connect(e,"onscroll",function(){a.disconnect(b);d.style.filter=(new Date).getMilliseconds();a.defer(function(){d.style.filter=c})})})(),e=e.parentNode}})})},"esri/geometry/support/jsonUtils":function(){define(["../Point","../Polyline","../Polygon","../Multipoint","../Extent"],function(b,h,l,m,g){function e(c){return!c?null:void 0!==c.x&&void 0!==c.y?b.fromJSON(c):void 0!==c.paths?h.fromJSON(c):
void 0!==c.rings?l.fromJSON(c):void 0!==c.points?m.fromJSON(c):void 0!==c.xmin&&void 0!==c.ymin&&void 0!==c.xmax&&void 0!==c.ymax?g.fromJSON(c):null}var d={esriGeometryPoint:b,esriGeometryPolyline:h,esriGeometryPolygon:l,esriGeometryEnvelope:g,esriGeometryMultipoint:m};return{fromJSON:e,fromJson:function(c){try{throw Error("fromJson is deprecated, use fromJSON instead");}catch(a){console.warn(a.stack)}return e(c)},getJsonType:function(c){return c instanceof b?"esriGeometryPoint":c instanceof h?"esriGeometryPolyline":
c instanceof l?"esriGeometryPolygon":c instanceof g?"esriGeometryEnvelope":c instanceof m?"esriGeometryMultipoint":null},getGeometryType:function(c){return c&&d[c]||null}}})},"dojo/errors/RequestError":function(){define(["./create"],function(b){return b("RequestError",function(b,l){this.response=l})})},"esri/core/lang":function(){define("dojo/_base/array dojo/_base/kernel dojo/_base/lang dojo/date dojo/number dojo/date/locale".split(" "),function(b,h,l,m,g,e){function d(a){return void 0!==a&&null!==
a}function c(a,c,h){var p=h.match(/([^\(]+)(\([^\)]+\))?/i),r=l.trim(p[1]);h=c[a];var p=JSON.parse((p[2]?l.trim(p[2]):"{}").replace(/^\(/,"{").replace(/\)$/,"}").replace(/([{,])\s*([0-9a-zA-Z\_]+)\s*:/gi,'$1"$2":').replace(/\"\s*:\s*\'/gi,'":"').replace(/\'\s*(,|\})/gi,'"$1')),v=p.utcOffset;if(-1===b.indexOf(k,r))r=l.getObject(r),l.isFunction(r)&&(h=r(h,a,c,p));else if("number"===typeof h||"string"===typeof h&&h&&!isNaN(Number(h)))switch(h=Number(h),r){case "NumberFormat":return g.format(h,p);case "DateString":a=
new Date(h);if(p.local||p.systemLocale)return p.systemLocale?a.toLocaleDateString()+(p.hideTime?"":" "+a.toLocaleTimeString()):a.toDateString()+(p.hideTime?"":" "+a.toTimeString());a=a.toUTCString();p.hideTime&&(a=a.replace(/\s+\d\d\:\d\d\:\d\d\s+(utc|gmt)/i,""));return a;case "DateFormat":return a=new Date(h),d(v)&&(a=m.add(a,"minute",a.getTimezoneOffset()-v)),e.format(a,p)}return d(h)?h:""}function a(c,b){var d;if(b)for(d in c)c.hasOwnProperty(d)&&(void 0===c[d]?delete c[d]:c[d]instanceof Object&&
a(c[d],!0));else for(d in c)c.hasOwnProperty(d)&&void 0===c[d]&&delete c[d];return c}var k=["NumberFormat","DateString","DateFormat"],p=/<\/?[^>]+>/g;return{equals:function(a,c){return a===c||"number"===typeof a&&isNaN(a)&&"number"===typeof c&&isNaN(c)||l.isFunction((a||{}).getTime)&&l.isFunction((c||{}).getTime)&&a.getTime()==c.getTime()||l.isFunction((a||{}).equals)&&a.equals(c)||l.isFunction((c||{}).equals)&&c.equals(a)||!1},valueOf:function(a,c){for(var b in a)if(a[b]==c)return b;return null},
stripTags:function(a){if(a){var c=typeof a;if("string"===c)a=a.replace(p,"");else if("object"===c)for(var b in a)(c=a[b])&&"string"===typeof c&&(c=c.replace(p,"")),a[b]=c}return a},substitute:function(a,e,g){var k,h,m;d(g)&&(l.isObject(g)?(k=g.first,h=g.dateFormat,m=g.numberFormat):k=g);if(!e||"${*}"===e){e=[];var p;e.push("\x3ctable\x3e\x3ctbody\x3e");for(p in a){g=a[p];if(h&&-1!==b.indexOf(h.properties||"",p))g=c(p,a,h.formatter||"DateString");else if(m&&-1!==b.indexOf(m.properties||"",p))g=c(p,
a,m.formatter||"NumberFormat");e.push("\x3ctr\x3e\x3cth\x3e"+p+"\x3c/th\x3e\x3ctd\x3e"+(d(g)?g:"")+"\x3c/td\x3e\x3c/tr\x3e");if(k)break}e.push("\x3c/tbody\x3e\x3c/table\x3e");return e.join("")}return l.replace(e,l.hitch({obj:a},function(a,f){var e=f.split(":");return 1<e.length?(f=e[0],e.shift(),c(f,this.obj,e.join(":"))):h&&-1!==b.indexOf(h.properties||"",f)?c(f,this.obj,h.formatter||"DateString"):m&&-1!==b.indexOf(m.properties||"",f)?c(f,this.obj,m.formatter||"NumberFormat"):d(this.obj[f])?this.obj[f]:
""}),/\$\{([^\}]+)\}/g)},filter:function(a,c,b){c=[l.isString(a)?a.split(""):a,b||h.global,l.isString(c)?new Function("item","index","array",c):c];b={};var d;a=c[0];for(d in a)c[2].call(c[d],a[d],d,a)&&(b[d]=a[d]);return b},isDefined:d,fixJson:a}})},"esri/views/3d/terrain/TerrainSurface":function(){define("../../../core/declare ../../../core/Accessor ../../../core/arrayUtils dojo/Evented dojo/on ../lib/glMatrix ../support/eventUtils ../support/projectionUtils ../support/ResourceController ../support/PromiseLightweight ../../../geometry/support/webMercatorUtils ./TerrainRenderer ./OverlayManager ./TilingScheme ./TileUtils ./TerrainConst ./TileGeometryFactory ./SphericalTile ./PlanarTile ./TilemapOnlyTile ./MapTileAgent ./ElevationTileAgent ../layers/TiledLayerView3D ../layers/ElevationLayerView3D ../support/PreallocArray ../support/ObjectPool ../support/mathUtils ../support/ArrayExtent".split(" "),
function(b,h,l,m,g,e,d,c,a,k,p,n,u,q,t,r,v,x,w,f,s,z,y,A,B,E,F,G){function Q(a,c){return a[0]===c[0]&&a[1]===c[1]&&a[2]===c[2]}var M=e.vec3d,T=e.vec4d,K=e.mat4d,C=r.TileUpdateTypes,D=T.create(),L=[0,0,0],W=Array(10),ca={spatialReference:null,tile:null},V={spatialReference:null,extent:null},R={extent:null,scale:0},N=[-Infinity,-Infinity,Infinity,Infinity],H=function(a){return a instanceof y},O=function(a){a.remove()},I=function(a,c){a||console.warn("Terrain: "+c)},J=b([h,m],{classMetadata:{properties:{manifold:{readOnly:!0,
value:null},tilingScheme:{value:null},spatialReference:{value:null},overlayManager:{value:null},wireframe:{value:!1},opacity:{value:1},cullBackFaces:{value:!1},renderOrder:{value:1},skirts:{value:!0},frontMostTransparent:{value:!1},tileBackground:{value:"data:image/png;base64,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"},
extent:{}}},defaultTileBackground:"data:image/png;base64,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",
constructor:function(){this._rootTiles=null;this._iteratorPool=new E(2,t.IteratorPreorder);this._postorderIterator=new t.IteratorPostorder;this._topLevelTilemapOnlyTiles=Array(r.TILEMAP_SIZE_EXP+1);for(a=0;a<this._topLevelTilemapOnlyTiles.length;a++)this._topLevelTilemapOnlyTiles[a]=new f([a-r.TILEMAP_SIZE_EXP,0,0]);this._tilingScheme=null;this._tilingSchemeIsGenerated=!1;this._clippingExtent=null;this.notifyChange("extent");this._rootExtent=[0,0,0,0];this._worldExtent=this._dataExtent=null;this._elevationBounds=
[0,0];this.loaded=!1;this._maxLod=19;this._frameUpdateLowerPrio=new B(500);this.maxTextureScale=1.2;this._stage=this._view._stage;this._updateNextFrame=this._lvPendingUpdates=this._pendingUpdates=this.suspended=this.visible=!1;this._curOverlayOpacity=1;this._curEyePos=M.create();this._curSplitLimits=[0,0,0,0,0];this._curFrustumPlanes=Array(6);this._viewProjectionMatrix=K.identity();this._cameraBelowSurface=!1;for(var a=0;6>a;++a)this._curFrustumPlanes[a]=T.create();this.tilemapStats={tilemapRequestsSent:0,
tilemapRequestsPending:0,tilemapRequestErrors:0,fullTilemaps:0,emptyTilemaps:0,tilesRequested:0,tileRequestsSent:0,tileRequestErrors:0,tilesNotPresent:0};this._layerViews=[[],[]];this._layerIndexByLayerViewId=[{},{}];this._basemapLayerViewHandles={};this._groupLayerViewHandles={};this._layerViewChangesHandle=null},normalizeCtorArgs:function(a,c){this._view=a;this._manifold=c;this.TileClass="planar"===c?w:x;return{}},initialize:function(){this._renderer=new n(this.manifold);this._renderer.loaded=this._setLoaded.bind(this);
this._renderer.install(this._view._stage);this._renderer.updateTileBackground(this.tileBackground);var c="spherical"===this.manifold,b=c?new F.Cyclical(-2.0037508342788905E7,2.0037508342788905E7):null;this.overlayManager=new u(c,b,this,this._view);this._streamDataSupplier=this._view.resourceController.registerClient(this,a.ClientType.TERRAIN);this._idleWorkers={needsUpdate:this._needsIdleUpdate,idleFrame:this._idleUpdate};this._view.resourceController.registerFrameWorker(this._frameUpdate.bind(this));
this._view.resourceController.registerIdleFrameWorker(this,this._idleWorkers);this._viewChangeListenerHandles=[];this._viewChangeUpdate=this._viewChangeUpdate.bind(this);this._viewChangeListenerHandles.push(this._view.on("resize",this._viewChangeUpdate));this._viewChangeListenerHandles.push(d.on(this._view,"navigation.currentViewChanged",this._viewChangeUpdate));this._updateTiledLayers(!this.tilingScheme);this._layerViewChangesHandle=this._view.layerViewsFlat.on("change",this._handleLayerViewChanges.bind(this));
this._handleLayerViewChanges({added:this._view.layerViewsFlat.getAll(),removed:[],moved:[]});this._clippingChangedHandle=this._view.watch("clippingArea",this._clippingChanged.bind(this));this._updateClippingExtent();"spherical"===this.manifold&&(c=this.tilingScheme||q.WebMercatorAuxiliarySphere,this._worldExtent=[0,0,0,0],c.getExtent(0,0,0,this._worldExtent),this.tilingScheme||(this.tilingScheme=c),this.notifyChange("extent"))},destroy:function(){this._removeAllTiles();for(var a in this._basemapLayerViewHandles)this._unregisterTiledLayerView(a);
this._view.resourceController.deregisterFrameWorker(this);this._view.resourceController.deregisterIdleFrameWorker(this);this._view.resourceController.deregisterClient(this);this._viewChangeListenerHandles.forEach(O);for(var c in this._groupLayerViewHandles)this._groupLayerViewHandles[c].forEach(O);this._layerViewChangesHandle.remove();this._clippingChangedHandle.remove();this.overlayManager&&(this.overlayManager.destroy(),this.overlayManager=null);this._renderer.uninstall(this._stage);this._streamDataSupplier=
this._stage=this._view=this._renderer=null},setVisibility:function(a){a!==this.visible&&(this.visible=a,this._renderer.setVisibility(a),this.setUpdatesDisabled(!a),a&&this._viewChangeUpdate())},isVisible:function(){return this.visible&&this._rootTiles},setUpdatesDisabled:function(a){(this.suspended=a)||this._viewChangeUpdate()},getElevation:function(a){return!this.tilingScheme||!this._rootTiles||0===this._rootTiles[0].layerInfo[r.LayerClass.ELEVATION].length?null:!c.pointToVector(a,D,this.tilingScheme.spatialReference)?
(console.error("TerrainSurface.getElevation(): could not project given point to tiling scheme coordinate system"),null):this._getElevation(D)},_getElevation:function(a){var c=r.LayerClass.ELEVATION,b=this._rootTiles[0].layerInfo[c].length,f;W.length<b&&(W.length=b);for(var d=0;d<this._rootTiles.length;d++){var e=this._rootTiles[d];if(t.isPosWithinTile(e,a))for(;e;){var g=e.layerInfo[c];for(f=0;f<b;f++)g[f].data&&(W[f]=g[f].data.samplerData);if(!e.children[0])break;f=0;a[0]>e.children[0].extent[2]&&
(f+=1);a[1]<e.children[0].extent[1]&&(f+=2);e=e.children[f]}}a=v.elevationSampler(a[0],a[1],W);for(f=0;f<b;f++)W[f]=void 0;return a},getElevationBounds:function(){return this._elevationBounds},getScale:function(a){if(this.tilingScheme){if(!c.pointToVector(a,D,this.spatialReference))return console.error("TerrainSurface.getElevation(): could not project given point to tiling scheme coordinate system"),null;if(this._rootTiles)for(var b=0;b<this._rootTiles.length;b++)if(a=this._rootTiles[b],t.isPosWithinTile(a,
D)){for(;a.children[0];)b=0,D[0]>a.children[0].extent[2]&&(b+=1),D[1]<a.children[0].extent[1]&&(b+=2),a=a.children[b];return this.tilingScheme.levels[a.lij[0]].scale}}return 1E100},queryVisibleScaleRange:function(a,c,b,f){this._renderer.queryVisibleScaleRange(a,c,b,f)},_setLoaded:function(){this.loaded||(this.loaded=!0,this.emit("load"))},_acquireTile:function(a,c,b,f){var d=this.TileClass.Pool.acquire();L[0]=a;L[1]=c;L[2]=b;d.init(L,f,this);return d},_releaseTile:function(a){a.dispose();this.TileClass.Pool.release(a)},
_updateRootTiles:function(a){var c=this._worldExtent||this._clippingExtent||this._dataExtent,b=this.tilingScheme;if(c&&b){var f=b.rootTilesInExtent(c,D,Infinity);if(this._rootTiles){if(64<f.length){console.warn("Could not extend surface to encompass all layers because it would have resulted in too many root tiles.");a&&a.forEach(function(a){a=a.layer;var c=Error("Layer may not be visible because it is too far away from other layers: "+(a.title||a.id));c.name="terrainsurface:layer-exceeds-num-root-tiles";
c.details={layerId:a.id};this.emit("error",c)}.bind(this));return}a=this._rootTiles.map(function(a){return a.lij});var d=l.difference(a,f,Q);if(0<d.removed.length||0<d.added.length){var e=this._rootTiles.filter(function(a){return-1<l.findIndex(d.removed,Q.bind(null,a.lij))?(this._purgeChildTiles(a),this._purgeTile(a),!1):!0}.bind(this));d.added.forEach(function(a){a=this._acquireTile(0,a[1],a[2],null);e.push(a);this._loadTile(a)}.bind(this));this._rootTiles=e;this._renderer.setRootTiles(this._rootTiles)}}else 64<
f.length&&(console.warn("Maximum number of root tiles exceeded, only a part of the map will be visible."),f=b.rootTilesInExtent(c,D,64)),this._rootTiles=f.map(function(a){a=this._acquireTile(0,a[1],a[2],null);this._loadTile(a);return a}.bind(this)),this._renderer.setRootTiles(this._rootTiles);l.equals(D,this._rootExtent)||(this._rootExtent=T.create(D),this._hasFixedExtent()||this.notifyChange("extent"));this.setVisibility(!0);this._viewChangeUpdate()}},_viewChangeUpdate:function(){this._stage&&(!this.suspended&&
this._tilingScheme&&this.visible)&&(this._updateViewDependentParameters(),this._updateOverlayOpacity(this._curEyePos),this._updateTiles(this._rootTiles),this.overlayManager&&this.overlayManager.setOverlayDirty())},_updateTiles:function(a){var c=this._iteratorPool.acquire();c.reset(a);a=this._curSplitLimits;for(var b=this._curFrustumPlanes,f=this._curEyePos,d=Infinity,e=-Infinity;!c.done;){var g=c.next();g.updateClippingStatus(this._clippingExtent);var k=!0;if(g.updateVisibility(b,f)){M.set(g.center,
g.centerProjected);g.centerProjected[3]=1;K.multiplyVec4(this._viewProjectionMatrix,g.centerProjected,g.centerProjected);g.screenDepth=g.centerProjected[2]/g.centerProjected[3];g.renderData&&(d=Math.min(g.elevationBounds[0],d),e=Math.max(g.elevationBounds[1],e));var n=g.shouldSplit(a,f);n===C.SPLIT?(g.pendingUpdates&=~C.MERGE,g.renderData?(k=!1,g.pendingUpdates|=C.SPLIT,c.skip()):k=!1):(n===C.VSPLITMERGE&&g.updateAgents(r.LayerClass.ELEVATION),c.skip())}else c.skip();if(k&&!g.renderData){g.pendingUpdates|=
C.MERGE;g.pendingUpdates&=~C.SPLIT;k=this._iteratorPool.acquire();for(k.reset(g);!k.done;)k.next().updateVisibility(b,f);this._iteratorPool.release(k)}0!==g.pendingUpdates&&(this._pendingUpdates=!0)}this._iteratorPool.release(c);isFinite(d)&&isFinite(e)&&(this._elevationBounds[0]=d,this._elevationBounds[1]=e)},_viewParamSelector:{projectionMatrix:!0,fovX:!0,viewport:!0},_updateViewDependentParameters:function(){var a=this._view.navigation.currentCamera,b=Math.tan(0.5*a.fovX),f=Math.tan(0.5*a.fovY);
this._curSplitLimits[0]=b;this._curSplitLimits[1]=256/a.width*this.maxTextureScale;this._curSplitLimits[2]=f;this._curSplitLimits[3]=256/a.height*this.maxTextureScale;this._curSplitLimits[4]=this.tilingScheme.getMaxLod();a.computeFrustumPlanes(this._curFrustumPlanes);K.multiply(a.projectionMatrix,a.viewMatrix,this._viewProjectionMatrix);M.set(a.eye,this._curEyePos);this._renderer&&"planar"===this.manifold&&c.vectorToVector(this._curEyePos,this._view.renderSpatialReference,D,this.spatialReference)&&
(a=(G.positionInsideExtent(D,this.extent)?this._getElevation(D):0.5*(this._elevationBounds[0]+this._elevationBounds[1]))>D[2],this._cameraBelowSurface!==a&&(this._cameraBelowSurface=a,this._renderer.setDrawSkirts(!a)))},_setLayerViewsUpdating:function(){for(var a=0;a<r.LayerClass.LAYER_CLASS_COUNT;a++)for(var c=this._layerViews[a],b=0;b<c.length;b++){var f=c[b];f.suspended||(f.updating=this._pendingUpdates,f.updatingPercentage=this._pendingUpdates?100:0)}},_frameUpdateTraversal:function(a){if(!this.suspended){this._frameUpdateLowerPrio.clear();
var c=this._renderer.numTileTexturesComposited,b=this._iteratorPool.acquire();b.reset(this._rootTiles);for(var f=!1,d=!1;!b.done&&(1<a.remaining()||!f)&&12>this._renderer.numTileTexturesComposited-c;){var e=b.next();e.pendingUpdates&C.MERGE?(this._mergeTile(e),e.pendingUpdates&=~C.MERGE,f=!0,b.skip()):e.pendingUpdates&C.SPLIT?(this._splitTile(e),e.pendingUpdates&=~C.SPLIT,f=!0,b.skip()):0<e.pendingUpdates&&this._frameUpdateLowerPrio.push(e);0!==e.pendingUpdates&&(d=!0)}this._pendingUpdates=d||!b.done;
this._iteratorPool.release(b);return f}},_updateTileGeometry:function(a){this._renderer._updateTileGeometry(a);ca.spatialReference=this.spatialReference;ca.tile=a;g.emit(this,"elevation-change-tile",ca)},_updateTileTexture:function(a){this._renderer.updateTileTexture(a)},_frameUpdate:function(a){if(this._rootTiles){for(var c=this._frameUpdateTraversal(a);(1<a.remaining()||!c)&&0<this._frameUpdateLowerPrio.length;){var b=this._frameUpdateLowerPrio.pop();b.pendingUpdates&C.DECODE_LERC?(this._decodeLERC(b),
b.pendingUpdates&=~C.DECODE_LERC,c=!0):b.pendingUpdates&C.UPDATE_GEOMETRY?(this._renderer.updateTileGeometryNeedsUpdate(b),this._updateTileGeometry(b),c=!0,b.pendingUpdates&=~C.UPDATE_GEOMETRY):b.pendingUpdates&C.UPDATE_TEXTURE&&(this._updateTileTexture(b),b.pendingUpdates&=~C.UPDATE_TEXTURE,c=!0);0!==b.pendingUpdates&&(this._pendingUpdates=!0)}0<this._frameUpdateLowerPrio.length&&(this._pendingUpdates=!0);this._streamDataSupplier._loader.hasPendingDownloads()&&(this._pendingUpdates=!0);if(this._pendingUpdates!==
this._lvPendingUpdates&&(this._pendingUpdates||20===++this._updateNextFrame))this._setLayerViewsUpdating(),this._lvPendingUpdates=this._pendingUpdates,this._updateNextFrame=0}},_needsIdleUpdate:function(){return this.isVisible()&&this.overlayManager&&this.overlayManager.overlaysNeedUpdate()},_idleUpdate:function(a){this.overlayManager.updateOverlay();this._updateOverlayOpacity(this._curEyePos)},_updateClippingExtent:function(){if(!this.spatialReference)return!1;var a=[],b=null;c.extentToBoundingRect(this._view.clippingArea,
a,this.spatialReference)&&(b=a);if(l.equals(b,this._clippingExtent))return!1;this._clippingExtent=b;this.notifyChange("extent");return!0},_clippingChanged:function(){this._updateClippingExtent()&&this._updateRootTiles()},_cancelTilemapRequests:function(a){for(var c=0;c<r.LayerClass.LAYER_CLASS_COUNT;c++){var b=a.layerInfo[c];if(b)for(var f=0;f<b.length;f++){var d=b[f];d.tilemapRequest&&(d.tilemapRequest.cancel(),d.tilemapRequest=null)}}},_removeAllTiles:function(){this._rootTiles&&(this._rootTiles.forEach(function(a){this._purgeChildTiles(a);
this._purgeTile(a)}.bind(this)),this._rootTiles=null);for(var a=0;a<this._topLevelTilemapOnlyTiles.length;a++)this._cancelTilemapRequests(this._topLevelTilemapOnlyTiles[a]);this.setVisibility(!1)},_purgeChildTiles:function(a){var c=this._postorderIterator;for(c.reset(a);!c.done;){for(var b=c.next(),f=0;4>f;f++)b.children[f]=null;b!==a&&this._purgeTile(b)}},_purgeTile:function(a){a.unload(this._renderer);this._cancelTilemapRequests(a);a.parent=null;this._renderer.releaseTileTextures(a);this._releaseTile(a)},
_splitTile:function(a){var c=a.lij[0]+1,b=2*a.lij[1],f=2*a.lij[2];a.children[0]=this._createTile(c,b,f,a);a.children[1]=this._createTile(c,b,f+1,a);a.children[2]=this._createTile(c,b+1,f,a);a.children[3]=this._createTile(c,b+1,f+1,a);a.unload(this._renderer);R.extent=a.extent;R.scale=this.tilingScheme.levels[c].scale;g.emit(this,"scale-change",R)},_createTile:function(a,c,b,f){I(f,"_createTile sanity check");a=this._acquireTile(a,c,b,f);a.updateClippingStatus(this._clippingExtent);a.updateVisibility(this._curFrustumPlanes,
this._curEyePos);a.visible&&a.shouldSplit(this._curSplitLimits,this._curEyePos)===C.SPLIT&&(a.pendingUpdates|=C.SPLIT,this._pendingUpdates=!0);this._loadTile(a);return a},_mergeTile:function(a){I(!a.renderData,"_mergeTile sanity check");this._loadTile(a);this._purgeChildTiles(a);R.extent=a.extent;R.scale=this.tilingScheme.levels[a.lij[0]].scale;g.emit(this,"scale-change",R)},_loadTile:function(a){a.load(this._renderer);this.overlayManager&&this.overlayManager.hasOverlays()&&this.overlayManager.setOverlayParamsOfTile(a,
a.renderData,this._curOverlayOpacity)},_decodeLERC:function(a){var c=r.LayerClass.ELEVATION,b=a.layerInfo[c];if(b)for(var f=0;f<b.length;f++){var d=b[f];d.pendingUpdates&=~C.DECODE_LERC;if(d.rawData){var e=a.createElevationDataFromLERC(d.rawData);d.rawData=null;if(e){d.data=e;var d=[e.bounds[0],e.bounds[1],a.lij[0]],k=this._iteratorPool.acquire();for(k.reset(a);!k.done;)k.next().setLayerElevationBounds(f,d);this._iteratorPool.release(k);a.dataArrived(f,c,e);this._updateTiles(a);V.spatialReference=
this.spatialReference;V.extent=a.extent;g.emit(this,"elevation-change",V)}}}},_handleLayerViewChanges:function(a){var c=!1;a.added.forEach(function(a){var b=a.layer;H(a)?(this._registerTiledLayer(b,a),b.get("loaded")&&(c=!0)):a.supportsDraping&&this.overlayManager&&this.overlayManager.registerLayerView(a)}.bind(this));a.removed.forEach(function(a){H(a)?(c=!0,this._unregisterTiledLayerView(a.id)):a.supportsDraping&&this.overlayManager&&this.overlayManager.unregisterLayerView(a)}.bind(this));(c=c||
0<a.moved.filter(H).length)&&this._updateTiledLayers(!this.tilingScheme||a.removed.length>=this.numTotalLayers());var b=null,f=!1;if(this._tiledDataExtent)b=this._tiledDataExtent.slice();else{var d=this._view.map.spatialReference;if(d&&(!this.tilingScheme||this._tilingSchemeIsGenerated))b=this._getLayerExtentUnion(d),this._hasFixedExtent()||(f=!0)}b&&!l.equals(b,this._dataExtent)?(this._dataExtent=b,!this._hasFixedExtent()&&!f&&this._updateRootTiles(a.added)):f=!1;f&&(this.tilingScheme=b)},_registerTiledLayer:function(a,
c){var b=[];b.push(c.watch("suspended",function(){this._updateTiledLayers()}.bind(this)));b.push(c.layer.watch("opacity",this._updateTileTextures.bind(this)));this._basemapLayerViewHandles[c.id]=b},_unregisterTiledLayerView:function(a){var c=this._basemapLayerViewHandles[a];if(c){for(var b=0;b<c.length;b++)c[b].remove();delete this._basemapLayerViewHandles[a]}},_updateTiledLayers:function(a){var c=this._view.layerViewsFlat,b=[[],[]],f=r.LayerClass,d=null,e=new G(G.NEGATIVE_INFINITY),k=function(c){var g=
c.layer;if(g&&c&&!c.suspended&&H(c)){var k=g.fullExtent;if(k){if(a)this.tilingScheme=new q(g.tileInfo),a=!1;else if(this.tilingScheme&&!this.tilingScheme.compatibleWith(g.tileInfo)){console.warn("Terrain: layer "+g.id+" has incompatible tiling scheme, will not display");return}e.expand(k);if(c instanceof A)b[f.ELEVATION].push(c);else{if(Infinity!==c._maxDataLevel&&(null===d||c._maxDataLevel>d))d=c._maxDataLevel;b[f.MAP].push(c)}}else console.warn("Terrain: Map or elevation layer does not have fullExtent: "+
g.id)}}.bind(this);c.forEach(k,this);for(var n=0;n<f.LAYER_CLASS_COUNT;n++){c=this._layerViews[n];k=b[n];k.reverse();var l=c.length!==k.length,h=k.length,s=Array(h),m=Array(c.length);this._layerIndexByLayerViewId[n]={};for(var p=0;p<h;p++){this._layerIndexByLayerViewId[n][k[p].id]=p;var t=c.indexOf(k[p]);s[p]=t;p!==t&&(l=!0);-1<t&&(m[t]=p)}if(l){this._layerViews[n]=k;this._topLevelTilemapOnlyTiles.forEach(function(a){a.modifyLayers(m,s,n)});if(this._rootTiles){c=this._postorderIterator;for(c.reset(this._rootTiles);!c.done;)c.next().modifyLayers(m,
s,n);for(c.reset(this._rootTiles);!c.done;)k=c.next(),k.restartAgents(n),n===f.ELEVATION&&k.updateElevationBounds();this._updateTiles(this._rootTiles)}n===f.ELEVATION&&this.tilingScheme&&(V.spatialReference=this.tilingScheme.spatialReference,V.extent=N,g.emit(this,"elevation-change",V))}}null===d&&(d=19);this._maxLod<d&&(this._maxLod=d,this.tilingScheme&&this.tilingScheme.ensureMaxLod(d),this._viewChangeUpdate());e.isFinite()?this._tiledDataExtent=e.extent:this._tiledDataExtent=null},_getLayerExtentUnion:function(a){var c=
this._view.layerViewsFlat,b=new G(G.NEGATIVE_INFINITY);c.forEach(function(c){c=c.layer.fullExtent;c.spatialReference.equals(a)||(c=p.canProject(c.spatialReference,a)?p.project(c,a):null);c&&b.expand(c)});return b.isFinite()?b.extent:null},layerViewByIndex:function(a,c){return this._layerViews[c][a]},agentTypeByLayerIndex:function(a,c){return c===r.LayerClass.ELEVATION?z:s},numLayers:function(a){return this._layerViews[a].length},numTotalLayers:function(){return this._layerViews.reduce(function(a,
c){return a+c},0)},_updateTileTextures:function(){var a=this._iteratorPool.acquire();for(a.reset(this._rootTiles);!a.done;)a.next().updateTexture();this._iteratorPool.release(a)},requestTileData:function(a,c,b){this.tilemapStats.tilesRequested++;var f=this.layerViewByIndex(c,b);if(f.layer.tileMap){var d=this.getTilemapTile(a),e=d.layerInfo[b][c];if(e.tilemapData){if(!d.tileDataAvailable(a,c,b))return this.tilemapStats.tilesNotPresent++,this._dispatchDataEvent(a,"dataMissing",b,f,{notInTilemap:!0}),
c=new k.Promise,c.reject(),c}else{var g=new k.Promise;g.actualTileRequestPromise=null;e.tilemapRequest||(e.tilemapRequest=this.requestTilemapData(d,c,b,f));e.tilemapRequest.then(function(){e.tilemapRequest=null;if(!g.isCancelled()){var c=this._layerIndexByLayerViewId[b][f.id];null!=c&&(d.tileDataAvailable(a,c,b)?(g.actualTileRequestPromise=this._requestTileData(a,c,b,f),g.actualTileRequestPromise.then(function(){g.resolve()})):(this.tilemapStats.tilesNotPresent++,this._dispatchDataEvent(a,"dataMissing",
b,f,{notInTilemap:!0}),g.reject()))}}.bind(this));return g}}return this._requestTileData(a,c,b,f)},_requestTileData:function(a,c,b,f){this.tilemapStats.tileRequestsSent++;c=f.getTileUrl(a.lij[0],a.lij[1],a.lij[2]);var d=this;b===r.LayerClass.ELEVATION?(c=this._streamDataSupplier.request(c,"binary"),c.then(function(c,e){var g=d._layerIndexByLayerViewId[b][f.id];null!=g?(g=a.layerInfo[b][g],e.url=c,g.rawData=e,a.pendingUpdates|=C.DECODE_LERC,g.pendingUpdates|=C.DECODE_LERC,d._pendingUpdates=!0):console.warn("TerrainSurface: received data from unknown layer %d %s",
b,a.lij.toString())},function(c){d.tilemapStats.tileRequestErrors++;d._dispatchDataEvent(a,"dataMissing",b,f,c)})):(c=this._streamDataSupplier.request(c,"image"),c.then(function(c,e){d._dispatchDataEvent(a,"dataArrived",b,f,e)},function(c){d.tilemapStats.tileRequestErrors++;d._dispatchDataEvent(a,"dataMissing",b,f,c)}));return c},requestTilemapData:function(a,c,b,f){var d,e=new k.Promise(function(){d.cancel()}),g=a.lij[0]+r.TILEMAP_SIZE_EXP,n=a.lij[1]<<r.TILEMAP_SIZE_EXP,l=a.lij[2]<<r.TILEMAP_SIZE_EXP;
this.tilemapStats.tilemapRequestsSent++;this.tilemapStats.tilemapRequestsPending++;var h=this,s=1<<Math.min(r.TILEMAP_SIZE_EXP,g);d=f.layer.tileMap.getTileMap(g,n,l,s,s);d.then(function(d){h.tilemapStats.tilemapRequestsPending--;var k=d.location;!0!==d.valid||!k||k.top!==n||k.left!==l||k.width!==s||k.height!==s?(console.warn("Unexpected tilemap response for %s/%d/%d/%d/%d/%d",f.id,g,n,l,s,s),h.tilemapStats.tilemapRequestErrors++):(c=this._layerIndexByLayerViewId[b][f.id],null!=c&&(a.layerInfo[b][c].tilemapData=
d));e.resolve()}.bind(this),function(){h.tilemapStats.tilemapRequestErrors++;e.resolve()});return e},getTilemapTile:function(a){var c=a.lij[0];return c>r.TILEMAP_SIZE_EXP?t.getTileNLevelsUp(a,r.TILEMAP_SIZE_EXP):this._topLevelTilemapOnlyTiles[c]},_dispatchDataEvent:function(a,c,b,f,d){f=this._layerIndexByLayerViewId[b][f.id];if(null!=f)a[c](f,b,d);else console.warn("TerrainSurface: received data from unknown layer")},cancelRequest:function(a){var c=a.actualTileRequestPromise;void 0!==c?(null!==c&&
this._streamDataSupplier.cancelRequest(c),a.cancel()):this._streamDataSupplier.cancelRequest(a)},_updateTileOverlayParams:function(){if(this._rootTiles){var a=this._iteratorPool.acquire();for(a.reset(this._rootTiles);!a.done;){var c=a.next();c.renderData&&this.overlayManager&&this.overlayManager.setOverlayParamsOfTile(c,c.renderData,this._curOverlayOpacity)}this._iteratorPool.release(a);this._renderer.setNeedsRender()}},_updateOverlayOpacity:function(a){if(this.overlayManager&&(a=this.overlayManager.updateOpacity(a),
!isNaN(a))){if(a!==this._curOverlayOpacity&&this._rootTiles){var c=this._iteratorPool.acquire();for(c.reset(this._rootTiles);!c.done;){var b=c.next();b.renderData&&b.renderData.overlayTexId&&(b.renderData.overlayOpacity=a)}this._iteratorPool.release(c)}this._curOverlayOpacity=a;this._renderer.setNeedsRender()}},getStats:function(){var a=0,c=0,b=0,f=this._iteratorPool.acquire();for(f.reset(this._rootTiles);!f.done;){var d=f.next();a++;d.renderData&&(c++,d.visible&&b++)}this._iteratorPool.release(f);
return{numNodes:a,numLeaves:c,numVisible:b}},getTile:function(a){var c=a.split("/").map(JSON.parse);if(0===c[0])return this._rootTiles.forEach(function(a){if(a.lij[1]===c[1]&&a.lij[2]===c[2])return a}),null;var b=c[1]>>c[0],f=c[2]>>c[0],d;this._rootTiles.some(function(a){return a.lij[1]===b&&a.lij[2]===f?(d=a,!0):!1});if(d){for(var e=1<<c[0]-1;d.lij[0]<c[0];){var g=c[1]&e?2:0;0<(c[2]&e)&&g++;if(!d.children[g])return console.log("Tile "+a+" doesn't exist, smallest ancestor is "+t.tile2str(d)),null;
d=d.children[g];e>>=1}I(d.lij[0]===c[0]&&d.lij[1]===c[1]&&d.lij[2]===c[2],"not the right tile?");return d}return null},setBorders:function(a){this._renderer.setBorders(a)},setDisableRendering:function(a){this._renderer.setDisableRendering(a)},_tilingSchemeSetter:function(a){Array.isArray(a)?(a=q.fromExtent(a,this._view.map.spatialReference,this._view.mapCoordsHelper.mapUnitInMeters),this._tilingSchemeIsGenerated=!0):this._tilingSchemeIsGenerated=!1;if(!a||!this._tilingScheme||!this._tilingScheme.compatibleWith(a))this._tilingScheme&&
(this._removeAllTiles(),this._layerViews.forEach(function(a){a.forEach(function(a){this._unregisterTiledLayerView(a.id)}.bind(this));a.length=0}.bind(this)),this._tiledDataExtent=null,this._tilingSchemeIsGenerated||(this._dataExtent=null),this.spatialReference=this._tilingScheme=null,this._maxLod=19,this.overlayManager.setSpatialReference(null)),a&&(a.ensureMaxLod(this._maxLod),this._tilingScheme=a,this.spatialReference=a.spatialReference,this._updateClippingExtent(),this._updateRootTiles(),this.overlayManager.setSpatialReference(this.spatialReference))},
_tilingSchemeGetter:function(){return this._tilingScheme},_manifoldGetter:function(){return this._manifold},_extentGetter:function(){return this._clippingExtent||this._rootExtent},_hasFixedExtent:function(){return!(!this._clippingExtent&&!this._worldExtent)},_wireframeSetter:function(a){this._renderer.setWireframe(a);return a},_opacitySetter:function(a){this._renderer.setOpacity(a);return a},_skirtsSetter:function(a){this._renderer.setDrawSkirts(!!a);return a},_cullBackFacesSetter:function(a){this._renderer.setCullBackFaces(a);
return a},_renderOrderSetter:function(a){this._renderer.setRenderOrder(a);return a},_frontMostTransparentSetter:function(a){this._renderer.setFrontMostTransparent(!!a);return a},_tileBackgroundSetter:function(a){a!==this.tileBackground&&this._renderer.updateTileBackground(a);return a}});J.checkUnsupported=function(a,c){var b=q.checkUnsupported(a);return b?b:c?J._checkNumRootTiles(a,c):null};J._checkNumRootTiles=function(a,c){var b=a.lods,f=b[0].resolution*Math.pow(2,b[0].level),d=[f*a.rows,f*a.cols],
e=[a.origin.x,a.origin.y];c=[c.xmin,c.ymin,c.xmax,c.ymax];q.computeRowColExtent(c,d,e,D);return 64<(D[2]-D[0])*(D[3]-D[1])?(b=b[0].scale*Math.pow(2,b[0].level),f=Math.max((c[3]-c[1])/a.rows,(c[2]-c[0])/a.cols)*b/f,d=Math.floor(Math.log(f)/Math.log(10)),f=Math.ceil(f/Math.pow(10,d))*Math.pow(10,d),f=Error("Scale of level 0 of the tiling scheme (1:"+Math.floor(b).toLocaleString()+") is too large for the layer's extent. Suggested scale: 1:"+f.toLocaleString()+"."),f.name="terrainsurface:num-root-tiles",
f):null};return J})},"esri/renderers/HeatmapRenderer":function(){define("../core/declare dojo/_base/lang dojo/_base/array dojo/dom-construct ../core/lang ../symbols/PictureMarkerSymbol ../Color ./Renderer".split(" "),function(b,h,l,m,g,e,d,c){return b([c],{declaredClass:"esri.renderer.HeatmapRenderer",colors:null,blurRadius:10,maxPixelIntensity:100,minPixelIntensity:0,field:null,fieldOffset:null,colorStops:null,constructor:function(a){(this._supportsCanvas=window.CanvasRenderingContext2D?!0:!1)?("string"==
typeof a&&(a=JSON.parse(a)),h.mixin(this,a),this._canvas=null,!this.colors&&!this.colorStops&&(this.colorStops=[{ratio:0,color:"rgba(255, 140, 0, 0)"},{ratio:0.75,color:"rgba(255, 140, 0, 1)"},{ratio:0.9,color:"rgba(255, 0,   0, 1)"}]),this.gradient=this._generateGradient(this.colorStops||this.colors)):console.log("The HeatmapRenderer requires a Canvas enabled Browser.  IE8 and less does not support Canvas.")},getSymbol:function(a){if(!this._supportsCanvas)return!1;var c=a.attributes.imageData;a=
a.attributes.size;if(!a)return null;var b=this._getContext(a[0],a[1]),d=b.getImageData(0,0,a[0],a[1]);window.ArrayBuffer&&c instanceof ArrayBuffer?c=window.Uint8ClampedArray?new Uint8ClampedArray(c):new Uint8Array(c):c.BYTES_PER_ELEMENT&&1!==c.BYTES_PER_ELEMENT&&(c=window.Uint8ClampedArray?new Uint8ClampedArray(c.buffer):new Uint8Array(c.buffer));if(window.CanvasPixelArray&&d.data instanceof window.CanvasPixelArray)for(var g=d.data,l=g.length;l--;)g[l]=c[l];else d.data.set(c);b.putImageData(d,0,0);
return new e(b.canvas.toDataURL(),a[0],a[1])},setColors:function(a){if(a&&(a instanceof Array||a.colors))this.gradient=this._generateGradient(a.colors||a),this.colors=a;return this},setColorStops:function(a){if(a&&(a instanceof Array||a.colorStops))this.gradient=this._generateGradient(a.colorStops||a),this.colorStops=a;return this},setMaxPixelIntensity:function(a){this.maxPixelIntensity=a;return this},setMinPixelIntensity:function(a){this.minPixelIntensity=a;return this},setField:function(a){this.field=
a;return this},setFieldOffset:function(a){this.fieldOffset=a;return this},setBlurRadius:function(a){this.blurRadius=a;return this},getStats:function(){},getHistogramData:function(){},toJson:function(){try{throw Error("toJson is deprecated, use toJSON instead");}catch(a){console.warn(a.stack)}return this.toJSON()},toJSON:function(){var a=h.mixin(this.inherited(arguments),{type:"heatmap",blurRadius:this.blurRadius,colorStops:this._colorsToStops(this.colorStops||this.colors),maxPixelIntensity:this.maxPixelIntensity,
minPixelIntensity:this.minPixelIntensity,field:this.field});null!=this.fieldOffset&&(a.fieldOffset=this.fieldOffset);l.forEach(a.colorStops,function(a){a.color=d.toJSON(a.color)});return g.fixJson(a)},_getContext:function(a,c){this._canvas?(this._canvas.width=a,this._canvas.height=c):this._canvas=this._initCanvas(a,c);return this._canvas.getContext("2d")},_initCanvas:function(a,c){var b=m.create("canvas",{id:"hm_canvas-"+Math.floor(1E3*Math.random()),style:"position: absolute; left: -10000px; top: 0px;"},
null);b.width=a;b.height=c;document.body.appendChild(b);return b},_generateGradient:function(a,c){c||(c=512);for(var b=this._colorsToStops(a),d=this._getContext(1,c||512),e=d.createLinearGradient(0,0,0,c),g=0,l;g<b.length;g++)l=b[g],e.addColorStop(l.ratio,l.color.toCss(!0));d.fillStyle=e;d.fillRect(0,0,1,c);return d.getImageData(0,0,1,c).data},_colorsToStops:function(a){var c=[];if(!a[0])return c;if(null!=a[0].ratio)c=l.map(a,function(a){return{ratio:a.ratio,color:this._toColor(a.color)}},this);else if(null!=
a[0].value){var b=Infinity,c=-Infinity,d=0,e;for(e=0;e<a.length;e++){var g=a[e].value;g<b&&(b=g);g>c&&(c=g)}d=c-b;this.maxPixelIntensity=c;this.minPixelIntensity=b;c=l.map(a,function(a){var c=a.value;a=this._toColor(a.color);return{value:c,ratio:(c-b)/d,color:a}},this)}else var h=a.length-1,c=l.map(a,function(a,c){return{color:this._toColor(a),ratio:c/h}},this);return c},_toColor:function(a){!a.toRgba&&!a.declaredClass&&(a=new d(a));return a}})})},"dijit/focus":function(){define("dojo/aspect dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/Evented dojo/_base/lang dojo/on dojo/domReady dojo/sniff dojo/Stateful dojo/_base/window dojo/window ./a11y ./registry ./main".split(" "),
function(b,h,l,m,g,e,d,c,a,k,p,n,u,q,t,r,v){var x,w,f=new (h([n,d],{curNode:null,activeStack:[],constructor:function(){var a=c.hitch(this,function(a){l.isDescendant(this.curNode,a)&&this.set("curNode",null);l.isDescendant(this.prevNode,a)&&this.set("prevNode",null)});b.before(e,"empty",a);b.before(e,"destroy",a)},registerIframe:function(a){return this.registerWin(a.contentWindow,a)},registerWin:function(c,b){var f=this,d=c.document&&c.document.body;if(d){var e=p("pointer-events")?"pointerdown":p("MSPointer")?
"MSPointerDown":p("touch-events")?"mousedown, touchstart":"mousedown",g=a(c.document,e,function(a){if(!a||!(a.target&&null==a.target.parentNode))f._onTouchNode(b||a.target,"mouse")}),k=a(d,"focusin",function(a){if(a.target.tagName){var c=a.target.tagName.toLowerCase();"#document"==c||"body"==c||(t.isFocusable(a.target)?f._onFocusNode(b||a.target):f._onTouchNode(b||a.target))}}),l=a(d,"focusout",function(a){f._onBlurNode(b||a.target)});return{remove:function(){g.remove();k.remove();l.remove();d=g=
k=l=null}}}},_onBlurNode:function(a){a=(new Date).getTime();a<x+100||(this._clearFocusTimer&&clearTimeout(this._clearFocusTimer),this._clearFocusTimer=setTimeout(c.hitch(this,function(){this.set("prevNode",this.curNode);this.set("curNode",null)}),0),this._clearActiveWidgetsTimer&&clearTimeout(this._clearActiveWidgetsTimer),a<w+100||(this._clearActiveWidgetsTimer=setTimeout(c.hitch(this,function(){delete this._clearActiveWidgetsTimer;this._setStack([])}),0)))},_onTouchNode:function(a,c){w=(new Date).getTime();
this._clearActiveWidgetsTimer&&(clearTimeout(this._clearActiveWidgetsTimer),delete this._clearActiveWidgetsTimer);g.contains(a,"dijitPopup")&&(a=a.firstChild);var b=[];try{for(;a;){var f=m.get(a,"dijitPopupParent");if(f)a=r.byId(f).domNode;else if(a.tagName&&"body"==a.tagName.toLowerCase()){if(a===u.body())break;a=q.get(a.ownerDocument).frameElement}else{var d=a.getAttribute&&a.getAttribute("widgetId"),e=d&&r.byId(d);e&&!("mouse"==c&&e.get("disabled"))&&b.unshift(d);a=a.parentNode}}}catch(k){}this._setStack(b,
c)},_onFocusNode:function(a){a&&9!=a.nodeType&&(x=(new Date).getTime(),this._clearFocusTimer&&(clearTimeout(this._clearFocusTimer),delete this._clearFocusTimer),this._onTouchNode(a),a!=this.curNode&&(this.set("prevNode",this.curNode),this.set("curNode",a)))},_setStack:function(a,c){var b=this.activeStack,f=b.length-1,d=a.length-1;if(a[d]!=b[f]){this.set("activeStack",a);var e;for(e=f;0<=e&&b[e]!=a[e];e--)if(f=r.byId(b[e]))f._hasBeenBlurred=!0,f.set("focused",!1),f._focusManager==this&&f._onBlur(c),
this.emit("widget-blur",f,c);for(e++;e<=d;e++)if(f=r.byId(a[e]))f.set("focused",!0),f._focusManager==this&&f._onFocus(c),this.emit("widget-focus",f,c)}},focus:function(a){if(a)try{a.focus()}catch(c){}}}));k(function(){var c=f.registerWin(q.get(document));p("ie")&&a(window,"unload",function(){c&&(c.remove(),c=null)})});v.focus=function(a){f.focus(a)};for(var s in f)/^_/.test(s)||(v.focus[s]="function"==typeof f[s]?c.hitch(f,s):f[s]);f.watch(function(a,c,b){v.focus[a]=b});return f})},"esri/views/2d/viewpointUtils":function(){define("./math/common ./math/mat2d ./math/vec2 ../../Viewpoint ../../geometry/SpatialReference ../../geometry/Geometry ../../geometry/Point ../../geometry/Extent ../../geometry/support/webMercatorUtils ../../geometry/support/scaleUtils".split(" "),
function(b,h,l,m,g,e,d,c,a,k){var p=6370997*Math.PI/180,n=180/Math.PI,u=function(a,c,f,d){return d&&(f&&!d.equals(f)&&d._canProject(f))&&d.isWebMercator()?(d.isWebMercator()?(f=c[1],89.99999<f?f=89.99999:-89.99999>f&&(f=-89.99999),f=Math.sin(b.toRadian(f)),a=l.set(a,6378137*b.toRadian(c[0]),3189068.5*Math.log((1+f)/(1-f)))):(f=b.toDegree(c[0]/6378137),a=l.set(a,f-360*Math.floor((f+180)/360),b.toDegree(0.5*PI-2*Math.atan(Math.exp(-1*c[1]/6378137))))),a):l.copy(a,c)},q=function(a){return a.wkid?a:a.spatialReference||
g.WGS84},t=function(a,c){return c.type?l.set(a,c.x,c.y):l.copy(a,c)},r=function(a,c){return Math.max(a.width/c[0],a.height/c[1])*F(a.spatialReference)},v=function(b,f,g){var k;if(!b)return null;if(Array.isArray(b)&&2===b.length&&"number"===typeof b[0]&&"number"===typeof b[1])return new d(b);if(b.forEach)return b.reduce(function(a,c){return v(c,f,a)}),g;if(Array.isArray(b)){for(k=0;k<b.length;k++)if(g=v(b[k],f,g),!g)return null;return g}b instanceof e?k=b:b.geometry&&(k=b.geometry);if(!k)return null;
b="point"===k.type?new c({xmin:k.x,ymin:k.y,xmax:k.x,ymax:k.y,spatialReference:k.spatialReference}):k.extent;if(!b||!a.canProject(b.spatialReference,f))return null;b=a.project(b,f);return g=g?g.union(b):b.clone()},x=function(a,c){var b=a.targetGeometry,f=c.targetGeometry;b.x=f.x;b.y=f.y;b.spatialReference=f.spatialReference;a.scale=c.scale;a.rotation=c.rotation;return a},w=function(){var a=l.create();return function(c,b,f){if(!f)return l.scale(c,b,0.5);l.set(a,f.left+f.right,f.top+f.bottom);l.sub(c,
b,a);l.set(a,f.left,f.top);return l.scaleAndAdd(c,a,c,0.5)}}(),f=function(){var a=l.create();return function(c,b,f){var d=b.targetGeometry;t(a,d);b=0.5*B(b);c.xmin=a[0]-b*f[0];c.ymin=a[1]-b*f[1];c.xmax=a[0]+b*f[0];c.ymax=a[1]+b*f[1];c.spatialReference=d.spatialReference;return c}}(),s=function(a,c,b){a=M(a,c,b);return h.invert(a,a)},z=function(a,c,f){var d=b.toRadian(c.rotation)||0;c=Math.abs(Math.cos(d));d=Math.abs(Math.sin(d));a=l.copy(a,f.size);return l.set(a,Math.round(a[1]*d+a[0]*c),Math.round(a[1]*
c+a[0]*d))},y=function(){var a=l.create();return function(c,b,f){return l.sub(c,G(c,b),w(a,b,f))}}(),A=function(){var a=h.create(),c=l.create();return function(f,d,e,g){var k=B(d);d=b.toRadian(d.rotation)||0;l.set(c,k,k);h.fromScaling(a,c);h.rotate(a,a,d);h.translate(a,a,y(c,e,g));l.set(f,a[4],a[5]);return f}}(),B=function(a){return a.scale*E(a.targetGeometry.spatialReference)},E=function(a){return 1/(96*39.37*(k.getUnitValueForSR(a)||p))},F=function(a){return 96*39.37*(k.getUnitValueForSR(a)||p)},
G=function(a,c){return l.scale(a,c,0.5)},Q=function(){var a=l.create(),c=l.create(),b=l.create();return function(f,d,e,g,k){l.negate(a,d);l.scale(c,e,0.5);l.set(b,1/g,-1/g);h.identity(f);h.translate(f,f,c);k&&h.rotate(f,f,k);h.scale(f,f,b);h.translate(f,f,a);return f}}(),M=function(){var a=l.create();return function(c,f,d){var e=B(f),g=b.toRadian(f.rotation)||0;t(a,f.targetGeometry);return Q(c,a,d,e,g)}}(),T=function(){var a=l.create();return function(c,b,f){var d=B(b);t(a,b.targetGeometry);return Q(c,
a,f,d,0)}}(),K=function(){var a=l.create(),c=l.create(),b=l.create();return function(f,d,e){l.subtract(a,f,d);l.normalize(a,a);l.subtract(c,f,e);l.normalize(c,c);l.cross(b,a,c);f=Math.acos(l.dot(a,c)/(l.length(a)*l.length(c)))*n;0>b[2]&&(f=-f);isNaN(f)&&(f=0);return f}}(),C=function(){var a=l.create();return function(c,b,f,d,e){e=c.targetGeometry;x(c,b);A(a,b,f,d);e.x+=a[0];e.y+=a[1];return c}}(),D=function(){var a=l.create();return function(c,b,f){x(c,b);b=c.targetGeometry;var d=q(f),e=q(b);t(a,
f);u(a,a,d,e);b.x=a[0];b.y=a[1];return c}}(),L=function(){var a=l.create();return function(c,b,f,d,e){e||(e="center");l.sub(a,f,d);l.scale(a,a,0.5);f=a[0];d=a[1];switch(e){case "center":l.set(a,0,0);break;case "left":l.set(a,-f,0);break;case "top":l.set(a,0,d);break;case "right":l.set(a,f,0);break;case "bottom":l.set(a,0,-d);break;case "top-left":l.set(a,-f,d);break;case "bottom-left":l.set(a,-f,-d);break;case "top-right":l.set(a,f,d);break;case "bottom-right":l.set(a,f,-d)}N(c,b,a);return c}}(),
W=function(){var a=l.create();return function(c,b,f,d,e){x(c,b);0!==f&&(V(a,d,b,e),c.scale=b.scale/f,R(a,a,c,e),N(c,c,l.set(a,a[0]-d[0],d[1]-a[1])));return c}}(),ca=function(){var a=l.create();return function(c,b,f,d,e,g){x(c,b);0!==f&&(V(a,e,b,g),c.scale=b.scale/f,c.rotation+=d,R(a,a,c,g),N(c,c,l.set(a,a[0]-e[0],e[1]-a[1])));return c}}(),V=function(){var a=h.create();return function(c,b,f,d){return l.transformMat2d(c,b,s(a,f,d))}}(),R=function(){var a=h.create();return function(c,b,f,d){return l.transformMat2d(c,
b,M(a,f,d))}}(),N=function(){var a=l.create(),c=h.create();return function(f,d,e){x(f,d);var g=B(d),k=f.targetGeometry;h.fromRotation(c,b.toRadian(d.rotation)||0);h.scale(c,c,l.fromValues(g,g));l.transformMat2d(a,e,c);k.x+=a[0];k.y+=a[1];return f}}();return{create:function(a,c){if(!a)return new m({targetGeometry:new d,scale:0,rotation:0});var b=c.spatialReference,f=c.size,g=c.currentViewpoint,k=c.tileInfo,n=null!=c.snapToZoom?c.snapToZoom:!0;if("esri.Viewpoint"===a.declaredClass)return a;var h=null,
k=a.viewpoint&&a.viewpoint.targetGeometry&&"point"===a.viewpoint.targetGeometry.type?a.viewpoint.scale:null!=a.scale?a.scale:k&&null!=a.zoom?k.zoomToScale(a.zoom):null,s=a.viewpoint?a.viewpoint.rotation:null!=a.rotation?a.rotation:g?g.rotation:0;a=a.viewpoint&&a.viewpoint.targetGeometry||a instanceof e&&a||v(a.center,b)||v(a.extent,b)||v(a.target,b)||v(a,b)||g&&g.targetGeometry||c.extent;var p=q(a);b||(b=q(c.spatialReference||c.extent||a));h=a.center?a.center:a;h=t(l.create(),h);h=new d(u(h,h,p,b),
b);null===k&&(k=Array.isArray(a)||"point"===a.type?c.extent?r(c.extent,f):g.scale:r(a.extent,f));c.extent&&(c.tileInfo&&n)&&(k=c.tileInfo.snapScale(k));return new m({targetGeometry:h,scale:k,rotation:s})},copy:x,getAnchor:w,getExtent:f,setExtent:function(a,c,b,f,d){D(a,c,b.center);a.scale=r(b,f);d&&d.tileInfo&&(c=d.tileInfo,d=null==d.snapToZoom?!0:d.snapToZoom,c&&d&&(a.scale=c.snapScale(a.scale)));return a},getPaddingMapTranslation:A,getPaddingScreenTranslation:y,getResolution:B,getScreenCenter:G,
getTransform:M,getTransformNoRotation:T,getInverseTransform:s,getOuterExtent:function(a,c,b){var f=t(l.create(),c.targetGeometry),d=0.5*B(c);b=z(l.create(),c,b);a.set({xmin:f[0]-d*b[0],ymin:f[1]-d*b[1],xmax:f[0]+d*b[0],ymax:f[1]+d*b[1],spatialReference:c.targetGeometry.spatialReference});return a},getOuterSize:z,getResolutionToScaleFactor:F,getScaleToResolutionFactor:E,angleBetween:K,addPadding:C,centerAt:D,pixelSizeAt:function(a,c,b){return B(c)},removePadding:function(a,c,b,f){x(a,c);return a},
resize:L,rotateBy:function(a,c,b){x(a,c);a.rotation+=b;return a},rotateTo:function(a,c,b){x(a,c);a.rotation=b;return a},scaleBy:W,scaleTo:function(a,c,b){x(a,c);a.scale=b;return a},scaleAndRotateBy:ca,toMap:V,toScreen:R,translateBy:N}})},"dojo/_base/declare":function(){define(["./kernel","../has","./lang"],function(b,h,l){function m(a,c){throw Error("declare"+(c?" "+c:"")+": "+a);}function g(a,c,b){var d,e,g,k,l,n,h,s=this._inherited=this._inherited||{};"string"==typeof a&&(d=a,a=c,c=b);b=0;k=a.callee;
(d=d||k.nom)||m("can't deduce a name to call inherited()",this.declaredClass);l=this.constructor._meta;g=l.bases;h=s.p;if(d!=A){if(s.c!==k&&(h=0,n=g[0],l=n._meta,l.hidden[d]!==k)){(e=l.chains)&&"string"==typeof e[d]&&m("calling chained method with inherited: "+d,this.declaredClass);do if(l=n._meta,e=n.prototype,l&&(e[d]===k&&e.hasOwnProperty(d)||l.hidden[d]===k))break;while(n=g[++h]);h=n?h:-1}if(n=g[++h])if(e=n.prototype,n._meta&&e.hasOwnProperty(d))b=e[d];else{k=f[d];do if(e=n.prototype,(b=e[d])&&
(n._meta?e.hasOwnProperty(d):b!==k))break;while(n=g[++h])}b=n&&b||f[d]}else{if(s.c!==k&&(h=0,(l=g[0]._meta)&&l.ctor!==k)){e=l.chains;for((!e||"manual"!==e.constructor)&&m("calling chained constructor with inherited",this.declaredClass);(n=g[++h])&&!((l=n._meta)&&l.ctor===k););h=n?h:-1}for(;(n=g[++h])&&!(b=(l=n._meta)?l.ctor:n););b=n&&b}s.c=b;s.p=h;if(b)return!0===c?b:b.apply(this,c||a)}function e(a,c){return"string"==typeof a?this.__inherited(a,c,!0):this.__inherited(a,!0)}function d(a,c,b){var f=
this.getInherited(a,c);if(f)return f.apply(this,b||c||a)}function c(a){for(var c=this.constructor._meta.bases,b=0,f=c.length;b<f;++b)if(c[b]===a)return!0;return this instanceof a}function a(a,c){for(var b in c)b!=A&&c.hasOwnProperty(b)&&(a[b]=c[b]);if(h("bug-for-in-skips-shadowed"))for(var f=l._extraNames,d=f.length;d;)b=f[--d],b!=A&&c.hasOwnProperty(b)&&(a[b]=c[b])}function k(a){x.safeMixin(this.prototype,a);return this}function p(a,c){a instanceof Array||"function"==typeof a||(c=a,a=void 0);c=c||
{};a=a||[];return x([this].concat(a),c)}function n(a,c){return function(){var b=arguments,f=b,d=b[0],e,g;g=a.length;var k;if(!(this instanceof b.callee))return v(b);if(c&&(d&&d.preamble||this.preamble)){k=Array(a.length);k[0]=b;for(e=0;;){if(d=b[0])(d=d.preamble)&&(b=d.apply(this,b)||b);d=a[e].prototype;(d=d.hasOwnProperty("preamble")&&d.preamble)&&(b=d.apply(this,b)||b);if(++e==g)break;k[e]=b}}for(e=g-1;0<=e;--e)d=a[e],(d=(g=d._meta)?g.ctor:d)&&d.apply(this,k?k[e]:b);(d=this.postscript)&&d.apply(this,
f)}}function u(a,c){return function(){var b=arguments,f=b,d=b[0];if(!(this instanceof b.callee))return v(b);c&&(d&&(d=d.preamble)&&(f=d.apply(this,f)||f),(d=this.preamble)&&d.apply(this,f));a&&a.apply(this,b);(d=this.postscript)&&d.apply(this,b)}}function q(a){return function(){var c=arguments,b=0,f,d;if(!(this instanceof c.callee))return v(c);for(;f=a[b];++b)if(f=(d=f._meta)?d.ctor:f){f.apply(this,c);break}(f=this.postscript)&&f.apply(this,c)}}function t(a,c,b){return function(){var f,d,e=0,g=1;
b&&(e=c.length-1,g=-1);for(;f=c[e];e+=g)d=f._meta,(f=(d?d.hidden:f.prototype)[a])&&f.apply(this,arguments)}}function r(a){z.prototype=a.prototype;a=new z;z.prototype=null;return a}function v(a){var c=a.callee,b=r(c);c.apply(b,a);return b}function x(b,d,h){"string"!=typeof b&&(h=d,d=b,b="");h=h||{};var z,v,T,K,C,D,L,W=1,ca=d;if("[object Array]"==s.call(d)){W=b;T=[];K=[{cls:0,refs:[]}];D={};for(var V=1,R=d.length,N=0,H,O,I,J;N<R;++N){(H=d[N])?"[object Function]"!=s.call(H)&&m("mixin #"+N+" is not a callable constructor.",
W):m("mixin #"+N+" is unknown. Did you use dojo.require to pull it in?",W);O=H._meta?H._meta.bases:[H];I=0;for(H=O.length-1;0<=H;--H)J=O[H].prototype,J.hasOwnProperty("declaredClass")||(J.declaredClass="uniqName_"+y++),J=J.declaredClass,D.hasOwnProperty(J)||(D[J]={count:0,refs:[],cls:O[H]},++V),J=D[J],I&&I!==J&&(J.refs.push(I),++I.count),I=J;++I.count;K[0].refs.push(I)}for(;K.length;){I=K.pop();T.push(I.cls);for(--V;v=I.refs,1==v.length;){I=v[0];if(!I||--I.count){I=0;break}T.push(I.cls);--V}if(I){N=
0;for(R=v.length;N<R;++N)I=v[N],--I.count||K.push(I)}}V&&m("can't build consistent linearization",W);H=d[0];T[0]=H?H._meta&&H===T[T.length-H._meta.bases.length]?H._meta.bases.length:1:0;D=T;T=D[0];W=D.length-T;d=D[W]}else D=[0],d?"[object Function]"==s.call(d)?(T=d._meta,D=D.concat(T?T.bases:d)):m("base class is not a callable constructor.",b):null!==d&&m("unknown base class. Did you use dojo.require to pull it in?",b);if(d)for(v=W-1;;--v){z=r(d);if(!v)break;T=D[v];(T._meta?a:w)(z,T.prototype);K=
new Function;K.superclass=d;K.prototype=z;d=z.constructor=K}else z={};x.safeMixin(z,h);T=h.constructor;T!==f.constructor&&(T.nom=A,z.constructor=T);for(v=W-1;v;--v)(T=D[v]._meta)&&T.chains&&(L=w(L||{},T.chains));z["-chains-"]&&(L=w(L||{},z["-chains-"]));T=!L||!L.hasOwnProperty(A);D[0]=K=L&&"manual"===L.constructor?q(D):1==D.length?u(h.constructor,T):n(D,T);K._meta={bases:D,hidden:h,chains:L,parents:ca,ctor:h.constructor};K.superclass=d&&d.prototype;K.extend=k;K.createSubclass=p;K.prototype=z;z.constructor=
K;z.getInherited=e;z.isInstanceOf=c;z.inherited=B;z.__inherited=g;b&&(z.declaredClass=b,l.setObject(b,K));if(L)for(C in L)z[C]&&("string"==typeof L[C]&&C!=A)&&(T=z[C]=t(C,D,"after"===L[C]),T.nom=C);return K}var w=l.mixin,f=Object.prototype,s=f.toString,z=new Function,y=0,A="constructor",B=b.config.isDebug?d:g;b.safeMixin=x.safeMixin=function(a,c){var b,d;for(b in c)if(d=c[b],(d!==f[b]||!(b in f))&&b!=A)"[object Function]"==s.call(d)&&(d.nom=b),a[b]=d;if(h("bug-for-in-skips-shadowed"))for(var e=l._extraNames,
g=e.length;g;)if(b=e[--g],d=c[b],(d!==f[b]||!(b in f))&&b!=A)"[object Function]"==s.call(d)&&(d.nom=b),a[b]=d;return a};return b.declare=x})},"dojo/request/xhr":function(){define(["../errors/RequestError","./watch","./handlers","./util","../has"],function(b,h,l,m,g){function e(a,c){var f=a.xhr;a.status=a.xhr.status;try{a.text=f.responseText}catch(d){}"xml"===a.options.handleAs&&(a.data=f.responseXML);if(!c)try{l(a)}catch(e){c=e}c?this.reject(c):m.checkStatus(f.status)?this.resolve(a):(c=new b("Unable to load "+
a.url+" status: "+f.status,a),this.reject(c))}function d(a){return this.xhr.getResponseHeader(a)}function c(l,r,f){var s=g("native-formdata")&&r&&r.data&&r.data instanceof FormData,z=m.parseArgs(l,m.deepCreate(t,r),s);l=z.url;r=z.options;var v,A=m.deferred(z,u,k,p,e,function(){v&&v()}),B=z.xhr=c._create();if(!B)return A.cancel(new b("XHR was not created")),f?A:A.promise;z.getHeader=d;n&&(v=n(B,A,z));var E=r.data,F=!r.sync,G=r.method;try{B.open(G,l,F,r.user||q,r.password||q);r.withCredentials&&(B.withCredentials=
r.withCredentials);g("native-response-type")&&r.handleAs in a&&(B.responseType=a[r.handleAs]);var Q=r.headers;l=s?!1:"application/x-www-form-urlencoded";if(Q)for(var M in Q)"content-type"===M.toLowerCase()?l=Q[M]:Q[M]&&B.setRequestHeader(M,Q[M]);l&&!1!==l&&B.setRequestHeader("Content-Type",l);(!Q||!("X-Requested-With"in Q))&&B.setRequestHeader("X-Requested-With","XMLHttpRequest");m.notify&&m.notify.emit("send",z,A.promise.cancel);B.send(E)}catch(T){A.reject(T)}h(A);B=null;return f?A:A.promise}g.add("native-xhr",
function(){return"undefined"!==typeof XMLHttpRequest});g.add("dojo-force-activex-xhr",function(){return g("activex")&&!document.addEventListener&&"file:"===window.location.protocol});g.add("native-xhr2",function(){if(g("native-xhr")){var a=new XMLHttpRequest;return"undefined"!==typeof a.addEventListener&&("undefined"===typeof opera||"undefined"!==typeof a.upload)}});g.add("native-formdata",function(){return"undefined"!==typeof FormData});g.add("native-response-type",function(){return g("native-xhr")&&
"undefined"!==typeof(new XMLHttpRequest).responseType});g.add("native-xhr2-blob",function(){if(g("native-response-type")){var a=new XMLHttpRequest;a.open("GET","/",!0);a.responseType="blob";var c=a.responseType;a.abort();return"blob"===c}});var a={blob:g("native-xhr2-blob")?"blob":"arraybuffer",document:"document",arraybuffer:"arraybuffer"},k,p,n,u;g("native-xhr2")?(k=function(a){return!this.isFulfilled()},u=function(a,c){c.xhr.abort()},n=function(a,c,f){function d(a){c.handleResponse(f)}function e(a){a=
new b("Unable to load "+f.url+" status: "+a.target.status,f);c.handleResponse(f,a)}function g(a){a.lengthComputable?(f.loaded=a.loaded,f.total=a.total,c.progress(f)):3===f.xhr.readyState&&(f.loaded=a.position,c.progress(f))}a.addEventListener("load",d,!1);a.addEventListener("error",e,!1);a.addEventListener("progress",g,!1);return function(){a.removeEventListener("load",d,!1);a.removeEventListener("error",e,!1);a.removeEventListener("progress",g,!1);a=null}}):(k=function(a){return a.xhr.readyState},
p=function(a){return 4===a.xhr.readyState},u=function(a,c){var b=c.xhr,d=typeof b.abort;("function"===d||"object"===d||"unknown"===d)&&b.abort()});var q,t={data:null,query:null,sync:!1,method:"GET"};c._create=function(){throw Error("XMLHTTP not available");};if(g("native-xhr")&&!g("dojo-force-activex-xhr"))c._create=function(){return new XMLHttpRequest};else if(g("activex"))try{new ActiveXObject("Msxml2.XMLHTTP"),c._create=function(){return new ActiveXObject("Msxml2.XMLHTTP")}}catch(r){try{new ActiveXObject("Microsoft.XMLHTTP"),
c._create=function(){return new ActiveXObject("Microsoft.XMLHTTP")}}catch(v){}}m.addCommonMethods(c);return c})},"dojo/domReady":function(){define(["./has"],function(b){function h(b){a.push(b);c&&l()}function l(){if(!k){for(k=!0;a.length;)try{a.shift()(g)}catch(c){console.error(c,"in domReady callback",c.stack)}k=!1;h._onQEmpty()}}var m=function(){return this}(),g=document,e={loaded:1,complete:1},d="string"!=typeof g.readyState,c=!!e[g.readyState],a=[],k;h.load=function(a,c,b){h(b)};h._Q=a;h._onQEmpty=
function(){};d&&(g.readyState="loading");if(!c){var p=[],n=function(a){a=a||m.event;c||"readystatechange"==a.type&&!e[g.readyState]||(d&&(g.readyState="complete"),c=1,l())},u=function(c,b){c.addEventListener(b,n,!1);a.push(function(){c.removeEventListener(b,n,!1)})};if(!b("dom-addeventlistener")){var u=function(c,b){b="on"+b;c.attachEvent(b,n);a.push(function(){c.detachEvent(b,n)})},q=g.createElement("div");try{q.doScroll&&null===m.frameElement&&p.push(function(){try{return q.doScroll("left"),1}catch(a){}})}catch(t){}}u(g,
"DOMContentLoaded");u(m,"load");"onreadystatechange"in g?u(g,"readystatechange"):d||p.push(function(){return e[g.readyState]});if(p.length){var r=function(){if(!c){for(var a=p.length;a--;)if(p[a]()){n("poller");return}setTimeout(r,30)}};r()}}return h})},"esri/core/accessorSupport/Properties":function(){define("dojo/has ../ObjectPool ../ArrayPool ../Scheduler ../lang ./Cache ./OldValues ./Property ./once ./introspect ./chainWatch".split(" "),function(b,h,l,m,g,e,d,c,a,k,p){var n=Object.prototype.hasOwnProperty,
u=new h(function(){this.fn=null;this.removed=this.isExecuting=!1},function(){this.fn=null}),q=new h(function(){this.callbacks=this.oldValue=null},function(){this.oldValue=null;this.callbacks=l.put(this.callbacks);this.callbacks=null});b=function(a){this.obj=a;this.properties=Object.create(k.getProperties(a));this.cache=new e;this.watchers=Object.create(null);this.bindings=Object.create(null);this.defaults=null;this.access=Object.create(null);this._notificationsPool=new h(function(){},function(){});
this.notifications=this._notificationsPool.get()};b.prototype={obj:null,properties:null,notifyHdls:null,cache:null,watchers:null,bindings:null,initialized:!1,notifications:null,ctorArgs:null,timer:null,_boundDispatch:null,initialize:function(){this.initialized=!0;this.notifyHdls=k.installPropertyNotifiers(this.obj);this.dispatch()},destroy:function(){this.notifyHdls&&this.notifyHdls.forEach(function(a){return a.remove()},this);this.timer&&this.timer.remove();var a=this.watchers;Object.getOwnPropertyNames(a).forEach(function(c){a[c].callbacks.forEach(function(a){a.removed=
!0})});this.cache.destroy();this.defaults&&this.defaults.destroy();this.access=this.defaults=this.notifications=this.bindings=this.watchers=this.cache=this.properties=this.notifyHdls=this.timer=this.obj=null},getFromCache:function(a){var c=this.cache,b=this.defaults,d=this.properties[a];return c.has(a)?c.get(a):b&&b.has(a)?b.get(a):d.value},get:function(a,c){var b=this.cache,d=this.defaults;if(b.has(a)&&!b.isDirty(a))return b.get(a);var e=this.obj,f=this._defineProperty(a),g=f.getter,k=f.getterArity;
if(b.has(a))!c&&this.propertyWillChange(a),d=b.get(a),g&&(d=k?g.call(e,d):g.call(e)),b.set(a,d),this.propertyHasChanged(a,d);else if(g)!c&&this.propertyWillChange(a),d=k?g.call(e,f.value):g.call(e),b.set(a,d),this.propertyHasChanged(a,d);else return d&&d.has(a)?d.get(a):f.value;return d},set:function(a,c){var b=this._defineProperty(a),d=b.getter,e=b.setter,f=b.setterArity,g=this.obj,k=this.cache;this.propertyWillChange(a);c=this._ensureType(b,c);if(e){if(c=2===f?e.call(g,c,this.getFromCache(a)):e.call(g,
c),void 0!==c||!d)k.set(a,c),this.propertyHasChanged(a,c)}else k.set(a,c),this.propertyHasChanged(a,c)},setDefault:function(a,c){var b=this.defaults;b||(this.defaults=b=new e);var d=this._defineProperty(a,!0),g=d.getter,f=d.setter,k=d.getterArity,l=d.setterArity,n=this.obj,h=this.cache.has(a);c=this._ensureType(d,c);h&&b.set(a,c);h||(f&&(c=2===l?f.call(n,c,b.get(a)):f.call(n,c),g&&(c=k?g.call(n,void 0):g.call(n))),this.initialized||b.set(a,c),this.propertyWillChange(a),b.set(a,c),this.propertyHasChanged(a,
c))},hasBindings:function(a){a=this.bindings[a];return null!=a&&0<a.length},hasWatchers:function(a){a=this.watchers[a];return null!=a&&0<a.callbacks.length},bind:function(c,b,d){var e=this.bindings[c],g={key:b,fn:d};e?e.push(g):(this._defineProperty(c,!0),this.bindings[c]=e=[g]);return{remove:a(function(){g.removed=!0;e.splice(e.indexOf(g),1)})}},propertyWillChange:function(a){var c=this.properties[a].chain,b,d;if(c){b=0;for(d=c.length;b<d;b++)this._propertyWillChange(c[b])}this._propertyWillChange(a)},
_propertyWillChange:function(a){var c=this.cache,b=this.bindings[a],d=this.watchers[a],e=d&&d.callbacks,f=d&&d.oldValues,g=this.notifications[a],k,n=e&&0<e.length,h=this.initialized&&!this.timer,p=null;c.has(a)&&Object.getNotifier&&(k=Object.getNotifier(this.obj))&&k.notify({type:"update",name:a,oldValue:this.getFromCache(a)});if(b){k=0;for(p=b.length;k<p;k++)b[k].fn.call(this,b[k].key)}n&&(g||(g=this.notifications[a]=l.get(),d.isDirty=!0),d.isDirty&&(d.isDirty=!1,p=q.get(),p.oldValue=this.get(a,
!0),p.callbacks=l.getCopy(e),g.push(p),f&&(c.set(a,f.add(this.obj[a])),c.setDirty(a))),h&&(this._boundDispatch||(this._boundDispatch=this.dispatch.bind(this)),this.timer=m.schedule(this._boundDispatch)));c.setDirty(a)},propertyHasChanged:function(a,c){if(this.hasBindings(a))for(var b=this.bindings[a],d=0,e=b.length;d<e;d++)b[d].fn.call(this,b[d].key,c)},watch:function(c,b){var e=this.obj,g=this.properties,k=this.watchers[c],f;Array.isArray(c)?f=c:-1<c.indexOf(",")&&(f=c.split(/\s*,\s*/));if(f){for(var n=
l.get(),e=0;c=f[e++];)n.push(this.watch(c,b));return{handles:n,remove:a(function(){for(var a=0,c=n.length;a<c;a++)n[a].remove();l.put(n)})}}if(-1<c.indexOf("."))return p(e,c,b);var h=u.get();h.fn=b;k?(k.isDirty=!0,k.callbacks.push(h)):(this._defineProperty(c),this.get(c,!0),this.watchers[c]=k={isDirty:!0,callbacks:[h]},g[c].copy&&(k.oldValues=new d(g[c].copy)));return{remove:a(function(){h.removed=!0;k.callbacks.splice(k.callbacks.indexOf(h),1);u.put(h)})}},dispatch:function(){this.timer=null;var a=
this.obj,c=this.notifications,b=this.watchers,d,e,f,k,n,h,m,p;this.notifications=this._notificationsPool.get();var u=l.get();for(e in c)if(k=c[e]){c[e]=null;u.length=0;m=this.get(e);p=b[e].oldValues;for(n=0;f=k[n];n++){if(!g.equals(f.oldValue,m))for(h=0;d=f.callbacks[h];h++)!d.isExecuting&&(!d.removed&&-1===u.indexOf(d))&&(u.push(d),d.isExecuting=!0,d.fn.call(a,m,f.oldValue,e,a),d.isExecuting=!1);q.put(f)}p&&p.reset();l.put(k)}this._notificationsPool.put(c);l.put(u)},_defineProperty:function(a,b){var d=
this.obj,e=this.properties,g=e[a],f,l=!1;if(g)return g;var h=k.getPropertyOwner(d,a);h&&(g=k(h).mixin.properties[a]);g||(n.call(this.obj,a)&&(f=this.obj[a],delete this.obj[a],l=!0),b?g=k.defineProperty(this.obj,a):(g=new c(a,{value:k.getPropertyOwnerValue(d,a)}),Object.defineProperty(d,a,g.getDescriptor())),l&&this.cache.set(a,f));return e[a]=g},_ensureType:function(a,c){c&&(a.type&&!(c instanceof a.type))&&(c=new a.type(c));return c}};return b})},"dojo/text":function(){define(["./_base/kernel","require",
"./has","./request"],function(b,h,l,m){var g;g=function(a,c,b){m(a,{sync:!!c,headers:{"X-Requested-With":null}}).then(b)};var e={},d=function(a){if(a){a=a.replace(/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,"");var c=a.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);c&&(a=c[1])}else a="";return a},c={},a={};b.cache=function(a,c,b){var l;"string"==typeof a?/\//.test(a)?(l=a,b=c):l=h.toUrl(a.replace(/\./g,"/")+(c?"/"+c:"")):(l=a+"",b=c);a=void 0!=b&&"string"!=typeof b?b.value:b;b=b&&b.sanitize;
if("string"==typeof a)return e[l]=a,b?d(a):a;if(null===a)return delete e[l],null;l in e||g(l,!0,function(a){e[l]=a});return b?d(e[l]):e[l]};return{dynamic:!0,normalize:function(a,c){var b=a.split("!"),d=b[0];return(/^\./.test(d)?c(d):d)+(b[1]?"!"+b[1]:"")},load:function(b,l,n){b=b.split("!");var h=1<b.length,m=b[0],t=l.toUrl(b[0]);b="url:"+t;var r=c,v=function(a){n(h?d(a):a)};m in e?r=e[m]:l.cache&&b in l.cache?r=l.cache[b]:t in e&&(r=e[t]);if(r===c)if(a[t])a[t].push(v);else{var x=a[t]=[v];g(t,!l.async,
function(c){e[m]=e[t]=c;for(var b=0;b<x.length;)x[b++](c);delete a[t]})}else v(r)}}})},"esri/widgets/Widget":function(){define(["dijit/_WidgetBase","../core/declare"],function(b,h){return h(b,{})})},"dojo/i18n":function(){define("./_base/kernel require ./has ./_base/array ./_base/config ./_base/lang ./_base/xhr ./json module".split(" "),function(b,h,l,m,g,e,d,c,a){l.add("dojo-preload-i18n-Api",1);d=b.i18n={};var k=/(^.*(^|\/)nls)(\/|$)([^\/]*)\/?([^\/]*)/,p=function(a,c,b,f){var d=[b+f];c=c.split("-");
for(var e="",g=0;g<c.length;g++)if(e+=(e?"-":"")+c[g],!a||a[e])d.push(b+e+"/"+f),d.specificity=e;return d},n={},u=function(a,c,f){f=f?f.toLowerCase():b.locale;a=a.replace(/\./g,"/");c=c.replace(/\./g,"/");return/root/i.test(f)?a+"/nls/"+c:a+"/nls/"+f+"/"+c},q=b.getL10nName=function(c,b,f){return a.id+"!"+u(c,b,f)},t=function(a,c,b,f,d,g){a([c],function(k){var l=e.clone(k.root||k.ROOT),h=p(!k._v1x&&k,d,b,f);a(h,function(){for(var a=1;a<h.length;a++)l=e.mixin(e.clone(l),arguments[a]);n[c+"/"+d]=l;l.$locale=
h.specificity;g()})})},r=function(a){var c=g.extraLocale||[],c=e.isArray(c)?c:[c];c.push(a);return c},v=function(a,d,g){if(l("dojo-preload-i18n-Api")){var h=a.split("*"),p="preload"==h[1];p&&(n[a]||(n[a]=1,z(h[2],c.parse(h[3]),1,d)),g(1));if(!(h=p))f&&s.push([a,d,g]),h=f;if(h)return}a=k.exec(a);var q=a[1]+"/",u=a[5]||a[4],v=q+u,h=(a=a[5]&&a[4])||b.locale||"",w=v+"/"+h;a=a?[h]:r(h);var x=a.length,A=function(){--x||g(e.delegate(n[w]))};m.forEach(a,function(a){var c=v+"/"+a;l("dojo-preload-i18n-Api")&&
y(c);n[c]?A():t(d,v,q,u,a,A)})};if(l("dojo-unit-tests"))var x=d.unitTests=[];l("dojo-preload-i18n-Api");var w=d.normalizeLocale=function(a){a=a?a.toLowerCase():b.locale;return"root"==a?"ROOT":a},f=0,s=[],z=d._preloadLocalizations=function(a,c,d,g){function k(a,c){g([a],c)}function l(a,c){for(var b=a.split("-");b.length;){if(c(b.join("-")))return;b.pop()}c("ROOT")}function p(){for(--f;!f&&s.length;)v.apply(null,s.shift())}function r(b){b=w(b);l(b,function(d){if(0<=m.indexOf(c,d)){var s=a.replace(/\./g,
"/")+"_"+d;f++;k(s,function(a){for(var c in a){var k=a[c],s=c.match(/(.+)\/([^\/]+)$/),m;if(s){m=s[2];s=s[1]+"/";k._localized=k._localized||{};var r;if("ROOT"===d){var q=r=k._localized;delete k._localized;q.root=k;n[h.toAbsMid(c)]=q}else r=k._localized,n[h.toAbsMid(s+m+"/"+d)]=k;d!==b&&function(a,c,d,k){var s=[],m=[];l(b,function(b){k[b]&&(s.push(h.toAbsMid(a+b+"/"+c)),m.push(h.toAbsMid(a+c+"/"+b)))});s.length?(f++,g(s,function(){for(var f=0;f<s.length;f++)d=e.mixin(e.clone(d),arguments[f]),n[m[f]]=
d;n[h.toAbsMid(a+c+"/"+b)]=e.clone(d);p()})):n[h.toAbsMid(a+c+"/"+b)]=d}(s,m,k,r)}}p()});return!0}return!1})}g=g||h;r();m.forEach(b.config.extraLocale,r)},y=function(){},A={},B=new Function("__bundle","__checkForLegacyModules","__mid","__amdValue","var define \x3d function(mid, factory){define.called \x3d 1; __amdValue.result \x3d factory || mid;},\t   require \x3d function(){define.called \x3d 1;};try{define.called \x3d 0;eval(__bundle);if(define.called\x3d\x3d1)return __amdValue;if((__checkForLegacyModules \x3d __checkForLegacyModules(__mid)))return __checkForLegacyModules;}catch(e){}try{return eval('('+__bundle+')');}catch(e){return e;}"),
y=function(a){for(var c,f=a.split("/"),d=b.global[f[0]],e=1;d&&e<f.length-1;d=d[f[e++]]);d&&((c=d[f[e]])||(c=d[f[e].replace(/-/g,"_")]),c&&(n[a]=c));return c};d.getLocalization=function(a,c,b){var f;a=u(a,c,b);v(a,h,function(a){f=a});return f};l("dojo-unit-tests")&&x.push(function(a){a.register("tests.i18n.unit",function(a){var c;c=B("{prop:1}",y,"nonsense",A);a.is({prop:1},c);a.is(void 0,c[1]);c=B("({prop:1})",y,"nonsense",A);a.is({prop:1},c);a.is(void 0,c[1]);c=B("{'prop-x':1}",y,"nonsense",A);
a.is({"prop-x":1},c);a.is(void 0,c[1]);c=B("({'prop-x':1})",y,"nonsense",A);a.is({"prop-x":1},c);a.is(void 0,c[1]);c=B("define({'prop-x':1})",y,"nonsense",A);a.is(A,c);a.is({"prop-x":1},A.result);c=B("define('some/module', {'prop-x':1})",y,"nonsense",A);a.is(A,c);a.is({"prop-x":1},A.result);c=B("this is total nonsense and should throw an error",y,"nonsense",A);a.is(c instanceof Error,!0)})});return e.mixin(d,{dynamic:!0,normalize:function(a,c){return/^\./.test(a)?c(a):a},load:v,cache:n,getL10nName:q})})},
"esri/core/accessorSupport/chainWatch":function(){define(["dojo/has","../lang","./once"],function(b,h,l){var m=function(b,c,a){this._hdl=this._obj=null;this.name=b;this.callback=c;this.next=a;this.handler=this.handler.bind(this)};m.prototype={handler:function(b,c,a,e){this.next&&(this.next.obj=b);this.name===a&&this.callback(b,c,a,e)},remove:function(){this.obj=null}};Object.defineProperty(m.prototype,"obj",{get:function(){return this._obj},set:function(b){this._hdl&&(this._hdl.remove(),this._hdl=
null);if((this._obj=b)&&b._accessorProps)this._hdl=b._accessorProps.watch(this.name,this.handler);this.next&&(this.next.obj=null==b?b:b[this.name])}});var g=function(b,c,a){Array.isArray(c)||(c=[c]);return 0<c.length?(c=new m(c[0],a,g(null,c.slice(1),a)),c.obj=b,c):null},e=function(b,c,a){if(b)return b=b[c[a]],a===c.length-1?b:e(b,c,++a)};return function(b,c,a){var k=c.split("."),m=e(b,k,0),n=g(b,k,function(){var g=e(b,k,0);h.equals(m,g)||(a.call(b,g,m,c,b),m=g)});return{remove:l(function(){n.remove();
n=null})}}})},"esri/portal/PortalRating":function(){define(["../core/declare","dojo/_base/lang"],function(b,h){return b([],{declaredClass:"esri.arcgis.PortalRating",constructor:function(b){h.mixin(this,b);this.url=this.item.itemUrl+"/rating";this.created=this.created?new Date(this.created):null}})})},"esri/renderers/ClassBreaksRenderer":function(){define("../core/declare dojo/_base/array dojo/_base/lang ../core/lang ../symbols/support/jsonUtils ./Renderer".split(" "),function(b,h,l,m,g,e){return b(e,
{declaredClass:"esri.renderer.ClassBreaksRenderer",constructor:function(b,c){this.breaks=[];this._symbols={};this.infos=[];this.isMaxInclusive=!0;if(b&&!b.declaredClass){var a=b;this.attributeField=a.field;this.defaultSymbol=(b=a.defaultSymbol)&&(b.declaredClass?b:g.fromJSON(b));this.backgroundFillSymbol=(b=a.backgroundFillSymbol)&&(b.declaredClass?b:g.fromJSON(b));this._copy(["defaultLabel","classificationMethod:rest","normalizationType:rest","normalizationField","normalizationTotal"],a,this);var e=
a.minValue;(a=a.classBreakInfos)&&(a[0]&&m.isDefined(a[0].classMaxValue))&&h.forEach(a,function(a){var c=a.classMaxValue;a.minValue=e;e=a.maxValue=c},this);h.forEach(a,this._addBreakInfo,this)}else this.defaultSymbol=b,this.attributeField=c},attributeField:null,backgroundFillSymbol:null,classificationMethod:null,defaultSymbol:null,infos:null,isMaxInclusive:null,addBreak:function(b,c,a){b=l.isObject(b)?b:{minValue:b,maxValue:c,symbol:a};this._addBreakInfo(b)},removeBreak:function(b,c){var a,e=this.breaks,
g,l=e.length,h=this._symbols;for(g=0;g<l;g++)if(a=e[g],a[0]==b&&a[1]==c){e.splice(g,1);delete h[b+"-"+c];this.infos.splice(g,1);break}},clearBreaks:function(){this.breaks=[];this._symbols={};this.infos=[]},getBreakIndex:function(b){var c=this.attributeField,a=b.attributes,e=this.breaks,g=e.length,n=this.isMaxInclusive;if(l.isFunction(c))b=c(b);else{b=parseFloat(a[c]);var c=this.normalizationType,h;c&&(h=parseFloat(this.normalizationTotal),a=parseFloat(a[this.normalizationField]),"log"===c?b=Math.log(b)*
Math.LOG10E:"percent-of-total"===c&&!isNaN(h)?b=100*(b/h):"field"===c&&!isNaN(a)&&(b/=a))}for(a=0;a<g;a++)if(c=e[a],c[0]<=b&&(n?b<=c[1]:b<c[1]))return a;return-1},getBreakInfo:function(b){b=this.getBreakIndex(b);return-1!==b?this.infos[b]:null},getSymbol:function(b){return(b=this.breaks[this.getBreakIndex(b)])?this._symbols[b[0]+"-"+b[1]]:this.defaultSymbol},setMaxInclusive:function(b){this.isMaxInclusive=b},_normalizationTypeEnums:[["field","esriNormalizeByField"],["log","esriNormalizeByLog"],["percent-of-total",
"esriNormalizeByPercentOfTotal"]],_classificationMethodEnums:[["natural-breaks","esriClassifyNaturalBreaks"],["equal-interval","esriClassifyEqualInterval"],["quantile","esriClassifyQuantile"],["standard-deviation","esriClassifyStandardDeviation"],["geometrical-interval","esriClassifyGeometricalInterval"]],_copy:function(b,c,a){h.forEach(b,function(b){var d=b.split(":"),e,g,l;1<d.length&&(b=d[0],e=this["_"+b+"Enums"],"rest"===d[1]?(g="1",l="0"):"sdk"===d[1]&&(g="0",l="1"));d=c[b];if(void 0!==d&&(a[b]=
d,e&&g)){var h,m=e.length;for(h=0;h<m;h++)if(e[h][g]===d){a[b]=e[h][l];break}}},this)},_addBreakInfo:function(b){var c=b.minValue,a=b.maxValue;this.breaks.push([c,a]);this.infos.push(b);var e=b.symbol;e&&!e.declaredClass&&(b.symbol=g.fromJSON(e));this._symbols[c+"-"+a]=b.symbol},collectRequiredFields:function(b){this.inherited(arguments);[this.attributeField,this.normalizationField].forEach(function(c){c&&(b[c]=!0)})},toJson:function(){try{throw Error("toJson is deprecated, use toJSON instead");}catch(b){console.warn(b.stack)}return this.toJSON()},
toJSON:function(){var b=this.infos||[],c=m.fixJson,a=b[0]&&b[0].minValue,e=this.backgroundFillSymbol,b=l.mixin(this.inherited(arguments),{type:"classBreaks",field:this.attributeField,defaultSymbol:this.defaultSymbol&&this.defaultSymbol.toJSON(),backgroundFillSymbol:e&&e.toJSON(),minValue:-Infinity===a?-Number.MAX_VALUE:a,classBreakInfos:h.map(b,function(a){a=l.mixin({},a);a.symbol=a.symbol&&a.symbol.toJSON();a.classMaxValue=Infinity===a.maxValue?Number.MAX_VALUE:a.maxValue;delete a.minValue;delete a.maxValue;
return c(a)})});this._copy(["defaultLabel","classificationMethod:sdk","normalizationType:sdk","normalizationField","normalizationTotal"],this,b);b.hasOwnProperty("normalizationType")&&!b.normalizationType&&delete b.normalizationType;b.hasOwnProperty("classificationMethod")&&!b.classificationMethod&&delete b.classificationMethod;return c(b)}})})},"esri/identity/Credential":function(){define(["./IdentityManagerBase"],function(b){return b.Credential})},"esri/core/Collection":function(){define("./declare dojo/on dojo/aspect ./ArrayPool ./Accessor ./Evented ./Scheduler".split(" "),
function(b,h,l,m,g,e,d){var c=function(){},a=l.after,k=0,p=b([g,e],{constructor:function(){this.id=(new Date).getTime().toString(16)+"-collection"+k++;this._chgListeners=[];this._timer=this._notification=null;this._items=[];this._dispatchColChange=this._dispatchColChange.bind(this)},normalizeCtorArgs:function(a){return!a?{}:Array.isArray(a)||a.isInstanceOf&&a.isInstanceOf(p)?{items:a}:a},onchange:null,length:0,_itemsGetter:function(){return this._items.concat()},_itemsSetter:function(a){a&&(a=a.isInstanceOf&&
a.isInstanceOf(p)?a.getAll():Array.isArray(a)?a.slice():[]);this._splice(0,this.length,a);return this._items},on:function(b,d){return h.parse(this,b,d,function(b,e){if("change"===e){var g={removed:!1,callback:d};b._chgListeners.push(g);return{remove:function(){this.remove=c;g.removed=!0;b._chgListeners.splice(b._chgListeners.indexOf(g),1)}}}return a(b,"on"+e,d,!0)})},hasEventListener:function(a){return"change"===a?0<this._chgListeners.length:this.inherited(arguments)},addItem:function(a,c){c=this.getNextIndex(c);
this._splice(c,0,[a])},addItems:function(a,c){a&&a.getAll&&(a=a.getAll());c=this.getNextIndex(c);this._splice(c,0,a)},clear:function(){return this._splice(0,this.length)},clone:function(){return new p({items:this._items})},drain:function(a,c){var b=this.clear(),d,e;d=0;for(e=b.length;d<e;d++)a.call(c,b[d])},filter:function(a,c){return new p({items:this._items.filter(a,c)})},find:function(a,c){if("function"!==typeof a)throw new TypeError(a+" is not a function");var b=this._items,d=this.length,e,g;
for(g=0;g<d;g++)if(e=b[g],a.call(c,e,g,b))return e},findIndex:function(a,c){if("function"!==typeof a)throw new TypeError(a+" is not a function");var b=this._items,d=this.length,e,g;for(g=0;g<d;g++)if(e=b[g],a.call(c,e,g,b))return g;return-1},forEach:function(a,c){return this._items.forEach(a,c)},getAll:function(){return this._items.slice()},getItemAt:function(a){return this._items[a]},getNextIndex:function(a){var c=this.length;a=null==a?c:a;0>a?a=0:a>c&&(a=c);return a},indexOf:function(a,c){return this._items.indexOf(a,
c)},map:function(a,c){return new p({items:this._items.map(a,c)})},moveItem:function(a,c){var b=this.indexOf(a),d=this._items.length-1;-1!==b&&(c=null==c?d:c,0>c?c=0:c>d&&(c=d),b!==c&&(this._splice(b,1),this._splice(c,0,[a])))},reduce:function(a,c){return this._items.reduce(a,c)},reduceRight:function(a,c){return this._items.reduceRight(a,c)},removeItem:function(a){a=this.indexOf(a);return this.removeItemAt(a)},removeItemAt:function(a){if(0<=a&&a<this.length)return this._splice(a,1)[0]},removeItems:function(a){if(!a||
!a.length)return a;a&&a.getAll&&(a=a.getAll());var c=this._items,b=[],d,e,g;d=0;for(e=a.length;d<e;d++)g=a[d],g=c.indexOf(g),-1<g&&b.push(this._splice(g,1)[0]);return b},some:function(a,c){return this._items.some(a,c)},_splice:function(a,c,b){var e;this.hasEventListener("change")&&!this._notification&&(this._notification={listeners:this._chgListeners.slice(),items:this._items.slice(),changes:[]},this._timer||(this._timer=d.schedule(this._dispatchColChange)));c&&(e=this._items.splice(a,c),this._notifyColChange(null,
e));b&&b.length&&(Array.prototype.splice.apply(this._items,[a,0].concat(b)),this._notifyColChange(b,null));this.length=this._items.length;return e||[]},_notifyColChange:function(a,c){this.hasEventListener("change")&&this._notification.changes.push({added:a,removed:c})},_dispatchColChange:function(){this._timer&&(this._timer.remove(),this._timer=null);if(this._notification){var a=this._notification,c=a.items,b=a.changes,d=m.get(),e=m.get(),g=m.get(),k,l,f,h,p,y;this._notification=null;k=0;for(l=b.length;k<
l;k++){h=b[k];if(h.added){p=h.added;if(0<e.length)for(f=p.length-1;0<=f;f--)y=e.indexOf(p[f]),-1!==y&&(p.splice(f,1),g.push(e.splice(y,1)[0]));d=d.concat(p)}if(h.removed){p=h.removed;if(0<d.length||0<g.length)for(f=p.length-1;0<=f;f--)y=d.indexOf(p[f]),-1!==y?(d.splice(y,1),p.splice(f,1)):(y=g.indexOf(p[f]),-1!==y&&g.splice(y,1));e=e.concat(p)}}g=g.filter(function(a){return c.indexOf(a)!==this._items.indexOf(a)},this);if(a.listeners&&(d.length||e.length||g.length)){h={target:this,added:d,removed:e,
moved:g};k=0;for(l=a.listeners.length;k<l;k++)b=a.listeners[k],b.removed||b.callback.call(this,h)}m.put(d);m.put(e);m.put(g)}}});return p})},"esri/views/3d/webgl-engine/lib/NearFarCalc":function(){define(["./Util","./gl-matrix"],function(b,h){function l(){for(var a=0,c=0,b=0,l=0,h=0,q=0,t=0,r=0,v=0,x=0,w=0,f=0,s=0,z=0,y=0,A=0,B=0,E=0,F=0,G=0,Q,M,T=new m,K=Array(6),C=0;6>C;++C)K[C]=e.create();var D=g.create();this.init=function(d,e,g){d.computeFrustumPlanes(K);d=d.viewMatrix;a=K[0][0];c=K[0][1];b=
K[0][2];l=K[0][3];h=K[1][0];q=K[1][1];t=K[1][2];r=K[1][3];v=K[2][0];x=K[2][1];w=K[2][2];f=K[2][3];s=K[3][0];z=K[3][1];y=K[3][2];A=K[3][3];B=d[2];E=d[6];F=d[10];G=d[14];Q=e;M=g;T.init(g)};this.includeNearBoundingInfoRec=function(e,g){var m=e.getBSRadius(),C=e.getCenter();d.multiplyVec3(g,C,D);var C=g[2]*g[2]+g[6]*g[6]+g[10]*g[10],C=Math.sqrt(Math.max(Math.max(g[0]*g[0]+g[4]*g[4]+g[8]*g[8],g[1]*g[1]+g[5]*g[5]+g[9]*g[9]),C)),K=D[0],N=D[1],H=D[2],m=m*C;if(!(a*K+c*N+b*H+l>m)&&(!(h*K+q*N+t*H+r>m)&&!(v*
K+x*N+w*H+f>m)&&!(s*K+z*N+y*H+A>m))&&(C=B*K+E*N+F*H+G,K=C+m,!(2>-(C-m))&&!(-K>=M.bestNear)))if(-K>M.bestNear2)M.bestNear=-K;else{if(100<m&&(m=e.getChildren(),void 0!==m)){for(C=0;8>C;++C)void 0!==m[C]&&this.includeNearBoundingInfoRec(m[C],g);return}T.intersectFrustumAABB(Q,g,e.getBBMin(),e.getBBMax())}};this.includeFarBoundingInfoRec=function(e,g){var m=e.getBSRadius(),C=e.getCenter();d.multiplyVec3(g,C,D);var C=g[2]*g[2]+g[6]*g[6]+g[10]*g[10],C=Math.sqrt(Math.max(Math.max(g[0]*g[0]+g[4]*g[4]+g[8]*
g[8],g[1]*g[1]+g[5]*g[5]+g[9]*g[9]),C)),K=D[0],N=D[1],H=D[2],m=m*C;if(!(a*K+c*N+b*H+l>m)&&(!(h*K+q*N+t*H+r>m)&&!(v*K+x*N+w*H+f>m)&&!(s*K+z*N+y*H+A>m))&&(C=B*K+E*N+F*H+G-m,!(-C<=M.bestFar)))if(-C<M.bestFar2)M.bestFar=-C;else{if(100<m&&(m=e.getChildren(),void 0!==m)){for(C=0;8>C;++C)void 0!==m[C]&&this.includeFarBoundingInfoRec(m[C],g);return}T.intersectFrustumAABB(Q,g,e.getBBMin(),e.getBBMax())}}}function m(){for(var a=[[0,1,3],[2,3,1],[1,5,2],[6,2,5],[5,4,6],[7,6,4],[4,0,7],[3,7,0],[3,2,7],[6,7,2],
[4,5,0],[1,0,5]],c,g=Array(8),l=0;8>l;++l)g[l]=e.create();var h=d.create();this.init=function(a){c=a};this.intersectFrustumAABB=function(b,e,l,n){d.multiply(b,e,h);for(b=0;8>b;++b){e=g[b];var w=0===b||3===b||4===b||7===b?l[0]:n[0],f=0===b||1===b||4===b||5===b?l[1]:n[1],s=4>b?l[2]:n[2];e[0]=h[0]*w+h[4]*f+h[8]*s+h[12];e[1]=h[1]*w+h[5]*f+h[9]*s+h[13];e[2]=h[2]*w+h[6]*f+h[10]*s+h[14];e[3]=h[3]*w+h[7]*f+h[11]*s+h[15]}for(b=0;12>b;++b){e=m(g[a[b][0]],g[a[b][1]],g[a[b][2]]);w=!0;for(l=0;l<e.length;++l)if(n=
e[l][3],2<=n){w=!1;break}if(!w)for(l=0;l<e.length;++l)n=e[l][3],n<c.bestNear&&(c.bestNear=n),n>c.bestFar&&(c.bestFar=n)}};var m=function(a,c,d){var g=function(a,c){if(0===c)return a[0]>=-a[3];if(1===c)return a[1]>=-a[3];if(2===c)return a[0]<=a[3];if(3===c)return a[1]<=a[3];b.assert(!1)},k=function(a,c,b){var f=0;0===b?f=(-a[3]-a[0])/(c[0]-a[0]+c[3]-a[3]):1===b?f=(-a[3]-a[1])/(c[1]-a[1]+c[3]-a[3]):2===b?f=(a[3]-a[0])/(c[0]-a[0]-c[3]+a[3]):3===b&&(f=(a[3]-a[1])/(c[1]-a[1]-c[3]+a[3]));return e.lerp(a,
c,f,e.create())};a=[a,c,d];for(c=0;4>c;++c){d=a;a=[];for(var f=0;f<d.length;++f){var l=d[f],h=d[(f+1)%d.length];g(h,c)?(g(l,c)||a.push(k(l,h,c)),a.push(h)):g(l,c)&&a.push(k(l,h,c))}}return a}}var g=h.vec3,e=h.vec4d,d=h.mat4,c=h.mat4d;return function(){var a=[],b=[],d=[],e=[],g=[],h=new l,m=c.create();this.calculateSceneNearFar=function(l,v,x){c.multiply(l.projectionMatrix,l.viewMatrix,m);var w=l.viewMatrix,f=w[2],s=w[6],z=w[10],y=w[14],w=0,A,B;for(A in v)if(B=v[A],!(null!=B.displayedIndexRange&&0===
B.displayedIndexRange.length)&&B.castShadow&&x.get(B.idx)){var E=B.bsRadius,F=B.center,G=f*F[0]+s*F[1]+z*F[2]+y,F=G-E,E=G+E;a[w]=B;b[w]=-E;d[w]=-F;++w}B=Number.MAX_VALUE;f=-Number.MAX_VALUE;if(0===w)return[B,f];for(A=0;A<w;++A)b[A]>f&&(f=b[A]),2<b[A]&&d[A]<B&&(B=d[A]);s=Math.max(0.5*B,2);z=2*f;for(A=x=v=0;A<w;++A)b[A]<B&&(b[A]>=s?B=b[A]:e[v++]=A),d[A]>f&&(d[A]<=z?f=d[A]:g[x++]=A);if(0===v&&0===x)return[B,f];e.length=v;g.length=x;e.sort(function(a,c){return b[a]<b[c]?-1:b[a]>b[c]?1:0});g.sort(function(a,
c){return d[a]<d[c]?1:d[a]>d[c]?-1:0});w={bestNear:B,bestFar:f,bestNear2:s,bestFar2:z};h.init(l,m,w);for(A=0;A<v;++A)b[e[A]]<w.bestNear&&(B=a[e[A]],l=B.boundingInfo,h.includeNearBoundingInfoRec(l,B.transformation));for(A=0;A<x;++A)d[g[A]]>w.bestFar&&(B=a[g[A]],l=B.boundingInfo,h.includeFarBoundingInfoRec(l,B.transformation));return[w.bestNear,w.bestFar]}}})},"esri/views/3d/webgl-engine/lib/IdGen":function(){define([],function(){return function(){var b={};this.gen=function(h){void 0===h&&(h="a");var l=
b[h];if(void 0===l)return b[h]=0,h;for(;;){var m=h+"_"+l++;if(void 0===b[m])return b[h]=l,b[m]=0,m}}}})},"esri/views/layers/LayerView":function(){define(["../../core/declare","dojo/_base/lang","../../core/Accessor","../../core/Evented","../../core/Promise"],function(b,h,l,m,g){var e=0;return b([l,m,g],{declaredClass:"esri.views.layers.LayerView",classMetadata:{properties:{refreshTimer:{readOnly:!0,dependsOn:["suspended","layer.refreshInterval"]},suspended:{dependsOn:["view","visible","loaded","layer.visible",
"parent.suspended"],readOnly:!0},updating:{dependsOn:["suspended"]}}},constructor:function(){this.id=Date.now().toString(16)+"-layerview-"+e++;this._layerHandles=[];this.watch("suspended",this._suspendedWatcher.bind(this))},initialize:function(){this.addResolvingPromise(this.layer);this.then(h.hitch(this,function(b){this.loaded=!0}))},destroy:function(){this.layer=this.parent=null},layer:null,_layerSetter:function(b){var c=this._layerHandles;c.forEach(function(a){a.remove()});c.length=0;b&&c.push(b.on("refresh",
this.refresh.bind(this)));return b},loaded:!1,parent:null,_refreshTimerGetter:function(b){var c=this.suspended,a=this.get("layer.refreshInterval")||0;b&&(clearTimeout(b),b=null);!c&&a&&(b=setTimeout(this.refresh.bind(this),6E4*a));return b},suspended:!0,_suspendedGetter:function(){return!this.canResume()},_updating:!1,_updatingGetter:function(){return!(!this._updating||this.suspended)},_updatingSetter:function(b){this._updating=!!b},visible:!0,refresh:function(){},canResume:function(){return!this.get("parent.suspended")&&
this.view&&this.view.ready&&this.layer&&this.layer.loaded&&(this.hasOwnProperty("visible")?this.visible:this.layer.visible)||!1},_suspendedWatcher:function(b){b?this.emit("suspend"):this.emit("resume")}})})},"esri/layers/mixins/ImageServiceLayerMixin":function(){define("../../core/declare dojo/_base/lang dojo/_base/Deferred dojo/_base/array dojo/_base/config dojo/io-query ../../config ../../core/lang ../../request ../../core/deferredUtils ../../core/urlUtils ../../geometry/Extent ../../geometry/Point ../../geometry/Polygon ../support/MosaicRule ../support/RasterFunction ../support/DimensionalDefinition ../support/Raster ../support/PixelBlock ../support/TimeInfo ../support/Field ../pixelFilters/VectorFieldPixelFilter ../../Graphic ../../tasks/ImageServiceIdentifyTask ../../tasks/support/ImageServiceIdentifyParameters".split(" "),
function(b,h,l,m,g,e,d,c,a,k,p,n,u,q,t,r,v,x,w,f,s,z,y,A,B){return b(null,{declaredClass:"esri.layers.mixins.ImageServiceLayerMixin",_eventMap:{"rendering-change":!0,"mosaic-rule-change":!0},constructor:function(a,c){},_initialize:function(c,b){this._url=p.urlToObject(c);this.raster=new x(c);this.popupTemplate=b&&b.popupTemplate;var f=b&&b.imageServiceParameters;this.format=f&&f.format;this.compressionTolerance=f&&f.compressionTolerance?f.compressionTolerance:0.01;this.interpolation=f?f.interpolation:
null;this.compressionQuality=f?f.compressionQuality:null;this.bandIds=f?f.bandIds:null;this.mosaicRule=f?f.mosaicRule:null;this.renderingRule=f?f.renderingRule:null;this.useMapDimensionValue=b&&b.hasOwnProperty("useMapDimensionValue")?!!b.useMapDimensionValue:!0;this.activeMapDimensions=b&&b.activeMapDimensions;this._params=h.mixin({},this._url.query,{f:"image",interpolation:this.interpolation,format:this.format,compressionQuality:this.compressionQuality,bandIds:this.bandIds?this.bandIds.join(","):
null},f?f.toJSON():{});this.pixelFilter=b&&b.pixelFilter;this.originalPixelData=this.pixelData=null;this.hasDataChanged=!0;this._requestDataHandler=h.hitch(this,this._requestDataHandler);this._requestDataErrorHandler=h.hitch(this,this._requestDataErrorHandler);this._initLayer=h.hitch(this,this._initLayer);this._queryVisibleRastersHandler=h.hitch(this,this._queryVisibleRastersHandler);this._visibleRasters=[];this._rasterAttributeTableFields=[];this._rasterAttributeTableFeatures=[];this._loadCallback=
b&&b.loadCallback;(f=b&&b.resourceInfo)?this._initLayer(f):a({url:this._url.path,content:h.mixin({f:"json"},this._url.query),callbackParamName:"callback",load:this._initLayer,error:this._errorHandler})},disableClientCaching:!1,_initLayer:function(a,b){if(!(null===a||void 0===a)){this._findCredential();(this.credential&&this.credential.ssl||a&&a._ssl)&&this._useSSL();var d=this.minScale,e=this.maxScale;h.mixin(this,a);this.minScale=d;this.maxScale=e;this.initialExtent=this.fullExtent=this.extent=n.fromJSON(a.extent);
this.spatialReference=this.initialExtent.spatialReference;this.pixelSizeX=parseFloat(this.pixelSizeX);this.pixelSizeY=parseFloat(this.pixelSizeY);for(var g=this.minValues,k=this.maxValues,l=this.meanValues,m=this.stdvValues,p=this.bands=[],d=0,e=this.bandCount;d<e;d++)p[d]={min:g[d],max:k[d],mean:l[d],stddev:m[d]};this.timeInfo=(d=this.timeInfo)&&d.timeExtent?new f(d):null;e=this.fields=[];if(g=a.fields)for(d=0;d<g.length;d++)e.push(new s(g[d]));this.version=a.currentVersion;this.version||(this.version=
"fields"in a||"objectIdField"in a||"timeInfo"in a?10:9.3);c.isDefined(a.minScale)&&!this._hasMin&&this.setMinScale(a.minScale);c.isDefined(a.maxScale)&&!this._hasMax&&this.setMaxScale(a.maxScale);d={};a.defaultMosaicMethod?(d.method=a.defaultMosaicMethod,d.operation=a.mosaicOperator,d.sortField=a.sortField,d.sortValue=a.sortValue):d.method=t.METHOD_NONE;this.defaultMosaicRule=new t(d);this.defaultMosaicRule.ascending=!0;this._setDefaultRenderingRule(!0);this._isScientificData()&&(!this.mosaicRule||
this.mosaicRule&&!this.mosaicRule.multidimensionalDefinition)&&this._setDefaultMultidimensionalDefinition(!0);10<this.version&&this.hasRasterAttributeTable&&this.getRasterAttributeTable().then(h.hitch(this,function(a){a&&(a.features&&0<a.features.length)&&(this._rasterAttributeTableFeatures=h.clone(a.features));a&&(a.fields&&0<a.fields.length)&&(this._rasterAttributeTableFields=h.clone(a.fields))}));this._isVectorData()&&!c.isDefined(this.pixelFilter)&&(this.vectorFieldPixelFilter=new z,this.vectorFieldPixelFilter.isDataUV=
"esriImageServiceDataTypeVector-UV"===this.serviceDataType,this.pixelFilter=this.vectorFieldPixelFilter.computeMagnitudeAndDirection,this.getKeyProperties().then(h.hitch(this,this._setFlowRepresentation)));this.loaded=!0;this.onLoad(this);if(d=this._loadCallback)delete this._loadCallback,d(this)}},getKeyProperties:function(){var c=this._url.path+"/keyProperties",b=new l(k._dfdCanceller);10<this.version?(b._pendingDfd=a({url:c,content:{f:"json"},handleAs:"json",callbackParamName:"callback"}),b._pendingDfd.then(function(a){b.callback(a)},
function(a){b.errback(a)})):(c=Error("Layer does not have key properties"),c.log=g.isDebug,b.errback(c));return b},getRasterAttributeTable:function(){var c=this._url.path+"/rasterAttributeTable",b=new l(k._dfdCanceller);10<this.version&&this.hasRasterAttributeTable?(b._pendingDfd=a({url:c,content:{f:"json"},handleAs:"json",callbackParamName:"callback"}),b._pendingDfd.then(function(a){b.callback(a)},function(a){b.errback(a)})):(c=Error("Layer does not support raster attribute table"),c.log=g.isDebug,
b.errback(c));return b},_getRasterAttributeTableFeatures:function(){var a=new l;if(this._rasterAttributeTableFeatures&&0<this._rasterAttributeTableFeatures.length)return a.resolve(this._rasterAttributeTableFeatures),a;if(10<this.version&&this.hasRasterAttributeTable)return a=this.getRasterAttributeTable(),a.then(h.hitch(this,function(a){a&&(a.features&&0<a.features.length)&&(this._rasterAttributeTableFeatures=h.clone(a.features))})),a;a.resolve(this._rasterAttributeTableFeatures);return a},getCustomRasterFields:function(a){var b=
a?a.rasterAttributeTableFieldPrefix:"",f={name:"Raster.ItemPixelValue",alias:"Item Pixel Value",domain:null,editable:!1,length:50,type:"esriFieldTypeString"};a=this.fields?h.clone(this.fields):[];var d=a.length;a[d]={name:"Raster.ServicePixelValue",alias:"Service Pixel Value",domain:null,editable:!1,length:50,type:"esriFieldTypeString"};if(this.capabilities&&-1<this.capabilities.toLowerCase().indexOf("catalog")||this.fields&&0<this.fields.length)a[d+1]=f;if(c.isDefined(this.pixelFilter)&&("esriImageServiceDataTypeVector-UV"===
this.serviceDataType||"esriImageServiceDataTypeVector-MagDir"===this.serviceDataType))a[d+2]={name:"Raster.Magnitude",alias:"Magnitude",domain:null,editable:!1,type:"esriFieldTypeDouble"},a[d+3]={name:"Raster.Direction",alias:"Direction",domain:null,editable:!1,type:"esriFieldTypeDouble"};this._rasterAttributeTableFields&&0<this._rasterAttributeTableFields.length&&(f=m.filter(this._rasterAttributeTableFields,function(a){return"esriFieldTypeOID"!==a.type&&"value"!==a.name.toLowerCase()}),f=m.map(f,
function(a){var c=h.clone(a);c.name=b+a.name;return c}),a=a.concat(f));return a},_prepareGetImageParameters:function(a,b,f,d){d=c.isDefined(d)?d:this._params;var e=a.spatialReference.wkid||JSON.stringify(a.spatialReference.toJSON());delete d._ts;h.mixin(d,{bbox:a.xmin+","+a.ymin+","+a.xmax+","+a.ymax,imageSR:e,bboxSR:e,size:b+","+f},this.disableClientCaching?{_ts:(new Date).getTime()}:{});delete d.compressionTolerance;d.format&&"LERC"===d.format.toUpperCase()&&(d.compressionTolerance=this.compressionTolerance);
d.token=this._getToken()},getImageUrl:function(b,f,g,k,l){l=c.isDefined(l)?l:this._params;this._prepareGetImageParameters(b,f,g,l);b=h.clone(l);this._cleanupRequestParams(b);f=this._url.path+"/exportImage?";g=p.addProxy(f+e.objectToQuery(h.mixin(b,{f:"image"})));var n=b.token;g.length>d.request.maxUrlLength||this.useMapImage?this._jsonRequest=a({url:f,content:h.mixin(b,{f:"json"}),callbackParamName:"callback",load:function(a,c){var b=a.href;n&&(b+=-1===b.indexOf("?")?"?token\x3d"+n:"\x26token\x3d"+
n);k(p.addProxy(b))},error:this._errorHandler}):k(g)},onRenderingChange:function(){},onMosaicRuleChange:function(){},setInterpolation:function(a,c){this.interpolation=this._params.interpolation=a;c||this.refresh(!0)},setCompressionQuality:function(a,c){this.compressionQuality=this._params.compressionQuality=a;c||this.refresh(!0)},setCompressionTolerance:function(a,c){this.compressionTolerance=a;c||this.refresh(!0)},setBandIds:function(a,c){var b=!1;this.bandIds!==a&&(b=!0);this.bandIds=a;this._params.bandIds=
a.join(",");if(b&&!c)this.onRenderingChange();c||this.refresh(!0)},setDefaultBandIds:function(a){this.bandIds=this._params.bandIds=null;a||this.refresh(!0)},setDisableClientCaching:function(a){this.disableClientCaching=a},setMosaicRule:function(a,c){var b=!1;this.mosaicRule!==a&&(b=!0);this.mosaicRule=a;this._params.mosaicRule=JSON.stringify(a.toJSON());if(b&&!c)this.onMosaicRuleChange();c||this.refresh(!0)},setRenderingRule:function(a,c){var b=!1;this.renderingRule!==a&&(b=!0);this.renderingRule=
a;this._params.renderingRule=a?JSON.stringify(a.toJSON()):null;if(b&&!c)this.onRenderingChange();c||this.refresh(!0)},setImageFormat:function(a,c){this.format=this._params.format=a;c||this.refresh(!0)},setDefinitionExpression:function(a,c){var b=this.mosaicRule?this.mosaicRule.toJSON():{};this.mosaicRule||(this.defaultMosaicRule?b=this.defaultMosaicRule.toJSON():b.method=t.METHOD_NONE);b.where=a;b=new t(b);this.setMosaicRule(b,c);return this},getDefinitionExpression:function(){return this.mosaicRule?
this.mosaicRule.where:null},setPixelFilter:function(a){this.pixelFilter=a},getPixelData:function(a){return a?this.originalPixelData:this.pixelData},redraw:function(){this.hasDataChanged=!1;this._setPixelData(this.originalPixelData)},queryVisibleRasters:function(a,c,b,f){var d=this._map,e=k._fixDfd(new l(k._dfdCanceller));this._visibleRasters=[];var g,h,n=!0,s;if(this.popupTemplate&&this.popupTemplate.info&&this.popupTemplate.info.fieldInfos&&0<this.popupTemplate.info.fieldInfos.length){n=!1;s=this.popupTemplate.info;
for(g=0;g<s.fieldInfos.length;g++)if((h=s.fieldInfos[g])&&"raster.servicepixelvalue"!==h.fieldName.toLowerCase()&&(h.visible||s.title&&-1<s.title.toLowerCase().indexOf(h.fieldName.toLowerCase()))){n=!0;break}}g=new B;g.geometry=a.geometry;g.returnGeometry=this._map.spatialReference.equals(this.spatialReference);g.returnCatalogItems=n;g.timeExtent=a.timeExtent;g.mosaicRule=this.mosaicRule?this.mosaicRule:null;g.renderingRule=this.renderingRule?this.renderingRule:null;d&&(a=new u((d.extent.xmax-d.extent.xmin)/
(2*d.width),(d.extent.ymax-d.extent.ymin)/(2*d.height),d.extent.spatialReference),g.pixelSize=a);var m=this;a=new A(this.url);(e._pendingDfd=a.execute(g)).then(function(a){m._queryVisibleRastersHandler(a,c,b,f,e)},function(a){m._resolve([a],null,f,e,!0)});return e},_queryVisibleRastersHandler:function(b,f,d,e,g){function k(){var a=this.getCustomRasterFields(f),b=this._getDomainFields(a),e=f?f.returnDomainValues:!1,r=f&&f.rasterAttributeTableFieldPrefix,q,t,z,u,v,y,x,A,B;this._getRasterAttributeTableFeatures().then(h.hitch(this,
function(a){for(q=0;q<p.length;q++){I=p[q];I.popupTemplate=this.popupTemplate;I._layer=this;if(l){t=l;s&&s.length>=q&&(z=s[q],t=z.replace(/ /gi,", "));I.attributes["Raster.ItemPixelValue"]=t;I.attributes["Raster.ServicePixelValue"]=l;if(this.pixelFilter){B=t.replace(" ","").split(",");var f=new w({height:1,width:1,pixelType:"F32",pixels:[],statistics:[]});m.forEach(B,function(a){f.addData({pixels:[a],statistics:{minValue:a,maxValue:a,noDataValue:null}})});this.pixelFilter({pixelBlock:f,extent:new n(0,
0,0,0,this._map.spatialReference)});if("esriImageServiceDataTypeVector-UV"===this.serviceDataType||"esriImageServiceDataTypeVector-MagDir"===this.serviceDataType)I.attributes["Raster.Magnitude"]=f.pixels[0][0],I.attributes["Raster.Direction"]=f.pixels[1][0]}if(a&&0<a.length&&(u=m.filter(a,function(a){if(a&&a.attributes)return a.attributes.hasOwnProperty("Value")?a.attributes.Value==t:a.attributes.VALUE==t}),0<u.length&&(v=h.clone(u[0]),r&&v))){A={};for(y in v.attributes)v.attributes.hasOwnProperty(y)&&
(x=r+y,A[x]=v.attributes[y]);v.attributes=A;I.attributes=h.mixin(I.attributes,v.attributes)}}e&&(b&&0<b.length)&&m.forEach(b,function(a){if(a){var b=I.attributes[a.name];c.isDefined(b)&&(b=this._getDomainValue(a.domain,b),c.isDefined(b)&&(I.attributes[a.name]=b))}},this);J.push(I);this._visibleRasters.push(I)}this._resolve([J,null,!0],null,d,g)}))}var l=b.value,s,p,r=0,t=0,z=this,u=this.objectIdField,v;if(b.catalogItems){e=0;var x,A,B=b.catalogItems.features.length;x=0;p=Array(B);s=Array(B);v=Array(B);
for(r=0;r<B;r++)-1<b.properties.Values[r].toLowerCase().indexOf("nodata")&&x++;x=B-x;for(r=0;r<B;r++)A=-1<b.properties.Values[r].toLowerCase().indexOf("nodata")?x++:e++,p[A]=b.catalogItems.features[r],s[A]=b.properties.Values[r],v[A]=p[A].attributes[u]}this._visibleRasters=[];var I;b=-1<l.toLowerCase().indexOf("nodata");l&&(!p&&!b)&&(u="ObjectId",p=[],I=new y(new n(this.fullExtent),null,{ObjectId:0}),p.push(I));var J=[];p?!this._map.spatialReference.equals(this.spatialReference)&&v&&0<v.length?a({url:this._url.path+
"/query",content:{f:"json",objectIds:v.join(","),returnGeometry:!0,outSR:JSON.stringify(z._map.spatialReference.toJSON()),outFields:u},handleAs:"json",callbackParamName:"callback",load:function(a){if(0===a.features.length)z._resolve([J,null,null],null,d,g);else{for(r=0;r<a.features.length;r++)for(t=0;t<p.length;t++)p[t].attributes[u]==a.features[r].attributes[u]&&(p[t].geometry=q.fromJSON(a.features[r].geometry),p[t].geometry.setSpatialReference(z._map.spatialReference));k.call(z)}},error:function(a){z._resolve([J,
null,null],null,d,g)}}):k.call(this):this._resolve([J,null,null],null,d,g)},getVisibleRasters:function(){var a=this._visibleRasters,c=[],b;for(b in a)a.hasOwnProperty(b)&&c.push(a[b]);return c},_getDomainFields:function(a){if(a){var c=[];m.forEach(a,function(a){if(a.domain){var b={};b.name=a.name;b.domain=a.domain;c.push(b)}});return c}},_getDomainValue:function(a,c){if(a&&a.codedValues){var b;m.some(a.codedValues,function(a){return a.code===c?(b=a.name,!0):!1});return b}},_requestData:function(a,
c,b){a=h.clone(a);var f=a._normalize(!0);this._prepareGetImageParameters(f,c,b);c=h.clone(this._params);this._cleanupRequestParams(c);c.extent=a;c={imageServiceParameters:c,nBands:Math.min(this.bandCount,3),pixelType:this.pixelType};this.raster.read(c,this._requestDataHandler,this._requestDataErrorHandler)},_requestDataHandler:function(a){this.originalPixelData=a;this.hasDataChanged=!0;this._setPixelData(a)},_setPixelData:function(a){a=this._clonePixelData(a);this.pixelFilter&&this.pixelFilter(a);
this.pixelData=a;this._drawPixelData()},_drawPixelData:function(){},_requestDataErrorHandler:function(a){},_clonePixelData:function(a){if(null===a||void 0===a)return a;var c={};a.extent&&(c.extent=h.clone(a.extent));a=a.pixelBlock;if(null===a||void 0===a)return c;c.pixelBlock=a.clone();return c},getMultidimensionalInfo:function(){var c=this._url.path+"/multiDimensionalInfo",b=new l(k._dfdCanceller);if(this._multidimensionalInfo)return b.resolve(this._multidimensionalInfo),b;10.3<=this.version&&this.hasMultidimensions?
(b._pendingDfd=a({url:c,content:{f:"json"},handleAs:"json",callbackParamName:"callback"}),b._pendingDfd.then(h.hitch(this,function(a){this._multidimensionalInfo=a.multidimensionalInfo;b.callback(a.multidimensionalInfo)}),function(a){b.errback(a)})):(c=Error("Layer does not support multidimensional info"),c.log=g.isDebug,b.errback(c));return b},getDefaultMultidimensionalDefinition:function(){var a,c,b,f,d=[],e=new l(k._dfdCanceller);if(this._defaultMultidimensionalDefinition)return e.resolve(this._defaultMultidimensionalDefinition),
e;e._pendingDfd=this.getMultidimensionalInfo();e._pendingDfd.then(h.hitch(this,function(g){a=g;c=a.variables[0].name;b=a.variables[0].dimensions;for(f in b)b.hasOwnProperty(f)&&(b[f].hasRanges&&!0==b[f].hasRanges?d.push(new v({variableName:c,dimensionName:b[f].name,isSlice:!1,values:[b[f].values[0][0],b[f].values[0][1]]})):d.push(new v({variableName:c,dimensionName:b[f].name,isSlice:!0,values:[b[f].extent[0]]})));this._defaultMultidimensionalDefinition=d;e.callback(d)}),function(a){e.errback(a)});
return e},_setDefaultMultidimensionalDefinition:function(a){var c,b={};this.getDefaultMultidimensionalDefinition().then(h.hitch(this,function(f){c=f;0<c.length&&(this.mosaicRule?(b=h.clone(this.mosaicRule),b.multidimensionalDefinition=c):this.defaultMosaicRule?(b=h.clone(this.defaultMosaicRule),b.multidimensionalDefinition=c):b=new t({multidimensionalDefinition:c}),this.setMosaicRule(b,a))}))},_setDefaultRenderingRule:function(a){var c={};if(!this.renderingRule&&"esri.layers.ArcGISImageServiceVectorLayer"!==
this.declaredClass&&this.rasterFunctionInfos&&this.rasterFunctionInfos.length&&"None"!=this.rasterFunctionInfos[0].name)c.rasterFunction=this.rasterFunctionInfos[0].name;else if(!this.renderingRule&&"esri.layers.ArcGISImageServiceVectorLayer"==this.declaredClass&&10.3<this.version){var b="esriImageServiceDataTypeVector-UV"===this.serviceDataType?7:10;new r;c.rasterFunction="Resample";c.rasterFunctionArguments={ResamplingType:b,InputCellSize:{x:this.pixelSizeX,y:this.pixelSizeY}}}c.hasOwnProperty("rasterFunction")&&
(this.defaultRenderingRule=new r(c),this.setRenderingRule(this.defaultRenderingRule,a))},_cleanupRequestParams:function(a){if(!a)return a;if(a.time&&a.mosaicRule){var c=new t(JSON.parse(a.mosaicRule));if(c&&c.multidimensionalDefinition&&0<c.multidimensionalDefinition.length){var b=m.filter(c.multidimensionalDefinition,function(a){return"StdTime"!==a.dimensionName});c.multidimensionalDefinition=b;a.mosaicRule=JSON.stringify(c.toJSON())}}var c="displayOnPan drawMode styling id opacity visible resourceInfo useMapDimensionValue extent".split(" "),
f;for(f in c)a.hasOwnProperty(c[f])&&delete a[c[f]];return a},_isScientificData:function(){return"esriImageServiceDataTypeVector-UV"===this.serviceDataType||"esriImageServiceDataTypeVector-MagDir"===this.serviceDataType||"esriImageServiceDataTypeScientific "===this.serviceDataType},_isVectorData:function(){return"esriImageServiceDataTypeVector-UV"===this.serviceDataType||"esriImageServiceDataTypeVector-MagDir"===this.serviceDataType},_createPixelData:function(a){a=new w({width:2,height:2,pixels:a,
pixelType:this.pixelType,statistics:a});var c=this.fullExtent.getCenter(),c=new n(c.x,c.y,c.x+this.pixelSizeX,c.y+this.pixelSizeY,this.spatialReference);return{pixelBlock:a,extent:c}},_resolve:function(a,c,b,f,d){c&&this[c].apply(this,a);b&&b.apply(null,a);f&&k._resDfd(f,a,d)}})})},"esri/renderers/SymbolAger":function(){define(["../core/declare"],function(b){return b(null,{declaredClass:"esri.renderer.SymbolAger",getAgedSymbol:function(b,l){},_setSymbolSize:function(b,l){switch(b.type){case "simplemarkersymbol":b.setSize(l);
break;case "picturemarkersymbol":b.setWidth(l);b.setHeight(l);break;case "simplelinesymbol":case "cartographiclinesymbol":b.setWidth(l);break;case "simplefillsymbol":case "picturefillsymbol":b.outline&&b.outline.setWidth(l)}}})})},"esri/core/accessorSupport/Property":function(){define(["dojo/has"],function(b){b=function(b,l){this.name=b;l&&this.mixIn(l)};b.prototype={name:null,getter:null,setter:null,reader:null,getterArity:0,setterArity:0,dependsOn:null,chain:null,value:void 0,readOnly:!1,copy:null,
type:null,mixIn:function(b){b.hasOwnProperty("getter")&&(this.getter=b.getter,this.getterArity=b.getter.length);b.hasOwnProperty("setter")&&(this.setter=b.setter,this.setterArity=b.setter.length);b.hasOwnProperty("reader")&&(this.reader=b.reader);b.hasOwnProperty("value")&&(this.value=b.value);b.hasOwnProperty("readOnly")&&(this.readOnly=b.readOnly);b.hasOwnProperty("copy")&&(this.copy=b.copy);b.hasOwnProperty("type")&&(this.type=b.type);b.hasOwnProperty("dependsOn")&&(this.dependsOn=this.dependsOn?
this.dependsOn.concat(b.dependsOn):b.dependsOn.concat());b.hasOwnProperty("chain")&&(this.chain=this.chain?this.chain.concat(b.chain.filter(function(b){return-1===this.chain.indexOf(b)},this)):b.chain.concat())},getDescriptor:function(){var b=this;return{enumerable:!0,configurable:!0,get:function(){return this._accessorProps?this._accessorProps.get(b.name):void 0},set:function(l){var m=this._accessorProps,g=b.name;if(m){if(!Object.isFrozen(this)){if(b.readOnly)throw new TypeError("Cannot assign to read only property '"+
g+"' of "+this.declaredClass);if(!b.setter&&m.get(g)===l)return l;m.access[g]=!0;m.set(g,l);m.access[g]=!1}}else Object.defineProperty(this,g,{enumerable:!0,configurable:!0,writable:!0,value:l})}}}};return b})},"esri/views/3d/webgl-engine/parts/Model":function(){define("dojo/string ../lib/Light ../lib/ModelContentType ../lib/ModelDirtySet ../lib/RenderGeometry ../lib/Util ../lib/gl-matrix".split(" "),function(b,h,l,m,g,e,d){var c=e.assert,a=e.verify,k=d.vec3,p=d.mat4d,n=e.logWithBase;e=function(){function d(a,
c){var b=Array.prototype.slice.call(arguments);b.shift();f.forEach(function(c){void 0!==c[a]&&c[a].apply(this,b)})}var e=new m(this),t=function(){var a={},c;for(c in l)a[l[c]]={};return a}(),r=new h.AmbientLight([1,1,1],0.3,!0,0.5,5,3,16),v=new h.DirectionalLight([1,1,1],0.7,k.normalize([1,1,1]),0.5,!0),x,w,f=[];this.getAll=function(a){a=t[a];c(void 0!==a);return a};this.get=function(a,c){return this.getAll(a)[c]};this.add=function(a,b){var f=t[a];c(void 0!==f);var e=b.getId();c(void 0===f[e],"Model/Stage already contains object to be added");
f[e]=b;a===l.LAYER&&this.notifyDirty(a,b,"layerAdded");d("contentAdded",a,b)};this.remove=function(a,b){var f=t[a];c(void 0!==f);var e=f[b];c(void 0!==e,"Model/Stage doesn't contain object to be removed");delete f[b];a===l.TEXTURE&&e.unload();a===l.LAYER&&this.notifyDirty(a,e,"layerRemoved");d("contentRemoved",a,e);return e};this.getDirtySet=function(){return e};this.notifyDirty=function(a,c,b,f){e.handleUpdate(c,b,f)};this.getAmbientLight=function(){return r};this.setAmbientLight=function(a){r.set(a)};
this.getDirectionalLight=function(){return v};this.setDirectionalLight=function(a){v.set(a)};this.getSelection=function(){return x};this.setSelection=function(a,c){x=a;w=c};this.getSelectionFaceRange=function(){return w};var s={},z=0,y={},A=function(a,c,b){var f=0;c=c*(b||10)/1E4;1<c&&(f=Math.ceil(n(c,2)));c=1E4*Math.pow(2,f);b=Math.round(a[0]/c);var d=Math.round(a[1]/c);a=Math.round(a[2]/c);var f=f+"_"+b+"_"+d+"_"+a,e=y[f];void 0===e&&(e={vec3:k.createFrom(b*c,d*c,a*c),id:f},y[f]=e);return e};this.getOrigin=
A;this.getGeometryRenderGeometries=function(a,c,b,f){f=a.getId();for(var d=c.geometry,e=d.getData(),k=!!d.singleUse,l=e.getFaces(),h=e.getVertexAttr(),e=e.getId(),n=c.materials,m=c.instanceParameters,r=a.getCombinedTransformation(c),q=p.maxScale(r),t=c.origin,u=a.getVisibleIndexRanges(c),v=0,w=d.getNumGroups();v<w;++v){var y=d.getBoundingInfo(v),x=c.getId()+"#"+v,J=s[x];void 0===J&&(J=z++,s[x]=J);var S={},U;for(U in l[v].indices)S[U]=h[U];y=new g({faces:l[v],vertexAttr:S,id:e+"#"+v},y,n[v],r,q,a.getCastShadow(),
k,f,x,J,v);y.origin=t||A(y.center,y.radius);y.displayedIndexRange=u?u[v]:null;y.instanceParameters=m?c.instanceParameters[v]:null;b.push(y)}};this.formatDebugInfo=function(a){var c=[],f;if(a){c[0]="\x3ctable\x3e";for(f in l)a=l[f],c[0]+="\x3ctr\x3e\x3ctd\x3e"+a+'\x3c/td\x3e\x3ctd style\x3d"text-align: right"\x3e'+Object.keys(this.getAll(a)).length+"\x3c/td\x3e\x3c/tr\x3e";c[0]+="\x3c/table\x3e";c[1]=e.formatDebugInfo(!0)}else{c[0]="";for(f in l)a=l[f],c[0]+=b.pad(String(Object.keys(this.getAll(a)).length),
6," ")+" "+a+", ";c[1]=e.formatDebugInfo(!1)}return c};this.validateContent=function(){var a=this.getAll(l.OBJECT),c;for(c in a)this.validateObject(a[c]);a=this.getAll(l.LAYER);for(c in a)this.validateLayer(a[c]);a=this.getAll(l.MATERIAL);for(c in a)this.validateMaterial(a[c])};this.validateObject=function(b){b=b.getGeometryRecords();for(var f=0;f<b.length;++f){var d=b[f];c(null!=this.get(l.GEOMETRY,d.geometry.getId()));var e=d.geometry.getNumGroups();c(e<=d.materials.length,"object materials do not match geometry groups");
a(e==d.materials.length,"object materials do not match geometry groups");for(var g=0;g<e;++g)c(null!=this.get(l.MATERIAL,d.materials[g].getId()))}};this.validateLayer=function(a){a=a.getObjects();for(var b=0;b<a.length;++b){var f=this.get(l.OBJECT,a[b].getId());c(null!=f)}};this.validateMaterial=function(a){a=a.getAllTextureIds();for(var b=0;b<a.length;++b){var f=this.get(l.TEXTURE,a[b]);c(null!=f)}};this.addModelListener=function(a){c(-1===f.indexOf(a));f.push(a)};this.removeModelListener=function(a){a=
f.indexOf(a);c(-1!==a);f.splice(a,a)}};e.ContentType=l;return e})},"esri/geometry/ScreenPoint":function(){define(["../core/declare","./Point"],function(b,h){return b(h,{declaredClass:"esri.geometry.ScreenPoint",verifySR:function(){}})})},"dijit/_CssStateMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/dom dojo/dom-class dojo/has dojo/_base/lang dojo/on dojo/domReady dojo/touch dojo/_base/window ./a11yclick ./registry".split(" "),function(b,h,l,m,g,e,d,c,a,k,p,n){h=h("dijit._CssStateMixin",
[],{hovering:!1,active:!1,_applyAttributes:function(){this.inherited(arguments);b.forEach("disabled readOnly checked selected focused state hovering active _opened".split(" "),function(a){this.watch(a,e.hitch(this,"_setStateClass"))},this);for(var a in this.cssStateNodes||{})this._trackMouseState(this[a],this.cssStateNodes[a]);this._trackMouseState(this.domNode,this.baseClass);this._setStateClass()},_cssMouseEvent:function(a){if(!this.disabled)switch(a.type){case "mouseover":case "MSPointerOver":case "pointerover":this._set("hovering",
!0);this._set("active",this._mouseDown);break;case "mouseout":case "MSPointerOut":case "pointerout":this._set("hovering",!1);this._set("active",!1);break;case "mousedown":case "touchstart":case "MSPointerDown":case "pointerdown":case "keydown":this._set("active",!0);break;case "mouseup":case "dojotouchend":case "MSPointerUp":case "pointerup":case "keyup":this._set("active",!1)}},_setStateClass:function(){function a(d){c=c.concat(b.map(c,function(a){return a+d}),"dijit"+d)}var c=this.baseClass.split(" ");
this.isLeftToRight()||a("Rtl");var d="mixed"==this.checked?"Mixed":this.checked?"Checked":"";this.checked&&a(d);this.state&&a(this.state);this.selected&&a("Selected");this._opened&&a("Opened");this.disabled?a("Disabled"):this.readOnly?a("ReadOnly"):this.active?a("Active"):this.hovering&&a("Hover");this.focused&&a("Focused");var d=this.stateNode||this.domNode,e={};b.forEach(d.className.split(" "),function(a){e[a]=!0});"_stateClasses"in this&&b.forEach(this._stateClasses,function(a){delete e[a]});b.forEach(c,
function(a){e[a]=!0});var g=[],k;for(k in e)g.push(k);d.className=g.join(" ");this._stateClasses=c},_subnodeCssMouseEvent:function(a,c,b){function d(b){m.toggle(a,c+"Active",b)}if(!this.disabled&&!this.readOnly)switch(b.type){case "mouseover":case "MSPointerOver":case "pointerover":m.toggle(a,c+"Hover",!0);break;case "mouseout":case "MSPointerOut":case "pointerout":m.toggle(a,c+"Hover",!1);d(!1);break;case "mousedown":case "touchstart":case "MSPointerDown":case "pointerdown":case "keydown":d(!0);
break;case "mouseup":case "MSPointerUp":case "pointerup":case "dojotouchend":case "keyup":d(!1);break;case "focus":case "focusin":m.toggle(a,c+"Focused",!0);break;case "blur":case "focusout":m.toggle(a,c+"Focused",!1)}},_trackMouseState:function(a,c){a._cssState=c}});c(function(){function c(a,b,d){if(!d||!l.isDescendant(d,b))for(;b&&b!=d;b=b.parentNode)if(b._cssState){var e=n.getEnclosingWidget(b);e&&(b==e.domNode?e._cssMouseEvent(a):e._subnodeCssMouseEvent(b,b._cssState,a))}}var b=k.body(),e;d(b,
a.over,function(a){c(a,a.target,a.relatedTarget)});d(b,a.out,function(a){c(a,a.target,a.relatedTarget)});d(b,p.press,function(a){e=a.target;c(a,e)});d(b,p.release,function(a){c(a,e);e=null});d(b,"focusin, focusout",function(a){var c=a.target;if(c._cssState&&!c.getAttribute("widgetId")){var b=n.getEnclosingWidget(c);b&&b._subnodeCssMouseEvent(c,c._cssState,a)}})});return h})},"esri/views/3d/webgl-engine/lib/GLVBO":function(){define(["./Util"],function(b){var h=0,l=function(b,g,e){this.glName=e.createBuffer();
this.num=0;this.vertexBufferLayout=g;this.gl=e;void 0!==b&&this.setData(b,b.length);this.id=h++};l.prototype.setData=function(b,g,e){var d=this.gl;d.bindBuffer(d.ARRAY_BUFFER,this.glName);d.bufferData(d.ARRAY_BUFFER,b,e||d.STATIC_DRAW);d.bindBuffer(d.ARRAY_BUFFER,null);this.num=g/this.vertexBufferLayout.getStride()};l.prototype.updateSubData=function(b,g,e){var d=this.gl;d.bindBuffer(d.ARRAY_BUFFER,this.glName);d.bufferSubData(d.ARRAY_BUFFER,4*g,b.subarray(g,e));d.bindBuffer(d.ARRAY_BUFFER,null)};
l.prototype.bind=function(){var b=this.gl;b.bindBuffer(b.ARRAY_BUFFER,this.glName)};l.prototype.setPointers=function(b,g){this.vertexBufferLayout.setVertexAttribPointers(this.gl,b,g)};l.prototype.getNum=function(){return this.num};l.prototype.getId=function(){return this.id};l.prototype.getLayout=function(){return this.vertexBufferLayout};l.prototype.dispose=function(){this.gl.deleteBuffer(this.glName)};l.GLVBORep=function(){var l={};this.add=function(g,e){b.assert(void 0===l[g]);l[g]=e};this.get=
function(b){return l[b]}};return l})},"dgrid/TouchScroll":function(){define("dojo/_base/declare dojo/on ./util/touch ./util/has-css3 put-selector/put xstyle/css!./css/TouchScroll.css".split(" "),function(b,h,l,m,g){function e(a,c,b,f){f=a.touchNode;var d=r[a.id],e,g,k;if("object"!==typeof c)k=c,c=b,b=g=!0;else{b="x"in c;g="y"in c;if(!b||!g)e=a.getScrollPosition();k=b?c.x:e.x;c=g?c.y:e.y}f.style[F]=G+-k+"px,"+-c+"px"+Q;d&&(b&&a._scrollbarXNode)&&(a._scrollbarXNode.style[F]=G+k*d.parentWidth/d.scrollWidth+
"px,0"+Q);d&&(g&&a._scrollbarYNode)&&(a._scrollbarYNode.style[F]=G+"0,"+c*d.parentHeight/d.scrollHeight+"px"+Q);h.emit(a.touchNode.parentNode,"scroll",{scrollLeft:k,scrollTop:c})}function d(a){return r[a.id]?s.exec(window.getComputedStyle(a.touchNode)[F]):f.exec(a.touchNode.style[F])}function c(a){var c=this.widget,c=[this.node,c._scrollbarXNode,c._scrollbarYNode],b=c.length;this.timer&&(clearTimeout(this.timer),this.timer=null);for(this.transitionHandler&&this.transitionHandler.remove();b--;)c[b]&&
(c[b].style[E+"Duration"]="0");(!a||!a.preserveScrollbars)&&g(this.node.parentNode,".touchscroll-fadeout");delete this.resetEffects}function a(a){var c=a.widget,b=c.touchNode,e=c.id,g=0,k=0,h;if(l.countCurrentTouches(a,b)===c.touchesToScroll){if(h=d(c))g=+h[1],k=+h[2];if(h=r[e])h.resetEffects&&h.resetEffects({preserveScrollbars:!0}),b.style[F]=G+g+"px,"+k+"px"+Q,v[e]=h;a=a.targetTouches[0];h=r[e]={widget:c,node:b,startX:g-a.pageX,startY:k-a.pageY,lastX:g,lastY:k,pageX:a.pageX,pageY:a.pageY,tickFunc:function(){var a=
r[e],c,b;a&&(c=a.node,(b=f.exec(c.style[F]))?(c=+b[1],b=+b[2],a.velX=c-a.lastX,a.velY=b-a.lastY,a.lastX=c,a.lastY=b):a.lastX=a.lastY=0,a.timer=setTimeout(a.tickFunc,q))}};h.timer=setTimeout(h.tickFunc,q)}}function k(a){var c=a.widget,b=c.id,f=c.touchesToScroll,d=r[b],k,h;if(!d||(k=l.countCurrentTouches(a,c.touchNode))!==f)k>f&&c.cancelTouchScroll();else{k=a.targetTouches;f=k[0];if(!d.scrollbarsShown&&(v[b]||Math.abs(f.pageX-d.pageX)>c.scrollThreshold||Math.abs(f.pageY-d.pageY)>c.scrollThreshold)){var b=
c.touchNode,n=b.parentNode,s=n.offsetWidth-w,m=n.offsetHeight-w,p=d.scrollWidth=b.scrollWidth,q=d.scrollHeight=b.scrollHeight,t=d.parentWidth=n.offsetWidth,z=d.parentHeight=n.offsetHeight;p>t?(c._scrollbarXNode||(h=g(n,"div.touchscroll-x")),h=c._scrollbarXNode=c._scrollbarXNode||g(h,"div.touchscroll-bar"),h.style.width=s*s/p+"px",h.style.left=b.offsetLeft+"px",g(n,".touchscroll-scrollable-x"),d.scrollableX=!0):g(n,"!touchscroll-scrollable-x");q>z?(c._scrollbarYNode||(h=g(n,"div.touchscroll-y")),h=
c._scrollbarYNode=c._scrollbarYNode||g(h,"div.touchscroll-bar"),h.style.height=m*m/q+"px",h.style.top=b.offsetTop+"px",g(n,".touchscroll-scrollable-y"),d.scrollableY=!0):g(n,"!touchscroll-scrollable-y");g(n,"!touchscroll-fadeout");d.scrollbarsShown=!0;for(h=k.length;h--;)k[h].touchScrolled=!0}if(d.scrollbarsShown&&(d.scrollableX||d.scrollableY))a.preventDefault(),a=d.scrollableX?d.startX+f.pageX:0,f=d.scrollableY?d.startY+f.pageY:0,h=d.scrollableX?-(d.scrollWidth-d.parentWidth):0,d=d.scrollableY?
-(d.scrollHeight-d.parentHeight):0,0<a?a/=2:a<h&&(a=h-(h-a)/2),0<f?f/=2:f<d&&(f=d-(d-f)/2),e(c,-a,-f)}}function p(a){var c=a.widget,b=c.id;r[b]&&l.countCurrentTouches(a,c.touchNode)===c.touchesToScroll-1&&u(b)}function n(a,c,b){function f(){delete d.transitionHandler;d.resetEffects();delete r[a]}var d=r[a],e=d.widget,g=d.node,k=d.scrollableX?Math.max(Math.min(0,c),-(d.scrollWidth-d.parentWidth)):c,l=d.scrollableY?Math.max(Math.min(0,b),-(d.scrollHeight-d.parentHeight)):b;delete d.timer;k!==c||l!==
b?(d.transitionHandler=h.once(g,y,f),g.style[E+"Duration"]=e.bounceDuration+"ms",g.style[F]=G+k+"px,"+l+"px"+Q,k!==c&&d.scrollableX&&(g=d.widget._scrollbarXNode,g.style[E+"Duration"]=e.bounceDuration+"ms",g.style[F]=c>k?G+"0,0"+Q:G+(g.parentNode.offsetWidth-g.offsetWidth)+"px,0"+Q),l!==b&&d.scrollableY&&(g=d.widget._scrollbarYNode,g.style[E+"Duration"]=e.bounceDuration+"ms",g.style[F]=b>l?G+"0,0"+Q:G+"0,"+(g.parentNode.offsetHeight-g.offsetHeight)+"px"+Q)):f()}function u(a){var b=r[a],d=v[a],g,k;
delete v[a];b.timer&&clearTimeout(b.timer);b.resetEffects=c;(g=f.exec(b.node.style[F]))?(k=+g[1],g=+g[2]):k=g=0;if(!b.velX&&!b.velY||(0<=k||k<=-(b.scrollWidth-b.parentWidth))&&(0<=g||g<=-(b.scrollHeight-b.parentHeight)))n(a,k,g);else{if(d&&(d.velX||d.velY)&&(0>=b.velX&&0>=d.velX||0<=b.velX&&0<=d.velX)&&(0>=b.velY&&0>=d.velY||0<=b.velY&&0<=d.velY))b.velX=1.15*(b.velX+d.velX),b.velY=1.15*(b.velY+d.velY);b.lastX=k;b.lastY=g;b.calcFunc=function(){var c=r[a],b,f,d,g,k,l;if(c)if(b=c.widget,k=b.glideDecel(c.velX),
l=b.glideDecel(c.velY),Math.abs(k)>=x||Math.abs(l)>=x){d=c.lastX+k;g=c.lastY+l;if(0<d||d<-(c.scrollWidth-c.parentWidth))for(f=6;f--;)k=b.glideDecel(k);if(0<g||g<-(c.scrollHeight-c.parentHeight))for(f=6;f--;)l=b.glideDecel(l);e(b,-d,-g);c.lastX=d;c.lastY=g;c.velX=k;c.velY=l;c.timer=setTimeout(c.calcFunc,t)}else n(a,c.lastX,c.lastY)};b.timer=setTimeout(b.calcFunc,t)}}var q=50,t=30,r={},v={},x=1,w=8,f=/^translate(?:3d)?\((-?\d+)(?:\.\d*)?(?:px)?, (-?\d+)/,s=/^matrix\(1, 0, 0, 1, (-?\d+)(?:\.\d*)?(?:px)?, (-?\d+)/,
z=m("css-transitions"),y=m("transitionend"),A=m("css-transforms");m=m("css-transforms3d");var B,E,F,G,Q;m?(G="translate3d(",Q=",0)"):A&&(G="translate(",Q=")");if(!z||!G)return console.warn("CSS3 features unavailable for touch scroll effects."),function(){};F=m||A;F=!0===F?"transform":F+"Transform";E=!0===z?"transition":z+"Transition";B=!0===A?"":"-"+A.toLowerCase()+"-";return b(null,{touchesToScroll:1,touchNode:null,scrollThreshold:10,bounceDuration:300,postCreate:function(){this._initTouch();this.inherited(arguments)},
_initTouch:function(){function c(){d.cancelTouchScroll()}function b(a){return function(b){b.widget=d;b.cancelTouchScroll=c;a.call(this,b)}}var f=this.touchNode=this.touchNode||this.containerNode,d=this,e;!f||!f.parentNode?console.warn("TouchScroll requires a nested node upon which to operate."):(e=f.parentNode,e.style.overflow="hidden",f.style[E+"Property"]=B+"transform",f.style[E+"TimingFunction"]="cubic-bezier(0.33, 0.66, 0.66, 1)",this._touchScrollListeners=[h(e,"touchstart",b(a)),h(e,"touchmove",
b(k)),h(e,"touchend,touchcancel",b(p))])},destroy:function(){for(var a=this._touchScrollListeners.length;a--;)this._touchScrollListeners[a].remove();delete r[this.id];this.inherited(arguments)},scrollTo:function(a){var c=r[this.id],b=this.touchNode,f=b.parentNode;!a.preserveMomentum&&(c&&c.resetEffects)&&c.resetEffects();a.x&&(a.x=Math.max(0,Math.min(a.x,b.scrollWidth-f.offsetWidth)));a.y&&(a.y=Math.max(0,Math.min(a.y,b.scrollHeight-f.offsetHeight)));e(this,a)},getScrollPosition:function(){var a=
d(this);return a?{x:-a[1],y:-a[2]}:{x:0,y:0}},cancelTouchScroll:function(){var a=r[this.id];a&&(a.resetEffects?a.resetEffects():(a.timer&&clearTimeout(a.timer),g(a.node.parentNode,".touchscroll-fadeout")),delete r[this.id])},glideDecel:function(a){return 0.9*a}})})},"esri/views/3d/support/HeapSort":function(){define([],function(){function b(b,h,g,e){for(var d=h,c=g>>>1,a=b[d-1];h<=c;){h=d<<1;h<g&&0>e(b[h-1],b[h])&&++h;var k=b[h-1];if(0>=e(k,a))break;b[d-1]=k;d=h}b[d-1]=a}function h(b,h){return b<
h?-1:b>h?1:0}return{sort:function(l,m,g,e){void 0===m&&(m=0);void 0===g&&(g=l.length);void 0===e&&(e=h);for(var d=g>>>1;d>m;d--)b(l,d,g,e);for(var c=m+1,d=g-1;d>m;d--)g=l[m],l[m]=l[d],l[d]=g,b(l,c,d,e);return l}}})},"dojo/errors/RequestTimeoutError":function(){define(["./create","./RequestError"],function(b,h){return b("RequestTimeoutError",null,h,{dojoType:"timeout"})})},"esri/symbols/Symbol3D":function(){define("../core/declare dojo/_base/lang ./Symbol ./Symbol3DLayer ./IconSymbol3DLayer ./ObjectSymbol3DLayer ./LineSymbol3DLayer ./PathSymbol3DLayer ./FillSymbol3DLayer ./ExtrudeSymbol3DLayer ./TextSymbol3DLayer".split(" "),
function(b,h,l,m,g,e,d,c,a,k,p){var n={Icon:g,Object:e,Line:d,Path:c,Fill:a,Extrude:k,Text:p};return b(l,{normalizeCtorArgs:function(a){return a instanceof m?{symbolLayers:[a]}:h.isArray(a)?{symbolLayers:a}:a},getDefaults:function(){return h.mixin(this.inherited(arguments),{symbolLayers:[]})},type:null,symbolLayers:null,_symbolLayersReader:function(a){for(var c=[],b=0;b<a.length;b++){var d=a[b],e=d.type,g=n[e];g?0>this._allowedLayerTypes.indexOf(e)?console.warn("Symbol layer of type '%s' not allowed for symbol of type '%s'",
e,this.type):c.push(g.fromJSON(d)):console.warn("Unknown symbol layer: "+e)}return c},toJSON:function(){return{type:this.type,symbolLayers:this.symbolLayers.map(function(a){return a.toJSON()})}},_allowedLayerTypes:[]})})},"esri/views/3d/environment/EnvironmentRenderer":function(){define("../../../core/declare ../../../core/Accessor ./MixedPanoramicAtmosphere ./PanoramicAtmosphere ./RealisticAtmosphere ./SimpleAtmosphere ./Stars".split(" "),function(b,h,l,m,g,e,d){return b([h],{classMetadata:{properties:{view:{},
planar:{setter:function(c){this._planar=!!c;this._switchAtmosphere()},getter:function(){return this._planar}},realistic:{setter:function(c){this._realistic=!!c;this._switchAtmosphere()},getter:function(){return this._realistic}},transparent:{setter:function(c){this._transparent=!!c;this._switchAtmosphere()},getter:function(){return this._transparent}}}},constructor:function(){this._selectAtmosphere();this._STANDARD_SLOT=0;this._SPECIAL_SLOT=4;this.slots=[this._STANDARD_SLOT,this._SPECIAL_SLOT];this.gl=
0;this._needsRender=!0;this._didRender=!1;this._Atmosphere=null;this.initialized=this._transparent=this._realistic=this._planar=!1},_switchAtmosphere:function(){this._selectAtmosphere();this.initialized&&(this._atmosphere=new this._Atmosphere(this.view),this._atmosphere.init(),this._atmosphere.setContext(this.gl),this._atmosphere.loadShaders(this._snippets,this._shaderRep,this._programRep),this._transparent&&!this._planar?(this._atmosphere.slot=this._SPECIAL_SLOT,this._stars.slot=this._SPECIAL_SLOT):
(this._atmosphere.slot=this._STANDARD_SLOT,this._stars.slot=this._STANDARD_SLOT),this._needsRender=!0)},_selectAtmosphere:function(){void 0!==this.needsDepthMap&&delete this.needsDepthMap;this._realistic&&!this._transparent?(this._Atmosphere=this._planar?l:g,this.needsDepthMap=!0):this._Atmosphere=this._planar?m:e},setContext:function(c){this.gl=c;this._atmosphere.setContext(c);this._stars.setContext(c)},loadShaders:function(c,a,b){this._snippets=c;this._shaderRep=a;this._programRep=b;this._atmosphere.loadShaders(c,
a,b);this._stars.loadShaders(c,a,b)},render:function(c){c.slot!==this.slots[0]&&c.slot!==this.slots[1]||"material"!==c.pass||(c.slot===this.slots[0]&&(this._planar||!this._transparent)?(this._stars.render(c),this._atmosphere.render(c)):(c.slot===this.slots[1]&&(this._transparent&&this._stars.render(c),this._atmosphere.render(c)),this._didRender=this._stars._didRender&&this._atmosphere._didRender))},needsRender:function(){return this._needsRender},resetNeedsRender:function(){this._didRender&&(this._needsRender=
!1)},init:function(){this._atmosphere=new this._Atmosphere(this.view);this._atmosphere.init();this._stars=new d(this.view);this._stars.init();this._transparent&&(this._atmosphere.slot=this._SPECIAL_SLOT,this._stars.slot=this._SPECIAL_SLOT);this.view._stage.addExternalRenderer(this.slots,this);this.initialized=!0},destroy:function(){this._atmosphere&&this._atmosphere.destroy();this._stars&&this._stars.destroy();this.view._stage.removeExternalRenderer(this.slots,this)}})})},"dojo/NodeList-dom":function(){define("./_base/kernel ./query ./_base/array ./_base/lang ./dom-class ./dom-construct ./dom-geometry ./dom-attr ./dom-style".split(" "),
function(b,h,l,m,g,e,d,c,a){function k(a){return function(c,b,f){return 2==arguments.length?a["string"==typeof b?"get":"set"](c,b):a.set(c,b,f)}}var p=function(a){return 1==a.length&&"string"==typeof a[0]},n=function(a){var c=a.parentNode;c&&c.removeChild(a)},u=h.NodeList,q=u._adaptWithCondition,t=u._adaptAsForEach,r=u._adaptAsMap;m.extend(u,{_normalize:function(a,c){var d=!0===a.parse;if("string"==typeof a.template){var f=a.templateFunc||b.string&&b.string.substitute;a=f?f(a.template,a):a}f=typeof a;
"string"==f||"number"==f?(a=e.toDom(a,c&&c.ownerDocument),a=11==a.nodeType?m._toArray(a.childNodes):[a]):m.isArrayLike(a)?m.isArray(a)||(a=m._toArray(a)):a=[a];d&&(a._runParse=!0);return a},_cloneNode:function(a){return a.cloneNode(!0)},_place:function(a,c,d,f){if(!(1!=c.nodeType&&"only"==d))for(var g,k=a.length,l=k-1;0<=l;l--){var h=f?this._cloneNode(a[l]):a[l];if(a._runParse&&b.parser&&b.parser.parse){g||(g=c.ownerDocument.createElement("div"));g.appendChild(h);b.parser.parse(g);for(h=g.firstChild;g.firstChild;)g.removeChild(g.firstChild)}l==
k-1?e.place(h,c,d):c.parentNode.insertBefore(h,c);c=h}},position:r(d.position),attr:q(k(c),p),style:q(k(a),p),addClass:t(g.add),removeClass:t(g.remove),toggleClass:t(g.toggle),replaceClass:t(g.replace),empty:t(e.empty),removeAttr:t(c.remove),marginBox:r(d.getMarginBox),place:function(a,c){var b=h(a)[0];return this.forEach(function(a){e.place(a,b,c)})},orphan:function(a){return(a?h._filterResult(this,a):this).forEach(n)},adopt:function(a,c){return h(a).place(this[0],c)._stash(this)},query:function(a){if(!a)return this;
var c=new u;this.map(function(b){h(a,b).forEach(function(a){void 0!==a&&c.push(a)})});return c._stash(this)},filter:function(a){var c=arguments,b=this,f=0;if("string"==typeof a){b=h._filterResult(this,c[0]);if(1==c.length)return b._stash(this);f=1}return this._wrap(l.filter(b,c[f],c[f+1]),this)},addContent:function(a,c){a=this._normalize(a,this[0]);for(var b=0,f;f=this[b];b++)a.length?this._place(a,f,c,0<b):e.empty(f);return this}});return u})},"dijit/_WidgetBase":function(){define("require dojo/_base/array dojo/aspect dojo/_base/config dojo/_base/connect dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/has dojo/_base/kernel dojo/_base/lang dojo/on dojo/ready dojo/Stateful dojo/topic dojo/_base/window ./Destroyable dojo/has!dojo-bidi?./_BidiMixin ./registry".split(" "),
function(b,h,l,m,g,e,d,c,a,k,p,n,u,q,t,r,v,x,w,f,s,z,y){function A(a){return function(b){c[b?"set":"remove"](this.domNode,a,b);this._set(a,b)}}u.add("dijit-legacy-requires",!q.isAsync);u.add("dojo-bidi",!1);u("dijit-legacy-requires")&&v(0,function(){b(["dijit/_base/manager"])});var B={};m=e("dijit._WidgetBase",[x,s],{id:"",_setIdAttr:"domNode",lang:"",_setLangAttr:A("lang"),dir:"",_setDirAttr:A("dir"),"class":"",_setClassAttr:{node:"domNode",type:"class"},_setTypeAttr:null,style:"",title:"",tooltip:"",
baseClass:"",srcNodeRef:null,domNode:null,containerNode:null,ownerDocument:null,_setOwnerDocumentAttr:function(a){this._set("ownerDocument",a)},attributeMap:{},_blankGif:m.blankGif||b.toUrl("dojo/resources/blank.gif"),_introspect:function(){var a=this.constructor;if(!a._setterAttrs){var c=a.prototype,b=a._setterAttrs=[],a=a._onMap={},f;for(f in c.attributeMap)b.push(f);for(f in c)/^on/.test(f)&&(a[f.substring(2).toLowerCase()]=f),/^_set[A-Z](.*)Attr$/.test(f)&&(f=f.charAt(4).toLowerCase()+f.substr(5,
f.length-9),(!c.attributeMap||!(f in c.attributeMap))&&b.push(f))}},postscript:function(a,c){this.create(a,c)},create:function(a,c){this._introspect();this.srcNodeRef=d.byId(c);this._connects=[];this._supportingWidgets=[];this.srcNodeRef&&"string"==typeof this.srcNodeRef.id&&(this.id=this.srcNodeRef.id);a&&(this.params=a,t.mixin(this,a));this.postMixInProperties();this.id||(this.id=y.getUniqueId(this.declaredClass.replace(/\./g,"_")),this.params&&delete this.params.id);this.ownerDocument=this.ownerDocument||
(this.srcNodeRef?this.srcNodeRef.ownerDocument:document);this.ownerDocumentBody=f.body(this.ownerDocument);y.add(this);this.buildRendering();var b;if(this.domNode){this._applyAttributes();var e=this.srcNodeRef;e&&(e.parentNode&&this.domNode!==e)&&(e.parentNode.replaceChild(this.domNode,e),b=!0);this.domNode.setAttribute("widgetId",this.id)}this.postCreate();b&&delete this.srcNodeRef;this._created=!0},_applyAttributes:function(){var a={},c;for(c in this.params||{})a[c]=this._get(c);h.forEach(this.constructor._setterAttrs,
function(c){if(!(c in a)){var b=this._get(c);b&&this.set(c,b)}},this);for(c in a)this.set(c,a[c])},postMixInProperties:function(){},buildRendering:function(){this.domNode||(this.domNode=this.srcNodeRef||this.ownerDocument.createElement("div"));if(this.baseClass){var c=this.baseClass.split(" ");this.isLeftToRight()||(c=c.concat(h.map(c,function(a){return a+"Rtl"})));a.add(this.domNode,c)}},postCreate:function(){},startup:function(){this._started||(this._started=!0,h.forEach(this.getChildren(),function(a){!a._started&&
(!a._destroyed&&t.isFunction(a.startup))&&(a.startup(),a._started=!0)}))},destroyRecursive:function(a){this._beingDestroyed=!0;this.destroyDescendants(a);this.destroy(a)},destroy:function(a){function c(b){b.destroyRecursive?b.destroyRecursive(a):b.destroy&&b.destroy(a)}this._beingDestroyed=!0;this.uninitialize();h.forEach(this._connects,t.hitch(this,"disconnect"));h.forEach(this._supportingWidgets,c);this.domNode&&h.forEach(y.findWidgets(this.domNode,this.containerNode),c);this.destroyRendering(a);
y.remove(this.id);this._destroyed=!0},destroyRendering:function(a){this.bgIframe&&(this.bgIframe.destroy(a),delete this.bgIframe);this.domNode&&(a?c.remove(this.domNode,"widgetId"):k.destroy(this.domNode),delete this.domNode);this.srcNodeRef&&(a||k.destroy(this.srcNodeRef),delete this.srcNodeRef)},destroyDescendants:function(a){h.forEach(this.getChildren(),function(c){c.destroyRecursive&&c.destroyRecursive(a)})},uninitialize:function(){return!1},_setStyleAttr:function(a){var c=this.domNode;t.isObject(a)?
n.set(c,a):c.style.cssText=c.style.cssText?c.style.cssText+("; "+a):a;this._set("style",a)},_attrToDom:function(b,f,d){d=3<=arguments.length?d:this.attributeMap[b];h.forEach(t.isArray(d)?d:[d],function(d){var e=this[d.node||d||"domNode"];switch(d.type||"attribute"){case "attribute":t.isFunction(f)&&(f=t.hitch(this,f));d=d.attribute?d.attribute:/^on[A-Z][a-zA-Z]*$/.test(b)?b.toLowerCase():b;e.tagName?c.set(e,d,f):e.set(d,f);break;case "innerText":e.innerHTML="";e.appendChild(this.ownerDocument.createTextNode(f));
break;case "innerHTML":e.innerHTML=f;break;case "class":a.replace(e,f,this[b])}},this)},get:function(a){var c=this._getAttrNames(a);return this[c.g]?this[c.g]():this._get(a)},set:function(a,c){if("object"===typeof a){for(var b in a)this.set(b,a[b]);return this}b=this._getAttrNames(a);var f=this[b.s];if(t.isFunction(f))var d=f.apply(this,Array.prototype.slice.call(arguments,1));else{var f=this.focusNode&&!t.isFunction(this.focusNode)?"focusNode":"domNode",e=this[f]&&this[f].tagName,g;if(g=e)if(!(g=
B[e])){g=this[f];var k={},l;for(l in g)k[l.toLowerCase()]=!0;g=B[e]=k}l=g;b=a in this.attributeMap?this.attributeMap[a]:b.s in this?this[b.s]:l&&b.l in l&&"function"!=typeof c||/^aria-|^data-|^role$/.test(a)?f:null;null!=b&&this._attrToDom(a,c,b);this._set(a,c)}return d||this},_attrPairNames:{},_getAttrNames:function(a){var c=this._attrPairNames;if(c[a])return c[a];var b=a.replace(/^[a-z]|-[a-zA-Z]/g,function(a){return a.charAt(a.length-1).toUpperCase()});return c[a]={n:a+"Node",s:"_set"+b+"Attr",
g:"_get"+b+"Attr",l:b.toLowerCase()}},_set:function(a,c){var b=this[a];this[a]=c;if(this._created&&!(b===c||b!==b&&c!==c))this._watchCallbacks&&this._watchCallbacks(a,b,c),this.emit("attrmodified-"+a,{detail:{prevValue:b,newValue:c}})},_get:function(a){return this[a]},emit:function(a,c,b){c=c||{};void 0===c.bubbles&&(c.bubbles=!0);void 0===c.cancelable&&(c.cancelable=!0);c.detail||(c.detail={});c.detail.widget=this;var f,d=this["on"+a];d&&(f=d.apply(this,b?b:[c]));this._started&&!this._beingDestroyed&&
r.emit(this.domNode,a.toLowerCase(),c);return f},on:function(a,c){var b=this._onMap(a);return b?l.after(this,b,c,!0):this.own(r(this.domNode,a,c))[0]},_onMap:function(a){var c=this.constructor,b=c._onMap;if(!b){var b=c._onMap={},f;for(f in c.prototype)/^on/.test(f)&&(b[f.replace(/^on/,"").toLowerCase()]=f)}return b["string"==typeof a&&a.toLowerCase()]},toString:function(){return"[Widget "+this.declaredClass+", "+(this.id||"NO ID")+"]"},getChildren:function(){return this.containerNode?y.findWidgets(this.containerNode):
[]},getParent:function(){return y.getEnclosingWidget(this.domNode.parentNode)},connect:function(a,c,b){return this.own(g.connect(a,c,this,b))[0]},disconnect:function(a){a.remove()},subscribe:function(a,c){return this.own(w.subscribe(a,t.hitch(this,c)))[0]},unsubscribe:function(a){a.remove()},isLeftToRight:function(){return this.dir?"ltr"==this.dir.toLowerCase():p.isBodyLtr(this.ownerDocument)},isFocusable:function(){return this.focus&&"none"!=n.get(this.domNode,"display")},placeAt:function(a,c){var b=
!a.tagName&&y.byId(a);b&&b.addChild&&(!c||"number"===typeof c)?b.addChild(this,c):(b=b&&"domNode"in b?b.containerNode&&!/after|before|replace/.test(c||"")?b.containerNode:b.domNode:d.byId(a,this.ownerDocument),k.place(this.domNode,b,c),!this._started&&(this.getParent()||{})._started&&this.startup());return this},defer:function(a,c){var b=setTimeout(t.hitch(this,function(){b&&(b=null,this._destroyed||t.hitch(this,a)())}),c||0);return{remove:function(){b&&(clearTimeout(b),b=null);return null}}}});u("dojo-bidi")&&
m.extend(z);return m})},"dojo/cookie":function(){define(["./_base/kernel","./regexp"],function(b,h){b.cookie=function(b,m,g){var e=document.cookie,d;if(1==arguments.length)d=(d=e.match(RegExp("(?:^|; )"+h.escapeString(b)+"\x3d([^;]*)")))?decodeURIComponent(d[1]):void 0;else{g=g||{};e=g.expires;if("number"==typeof e){var c=new Date;c.setTime(c.getTime()+864E5*e);e=g.expires=c}e&&e.toUTCString&&(g.expires=e.toUTCString());m=encodeURIComponent(m);var e=b+"\x3d"+m,a;for(a in g)e+="; "+a,c=g[a],!0!==c&&
(e+="\x3d"+c);document.cookie=e}return d};b.cookie.isSupported=function(){"cookieEnabled"in navigator||(this("__djCookieTest__","CookiesAllowed"),navigator.cookieEnabled="CookiesAllowed"==this("__djCookieTest__"),navigator.cookieEnabled&&this("__djCookieTest__","",{expires:-1}));return navigator.cookieEnabled};return b.cookie})},"esri/views/3d/navigation/planar/actions/ActionPlanar":function(){define(["../../Action","../../../lib/glMatrix"],function(b,h){var l=h.vec3d,m=h.vec4d;return b.createSubclass({declaredClass:"esri.views.3d.navigation.planar.actions.ActionPlanar",
constructor:function(){this._plane=m.create()},updatePlane:function(b,e){m.set4(e[0],e[1],e[2],-l.dot(e,b),this._plane)}})})},"esri/views/3d/webgl-engine/lib/GLTextureRep":function(){define(["./Util","./GLUtil"],function(b,h){return function(l,m,g,e){var d={},c={},a=[],k=[],p=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),n=p?e.getParameter(p.MAX_TEXTURE_MAX_ANISOTROPY_EXT):1,u=Math.min(8,
n),q=!0,t=function(){var a=e.createTexture(),c=0;this.incRefCnt=function(){++c};this.decRefCnt=function(){--c;b.assert(0<=c)};this.getRefCnt=function(){return c};this.getGLName=function(){return a}},r=function(a){var c=d[a];void 0!==c&&(e.deleteTexture(c.getGLName()),delete d[a])};this.resetNeedsRender=function(){q=!1};this.needsRender=function(){return q};this.aquire=function(c,f,k){var h=d[c];if(void 0===h){h=new t;b.assert(void 0===d[c]);d[c]=h;var n=l[c];b.assert(void 0!==n);n.setUnloadFunc(r);
var p=h.getGLName();s(p,n,f,k);n.renderGl?n.renderGl(p,e):n.deferredLoading()?8>this.getLoadingCount()?y(c,p):a.push([c,p]):n.loadGl(function(){q=!0},p,e,m,g());q=!0}h.incRefCnt();return h.getGLName()};this.release=function(a){a=d[a];void 0!==a&&(a.decRefCnt(),b.assert(0<=a.getRefCnt()))};this.getLoadingCount=function(){return Object.keys(c).length};this.getIsLoaded=function(b){if(void 0===d[b]||void 0!==c[b])return!1;for(var f=0,e=a.length;f<e;++f)if(a[f][0]===b)return!1;return!0};this.addTextureListener=
function(a){b.assert(-1===k.indexOf(a));k.push(a)};this.removeTextureListener=function(a){a=k.indexOf(a);b.assert(-1!==a);k.splice(a,1)};this.getTexture=function(a){return l[a]};this.setMaxAnisotropy=function(a){if(p&&(a=b.clamp(a,1,n),a!==u)){u=a;for(var c in d)a=d[c].getGLName(),e.bindTexture(e.TEXTURE_2D,a),e.texParameterf(e.TEXTURE_2D,p.TEXTURE_MAX_ANISOTROPY_EXT,u)}};this.getMaxAnisotropy=function(){return u};for(var v=new Uint8Array(256),x=new Uint8Array(256),w=0,f=v.length;w<f;++w)v[w]=255,
x[w]=0!==(w+1)%4?255:0;var s=function(a,c,f,g){e.bindTexture(e.TEXTURE_2D,a);c.params&&c.params.wrapClamp&&(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE));if(void 0!==f)if(Array.isArray(f.id)){a=f.num;b.assert(f.id.length===a*a);e.texImage2D(e.TEXTURE_2D,0,e.RGBA,256*a,256*a,0,e.RGBA,e.UNSIGNED_BYTE,null);c=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,c);for(g=0;g<a;g++)for(var k=0;k<a;k++)e.framebufferTexture2D(e.FRAMEBUFFER,
e.COLOR_ATTACHMENT0,e.TEXTURE_2D,d[f.id[g*a+k]].getGLName(),0),h.checkFramebufferStatus(e.FRAMEBUFFER,e),e.copyTexSubImage2D(e.TEXTURE_2D,0,256*k,256*g,0,0,256,256);e.generateMipmap(e.TEXTURE_2D);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR_MIPMAP_LINEAR);e.bindFramebuffer(e.FRAMEBUFFER,null);e.deleteFramebuffer(c)}else e.texImage2D(e.TEXTURE_2D,0,e.RGBA,f.width,f.height,0,e.RGBA,e.UNSIGNED_BYTE,null),h.copyTextureToTexture(d[f.id].getGLName(),a,f.x,f.y,0,0,f.width,f.height,e);else e.texParameteri(e.TEXTURE_2D,
e.TEXTURE_MIN_FILTER,e.NEAREST),void 0!==g&&g?e.texImage2D(e.TEXTURE_2D,0,e.RGBA,8,8,0,e.RGBA,e.UNSIGNED_BYTE,x):e.texImage2D(e.TEXTURE_2D,0,e.RGBA,8,8,0,e.RGBA,e.UNSIGNED_BYTE,v);p&&e.texParameterf(e.TEXTURE_2D,p.TEXTURE_MAX_ANISOTROPY_EXT,u)},z=function(a){if(a in c){delete c[a];var b=Object.keys(d),f=Object.keys(c);k.forEach(function(c){c(a,b,f)});A()}},y=function(a,f){b.assert(void 0===c[a]);c[a]=!0;var d=l[a];b.assert(void 0!==d);setTimeout(function(){d.loadGl(function(){z(a);q=!0},f,e,m,g())},
0)},A=function(){var b=[],g;g=0;for(f=a.length;g<f;++g){var k=a[g][0],l=d[k];void 0!==l&&(0===l.getRefCnt()?(e.deleteTexture(l.getGLName()),delete d[k]):b.push(a[g]))}a=b;b=Math.min(8-Object.keys(c).length,a.length);for(g=0;g<b;++g)y(a[g][0],a[g][1]);a.splice(0,b)}}})},"esri/layers/support/FeatureType":function(){define("../../core/declare dojo/_base/lang dojo/_base/array ../../core/lang ../../symbols/support/jsonUtils ./RangeDomain ./CodedValueDomain ./InheritedDomain ./FeatureTemplate".split(" "),
function(b,h,l,m,g,e,d,c,a){return b(null,{declaredClass:"esri.layers.support.FeatureType",constructor:function(b){if(b&&h.isObject(b)){this.id=b.id;this.name=b.name;var l=b.symbol;l&&(this.symbol=g.fromJSON(l));var l=b.domains,n,m=this.domains={};for(n in l)if(l.hasOwnProperty(n)){var q=l[n];switch(q.type){case "range":m[n]=new e(q);break;case "codedValue":m[n]=new d(q);break;case "inherited":m[n]=new c(q)}}if(n=b.templates){l=this.templates=[];for(b=0;b<n.length;b++)l.push(new a(n[b]))}}},toJson:function(){try{throw Error("toJson is deprecated, use toJSON instead");
}catch(a){console.warn(a.stack)}return this.toJSON()},toJSON:function(){var a={id:this.id,name:this.name,symbol:this.symbol&&this.symbol.toJSON()},c,b=this.domains,d=this.templates,e=m.fixJson;if(b){var g=a.domains={};for(c in b)b.hasOwnProperty(c)&&(g[c]=b[c]&&b[c].toJSON());e(g)}d&&(a.templates=l.map(d,function(a){return a.toJSON()}));return e(a)}})})},"esri/views/3d/terrain/TerrainConst":function(){define([],function(){var b={LayerClass:{MAP:0,ELEVATION:1,LAYER_CLASS_COUNT:2},TileUpdateTypes:{NONE:0,
SPLIT:1,VSPLITMERGE:2,MERGE:4,DECODE_LERC:8,UPDATE_GEOMETRY:16,UPDATE_TEXTURE:32},TILE_LOADING_DEBUGLOG:!1,ELEVATION_NODATA_VALUE:3.40282347E38/10,ELEVATION_DESIRED_RESOLUTION_LEVEL:4,TILEMAP_SIZE_EXP:5,Spherical:{ELEVATION_STARTS_AT_LEVEL:8},Planar:{ELEVATION_STARTS_AT_LEVEL:0}};b.TILEMAP_SIZE=1<<b.TILEMAP_SIZE_EXP;return b})},"esri/views/3d/navigation/Action":function(){define(["../../../core/Accessor","../../../core/Evented","../webgl-engine/lib/Camera","../lib/glMatrix","dojo/on"],function(b,
h,l,m,g){var e=m.vec3d,d=m.vec2d;return b.createSubclass([h],{classMetadata:{properties:{type:{},picker:{getter:function(){return this.navigation.picker},readOnly:!0},currentCamera:{getter:function(){return this.navigation.currentCamera}},targetCamera:{getter:function(){return this.navigation.targetCamera}},constraints:{getter:function(){return this.navigation.constraints},readOnly:!0},renderCoordsHelper:{getter:function(){return this.navigation.renderCoordsHelper},readOnly:!0},minPoiDist:{getter:function(){return this.navigation.minPoiDist},
readOnly:!0}}},constructor:function(c){this._tmpEvent={type:null,phase:null,x:void 0,y:void 0};this._mouseDownCamera=new l;this._navPickPoint=e.create();this._dragLastPoint=d.create();this._dragBeginPoint=d.create();this.navigation=c;var a=this;["minPoiDist","renderCoordsHelper","constraints","picker"].forEach(function(b){c.watch(b,function(){a.notifyChange(b)})});this.active=!1},emit:function(c,a,b){this._tmpEvent.type=this.type;this._tmpEvent.phase=c;this._tmpEvent.x=a;this._tmpEvent.y=b;g.emit(this,
c,this._tmpEvent);g.emit(this.navigation,this.type,this._tmpEvent)},intersectManifold:function(c,a,b,d){return this.navigation.intersectManifold(c,a,b,d)},fixTargetUpVector:function(){return this.navigation.fixTargetUpVector()},setPoiAuto:function(c,a){return this.navigation.setPoiAuto(c,a)},normalizeCoordinate:function(c,a){a[0]=c[0]/this.currentCamera.width;a[1]=c[1]/this.currentCamera.height},worldUpAtPosition:function(c,a){return this.renderCoordsHelper.worldUpAtPosition(c,a)},applyConstraints:function(c,
a){return this.navigation.applyConstraints(c,a)},constrainTargetEyeByElevation:function(c){return this.navigation.constrainTargetEyeByElevation(c)},constrainTargetEyeByElevationAndMoveLookAt:function(){return this.navigation.constrainTargetEyeByElevationAndMoveLookAt()},targetAndCurrentChanged:function(c){return this.navigation.targetAndCurrentChanged(c)},targetAnimatedChanged:function(c){return this.navigation.targetAnimatedChanged(c)},currentReachedTarget:function(c){return this.navigation.currentReachedTarget(c)},
setCurrentToTarget:function(){return this.navigation.setCurrentToTarget()},animationStarted:function(){return this.navigation.animationStarted()},limitAltitude:function(c,a,b,d){return this.navigation.limitAltitude(c,a,b,d)},limitTiltByConstraints:function(c,a,b,d){return this.navigation.limitTiltByConstraints(c,a,b,d)},createPickRay:function(c,a,b,d,e){return this.picker.createPickRay(c,a,b,d,e)},pickAlongRay:function(c,a,b,d,e,g,l){return this.picker.pickAlongRay(c,a,b,d,e,g,l)},pickPointInScreen:function(c,
a){return this.picker.pickPointInScreen(c,a)},pickFreePointInScreen:function(c,a){return this.picker.pickFreePointInScreen(c,a)},pickInScreen:function(c){return this.picker.pickInScreen(c)}})})},"esri/views/3d/terrain/TerrainRenderer":function(){define("dojo/Deferred dojo/when ./TileUtils ./TerrainConst ./TileGeometryFactory ../support/PreallocArray ../support/ObjectPool ../webgl-engine/lib/GLVBO ../webgl-engine/lib/GLIBO ../webgl-engine/lib/ShaderVariations dojo/text!./TerrainMaterial.xml ../webgl-engine/materials/internal/MaterialUtil ../webgl-engine/lib/GLSLProgram ../webgl-engine/lib/Util ../webgl-engine/lib/GLUtil ../lib/glMatrix".split(" "),
function(b,h,l,m,g,e,d,c,a,k,p,n,u,q,t,r){var v=q.assert,x=r.vec2d,w=r.vec3d,f=r.vec4d,s=r.mat4d.identity(),z=[2,2],y=[0,0],A=w.create(),B,E=n.Layouts.PosTex,F=x.create(),G=function(){this.overlayTexOffset=x.create();this.texOffset=x.create();this.geometryInfo={geometry:null,numSurfaceIndices:0,numSkirtIndices:0,numWithoutSkirtIndices:0,numVertsPerRow:0};this.init()};G.prototype.init=function(){this.geometryInfo.geometry=null;this.geometryInfo.numSurfaceIndices=0;this.geometryInfo.numSkirtIndices=
0;this.geometryInfo.numWithoutSkirtIndices=0;this.geometryInfo.numVertsPerRow=0;this.textureReference=this.texture=this.ibo=this.vbo=this.geometryState=null;x.set2(0,0,this.texOffset);this.texScale=1;this.overlayTexId=null;this.overlayOpacity=this.overlayTexScale=1;this.localOrigin=null};G.prototype.updateGeometryState=function(a){return this.geometryState=a.geometryState(this.geometryState)};r=function(r){function M(a,c){var b=a.screenDepth,f=c.screenDepth;return b<f?-fa:b>f?fa:0}function T(a,c){return 0===
a.tiles.length?-fa:0===c.tiles.length?fa:M(a.tiles.data[0],c.tiles.data[0])}function K(a,c){void 0===c&&(c=P.subdivisionReduceLevels);return 0===c?a:0>c?Math.floor((a-1)*(1<<-c))+1:Math.floor((a-1)/(1<<c))+1}var C,D,L=!1,W=null,ca=null,V=null,R={},N=new d(100,G),H=new e(10,function(){return{root:null,tiles:new e(300)}}),O=new l.IteratorPreorder,I,J,S,U,ba=!0,X=1,$=!0,P={mode:"none",width:1.5,falloff:1.5,wireOpacity:1,surfaceOpacity:0,color:[1,1,1,0],subdivision:"geometry",subdivisionReduceLevels:0},
aa=!1,da=!1,Y=!1,fa=1,ga=!0,ea=null,ia=null,ja=null,Z=null,ha=null;this.updateTileBackground=function(a){Z&&Z.reject();ha=a;var c=new b;Z=c;if(a){var f=new Image;f.src=a instanceof Image?a.src:a;f.onload=function(){c.isFulfilled()||c.resolve(f)}}else c.resolve(null);this.renderTileBackground();return c.promise};var na=0,sa=0,xa=0,qa=0;this.numTileTexturesComposited=0;this.castShadows=!1;this.loaded=function(){};var ya=!1,Fa=!0,wa=!1,ma=new e(10),oa=0,Ga=new e(30),Ia=new d(10,function(){this.extent=
f.create();this.maxScale=this.minScale=0;this.callback=null});this.renderTileBackground=function(){if(C&&Z)return Z.then(function(a){ja=this._buildTexture();a&&t.texImage2D(a,ja,C,null,null,!1,!1,!1);W&&l.traverseTilesPreorder(W,function(a){this.updateTileTexture(a)}.bind(this))}.bind(this))};this.setContext=function(a){C=a;J=C.getExtension("EXT_texture_filter_anisotropic")||C.getExtension("MOZ_EXT_texture_filter_anisotropic")||C.getExtension("WEBKIT_EXT_texture_filter_anisotropic");v(!B||B===J.TEXTURE_MAX_ANISOTROPY_EXT,
"contexts have different definitions afExt.TEXTURE_MAX_ANISOTROPY_EXT");null!=J&&(B=J.TEXTURE_MAX_ANISOTROPY_EXT,S=C.getParameter(J.MAX_TEXTURE_MAX_ANISOTROPY_EXT),U=Math.min(8,S));a=C.getExtension("OES_element_index_uint");g.setSupportsUintIndices(!!a);h(this.renderTileBackground(),function(){L=!0;this.setNeedsRender()}.bind(this));a=new Float32Array(20);a[0]=-1;a[1]=-1;a[2]=0;a[3]=0;a[4]=0;a[5]=1;a[6]=-1;a[7]=0;a[8]=1;a[9]=0;a[10]=-1;a[11]=1;a[12]=0;a[13]=0;a[14]=1;a[15]=1;a[16]=1;a[17]=0;a[18]=
1;a[19]=1;ia=new c(a,E,C);ea=C.createFramebuffer()};this.setTextureRep=function(a){D=a};this.loadShaders=function(a,c,b){a.vsTerrain||a._parse(p);C.getExtension("OES_standard_derivatives");var f=new k("terrain",["vsTerrain","fsTerrain"],null,b,c,a,C);f.addDefine("Spherical","SPHERICAL");f.addDefine("Overlay","OVERLAY");f.addDefine("Atmosphere","ATMOSPHERE");f.addDefine("Wireframe","WIREFRAME");f.addDefine("TileBorders","TILE_BORDERS");f.addBinaryShaderSnippetSuffix("Wireframe","Wireframe",[!1,!0]);
c=new k("terrainNormal",["vsTerrainNormal","fsNormal"],null,b,c,a,C);c.addDefine("Spherical","SPHERICAL");c.addDefine("AlphaZero","ALPHA_ZERO");V={depth:b.get("depth"),depthShadowMap:b.get("depthShadowMap"),depthOnly:u.fromSnippets("vsTerrainDepthOnly","fsTerrainDepthOnly",a,C),blendLayers:u.fromSnippets("vertexShaderBlendLayers","fragmentShaderBlendLayers",a,C)};ca={color:f,normal:c};this._updatePrograms()};this._updatePrograms=function(){var a="spherical"===r,c="shader"===P.mode;V.color=ca.color.getProgram([a,
!0,a,c,aa,c||aa]);V.normal=ca.normal.getProgram([a,!0])};this.install=function(a){a.addExternalRenderer([1,3],this)};this.uninstall=function(a){a.removeExternalRenderer([1,3],this)};this.setRootTiles=function(a){W=a};this.loadTile=function(a){v(null===a.renderData);a.renderData=N.acquire();a.renderData.init();var c=this.getLocalOriginOfTile(a),b=a.createGeometry(a.renderData.updateGeometryState(a),c,"debug"===P.mode,a.renderData.geometryInfo);a.renderData.localOrigin=c;this._setTileGeometry(a,b);
this.updateTileTexture(a);this.setNeedsRender()};this.queryVisibleScaleRange=function(a,c,b,d){var e=Ia.acquire();f.set(a,e.extent);e.minScale=c?c:-Number.MAX_VALUE;e.maxScale=null!=b?b:Number.MAX_VALUE;e.callback=d;Ga.push(e);this.setNeedsRender()};this._buildTexture=function(a){var c=C.createTexture();C.bindTexture(C.TEXTURE_2D,c);C.texParameteri(C.TEXTURE_2D,C.TEXTURE_WRAP_S,C.CLAMP_TO_EDGE);C.texParameteri(C.TEXTURE_2D,C.TEXTURE_WRAP_T,C.CLAMP_TO_EDGE);C.texParameteri(C.TEXTURE_2D,C.TEXTURE_MAG_FILTER,
C.LINEAR);U&&C.texParameterf(C.TEXTURE_2D,B,U);if(a)try{C.texImage2D(C.TEXTURE_2D,0,C.RGBA,C.RGBA,C.UNSIGNED_BYTE,a)}catch(b){C.texImage2D(C.TEXTURE_2D,0,C.RGBA,256,256,0,C.RGBA,C.UNSIGNED_BYTE,null),console.warn("TerrainRenderer: failed to execute 'texImage2D', cross-origin image may not be loaded.")}else C.texImage2D(C.TEXTURE_2D,0,C.RGBA,256,256,0,C.RGBA,C.UNSIGNED_BYTE,null);C.texParameteri(C.TEXTURE_2D,C.TEXTURE_MIN_FILTER,C.LINEAR_MIPMAP_LINEAR);C.generateMipmap(C.TEXTURE_2D);return c};this._composeTexture=
function(a,c,b){C.activeTexture(C.TEXTURE0);C.bindTexture(C.TEXTURE_2D,a);V.blendLayers.uniform1f("scale",c);V.blendLayers.uniform2fv("offset",b);C.drawArrays(C.TRIANGLE_STRIP,0,ia.getNum())};this._composeMapLayers=function(a,c,b,f,d){var e=m.LayerClass.MAP;a.renderData.texture||(a.renderData.texture=this._buildTexture());C.bindFramebuffer(C.FRAMEBUFFER,ea);C.framebufferTexture2D(C.FRAMEBUFFER,C.COLOR_ATTACHMENT0,C.TEXTURE_2D,a.renderData.texture,0);C.viewport(0,0,256,256);C.clearColor(0,0,0,0);C.clear(C.COLOR_BUFFER_BIT);
C.enable(C.BLEND);C.blendFuncSeparate(C.ONE_MINUS_DST_ALPHA,C.DST_ALPHA,C.ONE_MINUS_DST_ALPHA,C.ONE);V.blendLayers.use();V.blendLayers.uniform1i("tex",0);E.enableVertexAttribArrays(C,V.blendLayers,!1);ia.bind();ia.setPointers(V.blendLayers);for(var g=0;g<=b;g++){var k=c[g],l=null,h,n;k.data?(l=k,h=y,n=1):k.upsampleFromTile&&(k=k.upsampleFromTile,l=k.tile.layerInfo[e][g],h=k.offset,n=k.scale);l&&(l.data instanceof Image&&(l.data=this._buildTexture(l.data)),V.blendLayers.uniform1f("opacity",d[g]),this._composeTexture(l.data,
n,h))}f&&this._composeTexture(ja,1,y);C.bindTexture(C.TEXTURE_2D,a.renderData.texture);C.generateMipmap(C.TEXTURE_2D);E.disableVertexAttribArrays(C,V.blendLayers,!1);C.bindFramebuffer(C.FRAMEBUFFER,null);a=C.web3DDefaultState;C.blendFunc(a.blendFuncSrc,a.blendFuncDst);C.disable(C.BLEND);this.numTileTexturesComposited++};var ra=Array(20);this.updateTileTexture=function(a){for(var c=a.layerInfo[m.LayerClass.MAP],b=0;b<c.length;b++)c[b].pendingUpdates&=~m.TileUpdateTypes.UPDATE_TEXTURE;if(a.renderData){var f,
d=m.LayerClass.MAP,b=a.renderData,e,g=0;for(e=0;e<c.length;e++){f=c[e];var k=a.parentSurface.layerViewByIndex(e,d),l=k.layer.get("opacity");ra[e]=l;if(f.data||f.upsampleFromTile)if(g++,!k.isTransparent()&&1<=l)break}f=!1;e===c.length&&(f=!0,e--);0===g?(b.textureReference=ja,x.set2(0,0,b.texOffset),b.texScale=1):1===g&&!f?(f=c[e],f.data?(c=f,x.set2(0,0,b.texOffset),b.texScale=1):(a=f.upsampleFromTile,c=a.tile.layerInfo[d][e],x.set(a.offset,b.texOffset),b.texScale=a.scale),c&&(c.data instanceof Image&&
(c.data=this._buildTexture(c.data)),b.textureReference=c.data)):(this._composeMapLayers(a,c,e,f,ra),b.textureReference=null,x.set2(0,0,b.texOffset),b.texScale=1);this.setNeedsRender()}};this.releaseTileTexture=function(a){C.deleteTexture(a)};this.releaseTileTextures=function(a){a=a.layerInfo[m.LayerClass.MAP];for(var c=0;c<a.length;c++){var b=a[c];b&&b.data instanceof WebGLTexture&&C.deleteTexture(b.data)}};this.updateTileGeometryNeedsUpdate=function(a){return a.renderData.updateGeometryState(a).needsUpdate};
this._updateTileGeometry=function(a){for(var c=a.renderData.geometryState,b=a.layerInfo[m.LayerClass.ELEVATION],f=0;f<b.length;f++)b[f].pendingUpdates&=~m.TileUpdateTypes.UPDATE_GEOMETRY;return c.needsUpdate?(a.renderData.vbo&&this._releaseTileGeometry(a),c=a.createGeometry(c,a.renderData.localOrigin,"debug"===P.mode,a.renderData.geometryInfo),this._setTileGeometry(a,c),!0):!1};this.updateTileGeometry=function(a){a.renderData.updateGeometryState(a);return this._updateTileGeometry(a)};this.unloadTile=
function(a){this._releaseTileGeometry(a);a.renderData.texture&&C.deleteTexture(a.renderData.texture);N.release(a.renderData);a.renderData=null};this.getLocalOriginOfTile=function(a){if(10<=a.lij[0]){for(;7<a.lij[0];)a=a.parent;return a.centerAtSeaLevel}if("spherical"===r)return A;for(;a.parent;)a=a.parent;return a.centerAtSeaLevel};this.setVisibility=function(a){ba=a;this.setNeedsRender()};this.getStats=function(){return{numTilesRendered:sa,numTilesCulled:xa,numTrianglesRendered:na,numOriginsRendered:qa}};
this.setMaxAnisotropy=function(a){J&&(a=q.clamp(a,1,S),a!==U&&(U=a,W&&l.traverseTilesPreorder(W,function(a){a.renderData&&a.renderData.texture&&(C.bindTexture(C.TEXTURE_2D,a.renderData.texture),C.texParameterf(C.TEXTURE_2D,J.TEXTURE_MAX_ANISOTROPY_EXT,U))})));this.setNeedsRender()};this.getMaxAnisotropy=function(){return U};this.setDisableRendering=function(a){da=!!a;this.setNeedsRender()};this.getOpacity=function(){return X};this.getWireframeEnabled=function(){return"shader"===P.mode};this.setWireframe=
function(a){if(!a||!0===a)a={mode:a?"shader":"none"};if(void 0!==a.mode&&P.mode!==a.mode){var c="debug"===P.mode,b="debug"===a.mode;P.mode=a.mode;this._updatePrograms();c!==b&&W&&l.traverseTilesPreorder(W,function(a){if(a.renderData){a.renderData.vbo&&this._releaseTileGeometry(a);var c=a.createGeometry(a.renderData.updateGeometryState(a),a.renderData.localOrigin,b,a.renderData.geometryInfo);this._setTileGeometry(a,c)}}.bind(this));this.setNeedsRender()}for(var f in a)P.hasOwnProperty(f)&&(P[f]=a[f]),
this.setNeedsRender()};this.setOpacity=function(a){X=a;this.setNeedsRender()};this.setDrawSkirts=function(a){$=a;this.setNeedsRender()};this.setCullBackFaces=function(a){Y=a;this.setNeedsRender()};this.setRenderOrder=function(a){fa=a;this.setNeedsRender()};this.setBorders=function(a){aa!==a&&(aa=a,"none"===P.mode&&(P.transitionTime=0),this._updatePrograms(),this.setNeedsRender())};this.setFrontMostTransparent=function(a){ga!==a&&(ga=a,this.setNeedsRender())};this.setNeedsRender=function(){Fa=!0;wa=
!1};this.resetNeedsRender=function(){wa&&(Fa=0!==Ga.length,wa=!1)};this.needsRender=function(){return Fa};var ta=w.create();this.isTransparent=function(){return 1>X||("shader"===P.mode||aa)&&(1>P.wireOpacity||1>P.surfaceOpacity)||!ha};this.render=function(a){if(L&&!da&&ba&&W){var c=this.isTransparent();if(a.slot===(c?3:1)){wa=!0;H.clear();I=null;this._renderCollectOrigins();if(0!==fa){for(var b=0;b<H.length;b++)this._sortFrontToBack(H.data[b].tiles,M);this._sortFrontToBack(H,T)}var f,d=!1,e=!1;f=
a.pass;var g=a.camera;if("material"===f){if((e=c)&&ga)d=V.depthOnly,d.use(),E.enableVertexAttribArrays(C,d,!1),C.colorMask(!1,!1,!1,!1),this._renderTilesDepthOnly(g,C,d),C.colorMask(!0,!0,!0,!0),C.depthFunc(C.EQUAL),C.depthMask(!1);f=V.color;d=!0;f.use();f.uniform1f("opacity",X);e&&C.enable(C.BLEND);!C.web3DDefaultState.cullEnabled&&Y?C.enable(C.CULL_FACE):C.web3DDefaultState.cullEnabled&&!Y&&C.disable(C.CULL_FACE);if("shader"===P.mode||aa)f.uniform1f("wireframe.width",P.width),f.uniform1f("wireframe.falloff",
Math.min(P.width,P.falloff)),f.uniform1f("wireframe.wireOpacity",P.wireOpacity*X),f.uniform1f("wireframe.surfaceOpacity",P.surfaceOpacity*X),f.uniform4fv("wireframe.color",P.color),f.uniform1f("wireframe.near",g.near),f.uniform1f("wireframe.far",g.far),"geometry"!==P.subdivision&&"constant"!==P.subdivision&&f.uniform1f("wireframe.subdivision",K(P.subdivision))}else if("materialDepthShadowMap"===f&&this.castShadows||"materialDepth"===f)f="materialDepthShadowMap"===f?V.depthShadowMap:V.depth,f.use(),
f.uniformMatrix4fv("model",s),F[0]=g.near,F[1]=g.far,f.uniform2fv("nearFar",F);else if("materialNormal"===f)f=V.normal,f.use();else return;a.shadowMap&&a.shadowMap.bind(f);a.ssaoHelper&&a.ssaoHelper.setUniforms(f);E.enableVertexAttribArrays(C,f,!1);d&&(f.uniform1i("tex",4),f.uniform1i("overlayTex",5));f.uniformMatrix4fv("viewNormal",g.viewInverseTransposeMatrix);f.uniformMatrix4fv("proj",g.projectionMatrix);f.uniform3fv("lightDirection",a.lightingData.getLightDirection());g=g.viewMatrix;w.set3(g[12],
g[13],g[14],ta);f.uniform3fv("viewDirection",ta);for(qa=na=xa=sa=0;ma.length<ma.data.length&&0<Ga.length;)b=Ga.pop(),ma.push(b);oa=ma.length;for(b=0;b<H.length;b++){var k=H.data[b];f.uniform3fv("origin",k.origin);n.bindView(k.origin,g,f);a.shadowMap&&a.shadowMap.bindView(f,k.origin);qa++;this._renderTiles(k.tiles,f,d)}E.disableVertexAttribArrays(C,f,!1);C.activeTexture(C.TEXTURE0);C.bindBuffer(C.ELEMENT_ARRAY_BUFFER,null);e&&C.disable(C.BLEND);c&&ga&&(C.depthFunc(C.LESS),C.depthMask(!0));!C.web3DDefaultState.cullEnabled&&
Y?C.disable(C.CULL_FACE):C.web3DDefaultState.cullEnabled&&!Y&&C.enable(C.CULL_FACE);for(a=0;a<ma.length;a++)c=ma.data[a],Ia.release(c),c.callback(a>=oa),c.callback=null;ma.clear();0<sa&&!ya&&(ya=!0,this.loaded&&this.loaded())}}};this._renderCollectOrigins=function(){for(var a=0;a<W.length;a++){var c=W[a],b=H.next();b.root=c;b.origin="spherical"===r?A:c.centerAtSeaLevel;b.tiles.clear();this._renderCollectOriginsForRoot(b)}};this._renderCollectOriginsForRoot=function(a){for(O.reset(a.root);!O.done;){var c=
O.next(),b=c.renderData;if(b&&!c.visible)xa++,O.skip();else{var f=H.peek();if(7===c.lij[0]){if(f===a||0!==f.tiles.length)f=H.next(),f.tiles.clear();f.root=c;f.origin=c.centerAtSeaLevel}if(b){b=c.lij[0];10<=b?H.peek().tiles.push(c):a.tiles.push(c);if(null===I||I.lij[0]<b)I=c;O.skip()}}}};this._sortFrontToBack=function(a,c){a.sort(c)};this._renderTilesDepthOnly=function(a,c,b){var f=a.viewMatrix;b.uniformMatrix4fv("proj",a.projectionMatrix);for(a=0;a<H.length;a++){var d=H.data[a];b.uniform3fv("origin",
d.origin);n.bindView(d.origin,f,b);for(var e=0;e<d.tiles.length;e++){var g=d.tiles.data[e].renderData;g.vbo.bind();g.vbo.setPointers(b);var k=g.ibo;k.bind();var l=k.getNum();$||(l=g.geometryInfo.numWithoutSkirtIndices);c.drawElements(c.TRIANGLES,l,k.getType(),0)}}};this._renderTiles=function(a,c,b){if(0!==a.length){var f=C.TRIANGLES;"debug"===P.mode&&(f=C.LINES);var d="geometry"===P.subdivision,e="constant"===P.subdivision,g=I,k;g?(k=g.lij[0],g=K(g.renderData.geometryInfo.numVertsPerRow)):g=k=16;
for(var l=0;l<a.length;l++){var h=a.data[l],n=h.renderData;n.vbo.bind();n.vbo.setPointers(c);var s=n.ibo;s.bind();if(b){c.uniform2fv("texOffset",n.texOffset);c.uniform1f("texScale",n.texScale);C.activeTexture(C.TEXTURE0+4);C.bindTexture(C.TEXTURE_2D,n.textureReference||n.texture);if(n.overlayTexId){var m=c,p=n,r=p.overlayTexId,q=R[r];q||(q=D.aquire(r),v(q),R[r]=q);m.uniform2fv("overlayTexOffset",p.overlayTexOffset);m.uniform1f("overlayTexScale",p.overlayTexScale);m.uniform1f("overlayOpacity",p.overlayOpacity);
C.activeTexture(C.TEXTURE0+4+1);C.bindTexture(C.TEXTURE_2D,q)}else c.uniform2fv("overlayTexOffset",z);if(("shader"===P.mode||aa)&&(d||e))d?c.uniform1f("wireframe.subdivision",K(n.geometryInfo.numVertsPerRow)):(m=K(g,h.lij[0]-k),c.uniform1f("wireframe.subdivision",m))}m=s.getNum();$||(m=n.geometryInfo.numWithoutSkirtIndices);C.drawElements(f,m,s.getType(),0);h.renderOrder=sa;sa++;na+=m/3;n=h.extent;h=h.lij[0];for(s=0;s<oa;)m=ma.data[s],p=m.extent,h>=m.minScale&&h<=m.maxScale&&p[0]<=n[2]&&p[2]>=n[0]&&
p[1]<=n[3]&&p[3]>=n[1]?(ma.swap(s,oa-1),oa--):s++}}};var Aa=w.create(),Ca=w.create(),Ja=w.create();this.intersect=function(a,c,b,f){if(W&&!("select"===a.mode&&this.isTransparent())){w.subtract(b,c,Aa);var d=a.getMinResult(),e=a.getMaxResult();for(O.reset(W);!O.done;){var g=O.next();if(null!==g.renderData&&g.visible){var k=g.renderData.geometryInfo.geometry,h=g.renderData.localOrigin;w.subtract(c,h,Ca);w.subtract(b,h,Ja);n.intersectTriangleGeometry(k,0,void 0,f,c,b,Ca,Ja,void 0,a.tolerance,function(a,
c){if(0<=a){var b;if(void 0===d.dist||a<d.dist)b=l.lij2str(g.lij[0],g.lij[1],g.lij[2]),d.set(void 0,b,a,c,void 0),d.setIntersector("terrain");if(void 0===e.dist||a>e.dist)b=l.lij2str(g.lij[0],g.lij[1],g.lij[2]),e.set(void 0,b,a,c,void 0),e.setIntersector("terrain")}})}}}};this._setTileGeometry=function(b,f){var d=b.renderData,e=f.geometry.getData(),k=e.getVertexAttr().terrain.data;d.vbo=new c(k,E,C);e=e.getFaces()[0].indices.terrain;d.ibo=new a(e,C);d.geometryInfo.geometry&&g.releaseGeometry(d.geometryInfo.geometry);
d.geometryInfo=f;this.setNeedsRender()};this._releaseTileGeometry=function(a){a=a.renderData;a.vbo.dispose();a.ibo.dispose();a.vbo=null;a.ibo=null;a.geometryInfo.geometry&&g.releaseGeometry(a.geometryInfo.geometry);a.geometryInfo.geometry=null;this.setNeedsRender()}};r.TileRenderData=G;return r})},"esri/views/3d/webgl-engine/materials/WaterMaterial":function(){define(["dojo/text!./WaterMaterial.xml","./internal/MaterialUtil","../lib/GLSLProgram","../lib/GLSLShader"],function(b,h,l,m){var g=function(b,
c,a,g,l,n){h.basicMaterialConstructor(this,n);var m=h.Layouts.Pos;this.dispose=function(){};this.getNoiseTextureId=function(){return b};this.getReflTextureId=function(){return c};this.getColor=function(){return a};this.getScale=function(){return g};this.getSpeed=function(){return l};this.getOutputAmount=function(a){return a*m.getStride()};this.getVertexBufferLayout=function(){return m};this.fillInterleaved=function(a,c,b,d,e,g,f){h.fillInterleaved(a,c,b,d,m,e,g,f)};this.intersect=h.intersectTriangleGeometry;
this.getGLMaterials=function(){return[e,void 0,void 0]};this.getAllTextureIds=function(){return[b,c]}},e=function(b,c,a){h.basicGLMaterialConstructor(this,b);var e=c.get("water");c={noiseTextureId:b.getNoiseTextureId(),reflTextureId:b.getReflTextureId()};h.multiTextureGLMaterialConstructor(this,a,c,[["noiseTextureId",void 0,"noiseTex"],["reflTextureId",void 0,"reflTex"]]);var g=b.getColor(),l=b.getScale(),m=b.getSpeed(),q=Date.now();this.beginSlot=function(a){return 2===a};this.getProgram=function(){return e};
this.bind=function(a,c){e.use();this.bindTextures(a,e);e.uniform3fv("color",g);e.uniform1f("scale",l);var h=(Date.now()-q)/1E5*m,h=h-Math.floor(h);e.uniform1f("speed",h);b.getVertexBufferLayout().enableVertexAttribArrays(a,e)};this.release=function(a){b.getVertexBufferLayout().disableVertexAttribArrays(a,e)};this.bindView=function(a,c){var b=c.origin;h.bindView(b,c.view,e);h.bindCamPos(b,c.viewInvTransp,e);c.shadowMap.bindView(e,b)};this.bindInstance=function(a,c){e.uniformMatrix4fv("model",c.transformation)};
this.getDrawMode=function(a){return a.TRIANGLES}};g.loadShaders=function(d,c,a,e){d._parse(b);c=new m(e.VERTEX_SHADER,d.vertexShaderWater,e);d=new m(e.FRAGMENT_SHADER,d.fragmentShaderWater,e);e=new l([c,d],e);a.add("water",e)};return g})},"esri/layers/ArcGISDynamicLayer":function(){define("../core/declare dojo/_base/lang dojo/io-query ../config ../request ../core/urlUtils ./DynamicLayer ./mixins/ArcGISDynamicService".split(" "),function(b,h,l,m,g,e,d,c){return b([d,c],{declaredClass:"esri.layers.ArcGISDynamicMapServiceLayer",
normalizeCtorArgs:function(a,c){return"string"===typeof a?h.mixin({url:a},c):a},initialize:function(){this.addResolvingPromise(this._fetchService())},alwaysRefetch:!1,popupTemplates:null,getImageUrl:function(a,c){var b=this.parsedUrl.path+"/export",d=h.mixin({},this.parsedUrl.query,this.getExportImageParameters(a),{f:"image",token:this.token,_ts:this.alwaysRefetch?(new Date).getTime():null}),u=e.addProxy(b+"?"+l.objectToQuery(d));if(u.length>m.request.maxUrlLength){d.f="json";var q=this;g({url:b,
content:d,handleAs:"json",callbackParamName:"callback"}).then(function(a){c(e.addProxy(a.href+"?token\x3d"+q.token))})}else c(u)},_fetchService:function(){return g({url:this.parsedUrl.path,content:h.mixin({f:"json"},this.parsedUrl.query),handleAs:"json",callbackParamName:"callback"}).then(function(a){a._ssl&&(delete a._ssl,this.url=this.url.replace(/^http:/i,"https:"));this.read(a)}.bind(this))}})})},"dojo/_base/fx":function(){define("./kernel ./config ./lang ../Evented ./Color ../aspect ../sniff ../dom ../dom-style".split(" "),
function(b,h,l,m,g,e,d,c,a){var k=l.mixin,p={},n=p._Line=function(a,c){this.start=a;this.end=c};n.prototype.getValue=function(a){return(this.end-this.start)*a+this.start};var u=p.Animation=function(a){k(this,a);l.isArray(this.curve)&&(this.curve=new n(this.curve[0],this.curve[1]))};u.prototype=new m;l.extend(u,{duration:350,repeat:0,rate:20,_percent:0,_startRepeatCount:0,_getStep:function(){var a=this._percent,c=this.easing;return c?c(a):a},_fire:function(a,c){var b=c||[];if(this[a])if(h.debugAtAllCosts)this[a].apply(this,
b);else try{this[a].apply(this,b)}catch(d){console.error("exception in animation handler for:",a),console.error(d)}return this},play:function(a,c){this._delayTimer&&this._clearTimer();if(c)this._stopTimer(),this._active=this._paused=!1,this._percent=0;else if(this._active&&!this._paused)return this;this._fire("beforeBegin",[this.node]);var b=a||this.delay,d=l.hitch(this,"_play",c);if(0<b)return this._delayTimer=setTimeout(d,b),this;d();return this},_play:function(a){this._delayTimer&&this._clearTimer();
this._startTime=(new Date).valueOf();this._paused&&(this._startTime-=this.duration*this._percent);this._active=!0;this._paused=!1;a=this.curve.getValue(this._getStep());this._percent||(this._startRepeatCount||(this._startRepeatCount=this.repeat),this._fire("onBegin",[a]));this._fire("onPlay",[a]);this._cycle();return this},pause:function(){this._delayTimer&&this._clearTimer();this._stopTimer();if(!this._active)return this;this._paused=!0;this._fire("onPause",[this.curve.getValue(this._getStep())]);
return this},gotoPercent:function(a,c){this._stopTimer();this._active=this._paused=!0;this._percent=a;c&&this.play();return this},stop:function(a){this._delayTimer&&this._clearTimer();if(!this._timer)return this;this._stopTimer();a&&(this._percent=1);this._fire("onStop",[this.curve.getValue(this._getStep())]);this._active=this._paused=!1;return this},destroy:function(){this.stop()},status:function(){return this._active?this._paused?"paused":"playing":"stopped"},_cycle:function(){if(this._active){var a=
(new Date).valueOf(),a=0===this.duration?1:(a-this._startTime)/this.duration;1<=a&&(a=1);this._percent=a;this.easing&&(a=this.easing(a));this._fire("onAnimate",[this.curve.getValue(a)]);1>this._percent?this._startTimer():(this._active=!1,0<this.repeat?(this.repeat--,this.play(null,!0)):-1==this.repeat?this.play(null,!0):this._startRepeatCount&&(this.repeat=this._startRepeatCount,this._startRepeatCount=0),this._percent=0,this._fire("onEnd",[this.node]),!this.repeat&&this._stopTimer())}return this},
_clearTimer:function(){clearTimeout(this._delayTimer);delete this._delayTimer}});var q=0,t=null,r={run:function(){}};l.extend(u,{_startTimer:function(){this._timer||(this._timer=e.after(r,"run",l.hitch(this,"_cycle"),!0),q++);t||(t=setInterval(l.hitch(r,"run"),this.rate))},_stopTimer:function(){this._timer&&(this._timer.remove(),this._timer=null,q--);0>=q&&(clearInterval(t),t=null,q=0)}});var v=d("ie")?function(c){var b=c.style;!b.width.length&&"auto"==a.get(c,"width")&&(b.width="auto")}:function(){};
p._fade=function(b){b.node=c.byId(b.node);var f=k({properties:{}},b);b=f.properties.opacity={};b.start=!("start"in f)?function(){return+a.get(f.node,"opacity")||0}:f.start;b.end=f.end;b=p.animateProperty(f);e.after(b,"beforeBegin",l.partial(v,f.node),!0);return b};p.fadeIn=function(a){return p._fade(k({end:1},a))};p.fadeOut=function(a){return p._fade(k({end:0},a))};p._defaultEasing=function(a){return 0.5+Math.sin((a+1.5)*Math.PI)/2};var x=function(a){this._properties=a;for(var c in a){var b=a[c];
b.start instanceof g&&(b.tempColor=new g)}};x.prototype.getValue=function(a){var c={},b;for(b in this._properties){var d=this._properties[b],e=d.start;e instanceof g?c[b]=g.blendColors(e,d.end,a,d.tempColor).toCss():l.isArray(e)||(c[b]=(d.end-e)*a+e+("opacity"!=b?d.units||"px":0))}return c};p.animateProperty=function(d){var f=d.node=c.byId(d.node);d.easing||(d.easing=b._defaultEasing);d=new u(d);e.after(d,"beforeBegin",l.hitch(d,function(){var c={},b;for(b in this.properties){if("width"==b||"height"==
b)this.node.display="block";var d=this.properties[b];l.isFunction(d)&&(d=d(f));d=c[b]=k({},l.isObject(d)?d:{end:d});l.isFunction(d.start)&&(d.start=d.start(f));l.isFunction(d.end)&&(d.end=d.end(f));var e=0<=b.toLowerCase().indexOf("color"),h=function(c,b){var f={height:c.offsetHeight,width:c.offsetWidth}[b];if(void 0!==f)return f;f=a.get(c,b);return"opacity"==b?+f:e?f:parseFloat(f)};"end"in d?"start"in d||(d.start=h(f,b)):d.end=h(f,b);e?(d.start=new g(d.start),d.end=new g(d.end)):d.start="opacity"==
b?+d.start:parseFloat(d.start)}this.curve=new x(c)}),!0);e.after(d,"onAnimate",l.hitch(a,"set",d.node),!0);return d};p.anim=function(a,c,b,d,e,g){return p.animateProperty({node:a,duration:b||u.prototype.duration,properties:c,easing:d,onEnd:e}).play(g||0)};k(b,p);b._Animation=u;return p})},"esri/layers/Layer":function(){define("require ../core/declare dojo/Deferred ../core/Accessor ../core/Promise ../core/Evented ../core/urlUtils ../kernel ../request ../geometry/SpatialReference ../geometry/Extent".split(" "),
function(b,h,l,m,g,e,d,c,a,k,p){var n=0,u="multiply screen overlay darken lighten color-dodge color-burn hard-light soft-light difference exclusion hue saturation color luminosity".split(" ");return h([m,g,e],{declaredClass:"esri.layers.mixins.Layer",classMetadata:{properties:{hasAttributionData:{readOnly:!0,dependsOn:["attributionDataUrl"]},parsedUrl:{readOnly:!0,dependsOn:["url"]},credential:{readOnly:!0,dependsOn:["loaded","parsedUrl"]},visible:{}},computed:{token:["credential.token"]}},constructor:function(){this.id=
Date.now().toString(16)+"-layer-"+n++;this.then(function(a){this.loaded=!0;this.emit("load")}.bind(this),function(a){this.loaded=!1;this.emit("load-error",a);this.emit("error",a)}.bind(this))},attributionDataUrl:null,blendMode:"normal",_blendModeSetter:function(a){return-1<u.indexOf(a)?a:"normal"},credential:null,_credentialGetter:function(){var a=this.loaded&&this.parsedUrl&&c.id&&c.id.findCredential(this.parsedUrl.path)||null;a&&a.ssl&&(this.url=this.url.replace(/^http:/i,"https:"));return a},fullExtent:new p(-180,
-90,180,90,k.WGS84),hasAttributionData:null,_hasAttributionDataGetter:function(){return!!this.attributionDataUrl},initialExtent:new p(-180,-90,180,90,k.WGS84),listMode:"show",loaded:!1,minScale:0,_minScaleSetter:function(a){return a||0},maxScale:0,_maxScaleSetter:function(a){return a||0},opacity:1,_opacitySetter:function(a){return 0>a?0:1<a?1:a},_parsedUrlGetter:function(){return this.url?d.urlToObject(this.url):null},refreshInterval:0,showAttribution:!0,showLegend:!0,spatialReference:k.WGS84,_userToken:null,
_tokenGetter:function(){var a=this._userToken=this._userToken||this.get("parsedUrl.query.token"),c=this.get("credential.token");return a||c||null},_tokenSetter:function(a){this._userToken=a},visible:!0,url:null,_urlSetter:function(a){return d.normalize(a)},load:function(){},createLayerView:function(a){var c=new l,d=this.viewModulePaths[a.type];d?b([d],function(b){(new b({layer:this,view:a})).then(function(a){c.resolve(a)}.bind(this),function(a){c.reject(a)})}.bind(this)):c.reject(Error('No LayerView module available for layer "'+
this.declaredClass+'" and view type: "'+a.type+'"'));return c.promise},destroyLayerView:function(a,c){this.emit("layer-view-destroy",{layerView:c});c.destroy()},getAttributionData:function(){var c=this.attributionDataUrl;this.hasAttributionData&&c?c=a({url:c,content:{f:"json"},handleAs:"json"}):(c=new l,c.reject(Error("Layer does not have attribution data")),c=c.promise);return c},refresh:function(){this.emit("refresh")}})})},"dojo/uacss":function(){define(["./dom-geometry","./_base/lang","./domReady",
"./sniff","./_base/window"],function(b,h,l,m,g){var e=g.doc.documentElement;g=m("ie");var d=m("opera"),c=Math.floor,a=m("ff"),k=b.boxModel.replace(/-/,""),d={dj_quirks:m("quirks"),dj_opera:d,dj_khtml:m("khtml"),dj_webkit:m("webkit"),dj_safari:m("safari"),dj_chrome:m("chrome"),dj_gecko:m("mozilla"),dj_ios:m("ios"),dj_android:m("android")};g&&(d.dj_ie=!0,d["dj_ie"+c(g)]=!0,d.dj_iequirks=m("quirks"));a&&(d["dj_ff"+c(a)]=!0);d["dj_"+k]=!0;var p="",n;for(n in d)d[n]&&(p+=n+" ");e.className=h.trim(e.className+
" "+p);l(function(){if(!b.isBodyLtr()){var a="dj_rtl dijitRtl "+p.replace(/ /g,"-rtl ");e.className=h.trim(e.className+" "+a+"dj_rtl dijitRtl "+p.replace(/ /g,"-rtl "))}});return m})},"esri/symbols/ExtrudeSymbol3DLayer":function(){define(["../core/declare","dojo/_base/lang","../core/lang","./Symbol3DLayer"],function(b,h,l,m){return b(m,{type:"Extrude",size:0,material:null,toJSON:function(){var b={size:this.size};h.mixin(b,this.inherited(arguments));return l.fixJson(b,!0)}})})},"esri/identity/OAuthSignInHandler":function(){define("./Credential ../core/domUtils ../core/lang ../core/urlUtils dijit/Dialog dijit/registry dojo/_base/config dojo/_base/Deferred dojo/_base/kernel dojo/dom-attr dojo/i18n!esri/nls/jsapi dojo/io-query dojo/sniff dijit/form/Button dojo/query".split(" "),
function(b,h,l,m,g,e,d,c,a,k,p,n,u){return{_oAuthDfd:null,_oAuthIntervalId:0,_oAuthDialogContent:"\x3cdiv class\x3d'dijitDialogPaneContentArea'\x3e\x3cdiv style\x3d'padding-bottom: 5px; word-wrap: break-word;'\x3e${oAuthInfo}\x3c/div\x3e\x3cdiv style\x3d'margin: 0px; padding: 0px; height: 10px;'\x3e\x3c/div\x3e\x3cdiv class\x3d'esriErrorMsg' style\x3d'display: none; color: white; background-color: #D46464; text-align: center; padding-top: 3px; padding-bottom: 3px;'\x3e${invalidUser}\x3c/div\x3e\x3cdiv style\x3d'margin: 0px; padding: 0px; height: 10px;'\x3e\x3c/div\x3e\x3cdiv class\x3d'dijitDialogPaneActionBar'\x3e\x3cbutton data-dojo-type\x3d'dijit.form.Button' data-dojo-props\x3d'type:\"button\", \"class\":\"esriIdSubmit\"'\x3e${lblOk}\x3c/button\x3e\x3cbutton data-dojo-type\x3d'dijit.form.Button' data-dojo-props\x3d'type:\"button\", \"class\":\"esriIdCancel\"'\x3e${lblCancel}\x3c/button\x3e\x3c/div\x3e",
setOAuthRedirectionHandler:function(a){this._oAuthRedirectFunc=a},oAuthSignIn:function(a,b,d,e){var g=this._oAuthDfd=new c;g.resUrl_=a;g.sinfo_=b;g.oinfo_=d;var l=!e||!1!==e.oAuthPopupConfirmation;if(!d.popup||!l)return this._doOAuthSignIn(a,b,d),g.promise;this._nls||(this._nls=p.identity);this.oAuthDialog||(this.oAuthDialog=this._createOAuthDialog());a=this.oAuthDialog;b=e&&e.error;e=e&&e.token;h.hide(a.errMsg_);b&&(403==b.code&&e)&&(k.set(a.errMsg_,"innerHTML",this._nls.forbidden),h.show(a.errMsg_));
a.show();return g.promise},setOAuthResponseHash:function(a){var c=this._oAuthDfd;this._oAuthDfd=null;if(c&&a)if(clearInterval(this._oAuthIntervalId),"#"===a.charAt(0)&&(a=a.substring(1)),a=n.queryToObject(a),a.error)a=Error("access_denied"===a.error?"ABORTED":"OAuth: "+a.error+" - "+a.error_description),a.code="IdentityManagerBase.2",a.log=d.isDebug,c.errback(a);else{var e=c.oinfo_._oAuthCred,g=new b({userId:a.username,server:c.sinfo_.server,token:a.access_token,expires:(new Date).getTime()+1E3*Number(a.expires_in),
ssl:"true"===a.ssl,_oAuthCred:e});e.storage=a.persist?window.localStorage:window.sessionStorage;e.token=g.token;e.expires=g.expires;e.userId=g.userId;e.ssl=g.ssl;e.save();c.callback(g)}},_createOAuthDialog:function(){var c=this._nls,b=l.substitute(c,this._oAuthDialogContent),k=new g({title:c.title,content:b,"class":"esriOAuthSignInDialog",style:"min-width: 18em;",esriIdMgr_:this,execute_:function(){var a=k.esriIdMgr_._oAuthDfd;k.hide_();k.esriIdMgr_._doOAuthSignIn(a.resUrl_,a.sinfo_,a.oinfo_)},cancel_:function(){var a=
k.esriIdMgr_._oAuthDfd;k.esriIdMgr_._oAuthDfd=null;k.hide_();var c=Error("ABORTED");c.code="IdentityManager.2";c.log=d.isDebug;a.errback(c)},hide_:function(){h.hide(k.errMsg_);k.hide();g._DialogLevelManager.hide(k)}}),c=k.domNode;k.btnSubmit_=e.byNode(a.query(".esriIdSubmit",c)[0]);k.btnCancel_=e.byNode(a.query(".esriIdCancel",c)[0]);k.errMsg_=a.query(".esriErrorMsg",c)[0];k.connect(k.btnSubmit_,"onClick",k.execute_);k.connect(k.btnCancel_,"onClick",k.onCancel);k.connect(k,"onCancel",k.cancel_);return k},
_doOAuthSignIn:function(a,c,b){var e=this,g={client_id:b.appId,response_type:"token",state:JSON.stringify({portalUrl:b.portalUrl}),expiration:b.expiration,locale:b.locale,force_login:b.forceLogin,redirect_uri:b.popup?m.getAbsoluteUrl(b.popupCallbackUrl):window.location.href.replace(/#.*$/,"")},k=b.portalUrl.replace(/^http:/i,"https:")+"/sharing/oauth2/authorize",f=k+"?"+n.objectToQuery(g);if(b.popup){var l;7===u("ie")?(l=window.open(b.popupCallbackUrl,"esriJSAPIOAuth",b.popupWindowFeatures),l.location=
f):l=window.open(f,"esriJSAPIOAuth",b.popupWindowFeatures);l?(l.focus(),this._oAuthDfd.oAuthWin_=l,this._oAuthIntervalId=setInterval(function(){if(l.closed){clearInterval(e._oAuthIntervalId);var a=e._oAuthDfd;if(a){var c=Error("ABORTED");c.code="IdentityManager.2";c.log=d.isDebug;a.errback(c)}}},500)):(a=Error("ABORTED"),a.code="IdentityManager.2",a.log=d.isDebug,this._oAuthDfd.errback(a))}else this._oAuthRedirectFunc?this._oAuthRedirectFunc({authorizeParams:g,authorizeUrl:k,resourceUrl:a,serverInfo:c,
oAuthInfo:b}):window.location=f}}})},"esri/geometry/Point":function(){define(["../core/declare","dojo/_base/lang","dojo/_base/kernel","./SpatialReference","./Geometry"],function(b,h,l,m,g){function e(a,b,d,e){89.99999<b?b=89.99999:-89.99999>b&&(b=-89.99999);b*=p;e||(e=[0,0]);e[0]=a*p*c;e[1]=c/2*Math.log((1+Math.sin(b))/(1-Math.sin(b)));return e}function d(b,d,e,g){b=b/c*k;g||(g=[0,0]);g[0]=e?b:b-360*Math.floor((b+180)/360);e=g;d=a/2-2*Math.atan(Math.exp(-1*d/c));e[1]=d*k;return g}var c=6378137,a=
3.141592653589793,k=57.29577951308232,p=0.017453292519943,n=[0,0],u=b(g,{declaredClass:"esri.geometry.Point",classMetadata:{computed:{cache:["x","y","z","m"],hasM:["m"],hasZ:["z"],longitude:["x"],latitude:["y"]}},normalizeCtorArgs:function(a,c,b,d,g){var k;Array.isArray(a)?(k=a,g=c,a=k[0],c=k[1],b=k[2],d=k[3]):h.isObject(a)?(k=a,a=null!=k.x?k.x:k.longitude,c=null!=k.y?k.y:k.latitude,b=null!=k.z?k.z:k.altitude,d=k.m,(g=k.spatialReference)&&"esri.SpatialReference"!==g.declaredClass&&(g=new m(g)),!k.declaredClass&&
(g&&g.isWebMercator()&&null!=k.longitude&&null!=k.latitude)&&(c=e(k.longitude,k.latitude,!1,n),a=c[0],c=c[1])):this.isSR(b)?(g=b,b=null):this.isSR(d)&&(g=d,d=null);a={x:a,y:c};null!=g&&(a.spatialReference=g);null!=b&&(a.z=b);null!=d&&(a.m=d);return a},_latitudeGetter:function(){var a=this.spatialReference;if(a){if(a.isWebMercator())return d(this.x,this.y,!1,n)[1];if(4326===a.wkid)return this.y}return null},_latitudeSetter:function(a){var c=this.spatialReference;c&&(c.isWebMercator()?this.y=e(this.x,
a,!1,n)[1]:4326===c.wkid&&(this.y=a))},_longitudeGetter:function(){var a=this.spatialReference;if(a){if(a.isWebMercator())return d(this.x,this.y,!1,n)[0];if(4326===a.wkid)return this.x}return null},_longitudeSetter:function(a){var c=this.spatialReference;c&&(c.isWebMercator()?this.x=e(a,this.y,!1,n)[0]:4326===c.wkid&&(this.x=a))},_hasMGetter:function(){return void 0!==this.m},_hasMSetter:function(a,c){return a!==c?(this.m=a?0:void 0,a):c},_hasZGetter:function(){return void 0!==this.z},_hasZSetter:function(a,
c){return a!==c?(this.z=a?0:void 0,a):c},x:0,y:0,z:void 0,m:void 0,type:"point",clone:function(){var a=new u;a.x=this.x;a.y=this.y;a.z=this.z;a.m=this.m;a.spatialReference=this.spatialReference;return a},copy:function(a){u.copy(a,this);return this},equals:function(a){if(!a)return!1;var c=this.x,b=this.y,g=this.z,k=this.m,l=this.spatialReference,f=a.x,h=a.y,n=a.z,m=a.m;a=a.spatialReference;if(!l.equals(a))if(l.isWebMercator()&&4326===a.wkid)h=e(f,h),f=h[0],h=h[1],a=l;else if(4326===l.wkid&&a.isWebMercator())h=
d(f,h),f=h[0],h=h[1],a=l;else return!1;return c===f&&b===h&&g===n&&k===m&&l.wkid===a.wkid},offset:function(a,c,b){var d=this.clone();d.x+=a;d.y+=c;null!=b&&d.hasZ&&(d.z+=b);return d},normalize:function(){var a=this.x,c=this.spatialReference;if(c){var b=c._getInfo();if(b){var c=b.valid[0],d=b.valid[1],b=2*d;a>d?(c=Math.ceil(Math.abs(a-d)/b),a-=c*b):a<c&&(c=Math.ceil(Math.abs(a-c)/b),a+=c*b)}}c=this.clone();c.x=a;return c},distance:function(a){return u.distance(this,a)},toArray:function(){var a=this.hasZ,
c=this.hasM;return a&&c?[this.x,this.y,this.z,this.m]:a?[this.x,this.y,this.z]:c?[this.x,this.y,this.m]:[this.x,this.y]},toJSON:function(){var a=this.spatialReference,a={x:this.x,y:this.y,spatialReference:a&&a.toJSON()};this.hasZ&&(a.z=this.z);this.hasM&&(a.m=this.m);return a},setX:function(a){l.deprecated(this.declaredClass+".setX","Use .x \x3d value instead","4.0");this.x=a;return this},setY:function(a){l.deprecated(this.declaredClass+".setY","Use .y \x3d value instead","4.0");this.y=a;return this},
setLongitude:function(a){l.deprecated(this.declaredClass+".setLongitude","Use .longitude \x3d value; instead","4.0");this.longitude=a;return this},setLatitude:function(a){l.deprecated(this.declaredClass+".setLatitude","Use .latitude \x3d value; instead","4.0");this.latitude=a;return this},getLongitude:function(){l.deprecated(this.declaredClass+".getLongitude","Use .longitude instead","4.0");return this.longitude},getLatitude:function(){l.deprecated(this.declaredClass+".getLatitude","Use .latitude instead",
"4.0");return this.latitude},update:function(a,c,b){l.deprecated(this.declaredClass+".update","Use .x/y/z \x3d value instead","4.0");a={x:a,y:c};null!=b&&(a.z=b);return this.set(a)}});u.lngLatToXY=e;u.xyToLngLat=d;u.copy=function(a,c){c.x=a.x;c.y=a.y;c.z=a.z;c.m=a.m;c.spatialReference=Object.isFrozen(a.spatialReference)?a.spatialReference:a.spatialReference.clone()};u.distance=function(a,c){var b=a.x-c.x,d=a.y-c.y,e=a.hasZ&&c.hasZ?a.z-c.z:0;return Math.sqrt(b*b+d*d+e*e)};return u})},"esri/renderers/TimeClassBreaksAger":function(){define("../core/declare dojo/_base/array dojo/_base/lang dojo/date ../core/lang ../symbols/support/jsonUtils ../Color ./SymbolAger".split(" "),
function(b,h,l,m,g,e,d,c){var a=b(c,{declaredClass:"esri.renderer.TimeClassBreaksAger",constructor:function(a,c){this.infos=a;this.timeUnits=c||"day";a.sort(function(a,c){return a.minAge<c.minAge?-1:a.minAge>c.minAge?1:0})},getAgedSymbol:function(a,c){var b=c.getLayer(),d=c.attributes,l=g.isDefined;a=e.fromJSON(a.toJSON());var t=b._map.timeExtent.endTime;if(!t)return a;var r=m.difference(new Date(d[b._startTimeField]),t,this.timeUnits);h.some(this.infos,function(c){if(r>=c.minAge&&r<=c.maxAge){var b=
c.color,d=c.size;c=c.alpha;b&&a.setColor(b);l(d)&&this._setSymbolSize(a,d);l(c)&&a.color&&(a.color.a=c);return!0}},this);return a},toJson:function(){try{throw Error("toJson is deprecated, use toJSON instead");}catch(a){console.warn(a.stack)}return this.toJSON()},toJSON:function(){var a={agerClassBreakInfos:[]},c,b,e;a.timeUnits=this._getRestUnits(this.timeUnits);for(c=0;c<this.infos.length;c+=1)b=this.infos[c],e={},e.oldestAge=Infinity===b.maxAge?null:b.maxAge,e.size=b.size,b.color&&(e.color=d.toJSON(b.color)),
b.alpha&&(e.alpha=Math.round(255*b.alpha)),a.agerClassBreakInfos[c]=e;return a},_getRestUnits:function(c){var b="esriTimeUnitsDays";switch(c){case a.UNIT_SECONDS:b="esriTimeUnitsSeconds";break;case a.UNIT_MILLISECONDS:b="esriTimeUnitsMilliseconds";break;case a.UNIT_HOURS:b="esriTimeUnitsHours";break;case a.UNIT_MINUTES:b="esriTimeUnitsMinutes";break;case a.UNIT_MONTHS:b="esriTimeUnitsMonths";break;case a.UNIT_WEEKS:b="esriTimeUnitsWeeks";break;case a.UNIT_YEARS:b="esriTimeUnitsYears"}return b}});
l.mixin(a,{UNIT_DAYS:"day",UNIT_HOURS:"hour",UNIT_MILLISECONDS:"millisecond",UNIT_MINUTES:"minute",UNIT_MONTHS:"month",UNIT_SECONDS:"second",UNIT_WEEKS:"week",UNIT_YEARS:"year"});return a})},"dijit/form/_FormWidget":function(){define("dojo/_base/declare dojo/sniff dojo/_base/kernel dojo/ready ../_Widget ../_CssStateMixin ../_TemplatedMixin ./_FormWidgetMixin".split(" "),function(b,h,l,m,g,e,d,c){h("dijit-legacy-requires")&&m(0,function(){require(["dijit/form/_FormValueWidget"])});return b("dijit.form._FormWidget",
[g,d,e,c],{setDisabled:function(a){l.deprecated("setDisabled("+a+") is deprecated. Use set('disabled',"+a+") instead.","","2.0");this.set("disabled",a)},setValue:function(a){l.deprecated("dijit.form._FormWidget:setValue("+a+") is deprecated.  Use set('value',"+a+") instead.","","2.0");this.set("value",a)},getValue:function(){l.deprecated(this.declaredClass+"::getValue() is deprecated. Use get('value') instead.","","2.0");return this.get("value")},postMixInProperties:function(){this.nameAttrSetting=
this.name&&!h("msapp")?'name\x3d"'+this.name.replace(/"/g,"\x26quot;")+'"':"";this.inherited(arguments)}})})},"esri/symbols/CartographicLineSymbol":function(){define(["../core/declare","dojo/_base/lang","../core/lang","../core/screenUtils","./SimpleLineSymbol"],function(b,h,l,m,g){var e={STYLE_SOLID:"solid",STYLE_DASH:"dash",STYLE_DOT:"dot",STYLE_DASHDOT:"dash-dot",STYLE_DASHDOTDOT:"long-dash-dot-dot",STYLE_NULL:"none",STYLE_INSIDE_FRAME:"inside-frame",STYLE_SHORTDASH:"short-dash",STYLE_SHORTDOT:"short-dot",
STYLE_SHORTDASHDOT:"short-dash-dot",STYLE_SHORTDASHDOTDOT:"short-dash-dot-dot",STYLE_LONGDASH:"long-dash",STYLE_LONGDASHDOT:"long-dash-dot",CAP_BUTT:"butt",CAP_ROUND:"round",CAP_SQUARE:"square",JOIN_MITER:"miter",JOIN_ROUND:"round",JOIN_BEVEL:"bevel"},d={color:[0,0,0,1],style:e.STYLE_SOLID,width:1,cap:e.CAP_BUTT,join:e.JOIN_MITER,miterLimit:10},c={butt:"esriLCSButt",round:"esriLCSRound",square:"esriLCSSquare"},a={miter:"esriLJSMiter",round:"esriLJSRound",bevel:"esriLJSBevel"};b=b(g,{declaredClass:"esri.symbols.CartographicLineSymbol",
type:"cartographiclinesymbol",getDefaults:function(){return h.mixin(this.inherited(arguments),d)},normalizeCtorArgs:function(a,c,b,d,e,g){if(a&&"string"!==typeof a)return a;var l={};a&&(l.style=a);c&&(l.color=c);null!=b&&(l.width=b);d&&(l.cap=d);e&&(l.join=e);null!=g&&(l.miterLimit=g);return l},_capReader:function(a){return l.valueOf(c,a)},_joinReader:function(c){return l.valueOf(a,c)},_miterLimitReader:m.pt2px,toJSON:function(){var b=m.px2pt(this.miterLimit),b=isNaN(b)?void 0:b;return l.fixJson(h.mixin(this.inherited(arguments),
{type:"esriCLS",cap:c[this.cap],join:a[this.join],miterLimit:b}))}});h.mixin(b,e);b.defaultProps=d;return b})},"dojo/query":function(){define("./_base/kernel ./has ./dom ./on ./_base/array ./_base/lang ./selector/_loader ./selector/_loader!default".split(" "),function(b,h,l,m,g,e,d,c){function a(a,c){var b=function(b,d){if("string"==typeof d&&(d=l.byId(d),!d))return new c([]);var e="string"==typeof b?a(b,d):b?b.end&&b.on?b:[b]:[];return e.end&&e.on?e:new c(e)};b.matches=a.match||function(a,c,f){return 0<
b.filter([a],c,f).length};b.filter=a.filter||function(a,c,f){return b(c,f).filter(function(c){return-1<g.indexOf(a,c)})};if("function"!=typeof a){var d=a.search;a=function(a,c){return d(c||document,a)}}return b}h.add("array-extensible",function(){return 1==e.delegate([],{length:1}).length&&!h("bug-for-in-skips-shadowed")});var k=Array.prototype,p=k.slice,n=k.concat,u=g.forEach,q=function(a,c,d){c=[0].concat(p.call(c,0));d=d||b.global;return function(b){c[0]=b;return a.apply(d,c)}},t=function(a){var c=
this instanceof r&&h("array-extensible");"number"==typeof a&&(a=Array(a));var b=a&&"length"in a?a:arguments;if(c||!b.sort){for(var d=c?this:[],g=d.length=b.length,k=0;k<g;k++)d[k]=b[k];if(c)return d;b=d}e._mixin(b,v);b._NodeListCtor=function(a){return r(a)};return b},r=t,v=r.prototype=h("array-extensible")?[]:{};r._wrap=v._wrap=function(a,c,b){a=new (b||this._NodeListCtor||r)(a);return c?a._stash(c):a};r._adaptAsMap=function(a,c){return function(){return this.map(q(a,arguments,c))}};r._adaptAsForEach=
function(a,c){return function(){this.forEach(q(a,arguments,c));return this}};r._adaptAsFilter=function(a,c){return function(){return this.filter(q(a,arguments,c))}};r._adaptWithCondition=function(a,c,d){return function(){var e=arguments,g=q(a,e,d);if(c.call(d||b.global,e))return this.map(g);this.forEach(g);return this}};u(["slice","splice"],function(a){var c=k[a];v[a]=function(){return this._wrap(c.apply(this,arguments),"slice"==a?this:null)}});u(["indexOf","lastIndexOf","every","some"],function(a){var c=
g[a];v[a]=function(){return c.apply(b,[this].concat(p.call(arguments,0)))}});e.extend(t,{constructor:r,_NodeListCtor:r,toString:function(){return this.join(",")},_stash:function(a){this._parent=a;return this},on:function(a,c){var b=this.map(function(b){return m(b,a,c)});b.remove=function(){for(var a=0;a<b.length;a++)b[a].remove()};return b},end:function(){return this._parent?this._parent:new this._NodeListCtor(0)},concat:function(a){var c=p.call(this,0),b=g.map(arguments,function(a){return p.call(a,
0)});return this._wrap(n.apply(c,b),this)},map:function(a,c){return this._wrap(g.map(this,a,c),this)},forEach:function(a,c){u(this,a,c);return this},filter:function(a){var c=arguments,b=this,d=0;if("string"==typeof a){b=x._filterResult(this,c[0]);if(1==c.length)return b._stash(this);d=1}return this._wrap(g.filter(b,c[d],c[d+1]),this)},instantiate:function(a,c){var b=e.isFunction(a)?a:e.getObject(a);c=c||{};return this.forEach(function(a){new b(c,a)})},at:function(){var a=new this._NodeListCtor(0);
u(arguments,function(c){0>c&&(c=this.length+c);this[c]&&a.push(this[c])},this);return a._stash(this)}});var x=a(c,t);b.query=a(c,function(a){return t(a)});x.load=function(c,b,e){d.load(c,b,function(c){e(a(c,t))})};b._filterQueryResult=x._filterResult=function(a,c,b){return new t(x.filter(a,c,b))};b.NodeList=x.NodeList=t;return x})},"dojo/fx/easing":function(){define(["../_base/lang"],function(b){var h={linear:function(b){return b},quadIn:function(b){return Math.pow(b,2)},quadOut:function(b){return-1*
b*(b-2)},quadInOut:function(b){b*=2;return 1>b?Math.pow(b,2)/2:-1*(--b*(b-2)-1)/2},cubicIn:function(b){return Math.pow(b,3)},cubicOut:function(b){return Math.pow(b-1,3)+1},cubicInOut:function(b){b*=2;return 1>b?Math.pow(b,3)/2:(Math.pow(b-2,3)+2)/2},quartIn:function(b){return Math.pow(b,4)},quartOut:function(b){return-1*(Math.pow(b-1,4)-1)},quartInOut:function(b){b*=2;return 1>b?Math.pow(b,4)/2:-0.5*(Math.pow(b-2,4)-2)},quintIn:function(b){return Math.pow(b,5)},quintOut:function(b){return Math.pow(b-
1,5)+1},quintInOut:function(b){b*=2;return 1>b?Math.pow(b,5)/2:(Math.pow(b-2,5)+2)/2},sineIn:function(b){return-1*Math.cos(b*(Math.PI/2))+1},sineOut:function(b){return Math.sin(b*(Math.PI/2))},sineInOut:function(b){return-1*(Math.cos(Math.PI*b)-1)/2},expoIn:function(b){return 0==b?0:Math.pow(2,10*(b-1))},expoOut:function(b){return 1==b?1:-1*Math.pow(2,-10*b)+1},expoInOut:function(b){if(0==b)return 0;if(1==b)return 1;b*=2;if(1>b)return Math.pow(2,10*(b-1))/2;--b;return(-1*Math.pow(2,-10*b)+2)/2},circIn:function(b){return-1*
(Math.sqrt(1-Math.pow(b,2))-1)},circOut:function(b){return Math.sqrt(1-Math.pow(b-1,2))},circInOut:function(b){b*=2;return 1>b?-0.5*(Math.sqrt(1-Math.pow(b,2))-1):0.5*(Math.sqrt(1-Math.pow(b-2,2))+1)},backIn:function(b){return Math.pow(b,2)*(2.70158*b-1.70158)},backOut:function(b){b-=1;return Math.pow(b,2)*(2.70158*b+1.70158)+1},backInOut:function(b){b*=2;if(1>b)return Math.pow(b,2)*(3.5949095*b-2.5949095)/2;b-=2;return(Math.pow(b,2)*(3.5949095*b+2.5949095)+2)/2},elasticIn:function(b){if(0==b||1==
b)return b;b-=1;return-1*Math.pow(2,10*b)*Math.sin((b-0.075)*2*Math.PI/0.3)},elasticOut:function(b){return 0==b||1==b?b:Math.pow(2,-10*b)*Math.sin((b-0.075)*2*Math.PI/0.3)+1},elasticInOut:function(b){if(0==b)return 0;b*=2;if(2==b)return 1;var h=0.3*1.5,g=h/4;if(1>b)return b-=1,-0.5*Math.pow(2,10*b)*Math.sin((b-g)*2*Math.PI/h);b-=1;return 0.5*Math.pow(2,-10*b)*Math.sin((b-g)*2*Math.PI/h)+1},bounceIn:function(b){return 1-h.bounceOut(1-b)},bounceOut:function(b){b<1/2.75?b=7.5625*Math.pow(b,2):b<2/2.75?
b=7.5625*Math.pow(b-1.5/2.75,2)+0.75:b<2.5/2.75?(b-=2.25/2.75,b=7.5625*Math.pow(b,2)+0.9375):(b-=2.625/2.75,b=7.5625*Math.pow(b,2)+0.984375);return b},bounceInOut:function(b){return 0.5>b?h.bounceIn(2*b)/2:h.bounceOut(2*b-1)/2+0.5}};b.setObject("dojo.fx.easing",h);return h})},"dojo/request/util":function(){define("exports ../errors/RequestError ../errors/CancelError ../Deferred ../io-query ../_base/array ../_base/lang ../promise/Promise".split(" "),function(b,h,l,m,g,e,d,c){function a(a){return p(a)}
function k(a){return a.data||a.text}b.deepCopy=function(a,c){for(var d in c){var e=a[d],g=c[d];e!==g&&(e&&"object"===typeof e&&g&&"object"===typeof g?b.deepCopy(e,g):a[d]=g)}return a};b.deepCreate=function(a,c){c=c||{};var e=d.delegate(a),g,k;for(g in a)(k=a[g])&&"object"===typeof k&&(e[g]=b.deepCreate(k,c[g]));return b.deepCopy(e,c)};var p=Object.freeze||function(a){return a};b.deferred=function(e,g,q,t,r,v){var x=new m(function(a){g&&g(x,e);return!a||!(a instanceof h)&&!(a instanceof l)?new l("Request canceled",
e):a});x.response=e;x.isValid=q;x.isReady=t;x.handleResponse=r;q=x.then(a).otherwise(function(a){a.response=e;throw a;});b.notify&&q.then(d.hitch(b.notify,"emit","load"),d.hitch(b.notify,"emit","error"));t=q.then(k);r=new c;for(var w in t)t.hasOwnProperty(w)&&(r[w]=t[w]);r.response=q;p(r);v&&x.then(function(a){v.call(x,a)},function(a){v.call(x,e,a)});x.promise=r;x.then=r.then;return x};b.addCommonMethods=function(a,c){e.forEach(c||["GET","POST","PUT","DELETE"],function(c){a[("DELETE"===c?"DEL":c).toLowerCase()]=
function(b,e){e=d.delegate(e||{});e.method=c;return a(b,e)}})};b.parseArgs=function(a,c,b){var d=c.data,e=c.query;d&&!b&&"object"===typeof d&&(c.data=g.objectToQuery(d));e?("object"===typeof e&&(e=g.objectToQuery(e)),c.preventCache&&(e+=(e?"\x26":"")+"request.preventCache\x3d"+ +new Date)):c.preventCache&&(e="request.preventCache\x3d"+ +new Date);a&&e&&(a+=(~a.indexOf("?")?"\x26":"?")+e);return{url:a,options:c,getHeader:function(a){return null}}};b.checkStatus=function(a){a=a||0;return 200<=a&&300>
a||304===a||1223===a||!a}})},"esri/views/3d/terrain/TileUtils":function(){define(["./UpsampleInfo","../support/PreallocArray"],function(b,h){function l(b){this.q=new h(b||100);this._last=null;this.done=!0}function m(b){this.q=new h(b||100);this.done=!0}var g=12756274*Math.PI;l.prototype.reset=function(b){this.q.clear();b&&this.q.pushEither(b);this._last=null;this.done=0===this.q.length};l.prototype.skip=function(){this._last=null;0===this.q.length&&(this.done=!0)};l.prototype.next=function(){if(this.done)return null;
if(null!==this._last){var b=this._last.children;if(b[0])for(var c=4;0<=c;c--){var a=b[c];a&&this.q.push(a)}this._last=null}this._last=this.q.pop();0===this.q.length&&!this._last.children[0]&&(this.done=!0);return this._last};m.prototype.reset=function(b){this.q.clear();this.q.pushEither(b);for(b=0;b<this.q.length;)for(var c=this.q.data[b++],a=0;4>a;a++){var e=c.children[a];e&&this.q.push(e)}this.done=0===this.q.length};m.prototype.next=function(){var b=this.q.pop();this.done=0===this.q.length;return b};
var e={li2lat:function(b,c){return 2*Math.atan(Math.exp(-Math.PI+2*Math.PI*c/(1<<b)))-0.5*Math.PI},lj2lon:function(b,c){return-Math.PI+2*Math.PI*c/(1<<b)},lij2webMerc:function(b,c,a){return[-0.5*g+g*a/(1<<b),-0.5*g+g*c/(1<<b)]},lij2str:function(b,c,a){return b+"/"+c+"/"+a},tile2str:function(b){return b.lij[0]+"/"+b.lij[1]+"/"+b.lij[2]},latLon2WebMercator:function(b,c,a){1.570796<b?b=1.570796:-1.570796>b&&(b=-1.570796);a[0]=6378137*c;a[1]=3189068.5*Math.log((1+Math.sin(b))/(1-Math.sin(b)))},traverseTilesPreorder:function(b,
c,a,g){if(Array.isArray(b))for(var h=0;h<b.length;h++)e._traverseTilesPreorder(b[h],c,a,g);else e._traverseTilesPreorder(b,c,a,g)},_traverseTilesPreorder:function(b,c,a,g){g=c.call(a,b,g);for(var h=0;4>h;h++){var l=b.children[h];l&&e.traverseTilesPreorder(l,c,a,g)}},traverseTilesPostorder:function(b,c,a){if(Array.isArray(b))for(var g=0;g<b.length;g++)e._traverseTilesPostorder(b[g],c,a);else e._traverseTilesPostorder(b,c,a)},_traverseTilesPostorder:function(b,c,a){for(var g=0;4>g;g++){var h=b.children[g];
h&&e.traverseTilesPostorder(h,c,a)}c.call(a,b)},IteratorPreorder:l,IteratorPostorder:m,fallsWithinLayer:function(b,c,a){var e=c.layer;if(!c.hasGlobalExtent){c=e.fullExtent;var g=b.extent;if(a){if(g[0]<c.xmin||g[1]<c.ymin||g[2]>c.xmax||g[3]>c.ymax)return!1}else if(c.xmin>g[2]||c.ymin>g[3]||c.xmax<g[0]||c.ymax<g[1])return!1}b=b.parentSurface.tilingScheme.levels[b.lij[0]].scale;return 0<e.minScale&&b>1.00000001*e.minScale?!1:b>=0.99999999*e.maxScale},isPosWithinTile:function(b,c){var a=b.extent;return c[0]>=
a[0]&&c[1]>=a[1]&&c[0]<=a[2]&&c[1]<=a[3]},getTileNLevelsUp:function(b,c){for(;0<c;)b=b.parent,c--;return b},nextTileInAncestry:function(b,c){var a=b.lij[0]-c.lij[0]-1,e=b.lij[2]>>a,g=0;b.lij[1]>>a&1&&(g+=2);e&1&&(g+=1);return c.children[g]},computeUpsampleInfoForAncestor:function(d,c){for(var a=1,e=0,g=0;d!==c;)if(a*=0.5,e*=0.5,g*=0.5,d.lij[2]&1&&(e+=0.5),0===(d.lij[1]&1)&&(g+=0.5),d=d.parent,null==d)throw Error("tile was not a descendant of ancestorTile");var h=b.Pool.acquire();h.init(c,e,g,a);return h}};
return e})},"esri/renderers/Renderer":function(){define(["../core/declare","dojo/_base/lang","dojo/_base/array","../Color"],function(b,h,l,m){var g=Math.PI;return b(null,{declaredClass:"esri.renderer.Renderer",constructor:function(b){this._ipDataCache={};if(b&&!b.declaredClass){this.rotationInfo=b.rotationInfo;if(!this.rotationInfo){var d=b.rotationType,c=b.rotationExpression;if(d||c)this.rotationInfo={type:d,expression:c}}this.setRotationInfo(this.rotationInfo);this.setSizeInfo(b.sizeInfo);this.setColorInfo(this._readColorInfo(b.colorInfo));
this.setOpacityInfo(this._readOpacityInfo(b.transparencyInfo));this.setVisualVariables(this._readVariables(b.visualVariables));this.setAuthoringInfo(b.authoringInfo)}this.getSymbol=h.hitch(this,this.getSymbol)},getSymbol:function(b){},_readColorInfo:function(b){b&&(l.forEach(b.colors,function(d,c){h.isArray(d)?b.colors[c]=m.fromJSON(d):b.colors[c]=new m(d)}),l.forEach(b.stops,function(d,c){d.color&&h.isArray(d.color)?b.stops[c].color=m.fromJSON(d.color):d.color&&(b.stops[c].color=new m(d.color))}));
return b},_readOpacityInfo:function(b){var d;b&&(d=h.mixin({},b),d.transparencyValues&&(d.opacityValues=l.map(d.transparencyValues,function(c){return 1-c/100}),delete d.transparencyValues),d.stops&&(d.stops=l.map(d.stops,function(c){c=h.mixin({},c);c.opacity=1-c.transparency/100;delete c.transparency;return c})));return d},_readVariables:function(b){b&&(b=l.map(b,function(b){"colorInfo"===b.type?b=this._readColorInfo(b):"transparencyInfo"===b.type&&(b=this._readOpacityInfo(b),b.type="opacityInfo");
return b},this));return b},setAuthoringInfo:function(b){this.authoringInfo=b},setRotationInfo:function(b){if((b=this.rotationInfo="string"===typeof b?{field:b}:b)&&b.expression&&!b.field){var d=b.expression.match(this.rotationRE);d&&d[1]&&(b.field=d[1])}return this},rotationRE:/^\[([^\]]+)\]$/i,getRotationAngle:function(b){var d=this.rotationInfo,c="arithmetic"===d.type,d=d.field,a=b.attributes,g=0;d&&(h.isFunction(d)?g=d.apply(this,arguments):a&&(g=a[d]||0),g=(g+(c?-90:0))*(c?-1:1));return g},setVisualVariables:function(b){var d=
this._ipDataCache;l.forEach(this.visualVariables,function(c,a){d.hasOwnProperty(a)&&(d[a]=null)},this);this.visualVariables=b;l.forEach(b,function(c,a){"colorInfo"===c.type?d[a]=this._processColorInfo(c):"opacityInfo"===c.type?d[a]=this._processOpacityInfo(c):"sizeInfo"===c.type&&this._fixSizeInfo(c)},this);return this},getVisualVariableValues:function(b){var d=this.visualVariables,c;d&&(c=l.map(d,function(a){var c;switch(a.type){case "sizeInfo":c=this.getSize(b,{sizeInfo:a});break;case "colorInfo":c=
this.getColor(b,{colorInfo:a});break;case "opacityInfo":c=this.getOpacity(b,{opacityInfo:a})}return{variable:a,value:c}},this));return c},hasVisualVariables:function(){return!(!this.getVisualVariablesForType("sizeInfo")&&!this.getVisualVariablesForType("colorInfo")&&!this.getVisualVariablesForType("opacityInfo"))},getVisualVariablesForType:function(b){var d=this.visualVariables,c;this[b]?c=[this[b]]:d&&(c=l.filter(d,function(a){return a.type===b}))&&0===c.length&&(c=void 0);return c},setSizeInfo:function(b){this.sizeInfo=
this.proportionalSymbolInfo=b;return this},setProportionalSymbolInfo:function(b){this.setSizeInfo(b);return this},getSize:function(b,d){var c=b.attributes,a=d&&d.sizeInfo||this.sizeInfo,k=a&&a.field,l=0,n="number"===typeof b,m=n?b:null;if(k){var q=a.minSize,t=a.maxSize,r=a.minDataValue,v=a.maxDataValue,x=a.valueUnit||"unknown",w=a.valueRepresentation,l=a.scaleBy,f=a.normalizationField,s=c?parseFloat(c[f]):void 0,a=d&&d.shape;"number"!==typeof m&&(h.isFunction(k)?m=k.apply(this,arguments):c&&(m=c[k]));
if(null==m||f&&!n&&(isNaN(s)||0===s))return null;!isNaN(s)&&!n&&(m/=s);if(null!=q&&null!=t&&null!=r&&null!=v)m<=r?l=q:m>=v?l=t:(m=(m-r)/(v-r),"area"===l&&a?(q=(w="circle"===a)?g*Math.pow(q/2,2):q*q,t=w?g*Math.pow(t/2,2):t*t,t=q+m*(t-q),l=w?2*Math.sqrt(t/g):Math.sqrt(t)):l=q+m*(t-q));else if("unknown"===x)null!=q&&null!=r?(q&&r?(m/=r,l="circle"===a?2*Math.sqrt(m*Math.pow(q/2,2)):"square"===a||"diamond"===a||"image"===a?Math.sqrt(m*Math.pow(q,2)):m*q):l=m+(q||r),l=l<q?q:l,null!=t&&l>t&&(l=t)):l=m;else{c=
(d&&d.resolution?d.resolution:1)*this._meterIn[x];if("area"===w)l=Math.sqrt(m/g)/c,l*=2;else if(l=m/c,"radius"===w||"distance"===w)l*=2;null!=q&&l<q&&(l=q);null!=t&&l>t&&(l=t)}}else a&&(l=a.minSize);return l=isNaN(l)?0:l},_fixSizeInfo:function(b){if(!b.field&&Array.isArray(b.stops))b.minSize=this._computeSizeFromStops(b.stops);else{var d=b.minSize,c=b.maxSize;d&&Array.isArray(d.stops)&&(b.minSize=this._computeSizeFromStops(d.stops));c&&Array.isArray(c.stops)&&(b.maxSize=this._computeSizeFromStops(c.stops))}},
_computeSizeFromStops:function(b){if(0<b.length){var d=Infinity,c=-Infinity;b.forEach(function(a){d=Math.min(a.size,d);c=Math.max(a.size,c)});return 0.5*(d+c)}},setColorInfo:function(b){this.colorInfo=b;this._ipDataCache.colorInfo=this._processColorInfo(b);return this},_processColorInfo:function(b){b&&(l.forEach(b.colors,function(d,c){d instanceof m||(b.colors[c]=new m(d))}),l.forEach(b.stops,function(d,c){d.color&&!(d.color instanceof m)&&(b.stops[c].color=new m(d.color))}));return this._interpolateData(b)},
getColor:function(b,d){var c,a=d&&d.colorInfo;a&&"colorInfo"===a.type?(c=l.indexOf(this.visualVariables,a),a=this.visualVariables[c]):(c="colorInfo",a=this.colorInfo);return this._getColorComponent(b,a,this._ipDataCache[c])},setOpacityInfo:function(b){this.opacityInfo=b;this._ipDataCache.opacityInfo=this._processOpacityInfo(b);return this},_processOpacityInfo:function(b){return this._interpolateData(b)},getOpacity:function(b,d){var c,a=d&&d.opacityInfo;a&&"opacityInfo"===a.type?(c=l.indexOf(this.visualVariables,
a),a=this.visualVariables[c]):(c="opacityInfo",a=this.opacityInfo);return this._getColorComponent(b,a,this._ipDataCache[c],!0)},_getColorComponent:function(b,d,c,a){var g=b.attributes,l=d&&d.field,n="number"===typeof b?b:null,m;if(l){var q=d.normalizationField,t=g?parseFloat(g[q]):void 0;"number"!==typeof n&&(h.isFunction(l)?n=l.apply(this,arguments):g&&(n=g[l]));null!=n&&(q&&(!isNaN(t)&&0!==t)&&(n/=t),m=a?this._getOpacity(n,d,c):this._getColor(n,d,c))}else d&&(g=d.stops,a?(m=g&&g[0]&&g[0].opacity,
null==m&&(m=d.opacityValues&&d.opacityValues[0])):m=g&&g[0]&&g[0].color||d.colors&&d.colors[0]);return m},_interpolateData:function(b){var d;if(b&&b.field)if(b.colors||b.opacityValues){var c=(b.colors||b.opacityValues).length,a=b.minDataValue,g=(b.maxDataValue-a)/(c-1);d=[];for(b=0;b<c;b++)d[b]=a+b*g}else b.stops&&(d=l.map(b.stops,function(a){return a.value}));return d},_getOpacity:function(b,d,c){b=this._lookupData(b,c);var a;d=d||this.opacityInfo;b&&(c=b[0],a=b[1],c===a?a=this._getOpacValue(d,c):
(c=this._getOpacValue(d,c),d=this._getOpacValue(d,a),a=c+(d-c)*b[2]));return a},_getOpacValue:function(b,d){return b.opacityValues?b.opacityValues[d]:b.stops[d].opacity},_getColor:function(b,d,c){b=this._lookupData(b,c);var a;d=d||this.colorInfo;b&&(a=b[0],c=b[1],a=a===c?this._getColorObj(d,a):m.blendColors(this._getColorObj(d,a),this._getColorObj(d,c),b[2]));return a},_getColorObj:function(b,d){return b.colors?b.colors[d]:b.stops[d].color},_lookupData:function(b,d){var c;if(d){var a=0,g=d.length-
1;l.some(d,function(c,d){if(b<c)return g=d,!0;a=d;return!1});c=[a,g,(b-d[a])/(d[g]-d[a])]}return c},getRequiredFields:function(){var b=Object.create(null);this.collectRequiredFields(b);return Object.keys(b)},collectRequiredFields:function(b){var d=[this.colorInfo,this.sizeInfo,this.opacityInfo,this.rotationInfo];this.visualVariables&&(d=d.concat(this.visualVariables));d.forEach(function(c){c&&(b[c.field]=!0)})},_meterIn:{inches:39.3701,feet:3.28084,yards:1.09361,miles:6.21371E-4,"nautical-miles":5.39957E-4,
millimeters:1E3,centimeters:100,decimeters:10,meters:1,kilometers:0.0010,"decimal-degrees":180/20015077},_writeSizeInfo:function(b){if(b){b=h.mixin({},b);var d=b.legendOptions;if(d&&(b.legendOptions=h.mixin({},d),d=d.customValues))b.legendOptions.customValues=d.slice(0)}return b},_writeColorInfo:function(b){b&&(b=h.mixin({},b),b.colors&&(b.colors=l.map(b.colors,function(b){return m.toJSON(b)})),b.stops&&(b.stops=l.map(b.stops,function(b){b=h.mixin({},b);b.color&&(b.color=m.toJSON(b.color));return b})));
return b},_writeOpacityInfo:function(b){var d;b&&(d=h.mixin({},b),d.opacityValues&&(d.transparencyValues=l.map(d.opacityValues,function(b){return 100*(1-b)}),delete d.opacityValues),d.stops&&(d.stops=l.map(d.stops,function(b){b=h.mixin({},b);b.transparency=100*(1-b.opacity);delete b.opacity;return b})));return d},toJson:function(){try{throw Error("toJson is deprecated, use toJSON instead");}catch(b){console.warn(b.stack)}return this.toJSON()},toJSON:function(){var b=this.visualVariables,d=this.rotationInfo,
c=d&&d.field,a=h.clone(this.authoringInfo),c=d&&(d.expression||c&&(h.isFunction(c)?c:"["+c+"]"));b&&(b=l.map(b,function(a){"sizeInfo"===a.type?a=this._writeSizeInfo(a):"colorInfo"===a.type?a=this._writeColorInfo(a):"opacityInfo"===a.type&&(a=this._writeOpacityInfo(a),a.type="transparencyInfo");return a},this));a&&l.forEach(a.visualVariables,function(a){"opacityInfo"===a.type&&(a.type="transparencyInfo")});return{rotationType:c&&(d.type||"geographic"),rotationExpression:c,colorInfo:this._writeColorInfo(this.colorInfo),
transparencyInfo:this._writeOpacityInfo(this.opacityInfo),sizeInfo:this._writeSizeInfo(this.sizeInfo),visualVariables:b,authoringInfo:a}}})})},"esri/views/3d/support/cameraUtilsPlanar":function(){define(["../../../geometry/Extent","./mathUtils","./projectionUtils","../lib/glMatrix","./cameraUtilsInternal"],function(b,h,l,m,g){function e(b,d,e){b=c.create();var g=c.create();a.identity(n);a.rotateZ(n,-h.deg2rad(d));a.rotateX(n,h.deg2rad(e));a.multiplyVec3(n,p,b);c.scale(b,-1);a.multiplyVec3(n,k,g);
return{direction:b,up:g}}var d={headingTiltToDirectionUp:e,directionToHeadingTilt:function(a,b,c,d){return g.directionToHeadingTilt(b,c,d,p,k)},eyeForCenterWithHeadingTilt:function(a,b,d,g){var k=e(a,d,g);a=c.add(c.scale(k.direction,-b,c.create()),a);return{up:k.up,eye:a,heading:d,tilt:g}},lookAtTiltToEyeTilt:function(a,b,c){return h.rad2deg(c)},eyeTiltToLookAtTilt:function(a,b,c){return h.deg2rad(c)},toExtent:function(a,c,d,e,g){var f=a.renderSpatialReference;a=a.map&&a.map.spatialReference||c.spatialReference;
l.pointToVector(c,u,f);l.pointToVector(c,q,f);u[0]-=d/2;q[0]+=d/2;u[1]-=e/2;q[1]+=e/2;l.vectorToVector(u,f,u,a);l.vectorToVector(q,f,q,a);g?(g.xmin=u[0],g.ymin=u[1],g.xmax=q[0],g.ymax=q[1],g.spatialReference=a):g=new b(u[0],u[1],q[0],q[1],a);return g}},c=m.vec3d,a=m.mat4d,k=c.createFrom(0,1,0),p=c.createFrom(0,0,1),n=a.create(),u=c.create(),q=c.create();return d})},"esri/views/3d/SceneViewConstraints":function(){define("../../core/declare ../../core/Accessor ./constraints/SceneViewAltitudeConstraint ./constraints/SceneViewClipDistanceConstraint ./constraints/SceneViewTiltConstraint ./constraints/SceneViewCollisionConstraint".split(" "),
function(b,h,l,m,g,e){return b([h],{declaredClass:"esri.views.3d.constraints.SceneViewConstraints",classMetadata:{properties:{tilt:{type:g},altitude:{type:l},clipDistance:{type:m},collision:{type:e}}},getDefaults:function(b){var c={};b.tilt||(c.tilt={});b.altitude||(c.altitude={});b.clipDistance||(c.clipDistance={});b.collision||(c.collision={});return c},scale:function(b){this.tilt.scale(b);this.altitude.scale(b);this.clipDistance.scale(b)}})})},"esri/views/3d/webgl-engine/lib/gl-matrix":function(){define([],
function(){var b={};(function(b,l){l(b,!0);l(b,!1)})(b,function(b,l){var m={};(function(){if("undefined"!=typeof Float32Array){var a=new Float32Array(1),b=new Int32Array(a.buffer);m.invsqrt=function(c){a[0]=c;b[0]=1597463007-(b[0]>>1);var d=a[0];return d*(1.5-0.5*c*d*d)}}else m.invsqrt=function(a){return 1/Math.sqrt(a)}})();var g=Array;"undefined"!=typeof Float32Array&&(g=l?Float32Array:Array);var e={create:function(a){var b=new g(3);a?(b[0]=a[0],b[1]=a[1],b[2]=a[2]):b[0]=b[1]=b[2]=0;return b},createFrom:function(a,
b,c){var d=new g(3);d[0]=a;d[1]=b;d[2]=c;return d},set:function(a,b){b[0]=a[0];b[1]=a[1];b[2]=a[2];return b},set3:function(a,b,c,d){d[0]=a;d[1]=b;d[2]=c;return d},add:function(a,b,c){if(!c||a===c)return a[0]+=b[0],a[1]+=b[1],a[2]+=b[2],a;c[0]=a[0]+b[0];c[1]=a[1]+b[1];c[2]=a[2]+b[2];return c},subtract:function(a,b,c){if(!c||a===c)return a[0]-=b[0],a[1]-=b[1],a[2]-=b[2],a;c[0]=a[0]-b[0];c[1]=a[1]-b[1];c[2]=a[2]-b[2];return c},multiply:function(a,b,c){if(!c||a===c)return a[0]*=b[0],a[1]*=b[1],a[2]*=
b[2],a;c[0]=a[0]*b[0];c[1]=a[1]*b[1];c[2]=a[2]*b[2];return c},max:function(a,b,c){c[0]=Math.max(a[0],b[0]);c[1]=Math.max(a[1],b[1]);c[2]=Math.max(a[2],b[2]);return c},min:function(a,b,c){c[0]=Math.min(a[0],b[0]);c[1]=Math.min(a[1],b[1]);c[2]=Math.min(a[2],b[2]);return c},negate:function(a,b){b||(b=a);b[0]=-a[0];b[1]=-a[1];b[2]=-a[2];return b},scale:function(a,b,c){if(!c||a===c)return a[0]*=b,a[1]*=b,a[2]*=b,a;c[0]=a[0]*b;c[1]=a[1]*b;c[2]=a[2]*b;return c},normalize:function(a,b){b||(b=a);var c=a[0],
d=a[1],e=a[2],g=Math.sqrt(c*c+d*d+e*e);if(g){if(1===g)return b[0]=c,b[1]=d,b[2]=e,b}else return b[0]=0,b[1]=0,b[2]=0,b;g=1/g;b[0]=c*g;b[1]=d*g;b[2]=e*g;return b},cross:function(a,b,c){c||(c=a);var d=a[0],e=a[1];a=a[2];var g=b[0],k=b[1];b=b[2];c[0]=e*b-a*k;c[1]=a*g-d*b;c[2]=d*k-e*g;return c},length:function(a){var b=a[0],c=a[1];a=a[2];return Math.sqrt(b*b+c*c+a*a)},length2:function(a){var b=a[0],c=a[1];a=a[2];return b*b+c*c+a*a},dot:function(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]},direction:function(a,
b,c){c||(c=a);var d=a[0]-b[0],e=a[1]-b[1];a=a[2]-b[2];b=Math.sqrt(d*d+e*e+a*a);if(!b)return c[0]=0,c[1]=0,c[2]=0,c;b=1/b;c[0]=d*b;c[1]=e*b;c[2]=a*b;return c},lerp:function(a,b,c,d){d||(d=a);d[0]=a[0]+c*(b[0]-a[0]);d[1]=a[1]+c*(b[1]-a[1]);d[2]=a[2]+c*(b[2]-a[2]);return d},dist:function(a,b){var c=b[0]-a[0],d=b[1]-a[1],e=b[2]-a[2];return Math.sqrt(c*c+d*d+e*e)},dist2:function(a,b){var c=b[0]-a[0],d=b[1]-a[1],e=b[2]-a[2];return c*c+d*d+e*e}},d=null,c=new g(4);e.unproject=function(a,b,e,g,k){k||(k=a);
d||(d=t.create());var h=d;c[0]=2*(a[0]-g[0])/g[2]-1;c[1]=2*(a[1]-g[1])/g[3]-1;c[2]=2*a[2]-1;c[3]=1;t.multiply(e,b,h);if(!t.inverse(h))return null;t.multiplyVec4(h,c);if(0===c[3])return null;k[0]=c[0]/c[3];k[1]=c[1]/c[3];k[2]=c[2]/c[3];return k};var a=e.createFrom(1,0,0),k=e.createFrom(0,1,0),p=e.createFrom(0,0,1);e.rotationTo=function(b,c,d){d||(d=r.create());var g=e.dot(b,c),h=e.create();if(1<=g)r.set(v,d);else if(-0.999999>g)e.cross(a,b,h),1E-6>h.length&&e.cross(k,b,h),1E-6>h.length&&e.cross(p,
b,h),e.normalize(h),r.fromAxisAngle(h,Math.PI,d);else{var g=Math.sqrt(2*(1+g)),l=1/g;e.cross(b,c,h);d[0]=h[0]*l;d[1]=h[1]*l;d[2]=h[2]*l;d[3]=0.5*g;r.normalize(d)}1<d[3]?d[3]=1:-1>d[3]&&(d[3]=-1);return d};var n=e.create(),u=e.create();e.project=function(a,b,c,d){d||(d=a);e.direction(b,c,n);e.subtract(a,b,u);a=e.dot(n,u);e.scale(n,a,d);e.add(d,b,d)};e.str=function(a){return"["+a[0]+", "+a[1]+", "+a[2]+"]"};var q={create:function(a){var b=new g(9);a?(b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[3],b[4]=a[4],
b[5]=a[5],b[6]=a[6],b[7]=a[7],b[8]=a[8]):b[0]=b[1]=b[2]=b[3]=b[4]=b[5]=b[6]=b[7]=b[8]=0;return b},createFrom:function(a,b,c,d,e,k,h,l,n){var m=new g(9);m[0]=a;m[1]=b;m[2]=c;m[3]=d;m[4]=e;m[5]=k;m[6]=h;m[7]=l;m[8]=n;return m},determinant:function(a){var b=a[3],c=a[4],d=a[5],e=a[6],g=a[7],k=a[8];return a[0]*(k*c-d*g)+a[1]*(-k*b+d*e)+a[2]*(g*b-c*e)},inverse:function(a,b){var c=a[0],d=a[1],e=a[2],g=a[3],k=a[4],h=a[5],l=a[6],n=a[7],m=a[8],p=m*k-h*n,r=-m*g+h*l,t=n*g-k*l,u=c*p+d*r+e*t;if(!u)return null;
u=1/u;b||(b=q.create());b[0]=p*u;b[1]=(-m*d+e*n)*u;b[2]=(h*d-e*k)*u;b[3]=r*u;b[4]=(m*c-e*l)*u;b[5]=(-h*c+e*g)*u;b[6]=t*u;b[7]=(-n*c+d*l)*u;b[8]=(k*c-d*g)*u;return b},multiply:function(a,b,c){c||(c=a);var d=a[0],e=a[1],g=a[2],k=a[3],h=a[4],l=a[5],n=a[6],m=a[7];a=a[8];var p=b[0],r=b[1],q=b[2],t=b[3],u=b[4],v=b[5],w=b[6],x=b[7];b=b[8];c[0]=p*d+r*k+q*n;c[1]=p*e+r*h+q*m;c[2]=p*g+r*l+q*a;c[3]=t*d+u*k+v*n;c[4]=t*e+u*h+v*m;c[5]=t*g+u*l+v*a;c[6]=w*d+x*k+b*n;c[7]=w*e+x*h+b*m;c[8]=w*g+x*l+b*a;return c},multiplyVec2:function(a,
b,c){c||(c=b);var d=b[0];b=b[1];c[0]=d*a[0]+b*a[3]+a[6];c[1]=d*a[1]+b*a[4]+a[7];return c},multiplyVec3:function(a,b,c){c||(c=b);var d=b[0],e=b[1];b=b[2];c[0]=d*a[0]+e*a[3]+b*a[6];c[1]=d*a[1]+e*a[4]+b*a[7];c[2]=d*a[2]+e*a[5]+b*a[8];return c},set:function(a,b){b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];b[4]=a[4];b[5]=a[5];b[6]=a[6];b[7]=a[7];b[8]=a[8];return b},identity:function(a){a||(a=q.create());a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=1;a[5]=0;a[6]=0;a[7]=0;a[8]=1;return a},transpose:function(a,b){if(!b||
a===b){var c=a[1],d=a[2],e=a[5];a[1]=a[3];a[2]=a[6];a[3]=c;a[5]=a[7];a[6]=d;a[7]=e;return a}b[0]=a[0];b[1]=a[3];b[2]=a[6];b[3]=a[1];b[4]=a[4];b[5]=a[7];b[6]=a[2];b[7]=a[5];b[8]=a[8];return b},toMat4:function(a,b){b||(b=t.create());b[15]=1;b[14]=0;b[13]=0;b[12]=0;b[11]=0;b[10]=a[8];b[9]=a[7];b[8]=a[6];b[7]=0;b[6]=a[5];b[5]=a[4];b[4]=a[3];b[3]=0;b[2]=a[2];b[1]=a[1];b[0]=a[0];return b},str:function(a){return"["+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+", "+a[6]+", "+a[7]+", "+a[8]+"]"}},
t={create:function(a){var b=new g(16);4===arguments.length?(b[0]=arguments[0],b[1]=arguments[1],b[2]=arguments[2],b[3]=arguments[3],b[4]=arguments[4],b[5]=arguments[5],b[6]=arguments[6],b[7]=arguments[7],b[8]=arguments[8],b[9]=arguments[9],b[10]=arguments[10],b[11]=arguments[11],b[12]=arguments[12],b[13]=arguments[13],b[14]=arguments[14],b[15]=arguments[15]):a&&(b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[3],b[4]=a[4],b[5]=a[5],b[6]=a[6],b[7]=a[7],b[8]=a[8],b[9]=a[9],b[10]=a[10],b[11]=a[11],b[12]=a[12],
b[13]=a[13],b[14]=a[14],b[15]=a[15]);return b},createFrom:function(a,b,c,d,e,k,h,l,n,m,p,r,q,t,u,v){var w=new g(16);w[0]=a;w[1]=b;w[2]=c;w[3]=d;w[4]=e;w[5]=k;w[6]=h;w[7]=l;w[8]=n;w[9]=m;w[10]=p;w[11]=r;w[12]=q;w[13]=t;w[14]=u;w[15]=v;return w},createFromMatrixRowMajor:function(a){var b=new g(16);b[0]=a[0];b[4]=a[1];b[8]=a[2];b[12]=a[3];b[1]=a[4];b[5]=a[5];b[9]=a[6];b[13]=a[7];b[2]=a[8];b[6]=a[9];b[10]=a[10];b[14]=a[11];b[3]=a[12];b[7]=a[13];b[11]=a[14];b[15]=a[15];return b},createFromMatrix:function(a){var b=
new g(16);b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];b[4]=a[4];b[5]=a[5];b[6]=a[6];b[7]=a[7];b[8]=a[8];b[9]=a[9];b[10]=a[10];b[11]=a[11];b[12]=a[12];b[13]=a[13];b[14]=a[14];b[15]=a[15];return b},set:function(a,b){b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];b[4]=a[4];b[5]=a[5];b[6]=a[6];b[7]=a[7];b[8]=a[8];b[9]=a[9];b[10]=a[10];b[11]=a[11];b[12]=a[12];b[13]=a[13];b[14]=a[14];b[15]=a[15];return b},setRowMajor:function(a,b){b[0]=a[0];b[4]=a[1];b[8]=a[2];b[12]=a[3];b[1]=a[4];b[5]=a[5];b[9]=a[6];b[13]=a[7];b[2]=
a[8];b[6]=a[9];b[10]=a[10];b[14]=a[11];b[3]=a[12];b[7]=a[13];b[11]=a[14];b[15]=a[15];return b},identity:function(a){a||(a=t.create());a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a},transpose:function(a,b){if(!b||a===b){var c=a[1],d=a[2],e=a[3],g=a[6],k=a[7],h=a[11];a[1]=a[4];a[2]=a[8];a[3]=a[12];a[4]=c;a[6]=a[9];a[7]=a[13];a[8]=d;a[9]=g;a[11]=a[14];a[12]=e;a[13]=k;a[14]=h;return a}b[0]=a[0];b[1]=a[4];b[2]=a[8];b[3]=a[12];
b[4]=a[1];b[5]=a[5];b[6]=a[9];b[7]=a[13];b[8]=a[2];b[9]=a[6];b[10]=a[10];b[11]=a[14];b[12]=a[3];b[13]=a[7];b[14]=a[11];b[15]=a[15];return b},determinant:function(a){var b=a[0],c=a[1],d=a[2],e=a[3],g=a[4],k=a[5],h=a[6],l=a[7],n=a[8],m=a[9],p=a[10],r=a[11],q=a[12],t=a[13],u=a[14];a=a[15];return q*m*h*e-n*t*h*e-q*k*p*e+g*t*p*e+n*k*u*e-g*m*u*e-q*m*d*l+n*t*d*l+q*c*p*l-b*t*p*l-n*c*u*l+b*m*u*l+q*k*d*r-g*t*d*r-q*c*h*r+b*t*h*r+g*c*u*r-b*k*u*r-n*k*d*a+g*m*d*a+n*c*h*a-b*m*h*a-g*c*p*a+b*k*p*a},inverse:function(a,
b){b||(b=a);var c=a[0],d=a[1],e=a[2],g=a[3],k=a[4],h=a[5],l=a[6],n=a[7],m=a[8],p=a[9],r=a[10],q=a[11],t=a[12],u=a[13],v=a[14],w=a[15],x=c*h-d*k,R=c*l-e*k,N=c*n-g*k,H=d*l-e*h,O=d*n-g*h,I=e*n-g*l,J=m*u-p*t,S=m*v-r*t,U=m*w-q*t,ba=p*v-r*u,X=p*w-q*u,$=r*w-q*v,P=x*$-R*X+N*ba+H*U-O*S+I*J;if(!P)return null;P=1/P;b[0]=(h*$-l*X+n*ba)*P;b[1]=(-d*$+e*X-g*ba)*P;b[2]=(u*I-v*O+w*H)*P;b[3]=(-p*I+r*O-q*H)*P;b[4]=(-k*$+l*U-n*S)*P;b[5]=(c*$-e*U+g*S)*P;b[6]=(-t*I+v*N-w*R)*P;b[7]=(m*I-r*N+q*R)*P;b[8]=(k*X-h*U+n*J)*P;
b[9]=(-c*X+d*U-g*J)*P;b[10]=(t*O-u*N+w*x)*P;b[11]=(-m*O+p*N-q*x)*P;b[12]=(-k*ba+h*S-l*J)*P;b[13]=(c*ba-d*S+e*J)*P;b[14]=(-t*H+u*R-v*x)*P;b[15]=(m*H-p*R+r*x)*P;return b},toRotationMat:function(a,b){b||(b=t.create());b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];b[4]=a[4];b[5]=a[5];b[6]=a[6];b[7]=a[7];b[8]=a[8];b[9]=a[9];b[10]=a[10];b[11]=a[11];b[12]=0;b[13]=0;b[14]=0;b[15]=1;return b},toMat3:function(a,b){b||(b=q.create());b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[4];b[4]=a[5];b[5]=a[6];b[6]=a[8];b[7]=a[9];b[8]=
a[10];return b},toInverseMat3:function(a,b){var c=a[0],d=a[1],e=a[2],g=a[4],k=a[5],h=a[6],l=a[8],n=a[9],m=a[10],p=m*k-h*n,r=-m*g+h*l,t=n*g-k*l,u=c*p+d*r+e*t;if(!u)return null;u=1/u;b||(b=q.create());b[0]=p*u;b[1]=(-m*d+e*n)*u;b[2]=(h*d-e*k)*u;b[3]=r*u;b[4]=(m*c-e*l)*u;b[5]=(-h*c+e*g)*u;b[6]=t*u;b[7]=(-n*c+d*l)*u;b[8]=(k*c-d*g)*u;return b},multiply:function(a,b,c){c||(c=a);var d=a[0],e=a[1],g=a[2],k=a[3],h=a[4],l=a[5],n=a[6],m=a[7],p=a[8],r=a[9],q=a[10],t=a[11],u=a[12],v=a[13],w=a[14];a=a[15];var x=
b[0],R=b[1],N=b[2],H=b[3],O=b[4],I=b[5],J=b[6],S=b[7],U=b[8],ba=b[9],X=b[10],$=b[11],P=b[12],aa=b[13],da=b[14];b=b[15];c[0]=x*d+R*h+N*p+H*u;c[1]=x*e+R*l+N*r+H*v;c[2]=x*g+R*n+N*q+H*w;c[3]=x*k+R*m+N*t+H*a;c[4]=O*d+I*h+J*p+S*u;c[5]=O*e+I*l+J*r+S*v;c[6]=O*g+I*n+J*q+S*w;c[7]=O*k+I*m+J*t+S*a;c[8]=U*d+ba*h+X*p+$*u;c[9]=U*e+ba*l+X*r+$*v;c[10]=U*g+ba*n+X*q+$*w;c[11]=U*k+ba*m+X*t+$*a;c[12]=P*d+aa*h+da*p+b*u;c[13]=P*e+aa*l+da*r+b*v;c[14]=P*g+aa*n+da*q+b*w;c[15]=P*k+aa*m+da*t+b*a;return c},multiplyVec3:function(a,
b,c){c||(c=b);var d=b[0],e=b[1];b=b[2];c[0]=a[0]*d+a[4]*e+a[8]*b+a[12];c[1]=a[1]*d+a[5]*e+a[9]*b+a[13];c[2]=a[2]*d+a[6]*e+a[10]*b+a[14];return c},multiplyVec4:function(a,b,c){c||(c=b);var d=b[0],e=b[1],g=b[2];b=b[3];c[0]=a[0]*d+a[4]*e+a[8]*g+a[12]*b;c[1]=a[1]*d+a[5]*e+a[9]*g+a[13]*b;c[2]=a[2]*d+a[6]*e+a[10]*g+a[14]*b;c[3]=a[3]*d+a[7]*e+a[11]*g+a[15]*b;return c},translate:function(a,b,c){var d=b[0],e=b[1];b=b[2];var g,k,h,l,n,m,p,r,q,t,u,v;if(!c||a===c)return a[12]=a[0]*d+a[4]*e+a[8]*b+a[12],a[13]=
a[1]*d+a[5]*e+a[9]*b+a[13],a[14]=a[2]*d+a[6]*e+a[10]*b+a[14],a[15]=a[3]*d+a[7]*e+a[11]*b+a[15],a;g=a[0];k=a[1];h=a[2];l=a[3];n=a[4];m=a[5];p=a[6];r=a[7];q=a[8];t=a[9];u=a[10];v=a[11];c[0]=g;c[1]=k;c[2]=h;c[3]=l;c[4]=n;c[5]=m;c[6]=p;c[7]=r;c[8]=q;c[9]=t;c[10]=u;c[11]=v;c[12]=g*d+n*e+q*b+a[12];c[13]=k*d+m*e+t*b+a[13];c[14]=h*d+p*e+u*b+a[14];c[15]=l*d+r*e+v*b+a[15];return c},scale:function(a,b,c){var d=b[0],e=b[1];b=b[2];if(!c||a===c)return a[0]*=d,a[1]*=d,a[2]*=d,a[3]*=d,a[4]*=e,a[5]*=e,a[6]*=e,a[7]*=
e,a[8]*=b,a[9]*=b,a[10]*=b,a[11]*=b,a;c[0]=a[0]*d;c[1]=a[1]*d;c[2]=a[2]*d;c[3]=a[3]*d;c[4]=a[4]*e;c[5]=a[5]*e;c[6]=a[6]*e;c[7]=a[7]*e;c[8]=a[8]*b;c[9]=a[9]*b;c[10]=a[10]*b;c[11]=a[11]*b;c[12]=a[12];c[13]=a[13];c[14]=a[14];c[15]=a[15];return c},maxScale:function(a){var b=Math.sqrt(a[0]*a[0]+a[4]*a[4]+a[8]*a[8]),c=Math.sqrt(a[1]*a[1]+a[5]*a[5]+a[9]*a[9]);a=Math.sqrt(a[2]*a[2]+a[6]*a[6]+a[10]*a[10]);return Math.max(Math.max(b,c),a)},rotate:function(a,b,c,d){var e=c[0],g=c[1];c=c[2];var k=Math.sqrt(e*
e+g*g+c*c),h,l,n,m,p,r,q,t,u,v,w,x,R,N,H,O,I,J,S,U;if(!k)return null;1!==k&&(k=1/k,e*=k,g*=k,c*=k);h=Math.sin(b);l=Math.cos(b);n=1-l;b=a[0];k=a[1];m=a[2];p=a[3];r=a[4];q=a[5];t=a[6];u=a[7];v=a[8];w=a[9];x=a[10];R=a[11];N=e*e*n+l;H=g*e*n+c*h;O=c*e*n-g*h;I=e*g*n-c*h;J=g*g*n+l;S=c*g*n+e*h;U=e*c*n+g*h;e=g*c*n-e*h;g=c*c*n+l;d?a!==d&&(d[12]=a[12],d[13]=a[13],d[14]=a[14],d[15]=a[15]):d=a;d[0]=b*N+r*H+v*O;d[1]=k*N+q*H+w*O;d[2]=m*N+t*H+x*O;d[3]=p*N+u*H+R*O;d[4]=b*I+r*J+v*S;d[5]=k*I+q*J+w*S;d[6]=m*I+t*J+x*
S;d[7]=p*I+u*J+R*S;d[8]=b*U+r*e+v*g;d[9]=k*U+q*e+w*g;d[10]=m*U+t*e+x*g;d[11]=p*U+u*e+R*g;return d},rotateX:function(a,b,c){var d=Math.sin(b);b=Math.cos(b);var e=a[4],g=a[5],k=a[6],h=a[7],l=a[8],n=a[9],m=a[10],p=a[11];c?a!==c&&(c[0]=a[0],c[1]=a[1],c[2]=a[2],c[3]=a[3],c[12]=a[12],c[13]=a[13],c[14]=a[14],c[15]=a[15]):c=a;c[4]=e*b+l*d;c[5]=g*b+n*d;c[6]=k*b+m*d;c[7]=h*b+p*d;c[8]=e*-d+l*b;c[9]=g*-d+n*b;c[10]=k*-d+m*b;c[11]=h*-d+p*b;return c},rotateY:function(a,b,c){var d=Math.sin(b);b=Math.cos(b);var e=
a[0],g=a[1],k=a[2],h=a[3],l=a[8],n=a[9],m=a[10],p=a[11];c?a!==c&&(c[4]=a[4],c[5]=a[5],c[6]=a[6],c[7]=a[7],c[12]=a[12],c[13]=a[13],c[14]=a[14],c[15]=a[15]):c=a;c[0]=e*b+l*-d;c[1]=g*b+n*-d;c[2]=k*b+m*-d;c[3]=h*b+p*-d;c[8]=e*d+l*b;c[9]=g*d+n*b;c[10]=k*d+m*b;c[11]=h*d+p*b;return c},rotateZ:function(a,b,c){var d=Math.sin(b);b=Math.cos(b);var e=a[0],g=a[1],k=a[2],h=a[3],l=a[4],n=a[5],m=a[6],p=a[7];c?a!==c&&(c[8]=a[8],c[9]=a[9],c[10]=a[10],c[11]=a[11],c[12]=a[12],c[13]=a[13],c[14]=a[14],c[15]=a[15]):c=a;
c[0]=e*b+l*d;c[1]=g*b+n*d;c[2]=k*b+m*d;c[3]=h*b+p*d;c[4]=e*-d+l*b;c[5]=g*-d+n*b;c[6]=k*-d+m*b;c[7]=h*-d+p*b;return c},frustum:function(a,b,c,d,e,g,k){k||(k=t.create());var h=b-a,l=d-c,n=g-e;k[0]=2*e/h;k[1]=0;k[2]=0;k[3]=0;k[4]=0;k[5]=2*e/l;k[6]=0;k[7]=0;k[8]=(b+a)/h;k[9]=(d+c)/l;k[10]=-(g+e)/n;k[11]=-1;k[12]=0;k[13]=0;k[14]=-(2*g*e)/n;k[15]=0;return k},perspective:function(a,b,c,d,e){a=c*Math.tan(a*Math.PI/360);b*=a;return t.frustum(-b,b,-a,a,c,d,e)},ortho:function(a,b,c,d,e,g,k){k||(k=t.create());
var h=b-a,l=d-c,n=g-e;k[0]=2/h;k[1]=0;k[2]=0;k[3]=0;k[4]=0;k[5]=2/l;k[6]=0;k[7]=0;k[8]=0;k[9]=0;k[10]=-2/n;k[11]=0;k[12]=-(a+b)/h;k[13]=-(d+c)/l;k[14]=-(g+e)/n;k[15]=1;return k},lookAt:function(a,b,c,d){d||(d=t.create());var e,g,k,h,l,n,m,p,r=a[0],q=a[1];a=a[2];k=c[0];h=c[1];g=c[2];m=b[0];c=b[1];e=b[2];if(r===m&&q===c&&a===e)return t.identity(d);b=r-m;c=q-c;m=a-e;p=1/Math.sqrt(b*b+c*c+m*m);b*=p;c*=p;m*=p;e=h*m-g*c;g=g*b-k*m;k=k*c-h*b;(p=Math.sqrt(e*e+g*g+k*k))?(p=1/p,e*=p,g*=p,k*=p):k=g=e=0;h=c*k-
m*g;l=m*e-b*k;n=b*g-c*e;(p=Math.sqrt(h*h+l*l+n*n))?(p=1/p,h*=p,l*=p,n*=p):n=l=h=0;d[0]=e;d[1]=h;d[2]=b;d[3]=0;d[4]=g;d[5]=l;d[6]=c;d[7]=0;d[8]=k;d[9]=n;d[10]=m;d[11]=0;d[12]=-(e*r+g*q+k*a);d[13]=-(h*r+l*q+n*a);d[14]=-(b*r+c*q+m*a);d[15]=1;return d},fromRotationTranslation:function(a,b,c){c||(c=t.create());var d=a[0],e=a[1],g=a[2],k=a[3],h=d+d,l=e+e,n=g+g;a=d*h;var m=d*l,d=d*n,p=e*l,e=e*n,g=g*n,h=k*h,l=k*l,k=k*n;c[0]=1-(p+g);c[1]=m+k;c[2]=d-l;c[3]=0;c[4]=m-k;c[5]=1-(a+g);c[6]=e+h;c[7]=0;c[8]=d+l;c[9]=
e-h;c[10]=1-(a+p);c[11]=0;c[12]=b[0];c[13]=b[1];c[14]=b[2];c[15]=1;return c},str:function(a){return"["+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+", "+a[6]+", "+a[7]+", "+a[8]+", "+a[9]+", "+a[10]+", "+a[11]+", "+a[12]+", "+a[13]+", "+a[14]+", "+a[15]+"]"}},r={create:function(a){var b=new g(4);a?(b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[3]):b[0]=b[1]=b[2]=b[3]=0;return b},createFrom:function(a,b,c,d){var e=new g(4);e[0]=a;e[1]=b;e[2]=c;e[3]=d;return e},set:function(a,b){b[0]=a[0];b[1]=a[1];
b[2]=a[2];b[3]=a[3];return b},identity:function(a){a||(a=r.create());a[0]=0;a[1]=0;a[2]=0;a[3]=1;return a}},v=r.identity();r.calculateW=function(a,b){var c=a[0],d=a[1],e=a[2];if(!b||a===b)return a[3]=-Math.sqrt(Math.abs(1-c*c-d*d-e*e)),a;b[0]=c;b[1]=d;b[2]=e;b[3]=-Math.sqrt(Math.abs(1-c*c-d*d-e*e));return b};r.dot=function(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]+a[3]*b[3]};r.inverse=function(a,b){var c=a[0],d=a[1],e=a[2],g=a[3],c=(c=c*c+d*d+e*e+g*g)?1/c:0;if(!b||a===b)return a[0]*=-c,a[1]*=-c,a[2]*=
-c,a[3]*=c,a;b[0]=-a[0]*c;b[1]=-a[1]*c;b[2]=-a[2]*c;b[3]=a[3]*c;return b};r.conjugate=function(a,b){if(!b||a===b)return a[0]*=-1,a[1]*=-1,a[2]*=-1,a;b[0]=-a[0];b[1]=-a[1];b[2]=-a[2];b[3]=a[3];return b};r.length=function(a){var b=a[0],c=a[1],d=a[2];a=a[3];return Math.sqrt(b*b+c*c+d*d+a*a)};r.normalize=function(a,b){b||(b=a);var c=a[0],d=a[1],e=a[2],g=a[3],k=Math.sqrt(c*c+d*d+e*e+g*g);if(0===k)return b[0]=0,b[1]=0,b[2]=0,b[3]=0,b;k=1/k;b[0]=c*k;b[1]=d*k;b[2]=e*k;b[3]=g*k;return b};r.add=function(a,
b,c){if(!c||a===c)return a[0]+=b[0],a[1]+=b[1],a[2]+=b[2],a[3]+=b[3],a;c[0]=a[0]+b[0];c[1]=a[1]+b[1];c[2]=a[2]+b[2];c[3]=a[3]+b[3];return c};r.multiply=function(a,b,c){c||(c=a);var d=a[0],e=a[1],g=a[2];a=a[3];var k=b[0],h=b[1],l=b[2];b=b[3];c[0]=d*b+a*k+e*l-g*h;c[1]=e*b+a*h+g*k-d*l;c[2]=g*b+a*l+d*h-e*k;c[3]=a*b-d*k-e*h-g*l;return c};r.multiplyVec3=function(a,b,c){c||(c=b);var d=b[0],e=b[1],g=b[2];b=a[0];var k=a[1],h=a[2];a=a[3];var l=a*d+k*g-h*e,n=a*e+h*d-b*g,m=a*g+b*e-k*d,d=-b*d-k*e-h*g;c[0]=l*a+
d*-b+n*-h-m*-k;c[1]=n*a+d*-k+m*-b-l*-h;c[2]=m*a+d*-h+l*-k-n*-b;return c};r.scale=function(a,b,c){if(!c||a===c)return a[0]*=b,a[1]*=b,a[2]*=b,a[3]*=b,a;c[0]=a[0]*b;c[1]=a[1]*b;c[2]=a[2]*b;c[3]=a[3]*b;return c};r.toMat3=function(a,b){b||(b=q.create());var c=a[0],d=a[1],e=a[2],g=a[3],k=c+c,h=d+d,l=e+e,n=c*k,m=c*h,c=c*l,p=d*h,d=d*l,e=e*l,k=g*k,h=g*h,g=g*l;b[0]=1-(p+e);b[1]=m+g;b[2]=c-h;b[3]=m-g;b[4]=1-(n+e);b[5]=d+k;b[6]=c+h;b[7]=d-k;b[8]=1-(n+p);return b};r.toMat4=function(a,b){b||(b=t.create());var c=
a[0],d=a[1],e=a[2],g=a[3],k=c+c,h=d+d,l=e+e,n=c*k,m=c*h,c=c*l,p=d*h,d=d*l,e=e*l,k=g*k,h=g*h,g=g*l;b[0]=1-(p+e);b[1]=m+g;b[2]=c-h;b[3]=0;b[4]=m-g;b[5]=1-(n+e);b[6]=d+k;b[7]=0;b[8]=c+h;b[9]=d-k;b[10]=1-(n+p);b[11]=0;b[12]=0;b[13]=0;b[14]=0;b[15]=1;return b};r.slerp=function(a,b,c,d){d||(d=a);var e=a[0]*b[0]+a[1]*b[1]+a[2]*b[2]+a[3]*b[3],g,k;if(1<=Math.abs(e))return d!==a&&(d[0]=a[0],d[1]=a[1],d[2]=a[2],d[3]=a[3]),d;g=Math.acos(e);k=Math.sqrt(1-e*e);if(0.0010>Math.abs(k))return d[0]=0.5*a[0]+0.5*b[0],
d[1]=0.5*a[1]+0.5*b[1],d[2]=0.5*a[2]+0.5*b[2],d[3]=0.5*a[3]+0.5*b[3],d;e=Math.sin((1-c)*g)/k;c=Math.sin(c*g)/k;d[0]=a[0]*e+b[0]*c;d[1]=a[1]*e+b[1]*c;d[2]=a[2]*e+b[2]*c;d[3]=a[3]*e+b[3]*c;return d};r.fromRotationMatrix=function(a,b){b||(b=r.create());var c=a[0]+a[4]+a[8],d;if(0<c)d=Math.sqrt(c+1),b[3]=0.5*d,d=0.5/d,b[0]=(a[7]-a[5])*d,b[1]=(a[2]-a[6])*d,b[2]=(a[3]-a[1])*d;else{d=r.fromRotationMatrix.s_iNext=r.fromRotationMatrix.s_iNext||[1,2,0];c=0;a[4]>a[0]&&(c=1);a[8]>a[3*c+c]&&(c=2);var e=d[c],g=
d[e];d=Math.sqrt(a[3*c+c]-a[3*e+e]-a[3*g+g]+1);b[c]=0.5*d;d=0.5/d;b[3]=(a[3*g+e]-a[3*e+g])*d;b[e]=(a[3*e+c]+a[3*c+e])*d;b[g]=(a[3*g+c]+a[3*c+g])*d}return b};q.toQuat4=r.fromRotationMatrix;(function(){var a=q.create();r.fromAxes=function(b,c,d,e){a[0]=c[0];a[3]=c[1];a[6]=c[2];a[1]=d[0];a[4]=d[1];a[7]=d[2];a[2]=b[0];a[5]=b[1];a[8]=b[2];return r.fromRotationMatrix(a,e)}})();r.identity=function(a){a||(a=r.create());a[0]=0;a[1]=0;a[2]=0;a[3]=1;return a};r.fromAngleAxis=function(a,b,c){c||(c=r.create());
a*=0.5;var d=Math.sin(a);c[3]=Math.cos(a);c[0]=d*b[0];c[1]=d*b[1];c[2]=d*b[2];return c};r.toAngleAxis=function(a,b){b||(b=a);var c=a[0]*a[0]+a[1]*a[1]+a[2]*a[2];0<c?(b[3]=2*Math.acos(a[3]),c=m.invsqrt(c),b[0]=a[0]*c,b[1]=a[1]*c,b[2]=a[2]*c):(b[3]=0,b[0]=1,b[1]=0,b[2]=0);return b};r.str=function(a){return"["+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+"]"};var x={create:function(a){var b=new g(4);a?(b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[3]):b[0]=b[1]=b[2]=b[3]=0;return b},createFrom:function(a,b,c,d){var e=
new g(4);e[0]=a;e[1]=b;e[2]=c;e[3]=d;return e},set:function(a,b){b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];return b},identity:function(a){a||(a=x.create());a[0]=1;a[1]=0;a[2]=0;a[3]=1;return a},transpose:function(a,b){if(!b||a===b){var c=a[1];a[1]=a[2];a[2]=c;return a}b[0]=a[0];b[1]=a[2];b[2]=a[1];b[3]=a[3];return b},determinant:function(a){return a[0]*a[3]-a[2]*a[1]},inverse:function(a,b){b||(b=a);var c=a[0],d=a[1],e=a[2],g=a[3],k=c*g-e*d;if(!k)return null;k=1/k;b[0]=g*k;b[1]=-d*k;b[2]=-e*k;b[3]=c*
k;return b},multiply:function(a,b,c){c||(c=a);var d=a[0],e=a[1],g=a[2];a=a[3];c[0]=d*b[0]+e*b[2];c[1]=d*b[1]+e*b[3];c[2]=g*b[0]+a*b[2];c[3]=g*b[1]+a*b[3];return c},rotate:function(a,b,c){c||(c=a);var d=a[0],e=a[1],g=a[2];a=a[3];var k=Math.sin(b);b=Math.cos(b);c[0]=d*b+e*k;c[1]=d*-k+e*b;c[2]=g*b+a*k;c[3]=g*-k+a*b;return c},multiplyVec2:function(a,b,c){c||(c=b);var d=b[0];b=b[1];c[0]=d*a[0]+b*a[1];c[1]=d*a[2]+b*a[3];return c},scale:function(a,b,c){c||(c=a);var d=a[1],e=a[2],g=a[3],k=b[0];b=b[1];c[0]=
a[0]*k;c[1]=d*b;c[2]=e*k;c[3]=g*b;return c},str:function(a){return"["+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+"]"}},w=l?"":"d";b["glMath"+w]=m;b["vec2"+w]={create:function(a){var b=new g(2);a?(b[0]=a[0],b[1]=a[1]):(b[0]=0,b[1]=0);return b},createFrom:function(a,b){var c=new g(2);c[0]=a;c[1]=b;return c},add:function(a,b,c){c||(c=b);c[0]=a[0]+b[0];c[1]=a[1]+b[1];return c},subtract:function(a,b,c){c||(c=b);c[0]=a[0]-b[0];c[1]=a[1]-b[1];return c},multiply:function(a,b,c){c||(c=b);c[0]=a[0]*b[0];c[1]=a[1]*
b[1];return c},divide:function(a,b,c){c||(c=b);c[0]=a[0]/b[0];c[1]=a[1]/b[1];return c},scale:function(a,b,c){c||(c=a);c[0]=a[0]*b;c[1]=a[1]*b;return c},dist:function(a,b){var c=b[0]-a[0],d=b[1]-a[1];return Math.sqrt(c*c+d*d)},dist2:function(a,b){var c=b[0]-a[0],d=b[1]-a[1];return c*c+d*d},set:function(a,b){b[0]=a[0];b[1]=a[1];return b},set2:function(a,b,c){c[0]=a;c[1]=b;return c},negate:function(a,b){b||(b=a);b[0]=-a[0];b[1]=-a[1];return b},normalize:function(a,b){b||(b=a);var c=a[0]*a[0]+a[1]*a[1];
0<c?(c=Math.sqrt(c),b[0]=a[0]/c,b[1]=a[1]/c):b[0]=b[1]=0;return b},cross:function(a,b,c){a=a[0]*b[1]-a[1]*b[0];if(!c)return a;c[0]=c[1]=0;c[2]=a;return c},length:function(a){var b=a[0];a=a[1];return Math.sqrt(b*b+a*a)},dot:function(a,b){return a[0]*b[0]+a[1]*b[1]},direction:function(a,b,c){c||(c=a);var d=a[0]-b[0];a=a[1]-b[1];b=d*d+a*a;if(!b)return c[0]=0,c[1]=0,c[2]=0,c;b=1/Math.sqrt(b);c[0]=d*b;c[1]=a*b;return c},lerp:function(a,b,c,d){d||(d=a);d[0]=a[0]+c*(b[0]-a[0]);d[1]=a[1]+c*(b[1]-a[1]);return d},
str:function(a){return"["+a[0]+", "+a[1]+"]"}};b["vec3"+w]=e;b["vec4"+w]={create:function(a){var b=new g(4);a?(b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[3]):(b[0]=0,b[1]=0,b[2]=0,b[3]=0);return b},createFrom:function(a,b,c,d){var e=new g(4);e[0]=a;e[1]=b;e[2]=c;e[3]=d;return e},add:function(a,b,c){c||(c=b);c[0]=a[0]+b[0];c[1]=a[1]+b[1];c[2]=a[2]+b[2];c[3]=a[3]+b[3];return c},subtract:function(a,b,c){c||(c=b);c[0]=a[0]-b[0];c[1]=a[1]-b[1];c[2]=a[2]-b[2];c[3]=a[3]-b[3];return c},multiply:function(a,b,c){c||
(c=b);c[0]=a[0]*b[0];c[1]=a[1]*b[1];c[2]=a[2]*b[2];c[3]=a[3]*b[3];return c},divide:function(a,b,c){c||(c=b);c[0]=a[0]/b[0];c[1]=a[1]/b[1];c[2]=a[2]/b[2];c[3]=a[3]/b[3];return c},scale:function(a,b,c){c||(c=a);c[0]=a[0]*b;c[1]=a[1]*b;c[2]=a[2]*b;c[3]=a[3]*b;return c},dot:function(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]+a[3]*b[3]},set:function(a,b){b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];return b},set4:function(a,b,c,d,e){e[0]=a;e[1]=b;e[2]=c;e[3]=d;return e},negate:function(a,b){b||(b=a);b[0]=-a[0];
b[1]=-a[1];b[2]=-a[2];b[3]=-a[3];return b},lerp:function(a,b,c,d){d||(d=a);d[0]=a[0]+c*(b[0]-a[0]);d[1]=a[1]+c*(b[1]-a[1]);d[2]=a[2]+c*(b[2]-a[2]);d[3]=a[3]+c*(b[3]-a[3]);return d},str:function(a){return"["+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+"]"}};b["mat2"+w]=x;b["mat3"+w]=q;b["mat4"+w]=t;b["quat4"+w]=r});return b})},"esri/views/3d/webgl-engine/lib/VertexBufferLayout":function(){define(["./Util","./webglConstants"],function(b,h){var l=b.assert,m=b.VertexAttrConstants,g=function(a){switch(a){case h.FLOAT:return 4;
case h.BYTE:case h.UNSIGNED_BYTE:return 1;default:return 2}},e=function(a,b,c){var d=0,e={};(function(){var k,m=a.length;l(b.length===m);if(c)l(c.length===m);else{c=Array(a.length);for(k=0;k<c.length;k++)c[k]=h.FLOAT}for(k=0;k<m;k++){var x={offset:d,size:b[k],type:c[k]};l(0===x.size*g(c[k])%4,"attribute byte length must be a multiple of 4");d+=b[k]*g(c[k])/4;e[a[k]]=x}})();this.getStride=function(){return d};this.getAttributes=function(){return e};this.hasAttribute=function(a){return a in e};this.enableVertexAttribArrays=
function(b,c,d){for(var g=0;g<a.length;++g){var f=a[g],k=e[f],f=c.getAttribLocation(f);if(-1<f)if(16===k.size)for(k=0;4>k;k++)b.enableVertexAttribArray(f+k),d&&d.vertexAttribDivisorANGLE(f+k,1);else b.enableVertexAttribArray(f),d&&d.vertexAttribDivisorANGLE(f,1)}};this.disableVertexAttribArrays=function(b,c,d){for(var g=0;g<a.length;++g){var f=a[g],k=e[f],f=c.getAttribLocation(f);if(-1<f)if(16===k.size)for(k=0;4>k;k++)b.disableVertexAttribArray(f+k),d&&d.vertexAttribDivisorANGLE(f+k,0);else b.disableVertexAttribArray(f),
d&&d.vertexAttribDivisorANGLE(f,0)}};this.setVertexAttribPointers=function(b,c){for(var g=0;g<a.length;++g){var k=a[g],f=e[k],h=f.size,l=4*f.offset,f=f.type,k=c.getAttribLocation(k);if(-1<k)if(16===h)for(h=0;4>h;h++)b.vertexAttribPointer(k+h,4,f,!1,4*d,l+16*h);else b.vertexAttribPointer(k,h,f,!1,4*d,l)}}},d=m.POSITION,c=m.NORMAL,a=m.UV0,k=m.COLOR,m=m.REGION;e.Defaults={Pos:new e([d],[3]),Pos2:new e([d],[2]),PosNorm:new e([d,c],[3,3]),PosTex:new e([d,a],[3,2]),PosColor:new e([d,k],[3,4],[h.FLOAT,h.UNSIGNED_BYTE]),
Pos2Tex:new e([d,a],[2,2]),PosNormTex:new e([d,c,a],[3,3,2]),PosNormCol:new e([d,c,k],[3,3,4],[h.FLOAT,h.FLOAT,h.UNSIGNED_BYTE]),PosNormTexCol:new e([d,c,a,k],[3,3,2,4],[h.FLOAT,h.FLOAT,h.FLOAT,h.UNSIGNED_BYTE]),PosNormTexRegion:new e([d,c,a,m],[3,3,2,4],[h.FLOAT,h.FLOAT,h.FLOAT,h.UNSIGNED_SHORT]),PosNormTexRegionCol:new e([d,c,a,m,k],[3,3,2,4,4],[h.FLOAT,h.FLOAT,h.FLOAT,h.UNSIGNED_SHORT,h.UNSIGNED_BYTE]),Model:new e(["model","modelNormal"],[16,16]),ModelCol:new e(["model","modelNormal","instanceColor"],
[16,16,4])};return e})},"esri/views/3d/terrain/SphericalTile":function(){define("./TileBase ./TileGeometryFactory ./TerrainConst ../support/ObjectPool ../support/mathUtils ../support/earthUtils ../lib/glMatrix".split(" "),function(b,h,l,m,g,e,d){var c=d.vec3d,a=e.earthRadius,k=c.create(),p=function(b,c,d,e){d=a+d;var g=Math.cos(b);e[0]=Math.cos(c)*g*d;e[1]=Math.sin(c)*g*d;e[2]=Math.sin(b)*d};e=function(a,d,e){b.call(this);this.tileUp=c.create();this.obb=Array(8);for(var g=0;8>g;g++)this.obb[g]=c.create();
void 0!==a&&this.init(a,d,e)};e.prototype=new b;e.prototype.constructor=e;e.prototype.init=function(d,e,k){b.prototype.init.call(this,d,e,k);e=d[0];k.tilingScheme.getExtent(e,d[1],d[2],this.extent,this.extentWGS84Rad);d=this.extentWGS84Rad[0];var h=this.extentWGS84Rad[1];k=this.extentWGS84Rad[2];var l=this.extentWGS84Rad[3],m=g.lerp(h,l,0.5),x=g.lerp(d,k,0.5);e=0===e?0:Math.min(Math.abs(h),Math.abs(l));this.edgeLen=(k-d)*Math.cos(e)*a;p(m,x,0,this.centerAtSeaLevel);c.set(this.centerAtSeaLevel,this.tileUp);
c.normalize(this.tileUp);this.updateRadiusAndCenter();this._updateOBB()};e.prototype.isVisible=function(a,b){if(!this.intersectsClippingArea)return!1;if(9<this.lij[0])for(var c=this.obb,d=0;6>d;d++){for(var e=0;8>e&&!(0>a[d][0]*c[e][0]+a[d][1]*c[e][1]+a[d][2]*c[e][2]+a[d][3]);e++);if(8===e)return!1}else if(c=this.radius,d=this.center,a[0][0]*d[0]+a[0][1]*d[1]+a[0][2]*d[2]+a[0][3]>c||a[1][0]*d[0]+a[1][1]*d[1]+a[1][2]*d[2]+a[1][3]>c||a[2][0]*d[0]+a[2][1]*d[1]+a[2][2]*d[2]+a[2][3]>c||a[3][0]*d[0]+a[3][1]*
d[1]+a[3][2]*d[2]+a[3][3]>c||a[4][0]*d[0]+a[4][1]*d[1]+a[4][2]*d[2]+a[4][3]>c||a[5][0]*d[0]+a[5][1]*d[1]+a[5][2]*d[2]+a[5][3]>c)return!1;return!0};e.prototype.updateElevationBounds=function(){b.prototype.updateElevationBounds.call(this);this._updateOBB()};e.prototype.updateRadiusAndCenter=function(){b.prototype.updateRadiusAndCenter.call(this);var d=this._isPole(this.lij[1],this.lij[0]);0<d&&(c.set3(0,0,0,k),2===d?c.set3(this.center[0],this.center[1],this.center[2]-a,k):1===d&&c.set3(this.center[0],
this.center[1],this.center[2]+a,k),this.radius=Math.max(this.radius,Math.sqrt(k[0]*k[0]+k[1]*k[1]+k[2]*k[2])))};e.prototype._numSubdivisionsAtLevel=[128,64,32,16,16,8,8,4];e.prototype.createGeometry=function(a,b,c){var d=this._isPole(this.lij[1],this.lij[0]);a.needsUpdate=!1;return h.createSphericalGlobeTile(a.numVertsPerRow,this.extent,this.extentWGS84Rad,a.samplerData,b,d,c)};e.prototype._updateOBB=function(){for(var b=this.extentWGS84Rad,d=this.obb,e=0,e=0;2>e;e++){var g=this.elevationBounds[e],
k=4*e;p(b[1],b[0],g,d[k++]);p(b[3],b[0],g,d[k++]);p(b[3],b[2],g,d[k++]);p(b[1],b[2],g,d[k++])}b=this._isPole(this.lij[1],this.lij[0]);2===b?(c.set3(0,0,a,d[1]),c.set3(0,0,a,d[2]),c.set3(0,0,a,d[5]),c.set3(0,0,a,d[6])):1===b&&(c.set3(0,0,-a,d[1]),c.set3(0,0,-a,d[2]),c.set3(0,0,-a,d[5]),c.set3(0,0,-a,d[6]))};e.prototype._isPole=function(a,b){var c=0;a===(1<<b)-1&&(c+=1);0===a&&(c+=2);return c};e.prototype.elevationStartsAtLevel=l.Spherical.ELEVATION_STARTS_AT_LEVEL;m.on(e,400);return e})},"dijit/_AttachMixin":function(){define("require dojo/_base/array dojo/_base/connect dojo/_base/declare dojo/_base/lang dojo/mouse dojo/on dojo/touch ./_WidgetBase".split(" "),
function(b,h,l,m,g,e,d,c,a){var k=g.delegate(c,{mouseenter:e.enter,mouseleave:e.leave,keypress:l._keypress}),p;l=m("dijit._AttachMixin",null,{constructor:function(){this._attachPoints=[];this._attachEvents=[]},buildRendering:function(){this.inherited(arguments);this._attachTemplateNodes(this.domNode);this._beforeFillContent()},_beforeFillContent:function(){},_attachTemplateNodes:function(a){for(var b=a;;)if(1==b.nodeType&&(this._processTemplateNode(b,function(a,b){return a.getAttribute(b)},this._attach)||
this.searchContainerNode)&&b.firstChild)b=b.firstChild;else{if(b==a)break;for(;!b.nextSibling;)if(b=b.parentNode,b==a)return;b=b.nextSibling}},_processTemplateNode:function(a,b,c){var d=!0,e=this.attachScope||this,k=b(a,"dojoAttachPoint")||b(a,"data-dojo-attach-point");if(k)for(var h=k.split(/\s*,\s*/);k=h.shift();)g.isArray(e[k])?e[k].push(a):e[k]=a,d="containerNode"!=k,this._attachPoints.push(k);if(b=b(a,"dojoAttachEvent")||b(a,"data-dojo-attach-event")){k=b.split(/\s*,\s*/);for(h=g.trim;b=k.shift();)if(b){var l=
null;-1!=b.indexOf(":")?(l=b.split(":"),b=h(l[0]),l=h(l[1])):b=h(b);l||(l=b);this._attachEvents.push(c(a,b,g.hitch(e,l)))}}return d},_attach:function(a,c,e){c=c.replace(/^on/,"").toLowerCase();c="dijitclick"==c?p||(p=b("./a11yclick")):k[c]||c;return d(a,c,e)},_detachTemplateNodes:function(){var a=this.attachScope||this;h.forEach(this._attachPoints,function(b){delete a[b]});this._attachPoints=[];h.forEach(this._attachEvents,function(a){a.remove()});this._attachEvents=[]},destroyRendering:function(){this._detachTemplateNodes();
this.inherited(arguments)}});g.extend(a,{dojoAttachEvent:"",dojoAttachPoint:""});return l})},"esri/views/3d/layers/graphics/LabelManager":function(){define("../../../../core/declare ../../support/PreallocArray ../../lib/glMatrix ../../support/eventUtils ../../webgl-engine/lib/Util ../../webgl-engine/materials/HUDMaterial".split(" "),function(b,h,l,m,g,e){function d(a,b){return b.posView-a.posView}var c=l.mat4d,a=l.vec3d,k=l.vec2d,p=l.vec4d,n=g.lerp,u=g.VertexAttrConstants,q=[[-1,-1],[1,-1],[1,1],
[-1,1]],t=p.create(),r=p.create(),v=p.create(),x=p.create(),w=k.create(),f=k.create(),s=p.create(),z=p.create(),y=p.create(),A=a.create(),B=k.create(),E=p.create(),F=a.create(),G=a.create(),Q=c.create(),M=a.create(),T=p.create(),K=new h(100);l=function(a){this.constructor=a;this.list=[];this.currentIndex=0};l.prototype.alloc=function(){this.currentIndex>=this.list.length&&this.list.push(this.constructor.apply(this,arguments));return this.list[this.currentIndex++]};l.prototype.freeAll=function(a){this.currentIndex=
0};var C=new l(function(){return{labelGraphics:null,c3dGraphic:null,positions:[k.create(),k.create(),k.create(),k.create()],xMin:0,xMax:0,yMin:0,yMax:0,posView:0,layerView:null,labelId:0}});return b(null,{constructor:function(a){this.layerViews=[];this.view=a;this.stage=a._stage;this._deconflictTimeoutId=0;this._cameraListener=m.on(a,"navigation.targetViewChanged",this._targetViewChanged,this);this._viewReadyWatcher=a.watch("ready",function(a){!a&&this._deconflictTimeoutId&&(clearTimeout(this._deconflictTimeoutId),
this._deconflictTimeoutId=0)}.bind(this))},destroy:function(){this._cameraListener.remove();0!==this._deconflictTimeoutId&&(clearTimeout(this._deconflictTimeoutId),this._deconflictTimeoutId=0);this._viewReadyWatcher.remove()},addSceneServiceLayerView:function(a){this.layerViews.push(a)},setDirty:function(){this._deconflictLabelsTimeout(10)},setInitialLabelGraphicState:function(a){a.setVisibilityFlag("VISIBILITY_LABELMANAGER",!1)},removeSceneServiceLayerView:function(a){a=this.layerViews.indexOf(a);
0<=a&&this.layerViews.splice(a,1)},_drawPoly:function(a,b,c){a.beginPath();a.lineWidth="1";a.strokeStyle=c;a.moveTo(b[0][0],b[0][1]);for(c=1;4>c;c++)a.lineTo(b[c][0],b[c][1]),a.stroke();a.lineTo(b[0][0],b[0][1]);a.stroke();a.closePath()},_tmp_vec:k.create(),_doesIntersectExistingPoly:function(a){var b=this._tmp_vec,c=a.positions,d={},f,e,g,h,l,n,m,p,r,q,s,t,u,v;for(f=Math.floor(a.xMin/this._accBinsSizeX);f<=Math.floor(a.xMax/this._accBinsSizeX);f++)if(!(0>f||f>=this._accBinsNumX))for(e=Math.floor(a.yMin/
this._accBinsSizeY);e<=Math.floor(a.yMax/this._accBinsSizeY);e++)if(!(0>e||e>=this._accBinsNumY)){g=this._accBins[f][e];h=0;a:for(;h<g.length;h++)if(l=g.data[h],null==d[l.labelId]){d[l.labelId]=!0;l=l.positions;this._accNumTests++;for(p=0;2>p;p++){n=0===p?c:l;m=0===p?l:c;u=0;b:for(;4>u;u++){r=n[u];q=n[(u+1)%4];s=n[(u+2)%4];b[0]=q[0]-r[0];b[1]=q[1]-r[1];q=k.normalize(b);t=q[1];q[1]=q[0];q[0]=-t;t=q[0]*r[0]+q[1]*r[1];v=q[0]*s[0]+q[1]*s[1]<t;for(r=0;4>r;r++)if(s=m[r],s=q[0]*s[0]+q[1]*s[1],v&&s<t||!v&&
s>t)continue b;continue a}}return!0}}return!1},_accBinsNumX:15,_accBinsNumY:20,_accBinsSizeX:0,_accBinsSizeY:0,_accBins:null,_accNumTests:0,_initBins:function(a,b){var c,d,f;if(null==this._accBins){this._accBins=[];for(c=0;c<this._accBinsNumX;c++){this._accBins.push([]);f=this._accBins[this._accBins.length-1];for(d=0;d<this._accBinsNumY;d++)f.push(new h(10))}}for(c=0;c<this._accBinsNumX;c++)for(d=0;d<this._accBinsNumY;d++)this._accBins[c][d].clear();this._accBinsSizeX=a/this._accBinsNumX;this._accBinsSizeY=
b/this._accBinsNumY;this._accNumTests=0},_addToBins:function(a){var b,c;for(b=Math.floor(a.xMin/this._accBinsSizeX);b<=Math.floor(a.xMax/this._accBinsSizeX);b++)if(!(0>b||b>=this._accBinsNumX))for(c=Math.floor(a.yMin/this._accBinsSizeY);c<=Math.floor(a.yMax/this._accBinsSizeY);c++)0>c||c>=this._accBinsNumY||this._accBins[b][c].push(a)},_accDrawDebug:function(a){var b=[k.create(),k.create(),k.create(),k.create()],c=0,d,f,e,g,h,l,n;for(d=0;d<this._accBinsNumX;d++)for(f=0;f<this._accBinsNumY;f++)e=this._accBins[d][f],
c+=e.length,g=d*this._accBinsSizeX,h=(d+1)*this._accBinsSizeX,l=f*this._accBinsSizeY,n=(f+1)*this._accBinsSizeY,b[0][0]=g,b[0][1]=l,b[1][0]=h,b[1][1]=l,b[2][0]=h,b[2][1]=n,b[3][0]=g,b[3][1]=n,a.fillText(e.length.toFixed(),g+5,l+15),this._drawPoly(a,b,"blue");a.fillText("total totalShownLabels: "+c,70,40)},_targetViewChanged:function(){this._deconflictLabelsTimeout()},_deconflictLabelsTimeout:function(a){0===this._deconflictTimeoutId&&(this._deconflictTimeoutId=setTimeout(this._deconflictLabels.bind(this),
a||200))},_deconflictLabels:function(){var b=this.view;this._deconflictTimeoutId=0;C.freeAll();var g=b.navigation.targetCamera,h=g.viewMatrix,l=1/Math.tan(g.fovX/2),m=g.projectionMatrix,R=g.fullWidth,N=g.fullHeight;K.clear();for(var H={},O=!1,I=0;I<this.layerViews.length;I++){var J=this.layerViews[I];if(null!=J.layerLabelsEnabled&&J.layerLabelsEnabled()&&!(null==J.getCanvas3DGraphics||null==J.getCanvas3DGraphicsKeys)){O||(this._initBins(R,N),O=!0);for(var S=J.getCanvas3DGraphics(),U=J.getCanvas3DGraphicsKeys(),
ba=0;ba<U.length;ba++){var X=S[U[ba]];if(!(null==X._labelGraphics||1>X._labelGraphics.length)&&X.areVisibilityFlagsSet(void 0,"VISIBILITY_LABELMANAGER")){var $=X._labelGraphics[0],P=$.stageObject,aa=P.getGeometryRecord(0);if(null!=aa){var da=aa.materials[0];if(!(null==da||!(da instanceof e)||null==aa.origin)){var b=h,P=P.getCenter(),Y=aa.origin.vec3;p.set4(P[0]-Y[0],P[1]-Y[1],P[2]-Y[2],1,t);c.translate(b,Y,Q);b=Q;c.multiplyVec4(b,t,r);var fa=aa.geometry.getData().getVertexAttr()[u.AUXPOS1];if(null!=
fa&&0>fa.data[3])for(Y=0;3>Y;Y++)r[Y]+=fa.data[Y];c.multiplyVec4(m,r,v);p.scale(v,1/Math.abs(v[3]),x);k.set2(n(0,R,0.5+0.5*x[0]),n(0,N,0.5+0.5*x[1]),B);if(-1>x[0]||-1>x[1]||-1>x[2]||1<=x[0]||1<=x[1]){b=!1;for(aa=0;aa<X._labelGraphics.length;aa++)b=b||X._labelGraphics[aa].setVisibilityFlag("VISIBILITY_LABELMANAGER",!1);b&&(H[J]=!0)}else{Y=da.getParams();da=aa.geometry.getData().getVertexAttr()[u.SIZE].data;k.subtract(Y.anchorPos,[0.5,0.5],w);k.scale(Y.screenOffset,0.5,f);aa=C.alloc();if(Y.direction){var ga=
a.set3($.geometry.normal[0],$.geometry.normal[1],$.geometry.normal[2],F),fa=a.normalize(a.subtract(g.eye,g.center,s),s),ea=a.normalize(a.set(Y.direction,G)),ia,$=0;a.scale(ea,a.dot(ea,fa),A);a.subtract(fa,A,A);a.normalize(A);ia=Math.abs(a.dot(A,ga));0.985>Math.abs(a.dot(fa,ea))&&0.5>ia?0.422>ia?(fa=ea,ia=ga,$=0.5):(fa=ea,ia=M,a.cross(ea,A,ia),$=a.dot(ia,ga)/2):(fa=ea,ia=a.normalize(a.cross(ga,ea)));ga=2*(a.dist(g.eye,P)/l/g.width);P=ga*Y.screenMinMaxSize[0];ea=ga*Y.screenMinMaxSize[1];Y.worldScale?
(ga=1,0<P&&P>da[1]&&(ga=P/da[1]),0<ea&&da[1]>ea&&(ga=ea/da[1])):ga=0.5*v[3]/R;for(Y=0;4>Y;Y++)p.set(t,T),a.add(T,a.scale(fa,q[Y][0]*da[0]*ga,z)),a.add(T,a.scale(ia,(q[Y][1]+$)*da[1]*ga,y)),c.multiplyVec4(b,T,s),P=c.multiplyVec4(m,s,z),p.scale(P,1/Math.abs(P[3]),P),aa.positions[Y][0]=n(0,R,0.5+0.5*P[0]),aa.positions[Y][1]=N-n(0,N,0.5+0.5*P[1])}else if(Y.worldScale){ga=2*(a.dist(g.eye,P)/l/g.width);P=ga*Y.screenMinMaxSize[0];ea=ga*Y.screenMinMaxSize[1];ga=1;0<P&&P>da[1]&&(ga=P/da[1]);0<ea&&da[1]>ea&&
(ga=ea/da[1]);for(Y=0;4>Y;Y++)E[0]=r[0]+(0.5*q[Y][0]-w[0])*da[0]*ga,E[1]=r[1]+(0.5*q[Y][1]-w[1])*da[1]*ga,P=c.multiplyVec4(m,E,s),p.scale(P,1/Math.abs(P[3]),P),aa.positions[Y][0]=n(0,R,0.5+0.5*P[0])+f[0],aa.positions[Y][1]=N-n(0,N,0.5+0.5*P[1])-f[1]}else{b=a.dist(g.eye,t);for(Y=0;4>Y;Y++)aa.positions[Y][0]=B[0]+(0.5*q[Y][0]-w[0])*da[0]+f[0],aa.positions[Y][1]=N-B[1]+(0.5*q[Y][1]+w[1])*da[1]-f[1]}b=r[2];X.areVisibilityFlagsSet("VISIBILITY_LABELMANAGER",void 0)&&(b*=0.7);aa.labelId=K.length;aa.xMin=
Number.MAX_VALUE;aa.yMin=Number.MAX_VALUE;aa.xMax=-Number.MAX_VALUE;aa.yMax=-Number.MAX_VALUE;for(da=0;4>da;da++)aa.xMin=Math.min(aa.positions[da][0],aa.xMin),aa.yMin=Math.min(aa.positions[da][1],aa.yMin),aa.xMax=Math.max(aa.positions[da][0],aa.xMax),aa.yMax=Math.max(aa.positions[da][1],aa.yMax);aa.labelGraphics=X._labelGraphics;aa.c3dGraphic=X;aa.posView=b;aa.layerView=J;K.push(aa)}}}}}}}K.sort(d);for(I=0;I<K.length;I++){g=K.data[I];b=!1;J=g.layerView;if(this._doesIntersectExistingPoly(g))for(Y=
0;Y<g.labelGraphics.length;Y++)b=b||g.labelGraphics[Y].setVisibilityFlag("VISIBILITY_LABELMANAGER",!1);else{this._addToBins(g);for(Y=0;Y<g.labelGraphics.length;Y++)b=b||g.labelGraphics[Y].setVisibilityFlag("VISIBILITY_LABELMANAGER",!0)}b&&g.c3dGraphic.isDraped()&&(H[J]=!0);Object.keys(H).forEach(function(a){a.emit&&a.emit("draped-data-change")})}}})})},"esri/geometry/Polygon":function(){define("dojo/_base/array dojo/_base/lang ../core/declare ../core/lang ./SpatialReference ./Geometry ./Point ./Extent ./support/coordsUtils ./support/mathUtils ./support/webMercatorUtils".split(" "),
function(b,h,l,m,g,e,d,c,a,k,p){var n=function(a){return function(b,c){return null==b?c:null==c?b:a(b,c)}},u=n(Math.min),q=n(Math.max),t=l(e,{declaredClass:"esri.geometry.Polygon",classMetadata:{computed:{cache:["hasM","hasZ","rings"],extent:["cache"],centroid:["cache"],isSelfIntersecting:["cache"]}},type:"polygon",getDefaults:function(a){return{rings:[]}},normalizeCtorArgs:function(a,b){var c=null,d=void 0,f=void 0,e=null;a&&!Array.isArray(a)?(c=a.rings?a.rings:null,b=b||(c?a.spatialReference:a),
d=a.hasZ,f=a.hasM):c=a;c=c||[];b=b||g.WGS84;c.length&&(c[0]&&null!=c[0][0]&&"number"==typeof c[0][0])&&(c=[c]);if(e=c[0]&&c[0][0])void 0===d&&void 0===f?(d=2<e.length,f=!1):void 0===d?d=!f&&3<e.length:void 0===f&&(f=!d&&3<e.length);return{rings:c,spatialReference:b,hasZ:d,hasM:f}},_ring:0,_centroidGetter:function(b){var c=a.centroid([],this.rings,this.hasZ);if(isNaN(c[0])||isNaN(c[1])||this.hasZ&&isNaN(c[2]))return null;b=b||new d;b.x=c[0];b.y=c[1];b.spatialReference=this.spatialReference;this.hasZ&&
(b.z=c[2]);return b},_extentGetter:function(a){var b=this.rings,d=b.length;if(!d||!b[0].length)return null;var e,f,g,k,h,l,n,m,p,t,Q,M=h=b[0][0][0],T=l=b[0][0][1],K,C,D=this.spatialReference,L=[],W,ca,V,R,N,H,O,I,J=this.hasZ,S=this.hasM,U=J?3:2;for(p=0;p<d;p++){e=b[p];W=ca=e[0]&&e[0][0];V=R=e[0]&&e[0][1];Q=e.length;O=I=N=H=void 0;for(t=0;t<Q;t++)f=e[t],g=f[0],k=f[1],M=u(M,g),T=u(T,k),h=q(h,g),l=q(l,k),W=u(W,g),V=u(V,k),ca=q(ca,g),R=q(R,k),J&&2<f.length&&(g=f[2],K=u(K,g),n=q(n,g),N=u(N,g),H=q(H,g)),
S&&f.length>U&&(f=f[U],C=u(K,f),m=q(n,f),O=u(N,f),I=q(H,f));L.push(new c({xmin:W,ymin:V,zmin:N,mmin:O,xmax:ca,ymax:R,zmax:H,mmax:I,spatialReference:D}))}a=a||new c;a.xmin=M;a.ymin=T;a.xmax=h;a.ymax=l;a.spatialReference=D;J&&(a.zmin=K,a.zmax=n);S&&(a.mmin=C,a.mmax=m);a._partwise=1<L.length?L:null;return a},_isSelfIntersectingGetter:function(){var a=this.rings,b=a.length,c,d,f,e,g,h,l,n,m;for(e=0;e<b;e++){c=a[e];for(d=0;d<c.length-1;d++){h=[[c[d][0],c[d][1]],[c[d+1][0],c[d+1][1]]];for(f=e+1;f<b;f++)for(g=
0;g<a[f].length-1;g++)if(l=[[a[f][g][0],a[f][g][1]],[a[f][g+1][0],a[f][g+1][1]]],(n=k._getLineIntersection2(h,l))&&!(n[0]===h[0][0]&&n[1]===h[0][1]||n[0]===l[0][0]&&n[1]===l[0][1]||n[0]===h[1][0]&&n[1]===h[1][1]||n[0]===l[1][0]&&n[1]===l[1][1]))return!0}g=c.length;if(!(4>=g))for(d=0;d<g-3;d++){m=g-1;0===d&&(m=g-2);h=[[c[d][0],c[d][1]],[c[d+1][0],c[d+1][1]]];for(f=d+2;f<m;f++)if(l=[[c[f][0],c[f][1]],[c[f+1][0],c[f+1][1]]],(n=k._getLineIntersection2(h,l))&&!(n[0]===h[0][0]&&n[1]===h[0][1]||n[0]===l[0][0]&&
n[1]===l[0][1]||n[0]===h[1][0]&&n[1]===h[1][1]||n[0]===l[1][0]&&n[1]===l[1][1]))return!0}}return!1},rings:null,addRing:function(a){if(a){this.clearCache();var b=this.rings,c=b.length;if(Array.isArray(a[0]))b[c]=a.concat();else{var d=[];b[c]=d;b=0;for(c=a.length;b<c;b++)d[b]=a[b].toArray()}return this}},clone:function(){var a=new t;a.spatialReference=this.spatialReference;a.rings=h.clone(this.rings);a.hasZ=this.hasZ;a.hasM=this.hasM;return a},contains:function(b){if(!b)return!1;p.canProject(b,this.spatialReference)&&
(b=p.project(b,this.spatialReference));return a.contains(this.rings,a.fromGeom(b))},isClockwise:function(a){var b=0,c=0,d=0,f,e=a.length,g,k,h,l=this.hasZ,n=this.hasM;for(f=0;f<e;f++)g=a[f],k=a[(f+1)%e],Array.isArray(g)?(b+=g[0]*k[1]-k[0]*g[1],h=2,2<g.length&&(2<k.length&&l)&&(c+=g[0]*k[2]-k[0]*g[2],h=3),g.length>h&&(k.length>h&&n)&&(d+=g[0]*k[h]-k[0]*g[h])):(b+=g.x*k.y-k.x*g.y,g.hasZ&&k.hasZ&&(c+=g.x*k.z-k.x*g.z),g.hasM&&k.hasM&&(d+=g.x*k.m-k.x*g.m));return 0>=b&&0>=c&&0>=d},getPoint:function(a,
b){if(this._validateInputs(a,b)){var c=this.rings[a][b],e=this.hasZ,f=this.hasM;return e&&!f?new d(c[0],c[1],c[2],void 0,this.spatialReference):f&&e?new d(c[0],c[1],void 0,c[2],this.spatialReference):e&&f?new d(c[0],c[1],c[2],c[3],this.spatialReference):new d(c[0],c[1],this.spatialReference)}},insertPoint:function(a,b,c){if(this._validateInputs(a)&&m.isDefined(b)&&0<=b&&b<=this.rings[a].length)return this.clearCache(),this.rings[a].splice(b,0,c),this},removePoint:function(a,b){if(this._validateInputs(a,
b))return this.clearCache(),new d(this.rings[a].splice(b,1)[0],this.spatialReference)},removeRing:function(a){if(this._validateInputs(a,null)){this.clearCache();a=this.rings.splice(a,1)[0];var b,c=a.length,e=this.spatialReference;for(b=0;b<c;b++)a[b]=new d(a[b],e);return a}},setPoint:function(a,b,c){if(this._validateInputs(a,b))return this.clearCache(),Array.isArray(c)||(c=c.toArray()),this.rings[a][b]=c,this},toJSON:function(){var a=this.spatialReference,a={rings:this.rings,spatialReference:a&&a.toJSON()};
this.hasZ&&(a.hasZ=!0);this.hasM&&(a.hasM=!0);return a},_insertPoints:function(a,c){this.clearCache();this._ring=c;this.rings[this._ring]||(this.rings[this._ring]=[]);b.forEach(a,this._addPoint,this)},_validateInputs:function(a,b){return null!==a&&void 0!==a&&(0>a||a>=this.rings.length)||null!==b&&void 0!==a&&(0>b||b>=this.rings[a].length)?!1:!0}});t.createEllipse=function(a){var b=a.center.x,c=a.center.y,d=a.center.z,f=a.center.m,e=a.longAxis,g=a.shortAxis,k=a.numberOfPoints;a=a.map;var h,l,n,m=
[],p=2*Math.PI/k;for(l=0;l<k;l++)h=Math.cos(l*p),n=Math.sin(l*p),h=a.toMap({x:e*h+b,y:g*n+c}),null!=d&&!h.hasZ&&(h.z=d),null!=f&&!h.hasM&&(h.m=f),m.push(h);m.push(m[0]);return new t({rings:[m],spatialReference:a.spatialReference})};t.createCircle=function(a){return t.createEllipse({center:a.center,longAxis:a.r,shortAxis:a.r,numberOfPoints:a.numberOfPoints,map:a.map})};t.fromExtent=function(a){var c=a.normalize();a=a.spatialReference;var d=!1,e=!1;b.map(c,function(a){a.hasZ&&(d=!0);a.hasM&&(e=!0)});
c={rings:b.map(c,function(a){var b=[[a.xmin,a.ymin],[a.xmin,a.ymax],[a.xmax,a.ymax],[a.xmax,a.ymin],[a.xmin,a.ymin]];if(d&&a.hasZ)for(var c=(a.zmax-a.zmin)/2,g=0;g<b.length;g++)b[g].push(c);if(e&&a.hasM){a=(a.mmax-a.mmin)/2;for(g=0;g<b.length;g++)b[g].push(a)}return b}),spatialReference:a?a.toJSON():null};d&&(c.hasZ=!0);e&&(c.hasM=!0);return new t(c)};return t})},"esri/widgets/Popup/PopupRenderer":function(){define("require ../Widget ../../core/declare ../../core/lang ../../core/urlUtils dojo/_base/lang dojo/_base/array dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/on dojo/Deferred dojo/query dojo/sniff dojo/promise/all dojox/html/entities dijit/_TemplatedMixin dijit/a11yclick dojo/i18n!../../nls/jsapi dojo/text!./templates/PopupRenderer.html ../../request ../../tasks/support/Query ../../tasks/QueryTask ../../tasks/support/StatisticDefinition dojo/i18n!dojo/cldr/nls/number".split(" "),
function(b,h,l,m,g,e,d,c,a,k,p,n,u,q,t,r,v,x,w,f,s,z,y,A,B){var E=0;return l([h,v],{declaredClass:"esri.widgets.Popup.PopupRenderer",templateString:f,constructor:function(){this._i18n=w.widgets.popupRenderer},postCreate:function(){this.inherited(arguments);var a=this;this.own(p(this._mediaSliderItems,p.selector("["+this._mediaIndexAttr+"]",x),function(){a._openMediaItem(this)}))},destroy:function(){this._dfd&&this._dfd.cancel();this._destroyFrame();this.graphic=this._i18n=this._mediaInfos=this.mediaIndex=
this._dfd=null;this.inherited(arguments)},startup:function(){this.inherited(arguments);this.emit("load");this.set("loaded",!0)},css:{root:"esri-popup-renderer",container:"esri-popup-renderer-container",main:"esri-popup-renderer-main",title:"esri-popup-renderer-title",description:"esri-popup-renderer-description",attachments:"esri-popup-renderer-attachments",media:"esri-popup-renderer-media",mediaTitle:"esri-popup-renderer-media-title",mediaSummary:"esri-popup-renderer-media-summary",mediaCount:"esri-popup-renderer-media-count",
mediaImageSummary:"esri-popup-renderer-media-image-summary",mediaImageIcon:"esri-popup-renderer-media-image-icon esri-icon-media",mediaChartSummary:"esri-popup-renderer-media-chart-summary",mediaChartIcon:"esri-popup-renderer-MediaChartIcon esri-icon-chart",mediaSlider:"esri-popup-renderer-media-slider",mediaSliderItems:"esri-popup-renderer-media-slider-items",mediaSliderItem:"esri-popup-renderer-media-slider-item",mediaFrame:"esri-popup-renderer-media-frame",edit:"esri-popup-renderer-edit",editSummary:"esri-popup-renderer-summary",
showTitle:"esri-popup-renderer-show-title",showAttachments:"esri-popup-renderer-show-attachments",showMedia:"esri-popup-renderer-show-media",showEdit:"esri-popup-renderer-show-edit",numericValue:"esri-numeric-value",chart:"esri-chart",clearFix:"esri-clearfix"},_relatedFieldPrefix:"relationships/",_mediaIndexAttr:"data-media-index",graphic:null,showTitle:!0,showContent:!0,title:"",content:null,getComponents:function(){var a=this.graphic,b=a.popupTemplate,c=new n,f,e;b&&b.fieldInfos&&(e=d.filter(b.fieldInfos,
function(a){return-1!==a.fieldName.indexOf(this._relatedFieldPrefix)},this));e&&0<e.length&&(f=this._getRelatedRecords({graphic:a,fieldsInfo:e}));this.showContent?f?f.always(function(){c.resolve(this._getPopupValues())}):c.resolve(this._getPopupValues()):c.resolve();return c.promise},getAttachments:function(){var a=this.graphic,b=a.layer,a=a.attributes;if(this.showAttachments&&(b&&b.hasAttachments&&b.objectIdField)&&(a=a&&a[b.objectIdField]))return b.queryAttachmentInfos(a)},_openMediaItem:function(a){if(a=
c.get(a,this._mediaIndexAttr))a=parseInt(a,10),console.log(this._mediaInfos[a])},_goToPrevMedia:function(){var a=this._mediaInfos.length,b=this.mediaIndex-1;0>b&&(b=a-1);this.set("mediaIndex",b)},_goToNextMedia:function(){var a=this.mediaIndex+1;a===this._mediaInfos.length&&(a=0);this.set("mediaIndex",a)},_updateUI:function(){var a=0,b=0,d=this._mediaInfos;d&&(d.forEach(function(c,d){var f=c.value,e={className:this.css.mediaSliderItem};e[this._mediaIndexAttr]=d;e=k.create("div",e,this._mediaSliderItems);
if("image"===c.type){var g;f.linkURL&&(g=k.create("a",{href:f.linkURL,target:this._preventNewTab(f.linkURL)?"":"_blank"},e));k.create("img",{alt:"",src:f.sourceURL},g||e);a++}else-1!==c.type.indexOf("chart")&&(k.create("img",{alt:"",src:"http://findicons.com/files/icons/192/finance/64/pie_chart.png"},e),b++);k.create("div",{textContent:c.title},e)}.bind(this)),c.set(this._imageCount,"innerHTML","("+a+")"),c.set(this._chartCount,"innerHTML","("+b+")"))},_displayMedia:function(){var a=this._mediaInfos[this.mediaIndex];
this._rid=null;var c=this,d=["dojox/charting/Chart2D","dojox/charting/action2d/Tooltip"],f=a.value.theme||this.chartTheme;e.isString(f)&&(f=f.replace(/\./gi,"/"),-1===f.indexOf("/")&&(f="dojox/charting/themes/"+f));f||(f="dojox/charting/themes/Claro");d.push(f);try{var g=this._rid=E++;b(d,function(b,d,f){g===c._rid&&(c._rid=null,c._showChart(a.type,a.value,b,d,f))})}catch(k){console.log(this.declaredClass+"::error loading modules")}},_preventNewTab:function(a){return(a=a&&e.trim(a).toLowerCase())&&
(0===a.indexOf("mailto:")||0===a.indexOf("tel:"))},_showChart:function(a,b,c,f,e){c=this._chart=new c(k.create("div",{"class":this.css.chart},this._mediaFrame),{margins:{l:4,t:4,r:4,b:4}});e&&c.setTheme(e);switch(a){case "piechart":c.addPlot("default",{type:"Pie",labels:!1});c.addSeries("Series A",b.fields);break;case "linechart":c.addPlot("default",{type:"Markers"});c.addAxis("x",{min:0,majorTicks:!1,minorTicks:!1,majorLabels:!1,minorLabels:!1});c.addAxis("y",{includeZero:!0,vertical:!0,fixUpper:"minor"});
d.forEach(b.fields,function(a,b){a.x=b+1});c.addSeries("Series A",b.fields);break;case "columnchart":c.addPlot("default",{type:"Columns",gap:3});c.addAxis("y",{includeZero:!0,vertical:!0,fixUpper:"minor"});c.addSeries("Series A",b.fields);break;case "barchart":c.addPlot("default",{type:"Bars",gap:3}),c.addAxis("x",{includeZero:!0,fixUpper:"minor",minorLabels:!1}),c.addAxis("y",{vertical:!0,majorTicks:!1,minorTicks:!1,majorLabels:!1,minorLabels:!1}),c.addSeries("Series A",b.fields)}this._action=new f(c);
c.render()},_destroyFrame:function(){this._rid=null;this._chart&&(this._chart.destroy(),this._chart=null);this._action&&(this._action.destroy(),this._action=null);this._pswpNode&&k.destroy(this._pswpNode)},_attListHandler:function(a,b){if(a===this._dfd){this._dfd=null;var f="";!(b instanceof Error)&&(b&&b.length)&&d.forEach(b,function(a){f+="\x3cli\x3e";f+='\x3ca href\x3d"'+g.addProxy(a.url)+'" target\x3d"_blank"\x3e'+(a.name||"[No name]")+"\x3c/a\x3e";f+="\x3c/li\x3e"});c.set(this._attachmentsList,
"innerHTML",f||"\x3cli\x3e"+this._i18n.noAttach+"\x3c/li\x3e")}},_handleComponentsSuccess:function(b){if(b){var f=this.showTitle?b.title:"",e=b.description,g=b.fields,k=b.mediaInfos,h=this;c.set(this._title,"innerHTML",f);f&&a.add(this._container,this.css.showTitle);!e&&g&&(e="",g.length&&(e="\x3ctable\x3e\x3ctbody\x3e"),d.forEach(g,function(a){e+="\x3ctr\x3e";e+="\x3cth\x3e"+r.encode(a[0])+"\x3c/th\x3e";e+="\x3ctd\x3e"+a[1].replace(/^\s*(https?:\/\/[^\s]+)\s*$/i,'\x3ca target\x3d"_blank" href\x3d"$1" title\x3d"$1"\x3e'+
this._i18n.moreInfo+"\x3c/a\x3e")+"\x3c/td\x3e";e+="\x3c/tr\x3e"}),g.length&&(e+="\x3c/tbody\x3e\x3c/table\x3e"));c.set(this._description,"innerHTML",e);u("a",this._description).forEach(function(a){h._preventNewTab(a.href)?"_blank"===a.target&&c.remove(a,"target"):c.set(a,"target","_blank")});if(f=this._dfd=this.getAttachments())f.always(this._attListHandler.bind(this,f)),c.set(this._attachmentsList,"innerHTML","\x3cli\x3e"+this._i18n.searching+"\x26helip;\x3c/li\x3e"),a.add(this._container,this.css.showAttachments);
k&&k.length&&(a.add(this._container,this.css.showMedia),this._mediaInfos=k,this.set("mediaIndex",0));b.editSummary&&(c.set(this._editSummary,"innerHTML",b.editSummary),a.add(this._container,this.css.showEdit));this.set("content",this.domNode)}},_handleComponentsError:function(a){console.log(this.declaredClass+"::error loading template",a);this.set("content",null)},_getTitle:function(){var a="";this.graphic&&(a=this._getPopupValues(!0).title);return a},_relatedFeaturesAttributes:function(a,b,c,d){for(var f in d.attributes)if(d.attributes.hasOwnProperty(f)&&
"esriRelCardinalityOneToOne"===a.relation.cardinality){var e=this._toRelatedFieldName([a.relation.id,f]);b[e]=c[e]=d.attributes[f]}},_relatedStatsAttributes:function(a,b,c,d){for(var f in d.attributes)if(d.attributes.hasOwnProperty(f)){var e=this._toRelatedFieldName([a.relation.id,f]);b[e]=c[e]=d.attributes[f]}},_getPopupValues:function(a){var b=this.graphic,c=b.popupTemplate,f=b.layer,g=e.clone(b.attributes)||{},k=e.clone(g),h=c&&c.fieldInfos,l=c&&c.mediaInfos,n="",p="",q,r,s,t,u=f&&f._getDateOpts&&
f._getDateOpts().properties,v={dateFormat:{properties:u,formatter:"DateFormat"+this._insertOffset(this._dateFormats.shortDateShortTime)}};if(this._relatedInfo)for(t in this._relatedInfo)if(this._relatedInfo.hasOwnProperty(t)){var w=this._relatedInfo[t],x=this._relatedLayersInfo[t];w&&(d.forEach(w.relatedFeatures,function(a){this._relatedFeaturesAttributes(x,g,k,a)},this),d.forEach(w.relatedStatsFeatures,function(a){this._relatedStatsAttributes(x,g,k,a)},this))}h&&d.forEach(h,function(a){r=a.fieldName;
var b=this._getLayerFieldInfo(f,r);b&&(r=a.fieldName=b.name);k[r]=this._formatValue(k[r],r,v);u&&(a.format&&a.format.dateFormat)&&(a=d.indexOf(u,r),-1<a&&u.splice(a,1))},this);if(f){t=f.types;var z=(w=f.typeIdField)&&g[w];for(r in g)if(g.hasOwnProperty(r)&&-1===r.indexOf(this._relatedFieldPrefix)&&(s=g[r],m.isDefined(s))){var A=this._getDomainName(f,b,t,z,r,s);m.isDefined(A)?k[r]=A:r===w&&(A=this._getTypeName(f,b,s),m.isDefined(A)&&(k[r]=A))}}c&&c.title&&!(c.title&&-1!==c.title.indexOf("{"+this._relatedFieldPrefix))&&
(n=this._processFieldsInLinks(this._fixTokens(c.title,f),g),n=e.trim(m.substitute(k,n,v)||""));if(a)return{title:n};c&&c.content&&(p=this._processFieldsInLinks(this._fixTokens(c.content,f),g),p=e.trim(m.substitute(k,p,v)||""));h&&(q=[],d.forEach(h,function(a){(r=a.fieldName)&&a.visible&&q.push([a.label||r,m.substitute(k,"${"+r+"}",v)||""])}));var y,B;l&&(y=[],d.forEach(l,function(a){B=0;s=a.value;switch(a.type){case "image":var b=s.sourceURL,b=b&&e.trim(m.substitute(g,this._fixTokens(b,f)));B=!!b;
break;case "piechart":case "linechart":case "columnchart":case "barchart":var h,b=s.normalizeField;s.fields=d.map(s.fields,function(a){return(h=this._getLayerFieldInfo(f,a))?h.name:a},this);b&&(h=this._getLayerFieldInfo(f,b),s.normalizeField=h?h.name:b);B=d.some(s.fields,function(a){return m.isDefined(g[a])||-1!==a.indexOf(this._relatedFieldPrefix)&&this._relatedInfo},this);break;default:return}if(B){a=e.clone(a);s=a.value;var b=a.title?this._processFieldsInLinks(this._fixTokens(a.title,f),g):"",
l=a.caption?this._processFieldsInLinks(this._fixTokens(a.caption,f),g):"";a.title=b?e.trim(m.substitute(k,b,v)||""):"";a.caption=l?e.trim(m.substitute(k,l,v)||""):"";if("image"===a.type)s.sourceURL=m.substitute(g,this._fixTokens(s.sourceURL,f)),s.linkURL&&(s.linkURL=e.trim(m.substitute(g,this._fixTokens(s.linkURL,f))||""));else{var n,p;d.forEach(s.fields,function(a,b){if(-1!==a.indexOf(this._relatedFieldPrefix))p=this._getRelatedChartInfos(a,s,g,v),p instanceof Array?s.fields=p:s.fields[b]=p;else{var d=
g[a],d=void 0===d?null:d;n=g[s.normalizeField]||0;d&&n&&(d/=n);s.fields[b]={y:d,tooltip:(c._fieldLabels[a.toLowerCase()]||a)+":\x3cbr/\x3e"+this._formatValue(d,a,v,!!n)}}},this)}y.push(a)}},this));return{title:n,description:p,fields:q&&q.length?q:null,mediaInfos:y&&y.length?y:null,formatted:k,editSummary:f&&f.getEditSummary?f.getEditSummary(b):""}},_getRelatedChartInfos:function(a,b,c,f){var e,g,k,h,l,n,m=this.graphic.popupTemplate;e=[];n=this._fromRelatedFieldName(a);l=n[0];g=this._relatedInfo[l];
l=this._relatedLayersInfo[l];g&&d.forEach(g.relatedFeatures,function(d){d=d.attributes;var g,l;for(l in d)if(d.hasOwnProperty(l)&&l===n[1]){g={};h=d[l];b.normalizeField&&(k=-1!==b.normalizeField.indexOf(this._relatedFieldPrefix)?d[this._fromRelatedFieldName(b.normalizeField)[1]]:c[b.normalizeField]);h&&k&&(h/=k);if(b.tooltipField)if(-1!==b.tooltipField.indexOf(this._relatedFieldPrefix)){var p=this._fromRelatedFieldName(b.tooltipField)[1];g.tooltip=d[p]+":\x3cbr/\x3e"+this._formatValue(h,d[p],f,!!k)}else g.tooltip=
(m._fieldLabels[a.toLowerCase()]||a)+":\x3cbr/\x3e"+this._formatValue(h,b.tooltipField,f,!!k);else g.tooltip=h;g.y=h;e.push(g)}},this);return"esriRelCardinalityOneToMany"===l.relation.cardinality||"esriRelCardinalityManyToMany"===l.relation.cardinality?e:e[0]},_dateFormats:{shortDate:"(datePattern: 'M/d/y', selector: 'date')",shortDateLE:"(datePattern: 'd/M/y', selector: 'date')",longMonthDayYear:"(datePattern: 'MMMM d, y', selector: 'date')",dayShortMonthYear:"(datePattern: 'd MMM y', selector: 'date')",
longDate:"(datePattern: 'EEEE, MMMM d, y', selector: 'date')",shortDateShortTime:"(datePattern: 'M/d/y', timePattern: 'h:mm a', selector: 'date and time')",shortDateLEShortTime:"(datePattern: 'd/M/y', timePattern: 'h:mm a', selector: 'date and time')",shortDateShortTime24:"(datePattern: 'M/d/y', timePattern: 'H:mm', selector: 'date and time')",shortDateLEShortTime24:"(datePattern: 'd/M/y', timePattern: 'H:mm', selector: 'date and time')",shortDateLongTime:"(datePattern: 'M/d/y', timePattern: 'h:mm:ss a', selector: 'date and time')",
shortDateLELongTime:"(datePattern: 'd/M/y', timePattern: 'h:mm:ss a', selector: 'date and time')",shortDateLongTime24:"(datePattern: 'M/d/y', timePattern: 'H:mm:ss', selector: 'date and time')",shortDateLELongTime24:"(datePattern: 'd/M/y', timePattern: 'H:mm:ss', selector: 'date and time')",longMonthYear:"(datePattern: 'MMMM y', selector: 'date')",shortMonthYear:"(datePattern: 'MMM y', selector: 'date')",year:"(datePattern: 'y', selector: 'date')"},_reHref:/href\s*=\s*\"([^\"]+)\"/ig,_reHrefApos:/href\s*=\s*\'([^\']+)\'/ig,
_fixTokens:function(a,b){var c=this;return a.replace(/(\{([^\{\r\n]+)\})/g,function(a,d,f){a=c._getLayerFieldInfo(b,f);return"$"+(a?"{"+a.name+"}":d)})},_encodeAttributes:function(a){a=e.clone(a)||{};var b,c;for(b in a)if(a.hasOwnProperty(b)&&(c=a[b])&&"string"===typeof c)c=encodeURIComponent(c).replace(/\'/g,"\x26apos;"),a[b]=c;return a},_processFieldsInLinks:function(a,b){var c=this._encodeAttributes(b),d=this;a&&(a=a.replace(this._reHref,function(a,f){return d._addValuesToHref(a,f,b,c)}).replace(this._reHrefApos,
function(a,f){return d._addValuesToHref(a,f,b,c)}));return a},_addValuesToHref:function(a,b,c,d){b=b&&e.trim(b);return m.substitute(b&&0===b.indexOf("${")?c:d,a)},_getLayerFieldInfo:function(a,b){return a&&a.getField?a.getField(b):null},_formatValue:function(a,b,c,f){var e=this.graphic.popupTemplate._fieldsMap[b.toLowerCase()],g=e&&e.format;b="number"===typeof a&&-1===d.indexOf(c.dateFormat.properties,b)&&(!g||!g.dateFormat);if(!m.isDefined(a)||!e||!m.isDefined(g))return b?this._forceLTR(a):a;var k=
"",h=[],e=g.hasOwnProperty("places")||g.hasOwnProperty("digitSeparator"),l=g.hasOwnProperty("digitSeparator")?g.digitSeparator:!0;if(e)k="NumberFormat",h.push("places: "+(m.isDefined(g.places)&&(!f||0<g.places)?Number(g.places):"Infinity")),h.length&&(k+="("+h.join(",")+")");else if(g.dateFormat)k="DateFormat"+this._insertOffset(this._dateFormats[g.dateFormat]||this._dateFormats.shortDateShortTime);else return b?this._forceLTR(a):a;a=m.substitute({myKey:a},"${myKey:"+k+"}",c)||"";e&&!l&&B.group&&
(a=a.replace(RegExp("\\"+B.group,"g"),""));return b?this._forceLTR(a):a},_forceLTR:function(a){var b=q("ie");return b&&10>=b?a:'\x3cspan class\x3d"'+this.css.numericValue+'"\x3e'+a+"\x3c/span\x3e"},_insertOffset:function(a){a&&(a=m.isDefined(this.utcOffset)?a.replace(/\)\s*$/,", utcOffset:"+this.utcOffset+")"):a);return a},_getDomainName:function(a,b,c,d,f,e){return(a=a.getDomain&&a.getDomain(f,{feature:b}))&&a.codedValues?a.getName(e):null},_getTypeName:function(a,b){var c=a.getType&&a.getType(b);
return c&&c.name},_getRelatedRecords:function(a){var b=a.graphic,c=new n,d;this._relatedLayersInfo?this._queryRelatedLayers(b).then(function(a){this._setRelatedRecords(b,a);c.resolve(a)}.bind(this),this._handlerErrorResponse.bind(this,c)):this._getRelatedLayersInfo(a).then(function(a){for(d in a)a.hasOwnProperty(d)&&a[d]&&(this._relatedLayersInfo[d].relatedLayerInfo=a[d]);this._queryRelatedLayers(b).then(function(a){this._setRelatedRecords(b,a);c.resolve(a)}.bind(this),this._handlerErrorResponse.bind(this,
c))}.bind(this),this._handlerErrorResponse.bind(this,c));return c.promise},_getRelatedLayersInfo:function(a){var b=a.fieldsInfo,c,f,e={};c=a.graphic.layer;this._relatedLayersInfo||(this._relatedLayersInfo={});d.forEach(b,function(a){var b,f,e,g;b=this._fromRelatedFieldName(a.fieldName);f=b[0];b=b[1];f&&(this._relatedLayersInfo[f]||(d.some(c.relationships,function(a){if(a.id==f)return g=a,!0}),g&&(this._relatedLayersInfo[f]={relation:g,relatedFields:[],outStatistics:[]})),this._relatedLayersInfo[f]&&
(this._relatedLayersInfo[f].relatedFields.push(b),a.statisticType&&(e=new A,e.statisticType=a.statisticType,e.onStatisticField=b,e.outStatisticFieldName=b,this._relatedLayersInfo[f].outStatistics.push(e))))},this);for(f in this._relatedLayersInfo)this._relatedLayersInfo.hasOwnProperty(f)&&this._relatedLayersInfo[f]&&(a=this._relatedLayersInfo[f].relation,a=c.url.replace(/[0-9]+$/,a.relatedTableId),this._relatedLayersInfo[f].relatedLayerUrl=a,e[f]=s({url:a,content:{f:"json"},callbackParamName:"callback"}));
return t(e)},_queryRelatedLayers:function(a){var b={},c;for(c in this._relatedLayersInfo)this._relatedLayersInfo.hasOwnProperty(c)&&(b[c]=this._queryRelatedLayer({graphic:a,relatedInfo:this._relatedLayersInfo[c]}));return t(b)},_queryRelatedLayer:function(a){var b,c,f,e,g,k,h,l,n,m;b=a.graphic;c=b.layer.url.match(/[0-9]+$/g)[0];l=a.relatedInfo;h=l.relatedLayerInfo;n=l.relatedLayerUrl;m=l.relation;d.some(h.relationships,function(a){if(a.relatedTableId===parseInt(c,10))return f=a,!0},this);f&&(a=new z,
d.some(h.fields,function(a){if(a.name===f.keyField)return g=-1!==d.indexOf(["esriFieldTypeSmallInteger","esriFieldTypeInteger","esriFieldTypeSingle","esriFieldTypeDouble"],a.type)?"number":"string",!0}),e="string"===g?f.keyField+"\x3d'"+b.attributes[m.keyField]+"'":f.keyField+"\x3d"+b.attributes[m.keyField],a.where=e,a.outFields=l.relatedFields,l.outStatistics&&(0<l.outStatistics.length&&h.supportsStatistics)&&(k=new z,k.where=a.where,k.outFields=a.outFields,k.outStatistics=l.outStatistics),b=new y(n),
e=[],e.push(b.execute(a)),k&&e.push(b.execute(k)));return t(e)},_setRelatedRecords:function(a,b){this._relatedInfo=[];for(var c in b)if(b.hasOwnProperty(c)&&b[c]){var d=b[c];this._relatedInfo[c]={};this._relatedInfo[c].relatedFeatures=d[0].features;m.isDefined(d[1])&&(this._relatedInfo[c].relatedStatsFeatures=d[1].features)}},_handlerErrorResponse:function(a,b){a.reject(b)},_fromRelatedFieldName:function(a){var b=[];-1!==a.indexOf(this._relatedFieldPrefix)&&(a=a.split("/"),b=a.slice(1));return b},
_toRelatedFieldName:function(a){var b="";a&&0<a.length&&(b=this._relatedFieldPrefix+a[0]+"/"+a[1]);return b},_setMediaIndexAttr:function(a){this._set("mediaIndex",a);this._updateUI()},_setGraphicAttr:function(a){this._set("graphic",a);this.set("title",this._getTitle());this.getComponents().then(this._handleComponentsSuccess.bind(this),this._handleComponentsError.bind(this))}})})},"esri/views/3d/support/PromiseLightweight":function(){(function(b){function h(b){this._callbacks=[];this._errbacks=[];
this._cancelCallback=b;this._iserr=this._isdone=this._iscancelled=!1}function l(b,e){var d=new h;0===b.length?d.done.apply(d,e):b[0].apply(null,e).then(function(){b.splice(0,1);l(b,arguments).then(function(){d.done.apply(d,arguments)})});return d}h.prototype.cancel=function(b){this._callbacks=[];this._errbacks=[];this._iscancelled=!0;this._cancelCallback&&this._cancelCallback(b)};h.prototype.then=function(b,e,d){var c;if(!this._iscancelled)return this._isdone?c=b.apply(d,this.result):this._iserr&&
e?c=e.apply(d,this.result):(this._callbacks.push(function(){return b.apply(d,arguments)}),e&&this._errbacks.push(function(){return e.apply(d,arguments)})),c};h.prototype.done=function(){this.result=arguments;this._isdone=!0;for(var b=0;b<this._callbacks.length;b++)this._callbacks[b].apply(null,arguments);this._callbacks=[];this._errbacks=[]};h.prototype.resolve=h.prototype.done;h.prototype.reject=function(){if(!this._iscancelled){this.result=arguments;this._iserr=!0;for(var b=0;b<this._errbacks.length;b++)this._errbacks[b].apply(null,
arguments);this._callbacks=[];this._errbacks=[]}};h.prototype.isRejected=function(){return this._iserr};h.prototype.isFulfilled=function(){return this._isdone||this._iserr};h.prototype.isCancelled=function(){return this._iscancelled};var m={Promise:h,join:function(b){function e(b,e){return function(){e&&(l=!0);a+=1;k[b]=Array.prototype.slice.call(arguments);a===c&&(l?d.reject():d.done(k))}}for(var d=new h,c=b.length,a=0,k=[],l=!1,n=0;n<c;n++)b[n].then(e(n,!1),e(n,!0));0===b.length&&d.done();return d},
chain:l};"function"===typeof define&&define.amd?define(function(){return m}):b.promise=m})(this)},"esri/widgets/PopupLegacy/PopupRenderer":function(){define("require ../../core/declare dojo/_base/lang dojo/_base/array dojo/_base/kernel dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/dom-style dojo/on dojox/html/entities dijit/_Widget dijit/_Templated ../../core/urlUtils ../Widget dojo/i18n!./nls/PopupLegacy dojo/NodeList-dom".split(" "),function(b,h,l,m,g,e,d,c,a,k,p,n,u,q,t,r,v){var x=
0;return h([r,u,q],{declaredClass:"esri.widgets._PopupRenderer",constructor:function(){this._nls=l.mixin({},v.widgets.popup)},templateString:"\x3cdiv class\x3d'esri-view-popup'\x3e\x3cdiv class\x3d'main-section'\x3e\x3cdiv class\x3d'header' dojoAttachPoint\x3d'_title'\x3e\x3c/div\x3e\x3cdiv class\x3d'hz-line'\x3e\x3c/div\x3e\x3cdiv dojoAttachPoint\x3d'_description'\x3e\x3c/div\x3e\x3cdiv class\x3d'break'\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d'attachments-section hidden'\x3e\x3cdiv\x3e${_nls.NLS_attach}:\x3c/div\x3e\x3cul dojoAttachPoint\x3d'_attachmentsList'\x3e\x3c/ul\x3e\x3cdiv class\x3d'break'\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d'media-section hidden'\x3e\x3cdiv class\x3d'header' dojoAttachPoint\x3d'_mediaTitle'\x3e\x3c/div\x3e\x3cdiv class\x3d'hz-line'\x3e\x3c/div\x3e\x3cdiv class\x3d'caption' dojoAttachPoint\x3d'_mediaCaption'\x3e\x3c/div\x3e\x3cdiv class\x3d'gallery' dojoAttachPoint\x3d'_gallery'\x3e\x3cdiv class\x3d'media-handle prev' dojoAttachPoint\x3d'_prevMedia' dojoAttachEvent\x3d'onclick: _goToPrevMedia'\x3e\x3c/div\x3e\x3cdiv class\x3d'media-handle next' dojoAttachPoint\x3d'_nextMedia' dojoAttachEvent\x3d'onclick: _goToNextMedia'\x3e\x3c/div\x3e\x3cul class\x3d'summary'\x3e\x3cli class\x3d'image media-count hidden' dojoAttachPoint\x3d'_imageCount'\x3e0\x3c/li\x3e\x3cli class\x3d'image media-icon hidden'\x3e\x3c/li\x3e\x3cli class\x3d'chart media-count hidden' dojoAttachPoint\x3d'_chartCount'\x3e0\x3c/li\x3e\x3cli class\x3d'chart media-icon hidden'\x3e\x3c/li\x3e\x3c/ul\x3e\x3cdiv class\x3d'frame' dojoAttachPoint\x3d'_mediaFrame'\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d'edit-summary-section hidden' dojoAttachPoint\x3d'_editSummarySection'\x3e\x3cdiv class\x3d'break'\x3e\x3c/div\x3e\x3cdiv class\x3d'break hidden' dojoAttachPoint\x3d'_mediaBreak'\x3e\x3c/div\x3e\x3cdiv class\x3d'edit-summary' dojoAttachPoint\x3d'_editSummary'\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e",
showTitle:!0,startup:function(){this.inherited(arguments);this.template.getComponents(this.graphic).then(l.hitch(this,this._handleComponentsSuccess),l.hitch(this,this._handleComponentsError))},destroy:function(){this._dfd&&this._dfd.cancel();this._destroyFrame();this.template=this.graphic=this._nls=this._mediaInfos=this._mediaPtr=this._dfd=null;this.inherited(arguments)},_goToPrevMedia:function(){0>this._mediaPtr-1||(this._mediaPtr--,this._updateUI(),this._displayMedia())},_goToNextMedia:function(){this._mediaPtr+
1!==this._mediaInfos.length&&(this._mediaPtr++,this._updateUI(),this._displayMedia())},_updateUI:function(){var a=this._mediaInfos,b=a.length,e=this.domNode,k=this._prevMedia,h=this._nextMedia;if(1<b){var l=0,n=0;m.forEach(a,function(a){"image"===a.type?l++:-1!==a.type.indexOf("chart")&&n++});l&&(d.set(this._imageCount,"innerHTML",l),g.query(".summary .image",e).removeClass("hidden"));n&&(d.set(this._chartCount,"innerHTML",n),g.query(".summary .chart",e).removeClass("hidden"))}else g.query(".summary",
e).addClass("hidden"),c.add(k,"hidden"),c.add(h,"hidden");a=this._mediaPtr;0===a?c.add(k,"hidden"):c.remove(k,"hidden");a===b-1?c.add(h,"hidden"):c.remove(h,"hidden");this._destroyFrame()},_displayMedia:function(){var a=this._mediaInfos[this._mediaPtr],f=a.title,e=a.caption,k=g.query(".media-section .hz-line",this.domNode)[0];d.set(this._mediaTitle,"innerHTML",f);c[f?"remove":"add"](this._mediaTitle,"hidden");d.set(this._mediaCaption,"innerHTML",e);c[e?"remove":"add"](this._mediaCaption,"hidden");
c[f&&e?"remove":"add"](k,"hidden");this._rid=null;if("image"===a.type)this._showImage(a.value);else{var h=this,f=["dojox/charting/Chart2D","dojox/charting/action2d/Tooltip"],e=a.value.theme||this.chartTheme;l.isString(e)&&(e=e.replace(/\./gi,"/"),-1===e.indexOf("/")&&(e="dojox/charting/themes/"+e));e||(e="../Rainbow");f.push(e);try{var n=this._rid=x++;b(f,function(b,c,d){n===h._rid&&(h._rid=null,h._showChart(a.type,a.value,b,c,d))})}catch(m){console.log("PopupRenderer: error loading modules")}}},
_preventNewTab:function(a){return(a=a&&l.trim(a).toLowerCase())&&(0===a.indexOf("mailto:")||0===a.indexOf("tel:"))},_showImage:function(b){c.add(this._mediaFrame,"image");var d=k.get(this._gallery,"height"),e;b.linkURL&&(e=a.create("a",{href:b.linkURL,target:this._preventNewTab(b.linkURL)?"":"_blank"},this._mediaFrame));a.create("img",{className:"esri-popup-media-image",src:b.sourceURL},e||this._mediaFrame);var h=g.query(".esri-popup-media-image",this._mediaFrame)[0],l=this,n;n=p(h,"load",function(){n.remove();
n=null;l._imageLoaded(h,d)})},_showChart:function(b,d,e,g,k){c.remove(this._mediaFrame,"image");e=this._chart=new e(a.create("div",{"class":"chart"},this._mediaFrame),{margins:{l:4,t:4,r:4,b:4}});k&&e.setTheme(k);switch(b){case "piechart":e.addPlot("default",{type:"Pie",labels:!1});e.addSeries("Series A",d.fields);break;case "linechart":e.addPlot("default",{type:"Markers"});e.addAxis("x",{min:0,majorTicks:!1,minorTicks:!1,majorLabels:!1,minorLabels:!1});e.addAxis("y",{includeZero:!0,vertical:!0,fixUpper:"minor"});
m.forEach(d.fields,function(a,b){a.x=b+1});e.addSeries("Series A",d.fields);break;case "columnchart":e.addPlot("default",{type:"Columns",gap:3});e.addAxis("y",{includeZero:!0,vertical:!0,fixUpper:"minor"});e.addSeries("Series A",d.fields);break;case "barchart":e.addPlot("default",{type:"Bars",gap:3}),e.addAxis("x",{includeZero:!0,fixUpper:"minor",minorLabels:!1}),e.addAxis("y",{vertical:!0,majorTicks:!1,minorTicks:!1,majorLabels:!1,minorLabels:!1}),e.addSeries("Series A",d.fields)}this._action=new g(e);
e.render()},_destroyFrame:function(){this._rid=null;this._chart&&(this._chart.destroy(),this._chart=null);this._action&&(this._action.destroy(),this._action=null);d.set(this._mediaFrame,"innerHTML","")},_imageLoaded:function(a,b){var c=a.height;c<b&&(c=Math.round((b-c)/2),k.set(a,"marginTop",c+"px"))},_attListHandler:function(a,b){if(a===this._dfd){this._dfd=null;var c="";!(b instanceof Error)&&(b&&b.length)&&m.forEach(b,function(a){c+="\x3cli\x3e";c+="\x3ca href\x3d'"+t.addProxy(a.url)+"' target\x3d'_blank'\x3e"+
(a.name||"[No name]")+"\x3c/a\x3e";c+="\x3c/li\x3e"});d.set(this._attachmentsList,"innerHTML",c||"\x3cli\x3e"+this._nls.NLS_noAttach+"\x3c/li\x3e")}},_handleComponentsSuccess:function(a){if(a){var b=this.showTitle?a.title:"",k=a.description,h=a.fields,p=a.mediaInfos,q=this.domNode,r=this._nls,t=this,u=this.template,v=this.graphic;this._prevMedia.title=r.NLS_prevMedia;this._nextMedia.title=r.NLS_nextMedia;d.set(this._title,"innerHTML",b);b||c.add(this._title,"hidden");!k&&h&&(k="",m.forEach(h,function(a){k+=
"\x3ctr valign\x3d'top'\x3e";k+="\x3ctd class\x3d'attr-name'\x3e"+n.encode(a[0])+"\x3c/td\x3e";k+="\x3ctd class\x3d'attr-value'\x3e"+a[1].replace(/^\s*(https?:\/\/[^\s]+)\s*$/i,"\x3ca target\x3d'_blank' href\x3d'$1' title\x3d'$1'\x3e"+r.NLS_moreInfo+"\x3c/a\x3e")+"\x3c/td\x3e";k+="\x3c/tr\x3e"}),k&&(k="\x3ctable class\x3d'attr-table' cellpadding\x3d'0px' cellspacing\x3d'0px'\x3e"+k+"\x3c/table\x3e"));d.set(this._description,"innerHTML",k);k||c.add(this._description,"hidden");g.query("a",this._description).forEach(function(a){t._preventNewTab(a.href)?
"_blank"===a.target&&d.remove(a,"target"):d.set(a,"target","_blank")});b&&k?g.query(".main-section .hz-line",q).removeClass("hidden"):b||k?g.query(".main-section .hz-line",q).addClass("hidden"):g.query(".main-section",q).addClass("hidden");if(b=this._dfd=u.getAttachments(v))b.always(l.hitch(this,this._attListHandler,b)),d.set(this._attachmentsList,"innerHTML","\x3cli\x3e"+r.NLS_searching+"...\x3c/li\x3e"),g.query(".attachments-section",q).removeClass("hidden");p&&p.length&&(g.query(".media-section",
q).removeClass("hidden"),e.setSelectable(this._mediaFrame,!1),this._mediaInfos=p,this._mediaPtr=0,this._updateUI(),this._displayMedia());a.editSummary&&(d.set(this._editSummary,"innerHTML",a.editSummary),p&&p.length&&c.remove(this._mediaBreak,"hidden"),c.remove(this._editSummarySection,"hidden"))}},_handleComponentsError:function(a){console.log("PopupRenderer: error loading template",a)}})})},"dojo/ready":function(){define(["./_base/kernel","./has","require","./domReady","./_base/lang"],function(b,
h,l,m,g){var e=0,d=[],c=0;h=function(){e=1;b._postLoad=b.config.afterOnLoad=!0;a()};var a=function(){if(!c){for(c=1;e&&(!m||0==m._Q.length)&&(l.idle?l.idle():1)&&d.length;){var a=d.shift();try{a()}catch(b){if(b.info=b.message,l.signal)l.signal("error",b);else throw b;}}c=0}};l.on&&l.on("idle",a);m&&(m._onQEmpty=a);var k=b.ready=b.addOnLoad=function(c,e,k){var h=g._toArray(arguments);"number"!=typeof c?(k=e,e=c,c=1E3):h.shift();k=k?g.hitch.apply(b,h):function(){e()};k.priority=c;for(h=0;h<d.length&&
c>=d[h].priority;h++);d.splice(h,0,k);a()},p=b.config.addOnLoad;if(p)k[g.isArray(p)?"apply":"call"](b,p);m?m(h):h();return k})},"esri/layers/OpenStreetMapLayer":function(){define(["dojo/_base/lang","../core/declare","../config","./WebTiledLayer"],function(b,h,l,m){l.request.corsEnabledServers.push("a.tile.openstreetmap.org","b.tile.openstreetmap.org","c.tile.openstreetmap.org");return h(m,{declaredClass:"esri.layers.OpenStreetMapLayer",getDefaults:function(){return b.mixin(this.inherited(arguments),
{urlTemplate:"//${subDomain}.tile.openstreetmap.org/${level}/${col}/${row}.png",subDomains:["a","b","c"],copyright:"Map data \x26copy; OpenStreetMap contributors, CC-BY-SA"})}})})},"esri/layers/support/RangeDomain":function(){define(["../../core/declare","dojo/_base/lang","../../core/lang","./Domain"],function(b,h,l,m){return b([m],{declaredClass:"esri.layers.support.RangeDomain",constructor:function(b){b&&h.isObject(b)&&(this.minValue=b.range[0],this.maxValue=b.range[1])},toJSON:function(){var b=
this.inherited(arguments);b.range=[this.minValue,this.maxValue];return l.fixJson(b)}})})},"esri/layers/GroupLayer":function(){define("../core/declare dojo/Deferred ../geometry/SpatialReference ../geometry/Extent ../geometry/support/webMercatorUtils ./Layer ../LayersMixin ../core/JSONSupport".split(" "),function(b,h,l,m,g,e,d,c){return b([e,d,c],{declaredClass:"esri.layers.GroupLayer",constructor:function(a){this._lyrPromises={};this._lyrResolveHandler=this._lyrResolveHandler.bind(this);this._lyrVisibleHandles=
{};this._lyrVisibleWatcher=this._lyrVisibleWatcher.bind(this);this._lyrFullExtentHandles={};this._lyrFullExtentWatcher=this._lyrFullExtentWatcher.bind(this);this._promise=new h;this.addResolvingPromise(this._promise.promise)},initialize:function(){this._enforceVisibility(this.visibilityMode,this.visible);this.watch("visible",this._visibleWatcher)},viewModulePaths:{"2d":"../views/layers/GroupLayerView","3d":"../views/layers/GroupLayerView"},visibilityMode:"independent",_visibilityModeSetter:function(a,
b){if(b===a)return b;this._enforceVisibility(a,this.visible);return a},_spatialReferenceReader:function(a){return a&&new l(a)},_initialExtentReader:function(a){return a&&m.fromJSON(a)},_fullExtentReader:function(a){return a&&m.fromJSON(a)},layerAdded:function(a,b){this.isFulfilled()||(this._lyrPromises[a.id]=a.then(this._lyrResolveHandler));a.visible&&"exclusive"===this.visibilityMode?this._turnOffOtherLayers(a):"inherited"===this.visibilityMode&&(a.visible=this.visible);this._lyrFullExtentHandles[a.id]=
a.watch("fullExtent",this._lyrFullExtentWatcher);this._lyrVisibleHandles[a.id]=a.watch("visible",this._lyrVisibleWatcher);this._computeFullExtent()},layerRemoved:function(a,b){var c=this._lyrPromises[a.id];c&&(c.cancel(),delete this._lyrPromises[a.id]);if(c=this._lyrFullExtentHandles[a.id])c.remove(),delete this._lyrFullExtentHandles[a.id];if(c=this._lyrVisibleHandles[a.id])c.remove(),delete this._lyrVisibleHandles[a.id];this._enforceVisibility(this.visibilityMode,this.visible);this._computeFullExtent()},
_turnOffOtherLayers:function(a){this.layers.forEach(function(b){b!==a&&(b.visible=!1)})},_enforceVisibility:function(a,b){if(this._accessorProps.initialized){var c=this.layers,d=c.find(function(a){return a.visible});switch(a){case "exclusive":c.length&&!d&&(d=c.getItemAt(0),d.visible=!0);this._turnOffOtherLayers(d);break;case "inherited":c.forEach(function(a){a.visible=b},this)}}},_computeFullExtent:function(){var a=this.spatialReference;a&&this.layers.length&&(this.fullExtent=this.layers.map(function(b){if(!b.loaded)return null;
b=b.fullExtent||b.initialExtent;!a.equals(b.spatialReference)&&g.canProject(b,a)&&(b=g.project(b,a));return a.equals(b.spatialReference)?b:null}).reduce(function(a,b){return!a?b:!b?a:a.union(b)}))},_visibleWatcher:function(a){"inherited"===this.visibilityMode&&this.layers.forEach(function(b){b.visible=a})},_lyrResolveHandler:function(a){var b=this.layers.indexOf(a);delete this._lyrPromises[a.id];!this.isFulfilled()&&0===b&&(this.read({fullExtent:a.fullExtent&&a.fullExtent.toJSON(),initialExtent:a.initialExtent&&
a.initialExtent.toJSON(),spatialReference:a.spatialReference&&a.spatialReference.toJSON()}),this._promise.resolve())},_lyrVisibleWatcher:function(a,b,c,d){b=this.layers.some(function(a){return a.visible});switch(this.visibilityMode){case "exclusive":a?this._turnOffOtherLayers(d):b||(d.visible=!0);break;case "inherited":d.visible=this.visible}},_lyrFullExtentWatcher:function(){this._computeFullExtent()}})})},"esri/Color":function(){define(["./core/declare","dojo/_base/Color"],function(b,h){var l=b([h],
{declaredClass:"esri.Color",toJSON:function(){return[this.r,this.g,this.b,1<this.a?this.a:Math.round(255*this.a)]}});l.toJSON=function(b){return b&&[b.r,b.g,b.b,1<b.a?b.a:Math.round(255*b.a)]};l.fromJSON=function(b){return b&&new l([b[0],b[1],b[2],b[3]/255])};l.toUnitRGB=function(b){return[b.r/255,b.g/255,b.b/255]};var m,g="named blendColors fromRgb fromHex fromArray fromString".split(" ");for(m=0;m<g.length;m++)l[g[m]]=h[g[m]];return l})},"dojo/mouse":function(){define(["./_base/kernel","./on","./has",
"./dom","./_base/window"],function(b,h,l,m,g){function e(b,c){var a=function(a,e){return h(a,b,function(b){if(c)return c(b,e);if(!m.isDescendant(b.relatedTarget,a))return e.call(this,b)})};a.bubble=function(a){return e(b,function(b,c){var d=a(b.target),e=b.relatedTarget;if(d&&d!=(e&&1==e.nodeType&&a(e)))return c.call(d,b)})};return a}l.add("dom-quirks",g.doc&&"BackCompat"==g.doc.compatMode);l.add("events-mouseenter",g.doc&&"onmouseenter"in g.doc.createElement("div"));l.add("events-mousewheel",g.doc&&
"onmousewheel"in g.doc);g=l("dom-quirks")&&l("ie")||!l("dom-addeventlistener")?{LEFT:1,MIDDLE:4,RIGHT:2,isButton:function(b,c){return b.button&c},isLeft:function(b){return b.button&1},isMiddle:function(b){return b.button&4},isRight:function(b){return b.button&2}}:{LEFT:0,MIDDLE:1,RIGHT:2,isButton:function(b,c){return b.button==c},isLeft:function(b){return 0==b.button},isMiddle:function(b){return 1==b.button},isRight:function(b){return 2==b.button}};b.mouseButtons=g;b=l("events-mousewheel")?"mousewheel":
function(b,c){return h(b,"DOMMouseScroll",function(a){a.wheelDelta=-a.detail;c.call(this,a)})};return{_eventHandler:e,enter:e("mouseover"),leave:e("mouseout"),wheel:b,isLeft:g.isLeft,isMiddle:g.isMiddle,isRight:g.isRight}})},"dojo/aspect":function(){define([],function(){function b(b,a,d,e){var g=b[a],h="around"==a,l;if(h){var t=d(function(){return g.advice(this,arguments)});l={remove:function(){t&&(t=b=d=null)},advice:function(a,b){return t?t.apply(a,b):g.advice(a,b)}}}else l={remove:function(){if(l.advice){var e=
l.previous,g=l.next;!g&&!e?delete b[a]:(e?e.next=g:b[a]=g,g&&(g.previous=e));b=d=l.advice=null}},id:m++,advice:d,receiveArguments:e};if(g&&!h)if("after"==a){for(;g.next&&(g=g.next););g.next=l;l.previous=g}else"before"==a&&(b[a]=l,l.next=g,g.previous=l);else b[a]=l;return l}function h(c){return function(a,d,e,g){var h=a[d],q;if(!h||h.target!=a)a[d]=q=function(){for(var a=m,b=arguments,c=q.before;c;)c.advice&&(b=c.advice.apply(this,b)||b),c=c.next;if(q.around)var d=q.around.advice(this,b);for(c=q.after;c&&
c.id<a;){if(c.advice)if(c.receiveArguments)var e=c.advice.apply(this,b),d=e===l?d:e;else d=c.advice.call(this,d,b);c=c.next}return d},h&&(q.around={advice:function(a,b){return h.apply(a,b)}}),q.target=a;a=b(q||h,c,e,g);e=null;return a}}var l,m=0,g=h("after"),e=h("before"),d=h("around");return{before:e,around:d,after:g}})},"dojo/_base/sniff":function(){define(["./kernel","./lang","../sniff"],function(b,h,l){b._name="browser";h.mixin(b,{isBrowser:!0,isFF:l("ff"),isIE:l("ie"),isKhtml:l("khtml"),isWebKit:l("webkit"),
isMozilla:l("mozilla"),isMoz:l("mozilla"),isOpera:l("opera"),isSafari:l("safari"),isChrome:l("chrome"),isMac:l("mac"),isIos:l("ios"),isAndroid:l("android"),isWii:l("wii"),isQuirks:l("quirks"),isAir:l("air")});return l})},"esri/views/2d/math/mat2d":function(){define(["./common"],function(b){var h=b.GLMAT_ARRAY_TYPE;b={create:function(){var b=new h(6);b[0]=1;b[1]=0;b[2]=0;b[3]=1;b[4]=0;b[5]=0;return b},clone:function(b){var m=new h(6);m[0]=b[0];m[1]=b[1];m[2]=b[2];m[3]=b[3];m[4]=b[4];m[5]=b[5];return m},
copy:function(b,h){b[0]=h[0];b[1]=h[1];b[2]=h[2];b[3]=h[3];b[4]=h[4];b[5]=h[5];return b},identity:function(b){b[0]=1;b[1]=0;b[2]=0;b[3]=1;b[4]=0;b[5]=0;return b},invert:function(b,h){var g=h[0],e=h[1],d=h[2],c=h[3],a=h[4],k=h[5],p=g*c-e*d;if(!p)return null;p=1/p;b[0]=c*p;b[1]=-e*p;b[2]=-d*p;b[3]=g*p;b[4]=(d*k-c*a)*p;b[5]=(e*a-g*k)*p;return b},determinant:function(b){return b[0]*b[3]-b[1]*b[2]},multiply:function(b,h,g){var e=h[0],d=h[1],c=h[2],a=h[3],k=h[4];h=h[5];var p=g[0],n=g[1],u=g[2],q=g[3],t=
g[4];g=g[5];b[0]=e*p+c*n;b[1]=d*p+a*n;b[2]=e*u+c*q;b[3]=d*u+a*q;b[4]=e*t+c*g+k;b[5]=d*t+a*g+h;return b}};b.mul=b.multiply;b.rotate=function(b,h,g){var e=h[0],d=h[1],c=h[2],a=h[3],k=h[4];h=h[5];var p=Math.sin(g);g=Math.cos(g);b[0]=e*g+c*p;b[1]=d*g+a*p;b[2]=e*-p+c*g;b[3]=d*-p+a*g;b[4]=k;b[5]=h;return b};b.scale=function(b,h,g){var e=h[1],d=h[2],c=h[3],a=h[4],k=h[5],p=g[0];g=g[1];b[0]=h[0]*p;b[1]=e*p;b[2]=d*g;b[3]=c*g;b[4]=a;b[5]=k;return b};b.translate=function(b,h,g){var e=h[0],d=h[1],c=h[2],a=h[3],
k=h[4];h=h[5];var p=g[0];g=g[1];b[0]=e;b[1]=d;b[2]=c;b[3]=a;b[4]=e*p+c*g+k;b[5]=d*p+a*g+h;return b};b.fromRotation=function(b,h){var g=Math.sin(h),e=Math.cos(h);b[0]=e;b[1]=g;b[2]=-g;b[3]=e;b[4]=0;b[5]=0;return b};b.fromScaling=function(b,h){b[0]=h[0];b[1]=0;b[2]=0;b[3]=h[1];b[4]=0;b[5]=0;return b};b.fromTranslation=function(b,h){b[0]=1;b[1]=0;b[2]=0;b[3]=1;b[4]=h[0];b[5]=h[1];return b};b.str=function(b){return"mat2d("+b[0]+", "+b[1]+", "+b[2]+", "+b[3]+", "+b[4]+", "+b[5]+")"};b.frob=function(b){return Math.sqrt(Math.pow(b[0],
2)+Math.pow(b[1],2)+Math.pow(b[2],2)+Math.pow(b[3],2)+Math.pow(b[4],2)+Math.pow(b[5],2)+1)};return b})},"esri/core/accessorSupport/once":function(){define([],function(){return function(b){var h=!1;return function(){h||(h=!0,b())}}})},"esri/geometry/Extent":function(){define("../core/declare dojo/_base/array dojo/_base/lang dojo/_base/kernel ../core/lang ./SpatialReference ./Geometry ./Point ./support/webMercatorUtils ./support/mathUtils".split(" "),function(b,h,l,m,g,e,d,c,a,k){var p=b(d,{declaredClass:"esri.geometry.Extent",
classMetadata:{computed:{cache:"xmin ymin zmin mmin xmax ymax zmax mmax".split(" "),center:["cache"],extent:["cache"],hasM:["mmin","mmax"],hasZ:["zmin","zmax"],height:["ymin","ymax"],width:["xmin","xmax"]}},normalizeCtorArgs:function(a,b,c,d,g){return this.isSR(a)?{spatialReference:a,xmin:0,ymin:0,xmax:0,ymax:0}:l.isObject(a)?(a.spatialReference=a.spatialReference||e.WGS84,a):{xmin:a,ymin:b,xmax:c,ymax:d,spatialReference:g||e.WGS84}},_centerGetter:function(a){a||(a=new c({spatialReference:this.spatialReference}));
a.x=0.5*(this.xmin+this.xmax);a.y=0.5*(this.ymin+this.ymax);this.hasZ&&(a.z=0.5*(this.zmin+this.zmax));this.hasM&&(a.m=0.5*(this.mmin+this.mmax));return a},_extentGetter:function(){return this.clone()},_hasMGetter:function(){return null!=this.mmin&&null!=this.mmax},_hasZGetter:function(){return null!=this.zmin&&null!=this.zmax},_heightGetter:function(){return Math.abs(this.ymax-this.ymin)},type:"extent",_widthGetter:function(){return Math.abs(this.xmax-this.xmin)},xmin:0,ymin:0,mmin:void 0,zmin:void 0,
xmax:0,ymax:0,mmax:void 0,zmax:void 0,centerAt:function(a){var b=this.center;return null!=a.z&&this.hasZ?this.offset(a.x-b.x,a.y-b.y,a.z-b.z):this.offset(a.x-b.x,a.y-b.y)},clone:function(){var a=new p;a.xmin=this.xmin;a.ymin=this.ymin;a.xmax=this.xmax;a.ymax=this.ymax;a.spatialReference=this.spatialReference;null!=this.zmin&&(a.zmin=this.zmin,a.zmax=this.zmax);null!=this.mmin&&(a.mmin=this.mmin,a.mmax=this.mmax);return a},contains:function(a){if(!a)return!1;var b=a.type;if("point"===b){var d=this.spatialReference,
e=a.spatialReference,b=a.x,g=a.y;a=a.z;d&&(e&&!d.equals(e)&&d._canProject(e))&&(d=d.isWebMercator()?c.lngLatToXY(b,g):c.xyToLngLat(b,g,!0),b=d[0],g=d[1]);if(b>=this.xmin&&b<=this.xmax&&g>=this.ymin&&g<=this.ymax)return null!=a&&this.hasZ?a>=this.zmin&&a<=this.zmax:!0}else if("extent"===b)return this._containsExtent(a);return!1},equals:function(b){if(!b)return!1;var c=this.spatialReference;if(!c.equals(b.spatialReference))if(a.canProject(b.spatialReference,c))b=a.project(b,c);else return!1;return this.xmin===
b.xmin&&this.ymin===b.ymin&&this.zmin===b.zmin&&this.mmin===b.mmin&&this.xmax===b.xmax&&this.ymax===b.ymax&&this.zmax===b.zmax&&this.mmax===b.mmax},expand:function(a){var b=0.5*(1-a),c=this.width*b,d=this.height*b;a=this.clone();a.xmin+=c;a.ymin+=d;a.xmax-=c;a.ymax-=d;this.hasZ&&(c=(this.zmax-this.zmin)*b,a.zmin+=c,a.zmax-=c);this.hasM&&(b*=this.mmax-this.mmin,a.mmin+=b,a.mmax-=b);return a},intersects:function(b){if(!b)return!1;var c=b.type,d=this.spatialReference,e=b.spatialReference;d&&(e&&!d.equals(e)&&
d._canProject(e))&&(b=d.isWebMercator()?a.geographicToWebMercator(b):a.webMercatorToGeographic(b,!0));switch(c){case "point":return this.contains(b);case "multipoint":return this._intersectsMultipoint(b);case "extent":return this._intersectsExtent(b);case "polygon":return this._intersectsPolygon(b);case "polyline":return this._intersectsPolyline(b)}},normalize:function(){var a=this._normalize(!1,!0);Array.isArray(a)||(a=[a]);return a},offset:function(a,b,c){var d=this.clone();d.xmin+=a;d.ymin+=b;
d.xmax+=a;d.ymax+=b;null!=c&&(d.zmin+=c,d.zmax+=c);return d},shiftCentralMeridian:function(){return this._normalize(!0)},toJSON:function(){var a=this.spatialReference,a={xmin:this.xmin,ymin:this.ymin,xmax:this.xmax,ymax:this.ymax,spatialReference:a&&a.toJSON()};this.hasZ&&(a.zmin=this.zmin,a.zmax=this.zmax);this.hasM&&(a.mmax=this.mmax,a.mmin=this.mmin);return a},union:function(a){function b(a,c,d){return null==c?d:null==d?c:a(c,d)}var c={xmin:Math.min(this.xmin,a.xmin),ymin:Math.min(this.ymin,a.ymin),
xmax:Math.max(this.xmax,a.xmax),ymax:Math.max(this.ymax,a.ymax),spatialReference:this.spatialReference};if(this.hasZ||a.hasZ)c.zmin=b(Math.min,this.zmin,a.zmin),c.zmax=b(Math.max,this.zmax,a.zmax);if(this.hasM||a.hasM)c.mmin=b(Math.min,this.mmin,a.mmin),c.mmax=b(Math.max,this.mmax,a.mmax);return new p(c)},_containsExtent:function(a){var b=a.xmin,d=a.ymin,e=a.zmin,g=a.xmax,k=a.ymax,h=a.zmax;a=a.spatialReference;return null!=e&&this.hasZ?this.contains(new c(b,d,e,a))&&this.contains(new c(b,k,e,a))&&
this.contains(new c(g,k,e,a))&&this.contains(new c(g,d,e,a))&&this.contains(new c(b,d,h,a))&&this.contains(new c(b,k,h,a))&&this.contains(new c(g,k,h,a))&&this.contains(new c(g,d,h,a)):this.contains(new c(b,d,a))&&this.contains(new c(b,k,a))&&this.contains(new c(g,k,a))&&this.contains(new c(g,d,a))},_intersectsMultipoint:function(a){var b=a.points.length,c;for(c=0;c<b;c++)if(this.contains(a.getPoint(c)))return!0;return!1},_intersectsExtent:function(a){var b,c,d,e,g,k,h=this.hasZ&&a.hasZ;if(this.xmin<=
a.xmin){if(b=a.xmin,this.xmax<b)return!1}else if(b=this.xmin,a.xmax<b)return!1;e=Math.min(this.xmax,a.xmax)-b;if(this.ymin<=a.ymin){if(c=a.ymin,this.ymax<c)return!1}else if(c=this.ymin,a.ymax<c)return!1;g=Math.min(this.ymax,a.ymax)-c;if(h){if(this.zmin<=a.zmin){if(d=a.zmin,this.zmax<d)return!1}else if(d=this.zmin,a.zmax<d)return!1;k=Math.min(this.zmax,a.zmax)-d}a={xmin:b,ymin:c,xmax:b+e,ymax:c+g,spatialReference:this.spatialReference};h&&(a.zmin=d,a.zmax=d+k);return a=new p(a)},_intersectsPolygon:function(a){var b=
[this.xmin,this.ymax],d=[this.xmax,this.ymax],e=[this.xmin,this.ymin],g=[this.xmax,this.ymin],k=[b,d,e,g],b=[[e,b],[b,d],[d,g],[g,e]],e=a.rings,g=e.length,h,l=new c(0,0,this.spatialReference);h=k.length;for(d=0;d<h;d++)if(l.x=k[d][0],l.y=k[d][1],a.contains(l))return!0;for(var l={x:0,y:0,spatialReference:a.spatialReference,type:"point"},f,m,d=0;d<g;d++)if(k=e[d],h=k.length){f=k[0];l.x=f[0];l.y=f[1];if(this.contains(l))return!0;for(a=1;a<h;a++){m=k[a];l.x=m[0];l.y=m[1];if(this.contains(l)||this._intersectsLine([f,
m],b))return!0;f=m}}return!1},_intersectsPolyline:function(a){var b=[[[this.xmin,this.ymin],[this.xmin,this.ymax]],[[this.xmin,this.ymax],[this.xmax,this.ymax]],[[this.xmax,this.ymax],[this.xmax,this.ymin]],[[this.xmax,this.ymin],[this.xmin,this.ymin]]],c,d=a.paths,e=d.length,g,k,h,f,l={x:0,y:0,spatialReference:a.spatialReference,type:"point"};for(a=0;a<e;a++)if(g=d[a],k=g.length){h=g[0];l.x=h[0];l.y=h[1];if(this.contains(l))return!0;for(c=1;c<k;c++){f=g[c];l.x=f[0];l.y=f[1];if(this.contains(l)||
this._intersectsLine([h,f],b))return!0;h=f}}return!1},_intersectsLine:function(a,b){var c=k._getLineIntersection2,d,e=b.length;for(d=0;d<e;d++)if(c(a,b[d]))return!0;return!1},_shiftCM:function(b){var c=this.cache._shifted;if(!c){var c=this.clone(),d=c.spatialReference;if(b=b||d._getInfo()){var k=this._getCM(b);if(k){var h=d.isWebMercator()?a.webMercatorToGeographic(k):k;c.xmin-=k.x;c.xmax-=k.x;d.isWebMercator()||(h.x=this._normalizeX(h.x,b).x);c.spatialReference=new e(g.substitute({Central_Meridian:h.x},
4326===d.wkid?b.altTemplate:b.wkTemplate))}}this.cache._shifted=c}return c},_getCM:function(a){var b,c=a.valid[0];a=a.valid[1];var d=this.xmin,e=this.xmax;if(!(d>=c&&d<=a)||!(e>=c&&e<=a))b=this.center;return b},_normalize:function(a,b,c){var d=this.clone(),e=d.spatialReference;if(e&&(c=c||e._getInfo())){var g=h.map(this._getParts(c),function(a){return a.extent});if(2<g.length)return a?this._shiftCM(c):d.set({xmin:c.valid[0],xmax:c.valid[1],spatialReference:e});if(2===g.length){if(a)return this._shiftCM(c);
if(b)return g;var k=!0,l=!0;h.map(g,function(a){a.hasZ||(k=!1);a.hasM||(l=!1)});return{rings:h.map(g,function(a){var b=[[a.xmin,a.ymin],[a.xmin,a.ymax],[a.xmax,a.ymax],[a.xmax,a.ymin],[a.xmin,a.ymin]];if(k)for(var c=(a.zmax-a.zmin)/2,d=0;d<b.length;d++)b[d].push(c);if(l){a=(a.mmax-a.mmin)/2;for(d=0;d<b.length;d++)b[d].push(a)}return b}),hasZ:k,hasM:l,spatialReference:e}}return g[0]||d}return d},_getParts:function(a){var b=this.cache._parts;if(!b){var b=[],c=this.xmin,d=this.xmax,e=this.ymin,g=this.ymax,
k=this.spatialReference,h=this.width,f=c,l=d,m=0,y=0,A,B;a=a||k._getInfo();A=a.valid[0];B=a.valid[1];y=this._normalizeX(c,a);c=y.x;m=y.frameId;y=this._normalizeX(d,a);d=y.x;y=y.frameId;a=c===d&&0<h;if(h>2*B){h=new p(f<l?c:d,e,B,g,k);c=new p(A,e,f<l?d:c,g,k);B=new p(0,e,B,g,k);e=new p(A,e,0,g,k);k=[];A=[];h.contains(B)&&k.push(m);h.contains(e)&&A.push(m);c.contains(B)&&k.push(y);c.contains(e)&&A.push(y);for(g=m+1;g<y;g++)k.push(g),A.push(g);b.push({extent:h,frameIds:[m]},{extent:c,frameIds:[y]},{extent:B,
frameIds:k},{extent:e,frameIds:A})}else c>d||a?b.push({extent:new p(c,e,B,g,k),frameIds:[m]},{extent:new p(A,e,d,g,k),frameIds:[y]}):b.push({extent:new p(c,e,d,g,k),frameIds:[m]});this.cache._parts=b}y=this.hasZ;e=this.hasM;if(y||e){m={};y&&(m.zmin=this.zmin,m.zmax=this.zmax);e&&(m.mmin=this.mmin,m.mmax=this.mmax);for(y=0;y<b.length;y++)b[y].extent.set(m)}return b},_normalizeX:function(a,b){var c=0,d=b.valid[0],e=b.valid[1],g=2*e;a>e?(c=Math.ceil(Math.abs(a-e)/g),a-=c*g):a<d&&(c=Math.ceil(Math.abs(a-
d)/g),a+=c*g,c=-c);return{x:a,frameId:c}},getWidth:function(){m.deprecated(this.declaredClass+".getWidth","Use .width instead","4.0");return this.width},getHeight:function(){m.deprecated(this.declaredClass+".getHeight","Use .height instead","4.0");return this.height},getCenter:function(){m.deprecated(this.declaredClass+".getCenter","Use .center instead","4.0");return this.center},update:function(a,b,c,d,e){m.deprecated(this.declaredClass+".update","Use .set instead","4.0");this.set({xmin:a,ymin:b,
xmax:c,ymax:d,spatialReference:e})}});return p})},"esri/tasks/QueryTask":function(){define("dojo/_base/array ../core/declare dojo/_base/lang ../request ../geometry/Extent ../geometry/support/normalizeUtils ./Task ./support/FeatureSet".split(" "),function(b,h,l,m,g,e,d,c){h=h(d,{declaredClass:"esri.tasks.QueryTask",source:null,gdbVersion:null,__msigns:[{n:"execute",c:2,a:[{i:0,p:["geometry"]}],e:2},{n:"executeForIds",c:1,a:[{i:0,p:["geometry"]}],e:2},{n:"executeForCount",c:1,a:[{i:0,p:["geometry"]}],
e:2},{n:"executeForExtent",c:1,a:[{i:0,p:["geometry"]}],e:2}],execute:function(a,b,c){c=c.assembly;a=this._encode(l.mixin({},this.parsedUrl.query,{f:"json"},a.toJSON(c&&c[0])));this.source&&(c={source:this.source.toJSON()},a.layer=JSON.stringify(c));this.gdbVersion&&(a.gdbVersion=this.gdbVersion);return m({url:this.parsedUrl.path+"/query",content:a,callbackParamName:"callback",callbackSuffix:b},this.requestOptions).then(this._handleExecuteResponse)},executeRelationshipQuery:function(a){a=this._encode(l.mixin({},
this.parsedUrl.query,{f:"json"},a.toJSON()));this.gdbVersion&&(a.gdbVersion=this.gdbVersion);return m({url:this.parsedUrl.path+"/queryRelatedRecords",content:a,callbackParamName:"callback"},this.requestOptions).then(this._handleExecuteRelationshipQueryResponse)},executeForIds:function(a,b){var c=b.assembly,c=this._encode(l.mixin({},this.parsedUrl.query,{f:"json",returnIdsOnly:!0},a.toJSON(c&&c[0])));if(this.source){var d={source:this.source.toJSON()};c.layer=JSON.stringify(d)}this.gdbVersion&&(c.gdbVersion=
this.gdbVersion);return m({url:this.parsedUrl.path+"/query",content:c,callbackParamName:"callback"},this.requestOptions).then(this._handleExecuteForIdsResponse)},executeForCount:function(a,b){var c=b.assembly,c=this._encode(l.mixin({},this.parsedUrl.query,{f:"json",returnIdsOnly:!0,returnCountOnly:!0},a.toJSON(c&&c[0])));if(this.source){var d={source:this.source.toJSON()};c.layer=JSON.stringify(d)}this.gdbVersion&&(c.gdbVersion=this.gdbVersion);return m({url:this.parsedUrl.path+"/query",content:c,
callbackParamName:"callback"},this.requestOptions).then(this._handleExecuteForCountResponse)},executeForExtent:function(a,b){var c=b.assembly,c=this._encode(l.mixin({},this.parsedUrl.query,{f:"json",returnExtentOnly:!0,returnCountOnly:!0},a.toJSON(c&&c[0])));if(this.source){var d={source:this.source.toJSON()};c.layer=JSON.stringify(d)}this.gdbVersion&&(c.gdbVersion=this.gdbVersion);return m({url:this.parsedUrl.path+"/query",content:c,callbackParamName:"callback"},this.requestOptions).then(this._handleExecuteForExtentResponse)},
_handleExecuteResponse:function(a){return c.fromJSON(a)},_handleExecuteRelationshipQueryResponse:function(a){var d=a.geometryType,e=a.spatialReference,g={};b.forEach(a.relatedRecordGroups,function(a){var b={};b.geometryType=d;b.spatialReference=e;b.features=a.relatedRecords;b=c.fromJSON(b);if(null!=a.objectId)g[a.objectId]=b;else for(var h in a)a.hasOwnProperty(h)&&"relatedRecords"!==h&&(g[a[h]]=b)});return g},_handleExecuteForIdsResponse:function(a){return a.objectIds},_handleExecuteForCountResponse:function(a){var b=
a.features,c=a.objectIds;if(c)a=c.length;else{if(b)throw Error("Unable to perform query. Please check your parameters.");a=a.count}return a},_handleExecuteForExtentResponse:function(a){a.extent&&(a.extent=g.fromJSON(a.extent));return a}});e._createWrappers(h);return h})},"esri/views/3d/webgl-engine/materials/Material":function(){define("dojo/_base/lang dojo/text!./Material.xml ./internal/MaterialUtil ../lib/GLSLProgram ../lib/GLSLShader ../lib/ShaderVariations ../lib/Util ../lib/gl-matrix".split(" "),
function(b,h,l,m,g,e,d,c){var a=d.assert,k=c.vec3,p,n=k.create();d=function(b,c){l.basicMaterialConstructor(this,c);b=b||{};b.ambient=b.ambient||[0.2,0.2,0.2];b.diffuse=b.diffuse||[0.8,0.8,0.8];b.specular=b.specular||[0,0,0];b.shininess=b.shininess||10;b.opacity=void 0!==b.opacity?b.opacity:1;b.blendModeOneOne=b.blendModeOneOne||!1;b.inverseWindingOrder=b.inverseWindingOrder||!1;b.vertexColors=b.vertexColors||!1;b.flipV=b.flipV||!1;b.doubleSided=b.doubleSided||!1;b.cullFace=b.cullFace||void 0;b.instanced=
b.instanced||!1;this.instanced=!!b.instanced;b.textureId||(b.reflTextureId=void 0);var d;d=b.textureId?b.atlasRegions?"PosNormTexRegion":"PosNormTex":"PosNorm";b.vertexColors&&(d+="Col");var e=l.Layouts[d],g=b.instanced?l.Layouts.ModelCol:null;b.instanced&&(g=-1<b.instanced.indexOf("color")?l.Layouts.ModelCol:l.Layouts.Model);this.dispose=function(){};this.getParams=function(){return b};this.getParameterValues=function(){var a={ambient:b.ambient,diffuse:b.diffuse,specular:b.specular,shininess:b.shininess,
opacity:b.opacity,transparent:b.transparent,polygonOffset:b.polygonOffset,reflectivity:b.reflectivity,atlasRegions:b.atlasRegions,flipV:b.flipV,doubleSided:b.doubleSided,cullFace:b.cullFace};b.textureId&&(a.textureId=b.textureId,a.initTexture=b.initTexture);return a};this.setParameterValues=function(c){for(var d in c)"textureId"===d&&a(b.textureId,"Can only change texture of material that already has a texture"),b[d]=c[d];this.notifyDirty("matChanged")};this.getOutputAmount=function(a){return a*e.getStride()};
this.getVertexBufferLayout=function(){return e};this.getInstanceBufferLayout=function(){return g};this.fillInterleaved=function(a,b,c,d,f,g,k){l.fillInterleaved(a,b,c,d,e,f,g,k)};this.intersect=l.intersectTriangleGeometry;this.getGLMaterials=function(){return[t,v,x,r]};this.getAllTextureIds=function(){var a=[];b.textureId&&a.push(b.textureId);b.reflTextureId&&a.push(b.reflTextureId);return a}};d.paramsFromOldConstructor=function(a,b,c,d,e,g,k,h,l,n,m,p,r){return{textureId:a,transparent:b,ambient:c,
diffuse:d,specular:e,shininess:g,opacity:k,polygonOffset:h,initTexture:l,reflTextureId:n,reflectivity:m,flipV:p,doubleSided:r,cullFace:void 0}};var u=function(a,b){var c=b.cullFace?"none"!==b.cullFace:b.transparent?!1:!0;a.web3DDefaultState.cullEnabled!==c&&(c?(a.enable(a.CULL_FACE),"front"===b.cullFace&&a.cullFace(a.FRONT)):a.disable(a.CULL_FACE))},q=function(a,b){var c=b.cullFace?"none"!==b.cullFace:b.transparent?!1:!0;a.web3DDefaultState.cullEnabled!==c&&(c?(a.disable(a.CULL_FACE),"front"===b.cullFace&&
a.cullFace(a.BACK)):a.enable(a.CULL_FACE))},t=function(c,d,e){l.basicGLMaterialConstructor(this,c);var g=b.clone(c.getParams()),h=g.transparent?2:1;l.singleTextureGLMaterialConstructor(this,e,g);var m=l.aquireIfNotUndefined(g.reflTextureId,g.reflInitTexture,e);a(!(g.atlasRegions&&g.reflTextureId),"Atlas texture with reflection is not yet supported");var r=!g.textureId?"none":g.atlasRegions?"AtlasTextured":"Textured";this.instanced=p&&g.instanced;var t=!!this.instanced&&-1<this.instanced.indexOf("color"),
v=d.shaderVariators.Material.getProgram([r,!!g.reflTextureId,g.vertexColors,g.flipV,g.doubleSided,!!this.instanced,t]),x=this.dispose;this.dispose=function(){x();l.releaseIfNotUndefined(g.reflTextureId,e)};this.beginSlot=function(a){return h===a};this.getProgram=function(){return v};this.updateParameters=function(){var a=c.getParams();g.ambient=a.ambient;g.diffuse=a.diffuse;g.specular=a.specular;g.shininess=a.shininess;g.opacity=a.opacity;g.polygonOffset=a.polygonOffset;g.reflectivity=a.reflectivity;
g.flipV=a.flipV;g.doubleSided=a.doubleSided;g.cullFace=a.cullFace;g.transparent!=a.transparent&&(h=a.transparent?2:1,g.transparent=a.transparent);g.initTexture=a.initTexture;this.updateTexture(a.textureId);a.atlasRegions&&(g.atlasRegions=a.atlasRegions);g.blendModeOneOne=a.blendModeOneOne;g.inverseWindingOrder=a.inverseWindingOrder};this.bind=function(a,b){v.use();v.uniform3fv("ambient",g.ambient);v.uniform3fv("diffuse",g.diffuse);v.uniform3fv("specular",g.specular);v.uniform1f("shininess",g.shininess);
v.uniform1f("opacity",g.opacity);this.bindTexture(a,v);void 0!==m&&(v.uniform1i("reflTex",1),a.activeTexture(a.TEXTURE1),a.bindTexture(a.TEXTURE_2D,m),a.activeTexture(a.TEXTURE0),v.uniform1f("reflectivity",g.reflectivity));c.getVertexBufferLayout().enableVertexAttribArrays(a,v,!1);this.instanced&&c.getInstanceBufferLayout().enableVertexAttribArrays(a,v,b.extensions.angleInstancedArrays);g.inverseWindingOrder&&a.frontFace(a.CW);g.transparent&&(a.enable(a.BLEND),g.blendModeOneOne&&(a.blendFunc(a.ONE,
a.ONE),a.depthMask(!1)));g.polygonOffset&&(a.enable(a.POLYGON_OFFSET_FILL),a.polygonOffset(2,2));u(a,g)};this.release=function(a,b){g.polygonOffset&&a.disable(a.POLYGON_OFFSET_FILL);q(a,g);g.transparent&&(a.disable(a.BLEND),g.blendModeOneOne&&(a.blendFunc(a.web3DDefaultState.blendFuncSrc,a.web3DDefaultState.blendFuncDst),a.depthMask(!0)));g.inverseWindingOrder&&a.frontFace(a.CCW);c.getVertexBufferLayout().disableVertexAttribArrays(a,v,!1);this.instanced&&c.getInstanceBufferLayout().disableVertexAttribArrays(a,
v,b.extensions.angleInstancedArrays)};this.bindView=function(a,b){var c=b.origin;l.bindView(c,b.view,v);l.bindCamPos(c,b.viewInvTransp,v);b.shadowMap.bindView(v,c)};this.bindInstance=function(a,b){v.uniformMatrix4fv("model",b.transformation);v.uniformMatrix4fv("modelNormal",b.transformationNormal);if(t&&b.instanceParameters){var c=b.instanceParameters.color;c&&(k.multiply(g.ambient,c,n),v.uniform3fv("ambient",n),k.multiply(g.diffuse,c,n),v.uniform3fv("diffuse",n),v.uniform1f("opacity",g.opacity*c[3]))}};
this.getDrawMode=function(a){return a.TRIANGLES}},r=function(a,c,d,e){l.basicGLMaterialConstructor(this,a);var g=b.clone(a.getParams()),k=null!=e?c.get(a.getVertexBufferLayout().hasAttribute("uv0")?"depthTexturedShadowMap":"depthShadowMap"):c.get(a.getVertexBufferLayout().hasAttribute("uv0")?"depthTextured":"depth"),h=g.transparent?2:1;l.singleTextureGLMaterialConstructor(this,d,g);this.beginSlot=function(a){return h===a};this.getProgram=function(){return k};this.updateParameters=function(){var b=
a.getParams();g.initTexture=b.initTexture;this.updateTexture(b.textureId)};this.bind=function(b,c){k.use();k.uniform2fv("nearFar",c.nearFar);g.inverseWindingOrder&&b.frontFace(b.CW);this.bindTexture(b,k);a.getVertexBufferLayout().enableVertexAttribArrays(b,k);u(b,g)};this.release=function(b){q(b,g);g.inverseWindingOrder&&b.frontFace(b.CCW);a.getVertexBufferLayout().disableVertexAttribArrays(b,k)};this.bindView=function(a,b){l.bindView(b.origin,b.view,k)};this.bindInstance=function(a,b){k.uniformMatrix4fv("model",
b.transformation)};this.getDrawMode=function(a){return a.TRIANGLES}},v=function(a,b,c){r.call(this,a,b,c,!0)},x=function(a,c,d){l.basicGLMaterialConstructor(this,a);var e=b.clone(a.getParams()),g=c.get(a.getVertexBufferLayout().hasAttribute("uv0")?"normalTextured":"normal"),k=e.transparent?2:1;l.singleTextureGLMaterialConstructor(this,d,e);this.beginSlot=function(a){return k===a};this.getProgram=function(){return g};this.updateParameters=function(){var b=a.getParams();e.initTexture=b.initTexture;
this.updateTexture(b.textureId)};this.bind=function(b,c){g.use();this.bindTexture(b,g);g.uniformMatrix4fv("viewNormal",c.viewInvTransp);a.getVertexBufferLayout().enableVertexAttribArrays(b,g);u(b,e);e.inverseWindingOrder&&b.frontFace(b.CW)};this.release=function(b){q(b,e);e.inverseWindingOrder&&b.frontFace(b.CCW);a.getVertexBufferLayout().disableVertexAttribArrays(b,g)};this.bindView=function(a,b){l.bindView(b.origin,b.view,g)};this.bindInstance=function(a,b){g.uniformMatrix4fv("model",b.transformation);
g.uniformMatrix4fv("modelNormal",b.transformationNormal)};this.getDrawMode=function(a){return a.TRIANGLES}};d.loadShaders=function(a,b,c,d){a._parse(h);d.getExtension("OES_standard_derivatives");p=d.getExtension("ANGLE_instanced_arrays");var k=new e("phong",["vsPhong","fsPhong"],null,c,b,a,d);k.addNaryShaderSnippetSuffix([{value:"none",programNameSuffix:"",shaderSnippetSuffix:""},{value:"Textured"},{value:"AtlasTextured"}]);k.addBinaryShaderSnippetSuffix("Refl","Refl",[!1,!0]);k.addDefine("Color",
"VERTEXCOLORS");k.addDefine("FlipV","FLIPV");k.addDefine("DoubleSided","DOUBLESIDED");k.addDefine("Instanced","INSTANCED");k.addDefine("InstColor","INSTANCEDCOLOR");c.shaderVariators.Material=k;var k=new g(d.VERTEX_SHADER,a.vsDepth,d),l=new g(d.VERTEX_SHADER,a.vsDepthTextured,d),n=new g(d.VERTEX_SHADER,a.vsNormal,d),r=new g(d.VERTEX_SHADER,a.vsNormalTextured,d),q=new g(d.FRAGMENT_SHADER,a.fsDepth,d,["BIAS_SHADOWMAP 1"]),t=new g(d.FRAGMENT_SHADER,a.fsDepthTextured,d,["BIAS_SHADOWMAP 1"]),u=new g(d.FRAGMENT_SHADER,
a.fsDepth,d),v=new g(d.FRAGMENT_SHADER,a.fsDepthTextured,d),x=new g(d.FRAGMENT_SHADER,a.fsNormal,d),K=new g(d.FRAGMENT_SHADER,a.fsNormalTextured,d);a=new m([k,q],d);var C=new m([l,t],d),D=new m([k,u],d),l=new m([l,v],d),n=new m([n,x],d);d=new m([r,K],d);c.add("depthShadowMap",a);c.add("depthTexturedShadowMap",C);c.add("depth",D);c.add("depthTextured",l);c.add("normal",n);c.add("normalTextured",d);b.add("fsDepth",u);b.add("fsDepthTextured",v);b.add("fsDepthShadowMap",q);b.add("fsDepthTexturedShadowMap",
t);b.add("vsDepth",k);b.add("fsNormal",x)};return d})},"esri/views/3d/navigation/Navigation":function(){define(["../../../core/Accessor","../../../core/Evented","../../../core/watchUtils","./Picker","./mixins/CamerasMixin"],function(b,h,l,m,g){return b.createSubclass([g,h],{classMetadata:{properties:{interacting:{getter:function(){return this._interacting},readOnly:!0},mapUnitInMeters:{dependsOn:["mapCoordsHelper"],getter:function(){return this.mapCoordsHelper?this.mapCoordsHelper.mapUnitInMeters:
1}}}},initialize:function(){this._renderCoordsHelperHandle=l.init(this.view,"renderCoordsHelper",function(b){this.renderCoordsHelper=b}.bind(this));this._mapCoordsHelperHandle=l.init(this.view,"mapCoordsHelper",this.updateMapCoordsHelper.bind(this));this.picker=new m(this,this.view);this._interacting=!1},destroy:function(){this._renderCoordsHelperHandle.remove();this._mapCoordsHelperHandle.remove()},updateMapCoordsHelper:function(b){this.mapCoordsHelper=b;this.inherited(arguments)},begin:function(b){this.pan&&
this.pan.continuous&&this.pan.continuous.stop();this._interacting=!0;this.notifyChange("interacting")},end:function(b){this._interacting=!1;this.notifyChange("interacting")}})})},"esri/views/3d/webgl-engine/materials/RibbonLineMaterial":function(){define("dojo/_base/lang dojo/text!./RibbonLineMaterial.xml ./internal/MaterialUtil ../lib/VertexBufferLayout ../lib/GLSLProgram ../lib/GLSLShader ../lib/Util ../lib/gl-matrix ../lib/webglConstants".split(" "),function(b,h,l,m,g,e,d,c,a){var k=[255,255,255,
255],p=[0,0,0,0],n=c.vec3d,u=c.vec2d,q=c.mat4d,t=n.create(),r=n.create(),v=n.create(),x=n.create(),w=u.create(),f=u.create(),s=n.create(),z=n.create();c=function(b,c){l.basicMaterialConstructor(this,c);var e=d.VertexAttrConstants;b=b||{};b.color=b.color||[1,1,1,1];b.width=b.width||0;b.type=b.type||"screen";b.join=b.join||"miter";b.miterLimit="miter"===b.join?b.miterLimit||5:b.miterLimit;var g="wall"===b.type?2:4,h="wall"===b.type?new m([e.POSITION,e.UV0],[3,2]):new m([e.POSITION,e.UV0,e.AUXPOS1,e.AUXPOS2,
e.COLOR,e.SIZE],[3,2,3,3,4,1],[a.FLOAT,a.FLOAT,a.FLOAT,a.FLOAT,a.FLOAT,a.FLOAT]);this.canBeMerged=!1;this.getParams=function(){return b};this.getParameterValues=function(){var a={color:b.color,width:b.width,type:b.type,join:b.join,polygonOffset:b.polygonOffset};"miter"===b.join&&(a.miterLimit=b.miterLimit);return a};this.setParameterValues=function(a){for(var c in a)a.hasOwnProperty(c)&&(d.assert("type"!==c,"RibbonLineMaterial: type cannot be changed after creation"),b[c]=a[c]);this.notifyDirty("matChanged")};
this.dispose=function(){};this.getOutputAmount=function(a){return((a/2+1-2)*g+4)*h.getStride()};this.getVertexBufferLayout=function(){return h};this.fillInterleaved=function(a,c,d,f,g,h){d=a.vertexAttr[e.POSITION].data;f=a.vertexAttr[e.COLOR]?a.vertexAttr[e.COLOR].data:k;a=a.vertexAttr[e.SIZE]?a.vertexAttr[e.SIZE].data:p;if("wall"===b.type){f=h;a=d.length/3;h=0;for(var l=d[0],n=d[1],m=d[2],r,q,s,t=0;t<a;t++){var u=3*t;r=l;q=n;s=m;l=d[u];n=d[u+1];m=d[u+2];c&&(l=c[0]*l+c[4]*n+c[8]*m+c[12],n=c[1]*l+
c[5]*n+c[9]*m+c[13],m=c[2]*l+c[6]*n+c[10]*m+c[14]);h+=Math.sqrt((l-r)*(l-r)+(n-q)*(n-q)+(m-s)*(m-s));g[f++]=l;g[f++]=n;g[f++]=m;g[f++]=h;g[f++]=-1;g[f++]=l;g[f++]=n;g[f++]=m;g[f++]=h;g[f++]=1}}else{l=d.length/3;n=d[0];m=d[1];r=d[2];q=0;c&&(n=c[0]*n+c[4]*m+c[8]*r+c[12],m=c[1]*n+c[5]*m+c[9]*r+c[13],r=c[2]*n+c[6]*m+c[10]*r+c[14]);s=n;var t=m,u=r,v=d[3],x=d[4],w=d[5];c&&(v=c[0]*v+c[4]*x+c[8]*w+c[12],x=c[1]*v+c[5]*x+c[9]*w+c[13],w=c[2]*v+c[6]*x+c[10]*w+c[14]);for(var z=0;z<l;z++){var y=3*z;z<l-1&&(v=d[y+
3],x=d[y+4],w=d[y+5],c&&(v=c[0]*v+c[4]*x+c[8]*w+c[12],x=c[1]*v+c[5]*x+c[9]*w+c[13],w=c[2]*v+c[6]*x+c[10]*w+c[14]));q+=Math.sqrt((s-n)*(s-n)+(t-m)*(t-m)+(u-r)*(u-r));g[h++]=s;g[h++]=t;g[h++]=u;g[h++]=q;g[h++]=0===z?-1.2:-1;g[h++]=n;g[h++]=m;g[h++]=r;g[h++]=v;g[h++]=x;g[h++]=w;g[h++]=f[0];g[h++]=f[1];g[h++]=f[2];g[h++]=f[3];g[h++]=a[0];g[h++]=s;g[h++]=t;g[h++]=u;g[h++]=q;g[h++]=0===z?1.2:1;g[h++]=n;g[h++]=m;g[h++]=r;g[h++]=v;g[h++]=x;g[h++]=w;g[h++]=f[0];g[h++]=f[1];g[h++]=f[2];g[h++]=f[3];g[h++]=a[0];
0<z&&z<l-1&&(g[h++]=s,g[h++]=t,g[h++]=u,g[h++]=q,g[h++]=-1.2,g[h++]=n,g[h++]=m,g[h++]=r,g[h++]=v,g[h++]=x,g[h++]=w,g[h++]=f[0],g[h++]=f[1],g[h++]=f[2],g[h++]=f[3],g[h++]=a[0],g[h++]=s,g[h++]=t,g[h++]=u,g[h++]=q,g[h++]=1.2,g[h++]=n,g[h++]=m,g[h++]=r,g[h++]=v,g[h++]=x,g[h++]=w,g[h++]=f[0],g[h++]=f[1],g[h++]=f[2],g[h++]=f[3],g[h++]=a[0]);n=s;m=t;r=u;s=v;t=x;u=w}}};this.intersect=function(a,c,g,k,h,l,m,p,u,y,B,F){if(F){c=a.getData().getVertexAttr(e.position).position.data;a=a.getData().getVertexAttr(e.SIZE).size;
a=(a&&a.data[0])+b.width;m=Number.MAX_VALUE;for(p=0;p<c.length-5;p+=3){t[0]=c[p];t[1]=c[p+1];t[2]=c[p+2];q.multiplyVec3(g,t);r[0]=c[p+3];r[1]=c[p+4];r[2]=c[p+5];q.multiplyVec3(g,r);u.projectPoint(t,w);u.projectPoint(r,f);if(0>w[2]&&0<f[2])n.subtract(t,r,v),y=u.frustumPlanes,F=-(n.dot(y[4],t)+y[4][3]),y=F/n.dot(v,y[4]),n.scale(v,y,v),n.add(t,v,t),u.projectPoint(t,w);else if(0<w[2]&&0>f[2])n.subtract(r,t,v),y=u.frustumPlanes,F=-(n.dot(y[4],r)+y[4][3]),y=F/n.dot(v,y[4]),n.scale(v,y,v),n.add(r,v,r),u.projectPoint(r,
f);else if(0>w[2]&&0>f[2])continue;y=d.projectVectorVector2D(w,f,k);y<m&&(m=y,n.set(t,s),n.set(r,z))}m<a/2+4&&(g=d.linelineDistance3D(s,z,h,l),k=Number.MAX_VALUE,g[0]&&(n.subtract(g[2],h,x),k=0.98*n.length(x)/n.dist(h,l)),B(k,x))}};this.getGLMaterials=function(){return[y,void 0,void 0]};this.getAllTextureIds=function(){return[]}};var y=function(a,c){l.basicGLMaterialConstructor(this,a);var d=b.clone(a.getParams());d.miterLimit="miter"===d.join?d.miterLimit:0;delete d.join;var f=c.get("ribbonLine_"+
d.type);this.updateParameters=function(){var b=a.getParams();d.polygonOffset=b.polygonOffset;d.color=b.color;d.width=b.width;d.miterLimit="miter"===b.join?b.miterLimit:0};this.beginSlot=function(a){return 2===a};this.getProgram=function(){return f};this.bind=function(b,c){f.use();f.uniform4fv("eColor",d.color);f.uniform1f("miterLimit",d.miterLimit);f.uniform1f("nearPlane",c.nearFar[0]);"screen"===d.type?(f.uniform2fv("screenSize",[c.viewport[2],c.viewport[3]]),f.uniform1f("extLineWidth",d.width*c.pixelRatio)):
f.uniform1f("extLineWidth",d.width);a.getVertexBufferLayout().enableVertexAttribArrays(b,f);d.polygonOffset&&(b.enable(b.POLYGON_OFFSET_FILL),b.polygonOffset(0,-4));b.enable(b.BLEND);b.web3DDefaultState.cullEnabled&&b.disable(b.CULL_FACE);1>d.color[3]&&b.depthMask(!1)};this.release=function(b){a.getVertexBufferLayout().disableVertexAttribArrays(b,f);d.polygonOffset&&b.disable(b.POLYGON_OFFSET_FILL);b.disable(b.BLEND);b.web3DDefaultState.cullEnabled&&b.enable(b.CULL_FACE);b.depthMask(!0)};this.bindView=
function(a,b){l.bindView(b.origin,b.view,f)};this.bindInstance=function(a,b){f.uniformMatrix4fv("model",b.transformation)};this.getDrawMode=function(a){return a.TRIANGLE_STRIP}};c.loadShaders=function(a,b,c,d){a._parse(h);var f=new e(d.VERTEX_SHADER,a.vsRibbonLine,d,["SCREENSCALE"]),k=new e(d.VERTEX_SHADER,a.vsRibbonLine,d);b=new e(d.VERTEX_SHADER,a.vsRibbonLine,d,["WALL"]);a=new e(d.FRAGMENT_SHADER,a.fsRibbonLine,d);f=new g([f,a],d);k=new g([k,a],d);d=new g([b,a],d);c.add("ribbonLine_screen",f);
c.add("ribbonLine_strip",k);c.add("ribbonLine_wall",d)};return c})},"esri/renderers/VectorFieldRenderer":function(){define("require ../core/declare dojo/_base/lang dojo/_base/array ../Color ../core/lang ../symbols/SimpleMarkerSymbol ../symbols/PictureMarkerSymbol ../symbols/SimpleLineSymbol ../symbols/support/jsonUtils ./Renderer ./ClassBreaksRenderer".split(" "),function(b,h,l,m,g,e,d,c,a,k,p,n){var u=h(p,{declaredClass:"esri.renderer.VectorFieldRenderer",iconFolderPath:"../images/symbol/sfs/",constructor:function(a){e.isDefined(a)||
(a={});a.attributeField=a.attributeField||"Magnitude";a.rotationInfo=a.rotationInfo||this._getRotationInfo(a);h.safeMixin(this,a);this.style=this.style||u.STYLE_SINGLE_ARROW;this.singleArrowSymbol&&(this.singleArrowSymbol=this.singleArrowSymbol.declaredClass?this.singleArrowSymbol:k.fromJSON(this.singleArrowSymbol));this.renderer=new n(this._getDefaultSymbol(),a.attributeField);this._updateRenderer(this.style);this.flowRepresentation=this.flowRepresentation||this.FLOW_FROM},getSymbol:function(a){return this.renderer&&
this.renderer.getSymbol(a)},setVisualVariables:function(a){a=m.filter(a,function(a){if("sizeInfo"===a.type)return e.isDefined(this._updateSizeInfo(a))},this);this.inherited(arguments);return this},setSizeInfo:function(a){this._updateSizeInfo(a);this.inherited(arguments);return this},setProportionalSymbolInfo:function(a){this.setSizeInfo(a);return this},setColorInfo:function(a){return this},_updateRenderer:function(a){return!e.isDefined(this.renderer)?Error("Invalid Renderer!"):a===u.STYLE_SINGLE_ARROW?
this._createSingleArrowRenderer():a===u.STYLE_BEAUFORT_KN?this._createBeaufortKnotsRenderer():a===u.STYLE_BEAUFORT_METER?this._createBeaufortMeterRenderer():a===u.STYLE_BEAUFORT_FEET?this._createBeaufortFeetRenderer():a===u.STYLE_BEAUFORT_MILE?this._createBeaufortMilesRenderer():a===u.STYLE_BEAUFORT_KM?this._createBeaufortKilometersRenderer():a===u.STYLE_OCEAN_CURRENT_M?this._createCurrentMeterRenderer():a===u.STYLE_OCEAN_CURRENT_KN?this._createCurrentKnotsRenderer():a===u.STYLE_SCALAR?this._createSimpleScalarRenderer():
a===u.STYLE_WIND_BARBS?this._createWindBarbsRenderer():this._createClassifiedArrowRenderer()},_updateSizeInfo:function(a){return a&&e.isDefined(a.minSize)&&e.isDefined(a.maxSize)&&e.isDefined(a.minDataValue)&&e.isDefined(a.maxDataValue)?(this.style===u.STYLE_WIND_BARBS&&(a.minSize=a.maxSize),a.field=a.field||"Magnitude",a.type="sizeInfo",a):null},_createClassifiedArrowRenderer:function(){this.renderer.defaultSymbol=this._getDefaultSymbol(new g([56,168,0]));var a=[0,1E-6,3.5,7,10.5,14];if(e.isDefined(this.minDataValue)&&
e.isDefined(this.maxDataValue)){var b=(this.maxDataValue-this.minDataValue)/5,a=[],c,d;d=this.minDataValue;for(c=0;6>c;c++)a[c]=d,d+=b}this._addBreaks(a,[[56,168,0],[139,309,0],[255,255,0],[255,128,0],[255,0,0]])},_createSingleArrowRenderer:function(){this.renderer.defaultSymbol=this.singleArrowSymbol||this._getDefaultSymbol()},_createBeaufortMeterRenderer:function(){this.renderer.defaultSymbol=this._getDefaultSymbol(new g([214,47,39]));this._addBreaks([0,0.2,1.8,3.3,5.4,8.5,11,14.1,17.2,20.8,24.4,
28.6,32.7],[[69,117,181],[101,137,184],[132,158,186],[162,180,189],[192,204,190],[222,227,191],[255,255,191],[255,220,161],[250,185,132],[245,152,105],[237,117,81],[232,21,21]])},_createBeaufortKnotsRenderer:function(){this.renderer.defaultSymbol=this._getDefaultSymbol(new g([214,47,39]));this._addBreaks([0,1,3,6,10,16,21,27,33,40,47,55,63],[[40,146,199],[89,162,186],[129,179,171],[160,194,155],[191,212,138],[218,230,119],[250,250,100],[252,213,83],[252,179,102],[250,141,52],[247,110,42],[240,71,
29]])},_createBeaufortFeetRenderer:function(){var a=[0,0.2,1.8,3.3,5.4,8.5,11,14.1,17.2,20.8,24.4,28.6,32.7];m.forEach(a,function(b,c){a[c]*=3.28084});this.renderer.defaultSymbol=this._getDefaultSymbol(new g([214,47,39]));this._addBreaks(a,[[69,117,181],[101,137,184],[132,158,186],[162,180,189],[192,204,190],[222,227,191],[255,255,191],[255,220,161],[250,185,132],[245,152,105],[237,117,81],[232,21,21]])},_createBeaufortMilesRenderer:function(){var a=[0,0.2,1.8,3.3,5.4,8.5,11,14.1,17.2,20.8,24.4,28.6,
32.7];m.forEach(a,function(b,c){a[c]*=2.23694});this.renderer.defaultSymbol=this._getDefaultSymbol(new g([214,47,39]));this._addBreaks(a,[[69,117,181],[101,137,184],[132,158,186],[162,180,189],[192,204,190],[222,227,191],[255,255,191],[255,220,161],[250,185,132],[245,152,105],[237,117,81],[232,21,21]])},_createBeaufortKilometersRenderer:function(){var a=[0,0.2,1.8,3.3,5.4,8.5,11,14.1,17.2,20.8,24.4,28.6,32.7];m.forEach(a,function(b,c){a[c]*=3.6});this.renderer.defaultSymbol=this._getDefaultSymbol(new g([214,
47,39]));this._addBreaks(a,[[69,117,181],[101,137,184],[132,158,186],[162,180,189],[192,204,190],[222,227,191],[255,255,191],[255,220,161],[250,185,132],[245,152,105],[237,117,81],[232,21,21]])},_createCurrentMeterRenderer:function(){this.renderer.defaultSymbol=this._getDefaultSymbol(new g([177,177,177]));this._addBreaks([0,0.5,1,1.5,2],[[78,26,153],[179,27,26],[202,128,26],[177,177,177]])},_createCurrentKnotsRenderer:function(){this.renderer.defaultSymbol=this._getDefaultSymbol(new g([177,177,177]));
this._addBreaks([0,0.25,0.5,1,1.5,2,2.5,3,3.5,4],[[0,0,0],[0,37,100],[78,26,153],[151,0,100],[179,27,26],[177,78,26],[202,128,26],[177,179,52],[177,177,177]])},_createSimpleScalarRenderer:function(){this.renderer.defaultSymbol=new c({url:b.toUrl(this.iconFolderPath+"scalar.png"),height:20,width:20,type:"esriPMS",angle:0})},_createWindBarbsRenderer:function(){var e=[],k,h;for(k=0;150>=k;k+=5)e.push(k);h="M20 20 M5 20 A15 15 0 1 0 35 20 A15 15 0 1 0 5 20 M20 20 M10 20 A10 10 0 1 0 30 20 A10 10 0 1 0 10 20;M25 0 L25 40 M25 35 L17.5 37.5;M25 0 L25 40 L10 45 L25 40;M25 0 L25 40 L10 45 L25 40 M25 35 L17.5 37.5;M25 0 L25 40 L10 45 L25 40 M25 35 L10 40;M25 0 L25 40 L10 45 L25 40 M25 35 L10 40 L25 35 M25 30 L17.5 32.5;M25 0 L25 40 L10 45 L25 40 M25 35 L10 40 L25 35 M25 30 L10 35;M25 0 L25 40 L10 45 L25 40 M25 35 L10 40 L25 35 M25 30 L10 35 L25 30 M25 25 L17.5 27.5;M25 0 L25 40 L10 45 L25 40 M25 35 L10 40 L25 35 M25 30 L10 35 L25 30 M25 25 L10 30;M25 0 L25 40 L10 45 L25 40 M25 35 L10 40 L25 35 M25 30 L10 35 L25 30 M25 25 L10 30 L25 25 M25 20 L17.5 22.5;M25 0 L25 40 L10 40 L25 35;M25 0 L25 40 L10 40 L25 35 M25 30 L17.5 32.5;M25 0 L25 40 L10 40 L25 35 M25 30 L10 35;M25 0 L25 40 L10 40 L25 35 M25 30 L10 35 L25 30 M25 25 L17.5 27.5;M25 0 L25 40 L10 40 L25 35 M25 30 L10 35 L25 30 M25 25 L10 30;M25 0 L25 40 L10 40 L25 35 M25 30 L10 35 L25 30 M25 25 L10 30 L25 25 M25 20 L17.5 22.5;M25 0 L25 40 L10 40 L25 35 M25 30 L10 35 L25 30 M25 25 L10 30 L25 25 M25 20 L10 25;M25 0 L25 40 L10 40 L25 35 M25 30 L10 35 L25 30 M25 25 L10 30 L25 25 M25 20 L10 25 L25 20 M25 15 L17.5 17.5;M25 0 L25 40 L10 40 L25 35 M25 30 L10 35 L25 30 M25 25 L10 30 L25 25 M25 20 L10 25 L25 20 M25 15 L10 20;M25 0 L25 40 L10 40 L25 35 M25 30 L10 35 L25 30 M25 25 L10 30 L25 25 M25 20 L10 25 L25 20 M25 15 L10 20 L25 15 M25 10 L17.5 12.5;M25 0 L25 40 L10 40 L25 35 L10 35 L25 30;M25 0 L25 40 L10 40 L25 35 L10 35 L25 30 M25 25 L17.5 27.5;M25 0 L25 40 L10 40 L25 35 L10 35 L25 30 M25 25 L10 30;M25 0 L25 40 L10 40 L25 35 L10 35 L25 30 M25 25 L10 30 M25 25 M25 20 L17.5 22.5;M25 0 L25 40 L10 40 L25 35 L10 35 L25 30 M25 25 L10 30 M25 25 M25 20 L10 25;M25 0 L25 40 L10 40 L25 35 L10 35 L25 30 M25 25 L10 30 M25 25 M25 20 L10 25 M25 20 M25 15 L17.5 17.5;M25 0 L25 40 L10 40 L25 35 L10 35 L25 30 M25 25 L10 30 M25 25 M25 20 L10 25 M25 20 M25 15 L10 20;M25 0 L25 40 L10 40 L25 35 L10 35 L25 30 M25 25 L10 30 M25 25 M25 20 L10 25 M25 20 M25 15 L10 20 M25 15 M25 10 L17.5 12.5;M25 0 L25 40 L10 40 L25 35 L10 35 L25 30 M25 25 L10 30 M25 25 M25 20 L10 25 M25 20 M25 15 L10 20 M25 15 M25 10 L10 15;M25 0 L25 40 L10 40 L25 35 L10 35 L25 30 M25 25 L10 30 M25 25 M25 20 L10 25 M25 20 M25 15 L10 20 M25 15 M25 10 L10 15 M25 10 M25 5 L17.5 7.5".split(";");
var l=new c({url:b.toUrl(this.iconFolderPath+"windbarb.png"),height:20,width:20,type:"esriPMS",angle:0});this.renderer.defaultSymbol=l;for(k=0;k<e.length-1;k++)0==k?this.renderer.addBreak({minValue:e[k],maxValue:e[k+1],symbol:l}):this.renderer.addBreak({minValue:e[k],maxValue:e[k+1],symbol:(new d).setPath(h[k]).setOutline((new a).setWidth(1.5)).setSize(20).setColor(new g([0,0,0,255]))})},_getDefaultSymbol:function(b){return(new d).setPath("M14,32 14,18 9,23 16,3 22,23 17,18 17,32 z").setOutline((new a).setWidth(0)).setSize(20).setColor(b||
new g([0,92,230]))},_getRotationInfo:function(a){var b=a&&a.flowRepresentation||u.FLOW_FROM,c=a&&a.rotationField||"Direction",d=u.FLOW_FROM;return{field:function(a){a=a.attributes[c];return b===d?a:a+180},type:"geographic"}},_addBreaks:function(a,b){if(!e.isDefined(this.renderer))return Error("Invalid Renderer!");if(!a||!b||!a.length||!b.length||!(a.length>=b.length))return Error("AddBreaks: Input arguments break values and colors not valid");var c;for(c=0;c<b.length;c++)this.renderer.addBreak({minValue:a[c],
maxValue:a[c+1],symbol:this._getDefaultSymbol(new g(b[c]))})},toJson:function(){try{throw Error("toJson is deprecated, use toJSON instead");}catch(a){console.warn(a.stack)}return this.toJSON()},toJSON:function(){var a=l.mixin(this.inherited(arguments),{type:"vectorField",style:this.style,attributeField:this.attributeField,flowRepresentation:this.flowRepresentation});this.renderer&&(this.renderer.defaultSymbol&&this.style===u.STYLE_SINGLE_ARROW)&&(a.singleArrowSymbol=this.renderer.defaultSymbol.toJSON());
return e.fixJson(a)}});l.mixin(u,{STYLE_WIND_BARBS:"wind_speed",STYLE_SINGLE_ARROW:"single_arrow",STYLE_CLASSIFIED_ARROW:"classified_arrow",STYLE_BEAUFORT_KN:"beaufort_kn",STYLE_BEAUFORT_METER:"beaufort_m",STYLE_BEAUFORT_MILE:"beaufort_mi",STYLE_BEAUFORT_FEET:"beaufort_ft",STYLE_BEAUFORT_KM:"beaufort_km",STYLE_OCEAN_CURRENT_M:"ocean_current_m",STYLE_OCEAN_CURRENT_KN:"ocean_current_kn",STYLE_SCALAR:"simple_scalar"},{FLOW_FROM:"flow_from",FLOW_TO:"flow_to"});return u})},"dojo/hccss":function(){define("require ./_base/config ./dom-class ./dom-style ./has ./domReady ./_base/window".split(" "),
function(b,h,l,m,g,e,d){g.add("highcontrast",function(){var c=d.doc.createElement("div");c.style.cssText='border: 1px solid; border-color:red green; position: absolute; height: 5px; top: -999px;background-image: url("'+(h.blankGif||b.toUrl("./resources/blank.gif"))+'");';d.body().appendChild(c);var a=m.getComputedStyle(c),e=a.backgroundImage,a=a.borderTopColor==a.borderRightColor||e&&("none"==e||"url(invalid-url:)"==e);8>=g("ie")?c.outerHTML="":d.body().removeChild(c);return a});e(function(){g("highcontrast")&&
l.add(d.body(),"dj_a11y")});return g})},"dojo/request/iframe":function(){define("module require ./watch ./util ./handlers ../_base/lang ../io-query ../query ../has ../dom ../dom-construct ../_base/window ../NodeList-dom".split(" "),function(b,h,l,m,g,e,d,c,a,k,p,n){function u(a){return!this.isFulfilled()}function q(a){return!!this._finished}function t(a,b){if(!b)try{var d=a.options,f=v.doc(v._frame),k=d.handleAs;if("html"!==k){if("xml"===k)if("html"===f.documentElement.tagName.toLowerCase()){c("a",
f.documentElement).orphan();var h=f.documentElement.innerText,h=h.replace(/>\s+</g,"\x3e\x3c");a.text=e.trim(h)}else a.data=f;else a.text=f.getElementsByTagName("textarea")[0].value;g(a)}else a.data=f}catch(l){b=l}b?this.reject(b):this._finished?this.resolve(a):this.reject(Error("Invalid dojo/request/iframe request state"))}function r(a){this._callNext()}function v(a,b,c){var d=m.parseArgs(a,m.deepCreate(f,b),!0);a=d.url;b=d.options;if("GET"!==b.method&&"POST"!==b.method)throw Error(b.method+" not supported by dojo/request/iframe");
v._frame||(v._frame=v.create(v._iframeName,w+"();"));a=m.deferred(d,null,u,q,t,r);a._callNext=function(){this._calledNext||(this._calledNext=!0,v._currentDfd=null,v._fireNextRequest())};a._legacy=c;v._dfdQueue.push(a);v._fireNextRequest();l(a);return c?a:a.promise}var x=b.id.replace(/[\/\.\-]/g,"_"),w=x+"_onload";n.global[w]||(n.global[w]=function(){var a=v._currentDfd;if(a){var b=k.byId(a.response.options.form)||a._tmpForm;if(b){for(var c=a._contentToClean,d=0;d<c.length;d++)for(var f=c[d],e=0;e<
b.childNodes.length;e++){var g=b.childNodes[e];if(g.name===f){p.destroy(g);break}}a._originalAction&&b.setAttribute("action",a._originalAction);a._originalMethod&&(b.setAttribute("method",a._originalMethod),b.method=a._originalMethod);a._originalTarget&&(b.setAttribute("target",a._originalTarget),b.target=a._originalTarget)}a._tmpForm&&(p.destroy(a._tmpForm),delete a._tmpForm);a._finished=!0}else v._fireNextRequest()});var f={method:"POST"};v.create=function(b,c,d){if(n.global[b])return n.global[b];
if(n.global.frames[b])return n.global.frames[b];d||(a("config-useXDomain")&&!a("config-dojoBlankHtmlUrl")&&console.warn("dojo/request/iframe: When using cross-domain Dojo builds, please save dojo/resources/blank.html to your domain and set dojoConfig.dojoBlankHtmlUrl to the path on your domain to blank.html"),d=a("config-dojoBlankHtmlUrl")||h.toUrl("dojo/resources/blank.html"));c=p.place('\x3ciframe id\x3d"'+b+'" name\x3d"'+b+'" src\x3d"'+d+'" onload\x3d"'+c+'" style\x3d"position: absolute; left: 1px; top: 1px; height: 1px; width: 1px; visibility: hidden"\x3e',
n.body());return n.global[b]=c};v.doc=function(a){if(a.contentDocument)return a.contentDocument;var b=a.name;if(b){var c=n.doc.getElementsByTagName("iframe");if(a.document&&c[b].contentWindow&&c[b].contentWindow.document)return c[b].contentWindow.document;if(n.doc.frames[b]&&n.doc.frames[b].document)return n.doc.frames[b].document}return null};v.setSrc=function(a,b,c){a=n.global.frames[a.name];a.contentWindow&&(a=a.contentWindow);try{c?a.location.replace(b):a.location=b}catch(d){console.log("dojo/request/iframe.setSrc: ",
d)}};v._iframeName=x+"_IoIframe";v._notifyStart=function(){};v._dfdQueue=[];v._currentDfd=null;v._fireNextRequest=function(){var a;try{if(!v._currentDfd&&v._dfdQueue.length){do a=v._currentDfd=v._dfdQueue.shift();while(a&&(a.canceled||a.isCanceled&&a.isCanceled())&&v._dfdQueue.length);if(!a||a.canceled||a.isCanceled&&a.isCanceled())v._currentDfd=null;else{var b=a.response,c=b.options,f=a._contentToClean=[],g=k.byId(c.form),h=m.notify,l=c.data||null,r;!a._legacy&&"POST"===c.method&&!g?g=a._tmpForm=
p.create("form",{name:x+"_form",style:{position:"absolute",top:"-1000px",left:"-1000px"}},n.body()):"GET"===c.method&&(g&&-1<b.url.indexOf("?"))&&(r=b.url.slice(b.url.indexOf("?")+1),l=e.mixin(d.queryToObject(r),l));if(g){if(!a._legacy){var q=g;do q=q.parentNode;while(q&&q!==n.doc.documentElement);q||(g.style.position="absolute",g.style.left="-1000px",g.style.top="-1000px",n.body().appendChild(g));g.name||(g.name=x+"_form")}if(l){var q=function(a,b){p.create("input",{type:"hidden",name:a,value:b},
g);f.push(a)},t;for(t in l){var u=l[t];if(e.isArray(u)&&1<u.length)for(r=0;r<u.length;r++)q(t,u[r]);else g[t]?g[t].value=u:q(t,u)}}var w=g.getAttributeNode("action"),C=g.getAttributeNode("method"),D=g.getAttributeNode("target");b.url&&(a._originalAction=w?w.value:null,w?w.value=b.url:g.setAttribute("action",b.url));if(a._legacy){if(!C||!C.value)C?C.value=c.method:g.setAttribute("method",c.method)}else a._originalMethod=C?C.value:null,C?C.value=c.method:g.setAttribute("method",c.method);a._originalTarget=
D?D.value:null;D?D.value=v._iframeName:g.setAttribute("target",v._iframeName);g.target=v._iframeName;h&&h.emit("send",b,a.promise.cancel);v._notifyStart(b);g.submit()}else c="",b.options.data&&(c=b.options.data,"string"!==typeof c&&(c=d.objectToQuery(c))),q=b.url+(-1<b.url.indexOf("?")?"\x26":"?")+c,h&&h.emit("send",b,a.promise.cancel),v._notifyStart(b),v.setSrc(v._frame,q,!0)}}}catch(L){a.reject(L)}};m.addCommonMethods(v,["GET","POST"]);return v})},"esri/layers/TiledLayer":function(){define(["../core/declare",
"./Layer"],function(b,h){return b(h,{viewModulePaths:{"2d":"../views/2d/layers/TiledLayerView2D","3d":"../views/3d/layers/TiledLayerView3D"},getTileUrl:function(b,h,g){}})})},"dojo/on":function(){define(["./has!dom-addeventlistener?:./aspect","./_base/kernel","./sniff"],function(b,h,l){function m(b,d,f,e,g){if(e=d.match(/(.*):(.*)/))return d=e[2],e=e[1],c.selector(e,d).call(g,b,f);l("touch")&&(a.test(d)&&(f=y(f)),!l("event-orientationchange")&&"orientationchange"==d&&(d="resize",b=window,f=y(f)));
q&&(f=q(f));if(b.addEventListener){var k=d in n,h=k?n[d]:d;b.addEventListener(h,f,k);return{remove:function(){b.removeEventListener(h,f,k)}}}if(x&&b.attachEvent)return x(b,"on"+d,f);throw Error("Target must be an event emitter");}function g(){this.cancelable=!1;this.defaultPrevented=!0}function e(){this.bubbles=!1}var d=window.ScriptEngineMajorVersion;l.add("jscript",d&&d()+ScriptEngineMinorVersion()/10);l.add("event-orientationchange",l("touch")&&!l("android"));l.add("event-stopimmediatepropagation",
window.Event&&!!window.Event.prototype&&!!window.Event.prototype.stopImmediatePropagation);l.add("event-focusin",function(a,b,c){return"onfocusin"in c});l("touch")&&l.add("touch-can-modify-event-delegate",function(){var a=function(){};a.prototype=document.createEvent("MouseEvents");try{var b=new a;b.target=null;return null===b.target}catch(c){return!1}});var c=function(a,b,d,f){return"function"==typeof a.on&&"function"!=typeof b&&!a.nodeType?a.on(b,d):c.parse(a,b,d,m,f,this)};c.pausable=function(a,
b,d,f){var e;a=c(a,b,function(){if(!e)return d.apply(this,arguments)},f);a.pause=function(){e=!0};a.resume=function(){e=!1};return a};c.once=function(a,b,d,f){var e=c(a,b,function(){e.remove();return d.apply(this,arguments)});return e};c.parse=function(a,b,d,f,e,g){if(b.call)return b.call(g,a,d);if(b instanceof Array)k=b;else if(-1<b.indexOf(","))var k=b.split(/\s*,\s*/);if(k){var h=[];b=0;for(var l;l=k[b++];)h.push(c.parse(a,l,d,f,e,g));h.remove=function(){for(var a=0;a<h.length;a++)h[a].remove()};
return h}return f(a,b,d,e,g)};var a=/^touch/;c.matches=function(a,b,c,d,f){f=f&&f.matches?f:h.query;d=!1!==d;1!=a.nodeType&&(a=a.parentNode);for(;!f.matches(a,b,c);)if(a==c||!1===d||!(a=a.parentNode)||1!=a.nodeType)return!1;return a};c.selector=function(a,b,d){return function(f,e){function g(b){return c.matches(b,a,f,d,k)}var k="function"==typeof a?{matches:a}:this,h=b.bubble;return h?c(f,h(g),e):c(f,b,function(a){var b=g(a.target);if(b)return e.call(b,a)})}};var k=[].slice,p=c.emit=function(a,b,
c){var d=k.call(arguments,2),f="on"+b;if("parentNode"in a){var h=d[0]={},l;for(l in c)h[l]=c[l];h.preventDefault=g;h.stopPropagation=e;h.target=a;h.type=b;c=h}do a[f]&&a[f].apply(a,d);while(c&&c.bubbles&&(a=a.parentNode));return c&&c.cancelable&&c},n=l("event-focusin")?{}:{focusin:"focus",focusout:"blur"};if(!l("event-stopimmediatepropagation"))var u=function(){this.modified=this.immediatelyStopped=!0},q=function(a){return function(b){if(!b.immediatelyStopped)return b.stopImmediatePropagation=u,a.apply(this,
arguments)}};if(l("dom-addeventlistener"))c.emit=function(a,b,d){if(a.dispatchEvent&&document.createEvent){var f=(a.ownerDocument||document).createEvent("HTMLEvents");f.initEvent(b,!!d.bubbles,!!d.cancelable);for(var e in d)e in f||(f[e]=d[e]);return a.dispatchEvent(f)&&f}return p.apply(c,arguments)};else{c._fixEvent=function(a,b){a||(a=(b&&(b.ownerDocument||b.document||b).parentWindow||window).event);if(!a)return a;try{t&&(a.type==t.type&&a.srcElement==t.target)&&(a=t)}catch(c){}if(!a.target)switch(a.target=
a.srcElement,a.currentTarget=b||a.srcElement,"mouseover"==a.type&&(a.relatedTarget=a.fromElement),"mouseout"==a.type&&(a.relatedTarget=a.toElement),a.stopPropagation||(a.stopPropagation=w,a.preventDefault=f),a.type){case "keypress":var d="charCode"in a?a.charCode:a.keyCode;10==d?(d=0,a.keyCode=13):13==d||27==d?d=0:3==d&&(d=99);a.charCode=d;d=a;d.keyChar=d.charCode?String.fromCharCode(d.charCode):"";d.charOrCode=d.keyChar||d.keyCode}return a};var t,r=function(a){this.handle=a};r.prototype.remove=function(){delete _dojoIEListeners_[this.handle]};
var v=function(a){return function(b){b=c._fixEvent(b,this);var d=a.call(this,b);b.modified&&(t||setTimeout(function(){t=null}),t=b);return d}},x=function(a,c,d){d=v(d);if(((a.ownerDocument?a.ownerDocument.parentWindow:a.parentWindow||a.window||window)!=top||5.8>l("jscript"))&&!l("config-_allow_leaks")){"undefined"==typeof _dojoIEListeners_&&(_dojoIEListeners_=[]);var f=a[c];if(!f||!f.listeners){var e=f,f=Function("event","var callee \x3d arguments.callee; for(var i \x3d 0; i\x3ccallee.listeners.length; i++){var listener \x3d _dojoIEListeners_[callee.listeners[i]]; if(listener){listener.call(this,event);}}");
f.listeners=[];a[c]=f;f.global=this;e&&f.listeners.push(_dojoIEListeners_.push(e)-1)}f.listeners.push(a=f.global._dojoIEListeners_.push(d)-1);return new r(a)}return b.after(a,c,d,!0)},w=function(){this.cancelBubble=!0},f=c._preventDefault=function(){this.bubbledKeyCode=this.keyCode;if(this.ctrlKey)try{this.keyCode=0}catch(a){}this.defaultPrevented=!0;this.returnValue=!1;this.modified=!0}}if(l("touch"))var s=function(){},z=window.orientation,y=function(a){return function(b){var c=b.corrected;if(!c){var d=
b.type;try{delete b.type}catch(f){}if(b.type){if(l("touch-can-modify-event-delegate"))s.prototype=b,c=new s;else{var c={},e;for(e in b)c[e]=b[e]}c.preventDefault=function(){b.preventDefault()};c.stopPropagation=function(){b.stopPropagation()}}else c=b,c.type=d;b.corrected=c;if("resize"==d){if(z==window.orientation)return null;z=window.orientation;c.type="orientationchange";return a.call(this,c)}"rotation"in c||(c.rotation=0,c.scale=1);var d=c.changedTouches[0],g;for(g in d)delete c[g],c[g]=d[g]}return a.call(this,
c)}};return c})},"dojo/errors/create":function(){define(["../_base/lang"],function(b){return function(h,l,m,g){m=m||Error;var e=function(b){if(m===Error){Error.captureStackTrace&&Error.captureStackTrace(this,e);var c=Error.call(this,b),a;for(a in c)c.hasOwnProperty(a)&&(this[a]=c[a]);this.message=b;this.stack=c.stack}else m.apply(this,arguments);l&&l.apply(this,arguments)};e.prototype=b.delegate(m.prototype,g);e.prototype.name=h;return e.prototype.constructor=e}})},"esri/layers/support/TimeReference":function(){define(["../../core/declare",
"dojo/_base/lang"],function(b,h){return b(null,{declaredClass:"esri.layers.support.TimeReference",constructor:function(b){b&&h.mixin(this,b)}})})},"esri/views/LayerViewFactory":function(){define("dojo/_base/lang dojo/Deferred dojo/when ../core/Accessor ../core/Scheduler ../core/Collection".split(" "),function(b,h,l,m,g,e){return m.createSubclass({declaredClass:"esri.views.LayerViewFactory",classMetadata:{properties:{working:{}}},constructor:function(d){var c=new e,a=new e,k={},m=null,n=d.watch("ready",
function(a){a?q():t()});this.create=function(b){var c;k[b.id]?c=k[b.id]:(k[b.id]=c=new h,a.addItem({dfd:c,layer:b}));d.ready&&q();return c.promise};this.dispose=function(a){d.ready?(c.addItem(a),q()):r(a)};this.destroy=function(){t();n&&(n.remove(),n=null)};var u=function(){m=null;a.drain(function(a){var e=a.dfd,g=a.layer;(a=c.find(function(a){return g===a.layer}))?(c.removeItem(a),delete k[g.id],e.resolve(a)):g.createLayerView(d).then(b.partial(function(a,b){l(b,function(c){delete k[g.id];c.layerView&&
(b=c.layerView);g.emit("layer-view-create",{view:d,layerView:b});d.emit("layer-view-create",{layer:g,layerView:b});a.resolve(b)},function(b){delete k[g.id];a.reject(b)})},e),b.partial(function(a,b){delete k[g.id];a.reject(b)},e))});c.drain(r);this.working=!1}.bind(this),q=function(){m||(this.working=!0,m=g.schedule(u))}.bind(this),t=function(){m&&(m.remove(),m=null);c.drain(r);a.drain(function(a){a.dfd.reject()});this.working=!1}.bind(this),r=function(a){var b=a.layer;delete k[b.id];b.destroyLayerView(d,
a);d.emit("layer-view-destroy",{layer:b,layerView:a})}.bind(this)},working:!1})})},"dgrid/util/has-css3":function(){define(["dojo/has"],function(b){function h(b,g){var e=b.style,d;if(g in e)return!0;g=g.slice(0,1).toUpperCase()+g.slice(1);for(d=l.length;d--;)if(l[d]+g in e)return l[d];return!1}var l=["ms","O","Moz","Webkit"];b.add("css-transitions",function(b,g,e){return h(e,"transitionProperty")});b.add("css-transforms",function(b,g,e){return h(e,"transform")});b.add("css-transforms3d",function(b,
g,e){return h(e,"perspective")});b.add("transitionend",function(){var h=b("css-transitions");return!h?!1:!0===h?"transitionend":{ms:"MSTransitionEnd",O:"oTransitionEnd",Moz:"transitionend",Webkit:"webkitTransitionEnd"}[h]});return b})},"esri/views/3d/webgl-engine/lib/webgl-utils":function(){define([],function(){var b=function(b,g){for(var e=["webgl","experimental-webgl","webkit-3d","moz-webgl"],d=null,c=0;c<e.length;++c){try{d=b.getContext(e[c],g)}catch(a){}if(d)break}return d},h=(window.requestAnimationFrame||
window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(b,g){return window.setTimeout(b,1E3/60)}).bind(window),l=(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame||window.clearTimeout).bind(window);return{create3DContext:b,setupWebGL:function(h,g){function e(b){var a=h.parentNode;a&&(a.innerHTML='\x3ctable style\x3d"background-color: #8CE; width: 100%; height: 100%;"\x3e\x3ctr\x3e\x3ctd align\x3d"center"\x3e\x3cdiv style\x3d"display: table-cell; vertical-align: middle;"\x3e\x3cdiv style\x3d""\x3e'+
b+"\x3c/div\x3e\x3c/div\x3e\x3c/td\x3e\x3c/tr\x3e\x3c/table\x3e")}if(!window.WebGLRenderingContext)return e('This page requires a browser that supports WebGL.\x3cbr/\x3e\x3ca href\x3d"http://get.webgl.org"\x3eClick here to upgrade your browser.\x3c/a\x3e'),[null,'This page requires a browser that supports WebGL.\x3cbr/\x3e\x3ca href\x3d"http://get.webgl.org"\x3eClick here to upgrade your browser.\x3c/a\x3e'];var d=b(h,g);return!d?(e('It doesn\'t appear your computer can support WebGL.\x3cbr/\x3e\x3ca href\x3d"http://get.webgl.org/troubleshooting/"\x3eClick here for more information.\x3c/a\x3e'),
[null,'It doesn\'t appear your computer can support WebGL.\x3cbr/\x3e\x3ca href\x3d"http://get.webgl.org/troubleshooting/"\x3eClick here for more information.\x3c/a\x3e']):[d]},detectWebGL:function(){var h;try{h=window.WebGLRenderingContext}catch(g){h=[!1,0]}var e;try{e=b(document.createElement("canvas"))}catch(d){e=[!1,1]}return!h?[!1,0]:!e?[!1,1]:[!0,{VERSION:e.getParameter(e.VERSION),SHADING_LANGUAGE_VERSION:e.getParameter(e.SHADING_LANGUAGE_VERSION),VENDOR:e.getParameter(e.VENDOR),RENDERER:e.getParameter(e.RENDERER),
EXTENSIONS:e.getSupportedExtensions(),MAX_TEXTURE_SIZE:e.getParameter(e.MAX_TEXTURE_SIZE),MAX_RENDERBUFFER_SIZE:e.getParameter(e.MAX_RENDERBUFFER_SIZE),MAX_VERTEX_TEXTURE_IMAGE_UNITS:e.getParameter(e.MAX_VERTEX_TEXTURE_IMAGE_UNITS)}]},requestAnimFrame:h,cancelAnimFrame:l}})},"esri/views/3d/navigation/spherical/actions/ZoomSpherical":function(){define(["./ActionSpherical","../../mixins/ZoomMixin","../../../lib/glMatrix","../../../support/earthUtils"],function(b,h,l,m){var g=l.vec2d,e=l.vec3d,d=l.mat4d,
c=e.create(),a=e.create(),k=e.create(),p=d.create(),n=e.create(),u=e.create();return b.createSubclass([h],{declaredClass:"esri.views.3d.navigation.spherical.actions.ZoomSpherical",constructor:function(){},begin:function(b){this.inherited(arguments);this.pickPointInScreen(b,this._navPickPoint)?this._navSphereRadius=e.length(this._navPickPoint):(this._navSphereRadius=e.length(this.targetCamera.center),this._navSphereRadius<0.9*m.earthRadius&&(this._navSphereRadius=m.earthRadius),this.createPickRay(b,
b,this.currentCamera.viewMatrix,c,a),e.subtract(a,this.currentCamera.eye),this.intersectManifold(this.currentCamera.eye,a,this._navSphereRadius-m.earthUtils,this._navPickPoint)||(this._navSphereRadius=0));this._mouseDownCamera.copyFrom(this.targetCamera)},update:function(b){var h=this.targetCamera;h.copyFrom(this._mouseDownCamera);e.subtract(h.center,h.eye,k);var l=e.length(k);this.normalizeCoordinate(b,c);var n=12*(c[1]-this.normalizedAnchorPoint[1]);b=l*Math.pow(2,n);0>n&&b<this.navigation.minPoiDist&&
(b=this.navigation.minPoiDist);b=this.limitAltitude(b,h.center,k,l,0>n?-1:1);1E-6>Math.abs(l-b)||(0<this._navSphereRadius&&b<l&&(n=1-(1-b/l)*(1-this._navSphereRadius/e.length(h.center)),e.scale(h.center,n)),e.scale(k,-b/l),e.add(h.center,k,h.eye),l=!1,0<this._navSphereRadius&&(d.lookAt(h.eye,h.center,h.up,p),this.createPickRay(this._dragBeginPoint,this._dragBeginPoint,p,c,a),e.normalize(e.subtract(a,h.eye)),this.intersectManifold(h.eye,a,this._navSphereRadius-m.earthRadius,this._targetOnSphere)||
(this.closestPointOnSphereSilhouette(h.eye,c,this._navSphereRadius,this._targetOnSphere),l=!0),this.rotateCameraWithPointsOnSphere(this._navPickPoint,this._targetOnSphere,h,h,this._navSphereRadius),this.fixTargetUpVector()),this.applyConstraints(h),this.constrainTargetEyeByElevation(),this.targetAndCurrentChanged(),g.set(this._dragBeginPoint,this._dragLastPoint),l&&(d.lookAt(h.eye,h.center,h.up,p),this._dragLastPoint=this.currentCamera.projectPoint(this._navPickPoint,p)),h=this._toYDownCoord(this._dragLastPoint),
this.emit("update",h[0],h[1]))},stepAtPoint:function(b,g,k,h){e.set(g,u);g=e.length(u);e.subtract(this.targetCamera.eye,this.targetCamera.center,n);0>b&&(b*=1.7);var l=e.length(n),w=l*(1-b),w=0<b&&w<this.minPoiDist?this.minPoiDist:this.limitAltitude(w,u,n,-l,0<=b?-1:1);b=-(w/l-1);1E-6>Math.abs(l-w)||(h&&(l=1-b*(1-g/e.length(this.targetCamera.center)),e.scale(this.targetCamera.center,l)),e.scale(n,1-b),e.add(this.targetCamera.center,n,this.targetCamera.eye),h&&k&&(d.lookAt(this.targetCamera.eye,this.targetCamera.center,
this.targetCamera.up,p),this.createPickRay(k,k,p,c,a),e.normalize(e.subtract(a,this.targetCamera.eye)),g<e.length(this.targetCamera.eye)&&this.intersectManifold(this.targetCamera.eye,a,g-m.earthRadius,this._targetOnSphere)?this.rotateCameraWithPointsOnSphere(u,this._targetOnSphere,this.targetCamera,this.targetCamera,g):h=!1),this.applyConstraints(this.targetCamera),this.constrainTargetEyeByElevation(),h&&this.fixTargetUpVector(),this.navigation.currentHasAlmostReachedTarget()?this.targetAndCurrentChanged():
this.targetAnimatedChanged())}})})},"dijit/typematic":function(){define("dojo/_base/array dojo/_base/connect dojo/_base/lang dojo/on dojo/sniff ./main".split(" "),function(b,h,l,m,g,e){var d=e.typematic={_fireEventAndReload:function(){this._timer=null;this._callback(++this._count,this._node,this._evt);this._currentTimeout=Math.max(0>this._currentTimeout?this._initialDelay:1<this._subsequentDelay?this._subsequentDelay:Math.round(this._currentTimeout*this._subsequentDelay),this._minDelay);this._timer=
setTimeout(l.hitch(this,"_fireEventAndReload"),this._currentTimeout)},trigger:function(b,a,d,e,g,h,m,t){if(g!=this._obj){this.stop();this._initialDelay=m||500;this._subsequentDelay=h||0.9;this._minDelay=t||10;this._obj=g;this._node=d;this._count=this._currentTimeout=-1;this._callback=l.hitch(a,e);this._evt={faux:!0};for(var r in b)"layerX"!=r&&"layerY"!=r&&(a=b[r],"function"!=typeof a&&"undefined"!=typeof a&&(this._evt[r]=a));this._fireEventAndReload()}},stop:function(){this._timer&&(clearTimeout(this._timer),
this._timer=null);this._obj&&(this._callback(-1,this._node,this._evt),this._obj=null)},addKeyListener:function(c,a,e,g,n,u,q){var t="keyCode"in a?"keyCode":"charCode"in a?"charCode":"charOrCode",r=[m(c,"keyCode"in a?"keydown":"charCode"in a?"keypress":h._keypress,l.hitch(this,function(b){b[t]==a[t]&&(void 0===a.ctrlKey||a.ctrlKey==b.ctrlKey)&&(void 0===a.altKey||a.altKey==b.altKey)&&(void 0===a.metaKey||a.metaKey==(b.metaKey||!1))&&(void 0===a.shiftKey||a.shiftKey==b.shiftKey)?(b.stopPropagation(),
b.preventDefault(),d.trigger(b,e,c,g,a,n,u,q)):d._obj==a&&d.stop()})),m(c,"keyup",l.hitch(this,function(){d._obj==a&&d.stop()}))];return{remove:function(){b.forEach(r,function(a){a.remove()})}}},addMouseListener:function(c,a,e,h,n,u){var q=[m(c,"mousedown",l.hitch(this,function(b){b.preventDefault();d.trigger(b,a,c,e,c,h,n,u)})),m(c,"mouseup",l.hitch(this,function(a){this._obj&&a.preventDefault();d.stop()})),m(c,"mouseout",l.hitch(this,function(a){this._obj&&a.preventDefault();d.stop()})),m(c,"dblclick",
l.hitch(this,function(b){b.preventDefault();9>g("ie")&&(d.trigger(b,a,c,e,c,h,n,u),setTimeout(l.hitch(this,d.stop),50))}))];return{remove:function(){b.forEach(q,function(a){a.remove()})}}},addListener:function(c,a,d,e,g,h,l,m){var r=[this.addKeyListener(a,d,e,g,h,l,m),this.addMouseListener(c,e,g,h,l,m)];return{remove:function(){b.forEach(r,function(a){a.remove()})}}}};return d})},"esri/views/3d/support/ArrayExtent":function(){define([],function(){var b=function(h){h=h||b.ZERO;this.extent=h.slice()};
b.prototype={expand:function(b){var l=b.declaredClass,m=this.extent;"esri.geometry.Extent"===l?(m[0]=Math.min(m[0],b.xmin),m[1]=Math.min(m[1],b.ymin),m[2]=Math.max(m[2],b.xmax),m[3]=Math.max(m[3],b.ymax)):"esri.geometry.Point"===l?(m[0]=Math.min(m[0],b.x),m[1]=Math.min(m[1],b.y),m[2]=Math.max(m[2],b.x),m[3]=Math.max(m[3],b.y)):4===b.length&&(m[0]=Math.min(m[0],b[0]),m[1]=Math.min(m[1],b[1]),m[2]=Math.max(m[2],b[2]),m[3]=Math.max(m[3],b[3]))},isFinite:function(){return this.extent.every(isFinite)},
width:function(){return this.extent[2]-this.extent[0]},height:function(){return this.extent[3]-this.extent[1]}};b.positionInsideExtent=function(b,l){return b[0]>=l[0]&&b[1]>=l[1]&&b[0]<=l[2]&&b[1]<=l[3]};b.NEGATIVE_INFINITY=[Infinity,Infinity,-Infinity,-Infinity];b.ZERO=[0,0,0,0];return b})},"esri/views/3d/navigation/mixins/ZoomMixin":function(){define(["../../../../core/declare","../../lib/glMatrix"],function(b,h){var l=h.vec2d,m=h.vec3d,g=m.create(),e=1/120;return b([],{declaredClass:"esri.views.3d.navigation.mixins.ZoomMixin",
type:"zoom",constructor:function(){this.normalizedAnchorPoint=l.create()},begin:function(b){this.navigation.begin(this);l.set(b,this._dragBeginPoint);this.normalizeCoordinate(b,this.normalizedAnchorPoint);b=this._toYDownCoord(this._dragBeginPoint);this.active=!0;this.emit("begin",b[0],b[1])},update:function(b){},end:function(b){this.active=!1;b=this._toYDownCoord(this._dragBeginPoint);this.emit("end",b[0],b[1]);this.navigation.end(this)},stepScreen:function(b,c){this.active||(m.set(this.currentCamera.center,
g),0<b&&!this.pickPointInScreen(c,g)&&"planar"===this.navigation.view.globeMode&&this.pickFreePointInScreen(c,g),this.step(b*e,g,c))},step:function(b,c,a){if(!this.active){this.navigation.begin(this);this.targetCamera.copyFrom(this.currentCamera);var e=1E-6<m.dist(c,this.targetCamera.center);this.stepAtPoint(0.4*b,c,a,e);this.navigation.end(this)}},stepAtPoint:function(b,c,a,e){},_toYDownCoord:function(b){return[b[0],this.currentCamera.height-b[1]]}})})},"dojo/dnd/move":function(){define("../_base/declare ../dom-geometry ../dom-style ./common ./Mover ./Moveable".split(" "),
function(b,h,l,m,g,e){m=b("dojo.dnd.move.constrainedMoveable",e,{constraints:function(){},within:!1,constructor:function(b,c){c||(c={});this.constraints=c.constraints;this.within=c.within},onFirstMove:function(b){var c=this.constraintBox=this.constraints.call(this,b);c.r=c.l+c.w;c.b=c.t+c.h;this.within&&(b=h.getMarginSize(b.node),c.r-=b.w,c.b-=b.h)},onMove:function(b,c){var a=this.constraintBox,e=b.node.style;this.onMoving(b,c);c.l=c.l<a.l?a.l:a.r<c.l?a.r:c.l;c.t=c.t<a.t?a.t:a.b<c.t?a.b:c.t;e.left=
c.l+"px";e.top=c.t+"px";this.onMoved(b,c)}});g=b("dojo.dnd.move.boxConstrainedMoveable",m,{box:{},constructor:function(b,c){var a=c&&c.box;this.constraints=function(){return a}}});b=b("dojo.dnd.move.parentConstrainedMoveable",m,{area:"content",constructor:function(b,c){var a=c&&c.area;this.constraints=function(){var b=this.node.parentNode,c=l.getComputedStyle(b),d=h.getMarginBox(b,c);if("margin"==a)return d;var e=h.getMarginExtents(b,c);d.l+=e.l;d.t+=e.t;d.w-=e.w;d.h-=e.h;if("border"==a)return d;
e=h.getBorderExtents(b,c);d.l+=e.l;d.t+=e.t;d.w-=e.w;d.h-=e.h;if("padding"==a)return d;e=h.getPadExtents(b,c);d.l+=e.l;d.t+=e.t;d.w-=e.w;d.h-=e.h;return d}}});return{constrainedMoveable:m,boxConstrainedMoveable:g,parentConstrainedMoveable:b}})},"esri/views/3d/SceneViewEnvironment":function(){define(["../../core/JSONSupport","./SceneViewLighting","./SceneViewAtmosphere"],function(b,h,l){var m=b.createSubclass({declaredClass:"esri.views.3d.SceneViewEnvironment",classMetadata:{properties:{lighting:{type:h},
atmosphere:{type:l}},reader:{exclude:["atmosphere"],add:["lighting"]}},getDefaults:function(b){var e={};b.lighting||(e.lighting={});b.atmosphere||(e.atmosphere={});return e},_lightingReader:function(b){return null==b?b:h.fromJSON(b)},clone:function(){return new m({lighting:this.lighting?this.lighting.clone():null,atmosphere:this.atmosphere.clone()})},toJSON:function(){var b={};this.lighting&&(b.lighting=this.lighting.toJSON());return b}});return m})},"dojo/promise/instrumentation":function(){define(["./tracer",
"../has","../_base/lang","../_base/array"],function(b,h,l,m){function g(a,b,c){var d="";a&&a.stack&&(d+=a.stack);b&&b.stack&&(d+="\n    ----------------------------------------\n    rejected"+b.stack.split("\n").slice(1).join("\n").replace(/^\s+/," "));c&&c.stack&&(d+="\n    ----------------------------------------\n"+c.stack);console.error(a,d)}function e(a,b,c,d){b||g(a,c,d)}function d(b,d,e,g){m.some(a,function(a){if(a.error===b)return d&&(a.handled=!0),!0})||a.push({error:b,rejection:e,handled:d,
deferred:g,timestamp:(new Date).getTime()});k||(k=setTimeout(c,p))}function c(){var b=(new Date).getTime(),d=b-p;a=m.filter(a,function(a){return a.timestamp<d?(a.handled||g(a.error,a.rejection,a.deferred),!1):!0});k=a.length?setTimeout(c,a[0].timestamp+p-b):!1}h.add("config-useDeferredInstrumentation","report-unhandled-rejections");var a=[],k=!1,p=1E3;return function(a){var c=h("config-useDeferredInstrumentation");if(c){b.on("resolved",l.hitch(console,"log","resolved"));b.on("rejected",l.hitch(console,
"log","rejected"));b.on("progress",l.hitch(console,"log","progress"));var g=[];"string"===typeof c&&(g=c.split(","),c=g.shift());if("report-rejections"===c)a.instrumentRejected=e;else if("report-unhandled-rejections"===c||!0===c||1===c)a.instrumentRejected=d,p=parseInt(g[0],10)||p;else throw Error("Unsupported instrumentation usage \x3c"+c+"\x3e");}}})},"esri/views/3d/support/viewpointUtils":function(){define("../../../geometry/SpatialReference ../../../geometry/Geometry ../../../geometry/Point ../../../geometry/Extent ../../../geometry/support/webMercatorUtils ../../../Camera ../../../Viewpoint ../../../Graphic ../lib/glMatrix ./mathUtils ./projectionUtils ./cameraUtils".split(" "),
function(b,h,l,m,g,e,d,c,a,k,p,n){function u(a){return 360-k.cyclicalDeg.normalize(a)}function q(a){return k.cyclicalDeg.normalize(360-a)}function t(a,c,d){var f;if(c.camera)return f=c.camera.clone(),null!=d&&(f.tilt=d),c.camera;var g=a.map.spatialReference||b.WGS84,k=a.navigation.currentCamera,h=n.internalToExternal(a,k);f=!1;null!=c.rotation&&(h.heading=u(c.rotation),f=!0);null!=d&&(h.tilt=d);if(c.targetGeometry instanceof l){var m=c.targetGeometry,h;d=c.targetGeometry.clone();c=null!=c.scale?n.scaleToDistance(a,
c.scale,m.latitude):k.distance;f=n.eyeHeadingTiltForCenterPointAtDistance(a,h.heading,h.tilt,d,c,{noReset:f});a=p.vectorToPoint(f.eye,a.renderSpatialReference,g);return new e(a,f.heading,f.tilt,h.fov)}return n.fromExtent(a,c.targetGeometry.extent,h,{noReset:f})}function r(a,b,c){if(null!=a[b])return a[b];if(null!=c)return"function"===typeof c?c():c}function v(a,b,c){return r(b,"scale",function(){var d=r(b,"zoom",function(){if(null!=c)return"function"===typeof c&&(c=c()),{scale:c}});if(null!=d)return null!=
d.scale?d.scale:n.zoomToScale(a,d)})}function x(a,b,c){return r(b,"heading",function(){var a=r(b,"rotation",function(){if(null!=c)return"function"===typeof c&&(c=c()),{heading:c}});if(null!=a)return null!=a.heading?a.heading:u(a)})}function w(a,c,d,f,e){if(!(c&&d.position||c&&d.direction||d.position&&d.direction))return!1;var g=a.map.spatialReference||b.WGS84,k=a.renderSpatialReference,h=d.direction;c&&d.position&&(h=null);d.position&&p.pointToVector(d.position,y,k);c&&p.pointToVector(c,A,k);if(h){var m=
new l(d.position||c);m.x+=h[0];m.y+=h[1];2<h.length&&(m.z+=h[2]);p.pointToVector(m,B,k);z.subtract(B,d.position?y:A)}d.position&&h?(e.camera.position=new l(d.position),n.directionToHeadingTilt(a,y,B,f.up,e.camera),z.add(y,B,A),a.navigation.getCenterIntersectTerrain(y,A,A),e.targetGeometry=p.vectorToPoint(A,k,g),e.scale=n.distanceToScale(a,z.dist(y,A),e.targetGeometry.latitude)):c&&h?(e.targetGeometry=new l(c),e.scale=v(a,d,function(){return n.computeScale(a,f)}),c=n.scaleToDistance(a,e.scale,c.latitude),
z.scale(B,c/z.length(B),y),z.add(y,A),e.camera.position=p.vectorToPoint(y,k,g),n.directionToHeadingTilt(a,y,B,f.up,e.camera)):(e.targetGeometry=new l(c),e.camera.position=new l(d.position),z.subtract(A,y,B),n.directionToHeadingTilt(a,y,B,f.up,e.camera),e.scale=n.distanceToScale(a,z.dist(y,A),e.targetGeometry.latitude));e.rotation=q(e.camera.heading);return!0}function f(a,c){var d=a.map.spatialReference||b.WGS84,f=n.externalToInternal(a,c.camera);c.targetGeometry=p.vectorToPoint(f.center,a.renderSpatialReference,
d);c.scale=n.computeScale(a,f);c.rotation=q(c.camera.heading);return c}function s(a,d,f,e){var k;if(Array.isArray(d)&&2===d.length&&"number"===typeof d[0]&&"number"===typeof d[1])k=new l(d[0],d[1],b.WGS84);else{if(d.forEach){var n=!1;d.forEach(function(b){n||(e=s(a,b,f,e),e||(e=null,n=!0))});return e}if(Array.isArray(d)){for(k=0;k<d.length;k++)if(e=s(a,d[k],f,e),!e)return null;return e}d instanceof h?k=d:d instanceof c&&d.geometry&&(k=d.geometry)}if(!k)return null;d=k instanceof l?new m({xmin:k.x,
ymin:k.y,zmin:k.z,xmax:k.x,ymax:k.y,zmax:k.z,spatialReference:k.spatialReference}):k.extent;if(!d||!g.canProject(d.spatialReference,f))return null;d=g.project(d,f);return e=e?e.union(d):d.clone()}var z=a.vec3d,y=z.create(),A=z.create(),B=z.create(),E={heading:0,tilt:0};return{create:function(a,c,g){g=c;if(!c)return null;null==c.declaredClass&&(c.target?c=c.target:c.center&&(c=c.center));if(c instanceof d){var h;h=c.clone();null!=g.heading?h.rotation=q(g.heading):null!=g.rotation&&(h.rotation=g.rotation);
var m=v(a,g);null!=m&&(h.scale=m);h.camera=t(a,h,g.tilt);return h}h=new d({targetGeometry:void 0,scale:void 0,rotation:void 0,camera:new e({position:void 0,heading:void 0,tilt:void 0,fov:k.rad2deg(a.navigation.currentCamera.fov)})});var z=a.map.spatialReference||b.WGS84,y=s(a,c,z);if(y)if(y.xmin===y.xmax&&y.ymin===y.ymax&&y.zmin===y.zmax){if(h.targetGeometry=new l(y.xmin,y.ymin,y.zmin,y.spatialReference),y=null,m=a.navigation.getCameraIntersectTerrain(),w(a,h.targetGeometry,g,m,h))return h}else h.targetGeometry=
y;else{if(c instanceof e)return h.camera=c.clone(),f(a,h);m=a.navigation.getCameraIntersectTerrain();if(w(a,null,g,m,h))return h;if(g.position)return m.computeDirection(B),n.directionToHeadingTilt(a,m.eye,B,m.up,E),h.camera.position=new l(g.position),h.camera.heading=x(a,g,E.heading),h.camera.tilt=r(g,"tilt",E.tilt),h.camera.fov=r(g,"fov",h.camera.fov),f(a,h);h.targetGeometry=p.vectorToPoint(m.center,a.renderSpatialReference,z)}c=!1;m||(m=a.navigation.getCameraIntersectTerrain());n.internalToExternal(a,
m,h.camera);var z=h.camera,A=!1;null!=g.heading?(z.heading=g.heading,A=!0):null!=g.rotation&&(z.heading=u(g.rotation),A=!0);null!=g.tilt&&(z.tilt=g.tilt,A=!0);null!=g.fov&&(z.fov=g.fov);A&&(c=!0);h.scale=v(a,g);if(y)if(g=y.center,null!=h.scale)n.fromCenterScale(a,g,h.scale,h.camera,{noReset:c},h.camera);else{if(!n.fromExtent(a,y,h.camera,{noReset:c},h.camera))return null;h.scale=n.computeScale(a,h.camera,g)}else if(null==h.scale&&(h.scale=n.computeScale(a,m)),!n.fromCenterScale(a,h.targetGeometry,
h.scale,h.camera,{noReset:c},h.camera))return null;h.rotation=q(h.camera.heading);return h},rotationToHeading:u,headingToRotation:q,toCamera:t}})},"esri/views/3d/webgl-engine/lib/GLDefaultState":function(){define([],function(){return function(b){this.cullEnabled=!1;this.blendFuncSrc=b.SRC_ALPHA;this.blendFuncDst=b.ONE_MINUS_SRC_ALPHA;this.depthFunc=b.LESS;this.apply=function(){this.cullEnabled?b.enable(b.CULL_FACE):b.disable(b.CULL_FACE);b.blendFunc(this.blendFuncSrc,this.blendFuncDst);b.depthFunc(this.depthFunc)}}})},
"esri/widgets/Attribution":function(){define("dojo/_base/event dojo/_base/lang dojo/_base/array dojo/_base/kernel dojo/on dojo/dom-attr dojo/dom-construct dojo/dom-style dojo/dom-class dojo/dom-geometry ../core/declare ../core/Collection ../core/lang ../geometry/SpatialReference ../geometry/support/webMercatorUtils ../geometry/Extent ./Widget".split(" "),function(b,h,l,m,g,e,d,c,a,k,p,n,u,q,t,r,v){return p([v],{declaredClass:"esri.widgets.Attribution",baseClass:"esri-attribution",itemDelimiter:" | ",
map:null,view:null,_setViewAttr:function(a){this.view=a;this._setupView(a)},listNode:null,itemNodes:{},css:{},maxWidth:100,_setMaxWidthAttr:function(a){this.maxWidth=a;this._updateMaxWidth(a)},_eventConnections:[],_layerViewEventConnections:[],_attributions:{},_pendingDfds:{},_activeLayerIds:[],_sharedLayers:[],_lastItem:null,constructor:function(a,b){this.attributionLayerViews=new n;this.css={openClass:"esri-attribution-open",listClass:"esri-attribution-list",itemClass:"esri-attribution-item",lastItemClass:"esri-attribution-last-item",
delimiterClass:"esri-attribution-delim"}},buildRendering:function(){this.inherited(arguments);e.set(this.domNode,"innerHTML","\x3cspan class\x3d'"+this.css.listClass+"'\x3e\x3c/span\x3e");this.listNode=m.query(".esri-attribution-list",this.domNode)[0];this.itemNodes={}},postCreate:function(){this.inherited(arguments);var a=this.view;a&&this._setupView(a)},destroy:function(){this.inherited(arguments);this._clearEventConnections();d.destroy(this.listNode);this.map=this.domNode=this._eventConnections=
this._layerViewEventConnections=this.listNode=this._attributions=this._pendingDfds=this.itemNodes=this._activeLayerIds=this._lastItem=this._sharedLayers=null;this._mapWatcher&&(this._mapWatcher.remove(),this._mapWatcher=null)},_setupView:function(a){a&&(this.map=null,this.view=a,a.map?(this.map=a.map,this._init()):(this._mapWatcher&&this._mapWatcher.remove(),this._mapWatcher=a.watch("map",function(a){this.map=a;this._init()}.bind(this))))},_init:function(){var a=this.map,b=this.view;this._clearEventConnections();
this._eventConnections=[b.watch("stationary",h.hitch(this,this._onViewExtentChange)),b.layerViewsFlat.on("change",h.hitch(this,this._updateLayers)),g(this.listNode.parentNode,"click",h.hitch(this,this._toggleOpenStateHandler))];a.then(h.hitch(this,function(a){a=b.layerViewsFlat.map(function(a){return a}).filter(function(a){return a.layer.hasAttributionData});this.set("attributionLayerViews",a);this._parseLayerViews()}))},_createNode:function(a,b){if(this.domNode){var c,e=this.view;c=e.get("extent");
var g=e.get("zoom")||1,k=this._attributions[a],l=(e=this._checkShareInfo(a))&&e.sharedWith,l=l&&this.itemNodes[l];c=h.isString(k)?k:this._getContributorsList(k,c,g);l?(this.itemNodes[a]=l,this._toggleItem(l,!0,e.index)):(c=this.itemNodes[a]=d.create("span",{"class":this.css.itemClass,innerHTML:c?c+this._getDelimiter():"",style:{display:"inline"}},this.listNode),this._setLastItem(c));this._adjustCursorStyle()}},_checkShareInfo:function(a){var b=this._attributions,c,d,e=-1,g=b[a],k;if(g&&h.isString(g)){for(d in b)if(c=
b[d],d!==a&&c&&h.isString(c)&&c.length===g.length&&c.toLowerCase()===g.toLowerCase()){k=d;break}b=this._sharedLayers;c=b.length;if(k){for(d=0;d<c;d++)if(g=b[d],-1!==l.indexOf(g,k)){e=d;g.push(a);break}-1===e&&(e=b.push([k,a])-1)}}return-1<e?{index:e,sharedWith:k}:null},_getGroupIndex:function(a){var b=this._sharedLayers,c,d=b.length,e=-1;for(c=0;c<d;c++)if(-1!==l.indexOf(b[c],a)){e=c;break}return e},_createIndexByLevel:function(a,b){var c=a.contributors,d,e,g,k,h=c?c.length:0,l,m,n=q.WGS84,p={},v;
for(k=0;k<h;k++){d=c[k];m=(e=d.coverageAreas)?e.length:0;for(l=0;l<m;l++){g=e[l];v=g.bbox;v={extent:t.geographicToWebMercator(new r(v[1],v[0],v[3],v[2],n)),attribution:d.attribution||"",zoomMin:g.zoomMin-(b&&g.zoomMin?1:0),zoomMax:g.zoomMax-(b&&g.zoomMax?1:0),score:u.isDefined(g.score)?g.score:100,objectId:k};for(g=v.zoomMin;g<=v.zoomMax;g++)p[g]=p[g]||[],p[g].push(v)}}return p},_getContributorsList:function(a,b,c){var d="";c=Math.round(c);c=Math.min(a.maxKey,c);if(b&&u.isDefined(c)&&-1<c){a=a[c];
c=b.get("center").normalize();for(var e=a?a.length:0,g=[],k={},d=0;d<e;d++)b=a[d],!k[b.objectId]&&b.extent.contains(c)&&(k[b.objectId]=1,g.push(b));g.sort(function(a,b){return b.score-a.score||a.objectId-b.objectId});e=g.length;for(d=0;d<e;d++)g[d]=g[d].attribution;d=g.join(", ")}return d},_adjustCursorStyle:function(){var b=this.listNode.parentNode,d=k.position(b,!0).h;a.contains(b,this.css.openClass)?(a.remove(b,this.css.openClass),d>k.position(b,!0).h?(c.set(b,"cursor","pointer"),a.add(b,this.css.openClass)):
c.set(b,"cursor","default")):(a.add(b,this.css.openClass),d<k.position(b,!0).h?c.set(b,"cursor","pointer"):c.set(b,"cursor","default"),a.remove(b,this.css.openClass))},_toggleOpenState:function(){var b=this.listNode.parentNode;a.contains(b,this.css.openClass)?a.remove(b,this.css.openClass):b.scrollWidth>b.clientWidth&&a.add(b,this.css.openClass)},_toggleItem:function(a,b,d){if(-1<d&&!b){d=this._sharedLayers[d];var e,g=d.length,k=this._activeLayerIds;for(e=0;e<g;e++)if(-1!==l.indexOf(k,d[e]))return}c.set(a,
"display",b?"inline":"none");this._updateLastItem()},_updateLastItem:function(){var a=this.listNode.childNodes,b;b=a.length;var d;if(b)for(b-=1;0<=b;b--)if(d=a[b],"none"!==c.get(d,"display")){this._setLastItem(d);break}this._adjustCursorStyle()},_setLastItem:function(b){var c=this.css.itemClass,d=this.css.lastItemClass;this._lastItem&&a.replace(this._lastItem,c,d);b&&(a.replace(b,d,c),this._lastItem=b)},_getDelimiter:function(){var a=this.itemDelimiter;return a?"\x3cspan class\x3d'"+this.css.delimiterClass+
"'\x3e"+a+"\x3c/span\x3e":""},_updateMaxWidth:function(a){c.set(this.listNode.parentNode,"max-width",Math.floor(a)+"px");this._adjustCursorStyle()},_updateAttribution:function(a){},_toggleOpenStateHandler:function(a){b.stop(a);this._toggleOpenState()},_setAttributionLayerViewsAttr:function(a){this._set("attributionLayerViews",a);a.on("change",h.hitch(this,this._updateAttribution))},_parseLayerViews:function(){l.forEach(this.attributionLayerViews.items,h.hitch(this,function(a){this._onLayerAdd(a)}))},
_clearEventConnections:function(){l.forEach(this._eventConnections,h.hitch(this,function(a){a.remove()}));l.forEach(this._layerViewEventConnections,h.hitch(this,function(a){a.remove()}));this._eventConnections=this._layerViewEventConnections=[]},_onAttributionLoad:function(a,b,c){var d=a._attributions,e=b.layer,g=a._pendingDfds,k=e.id,h=b.id;if(g&&g[k]){delete g[k];delete g[h];if(!c||c instanceof Error)c="";d[h]=c?a._createIndexByLevel(c,-1!==e.declaredClass.toLowerCase().indexOf("vetiledlayer")):
e.copyright||e.copyrightText||"";d[h]?(b.suspended||(a._activeLayerIds.push(h),c=Object.keys(d[h]).map(function(a){return Number(a)}),d[h].maxKey=Math.max.apply(Math,c)),a._createNode(h,b)):a._onLayerRemove(b)}},_updateLayers:function(a){var b=l.filter(a.added,function(a){return a.layer.hasAttributionData}),b=l.map(b,h.hitch(this,function(a){this._layerViewEventConnections.push(a.watch("suspended",h.hitch(this,this._onLayerToggle)));this._onLayerAdd(a);return a}));this.attributionLayerViews.addItems(b);
a=l.map(a.removed,h.hitch(this,function(a){this._onLayerRemove(a);return a}));this.attributionLayerViews.removeItems(a)},_onLayerAdd:function(a){var b=a.layer,c=a.id,d=b.id,e=this._attributions;try{if(!u.isDefined(e[d])&&!u.isDefined(e[c])&&b.showAttribution)if(b.hasAttributionData){var g=b.getAttributionData();this._pendingDfds[d]=1;e[c]=g;g.then(h.partial(this._onAttributionLoad,this,a))}else e[c]=b.copyright||b.copyrightText||"",e[c]?(a.suspended||this._activeLayerIds.push(c),this._createNode(c,
a)):this._onLayerRemove(a)}catch(k){}},_onLayerRemove:function(a){var b=a.id,c=this.itemNodes,e,g=-1;try{this._onLayerToggle(!0,!1,"suspended",a),delete this._attributions[b],delete this._pendingDfds[b],e=this._getGroupIndex(b),-1!==e&&(g=l.indexOf(this._sharedLayers[e],b),-1!==g&&(this._sharedLayers[e].splice(g,1),1>=this._sharedLayers[e].length&&this._sharedLayers.splice(e,1))),c[b]&&-1===g&&d.destroy(c[b]),delete c[b],this._updateLastItem()}catch(k){}},_onLayerToggle:function(a,b,c,d){b=d.id;d=
this._attributions[b];c=this.itemNodes[b];var g=this.view,k=g.get("extent"),g=g.get("zoom");a?this._attributions[b]&&(a=l.indexOf(this._activeLayerIds,b),c=this.itemNodes[b],-1!==a&&this._activeLayerIds.splice(a,1),c&&this._toggleItem(c,!1,this._getGroupIndex(b))):d&&(-1===l.indexOf(this._activeLayerIds,b)&&this._activeLayerIds.push(b),c&&(a=h.isString(d)?d:this._getContributorsList(d,k,g),h.isString(d)||e.set(c,"innerHTML",a?a+this._getDelimiter():""),a&&this._toggleItem(c,!0,this._getGroupIndex(b))))},
_onViewExtentChange:function(a,b,c,d){if(a){a=this._activeLayerIds;b=this._attributions;c=this.itemNodes;var g=a.length||0,k,l,m;for(k=0;k<g;k++)if(l=a[k],m=b[l],(l=c[l])&&!h.isString(m))m=this._getContributorsList(m,d.get("extent"),d.get("zoom")),e.set(l,"innerHTML",m?m+this._getDelimiter():""),this._toggleItem(l,!!m,-1)}this._adjustCursorStyle()}})})},"esri/layers/WebTiledLayer":function(){define("../core/declare dojo/_base/lang dojo/_base/url dojo/string ../core/urlUtils ../geometry/SpatialReference ../geometry/Extent ../geometry/Point ./TiledLayer ./support/TileInfo ./support/LOD".split(" "),
function(b,h,l,m,g,e,d,c,a,k,p){return b(a,{declaredClass:"esri.layers.WebTiledLayer",classMetadata:{computed:{urlPath:["urlTemplate"],tileServers:["urlTemplate","subDomains","urlPath"],levelValues:["tileInfo"]}},normalizeCtorArgs:function(a,b){return"string"===typeof a?h.mixin({urlTemplate:a},b||{}):a},getDefaults:function(a){var b=new d(-2.0037508342787E7,-2.003750834278E7,2.003750834278E7,2.0037508342787E7,e.WebMercator);return h.mixin(this.inherited(arguments),{fullExtent:b,initialExtent:b,tileInfo:new k({rows:256,
cols:256,dpi:96,format:"PNG8",compressionQuality:0,origin:new c({x:-2.0037508342787E7,y:2.0037508342787E7,spatialReference:e.WebMercator}),spatialReference:e.WebMercator,lods:[new p({level:0,scale:5.91657527591555E8,resolution:156543.033928}),new p({level:1,scale:2.95828763795777E8,resolution:78271.5169639999}),new p({level:2,scale:1.47914381897889E8,resolution:39135.7584820001}),new p({level:3,scale:7.3957190948944E7,resolution:19567.8792409999}),new p({level:4,scale:3.6978595474472E7,resolution:9783.93962049996}),
new p({level:5,scale:1.8489297737236E7,resolution:4891.96981024998}),new p({level:6,scale:9244648.868618,resolution:2445.98490512499}),new p({level:7,scale:4622324.434309,resolution:1222.99245256249}),new p({level:8,scale:2311162.217155,resolution:611.49622628138}),new p({level:9,scale:1155581.108577,resolution:305.748113140558}),new p({level:10,scale:577790.554289,resolution:152.874056570411}),new p({level:11,scale:288895.277144,resolution:76.4370282850732}),new p({level:12,scale:144447.638572,resolution:38.2185141425366}),
new p({level:13,scale:72223.819286,resolution:19.1092570712683}),new p({level:14,scale:36111.909643,resolution:9.55462853563415}),new p({level:15,scale:18055.954822,resolution:4.77731426794937}),new p({level:16,scale:9027.977411,resolution:2.38865713397468}),new p({level:17,scale:4513.988705,resolution:1.19432856685505}),new p({level:18,scale:2256.994353,resolution:0.597164283559817}),new p({level:19,scale:1128.497176,resolution:0.298582141647617})]})})},copyright:"",_levelValuesGetter:function(){var a=
[];if(!this.tileInfo)return null;this.tileInfo.lods.forEach(function(b){a[b.level]=b.levelValue||b.level},this);return a},spatialReference:e.WebMercator,subDomains:null,tileServers:null,_tileServersGetter:function(){var a=new l(this.urlTemplate),b=a.scheme?a.scheme+"://":"//",c=b+a.authority+"/",d=this.subDomains,e,g=[];-1===a.authority.indexOf("{subDomain}")&&g.push(c);d&&(0<d.length&&1<a.authority.split(".").length)&&d.forEach(function(c,d){-1<a.authority.indexOf("${subDomain}")?e=b+m.substitute(a.authority,
{subDomain:c})+"/":-1<a.authority.indexOf("{subDomain}")&&(e=b+a.authority.replace(/\{subDomain\}/gi,c)+"/");g.push(e)},this);return g=g.map(function(a){"/"!==a.charAt(a.length-1)&&(a+="/");return a})},_urlPathGetter:function(){if(!this.urlTemplate)return null;var a=this.urlTemplate,b=new l(a);return a.substring(((b.scheme?b.scheme+"://":"//")+b.authority+"/").length)},urlTemplate:null,getTileUrl:function(a,b,c){a=this.levelValues[a];var d=this.tileServers[b%this.tileServers.length]+m.substitute(this.urlPath,
{level:a,col:c,row:b}),d=d.replace(/\{level\}/gi,a).replace(/\{row\}/gi,b).replace(/\{col\}/gi,c);return g.addProxy(d)}})})},"dojo/_base/connect":function(){define("./kernel ../on ../topic ../aspect ./event ../mouse ./sniff ./lang ../keys".split(" "),function(b,h,l,m,g,e,d,c){function a(a,d,g,k,f){k=c.hitch(g,k);if(!a||!a.addEventListener&&!a.attachEvent)return m.after(a||b.global,d,k,!0);"string"==typeof d&&"on"==d.substring(0,2)&&(d=d.substring(2));a||(a=b.global);if(!f)switch(d){case "keypress":d=
q;break;case "mouseenter":d=e.enter;break;case "mouseleave":d=e.leave}return h(a,d,k,f)}function k(a){a.keyChar=a.charCode?String.fromCharCode(a.charCode):"";a.charOrCode=a.keyChar||a.keyCode}d.add("events-keypress-typed",function(){var a={charCode:0};try{a=document.createEvent("KeyboardEvent"),(a.initKeyboardEvent||a.initKeyEvent).call(a,"keypress",!0,!0,null,!1,!1,!1,!1,9,3)}catch(b){}return 0==a.charCode&&!d("opera")});var p={106:42,111:47,186:59,187:43,188:44,189:45,190:46,191:47,192:96,219:91,
220:92,221:93,222:39,229:113},n=d("mac")?"metaKey":"ctrlKey",u=function(a,b){var d=c.mixin({},a,b);k(d);d.preventDefault=function(){a.preventDefault()};d.stopPropagation=function(){a.stopPropagation()};return d},q;q=d("events-keypress-typed")?function(a,b){var c=h(a,"keydown",function(a){var c=a.keyCode,e=13!=c&&32!=c&&(27!=c||!d("ie"))&&(48>c||90<c)&&(96>c||111<c)&&(186>c||192<c)&&(219>c||222<c)&&229!=c;if(e||a.ctrlKey){e=e?0:c;if(a.ctrlKey){if(3==c||13==c)return b.call(a.currentTarget,a);e=95<e&&
106>e?e-48:!a.shiftKey&&65<=e&&90>=e?e+32:p[e]||e}c=u(a,{type:"keypress",faux:!0,charCode:e});b.call(a.currentTarget,c);if(d("ie"))try{a.keyCode=c.keyCode}catch(g){}}}),e=h(a,"keypress",function(a){var c=a.charCode;a=u(a,{charCode:32<=c?c:0,faux:!0});return b.call(this,a)});return{remove:function(){c.remove();e.remove()}}}:d("opera")?function(a,b){return h(a,"keypress",function(a){var c=a.which;3==c&&(c=99);c=32>c&&!a.shiftKey?0:c;a.ctrlKey&&(!a.shiftKey&&65<=c&&90>=c)&&(c+=32);return b.call(this,
u(a,{charCode:c}))})}:function(a,b){return h(a,"keypress",function(a){k(a);return b.call(this,a)})};var t={_keypress:q,connect:function(b,c,d,e,f){var g=arguments,k=[],h=0;k.push("string"==typeof g[0]?null:g[h++],g[h++]);var l=g[h+1];k.push("string"==typeof l||"function"==typeof l?g[h++]:null,g[h++]);for(l=g.length;h<l;h++)k.push(g[h]);return a.apply(this,k)},disconnect:function(a){a&&a.remove()},subscribe:function(a,b,d){return l.subscribe(a,c.hitch(b,d))},publish:function(a,b){return l.publish.apply(l,
[a].concat(b))},connectPublisher:function(a,b,c){var d=function(){t.publish(a,arguments)};return c?t.connect(b,c,d):t.connect(b,d)},isCopyKey:function(a){return a[n]}};t.unsubscribe=t.disconnect;c.mixin(b,t);return t})},"esri/views/3d/support/StreamDataLoader":function(){define("../../../core/declare ../../../request ../../../config ../../../core/urlUtils ./PromiseLightweight ./AsyncQuotaRoundRobinQueue ../webgl-engine/lib/Util".split(" "),function(b,h,l,m,g,e,d){var c=d.assert,a={QUEUED:1,DOWNLOADING:2,
CANCELLED:4};b=b(null,{constructor:function(a){this.alreadyLoading={};this.loadQueue=new e(k,this._doneLoadingCallback,this,a)},destroy:function(){for(var a in this.alreadyLoading){for(var b=this.alreadyLoading[a],c=0;c<b.clientPromises.length;c++){var d=b.clientPromises[c];d.isRejected()||d.reject(b.url,null,b.docType,b.clientMetadata[c])}this._cancelTask(b)}this.loadQueue.clear();this.alreadyLoading=this.loadQueue=null},request:function(b,c,d,e,h){e=e||{};var l=new g.Promise;l.requestURL=b;var m=
this.alreadyLoading[b];m?(m.clientPromises.push(l),m.clientMetadata.push(e.metadata)):(m={url:b,docType:c,clientType:d,status:a.QUEUED,clientMetadata:[e.metadata],clientPromises:[l],downloadObj:null,_cancelledInQueue:!1},h&&(m.urlWithToken=h(b)),this.alreadyLoading[b]=m,e.notQueueable?k(m,this._doneLoadingCallback.bind(this)):this.loadQueue.push(m));return l},isRequested:function(a){return void 0!==this.alreadyLoading[a]},cancel:function(a){var b=this.alreadyLoading[a.requestURL];b&&this._removeRequestPromiseFromTask(b,
a)},getRequestedURLs:function(a){var b={},c;for(c in this.alreadyLoading)this.alreadyLoading[c].clientType===a&&(b[c]=!0);return b},cancelBulk:function(a,b){var c;if(d.getFirstObjectValue(a)instanceof g.Promise)for(c in a)this.cancel(a[c]);else{var e=[];for(c in a){var k=this.alreadyLoading[c];k&&(this._cancelTask(k),e.push(k))}0<e.length&&this.loadQueue.removeTasks(e,b)}},hasPendingDownloads:function(){return!d.objectEmpty(this.alreadyLoading)},_removeRequestPromiseFromTask:function(a,b){var d=a.clientPromises.length;
if(1<d){var e=a.clientPromises.indexOf(b);c(-1<e,"request to be cancelled is already cancelled or invalid");a.clientPromises[e]=a.clientPromises[d-1];a.clientPromises.pop();a.clientMetadata[e]=a.clientMetadata[d-1];a.clientMetadata.pop()}else c(a.clientPromises[0]===b,"request to be cancelled is already cancelled or invalid"),this._cancelTask(a)},_cancelTask:function(b){if(b.status===a.DOWNLOADING){this.loadQueue.workerCancelled(b);if("image"===b.docType){var c=b.downloadObj;c.removeAttribute("onload");
c.removeAttribute("onerror");c.removeAttribute("src")}else b.status=a.CANCELLED,b.downloadObj.cancel();b.downloadObj=null}b.status=a.CANCELLED;b.clientPromise=void 0;b.metadata=void 0;delete this.alreadyLoading[b.url]},_doneLoadingCallback:function(b,d){var e;c(b.status===a.DOWNLOADING);delete this.alreadyLoading[b.url];if(d)for(e=0;e<b.clientPromises.length;e++)b.clientPromises[e].isRejected()||b.clientPromises[e].reject(b.url,d,b.docType,b.clientMetadata[e]);else for(e=0;e<b.clientPromises.length;e++)b.clientPromises[e].done(b.url,
b.result,b.docType,b.clientMetadata[e])}});var k=function(b,c){if(b.status===a.CANCELLED)return!1;var e=b.urlWithToken||b.url;0===e.indexOf("//")&&(e=window.location.protocol+e);if("image"===b.docType){var g=new Image;g.onload=function(){b.status!==a.CANCELLED&&(b.result=g,g.removeAttribute("onload"),g.removeAttribute("onerror"),c(b))};g.onerror=function(){b.status!==a.CANCELLED&&(g.removeAttribute("onload"),g.removeAttribute("onerror"),c(b,{status:404}))};var k=m.hasSameOrigin(e,window.location.href);
"data:"===e.substring(0,5)?g.src=e:k||m.canUseXhr(e)?(k||(g.crossOrigin="anonymous"),g.src=e):g.src=(b.urlWithToken||!l.request.proxyUrl?"":l.request.proxyUrl+"?")+e;b.downloadObj=g}else e=h({url:e,handleAs:"binary"===b.docType?"arraybuffer":"json",failOk:!0}),e.then(function(a){b.duration=d.performance.now()-b.startTime;b.size=0;b.result=a;c(b)},function(d){b.status!==a.CANCELLED&&c(b,d)}),b.downloadObj=e;b.status=a.DOWNLOADING;return!0};b.TaskStatus=a;return b})},"esri/views/3d/environment/MixedPanoramicAtmosphere":function(){define(["../../../core/declare",
"../../../core/Accessor","./RealisticAtmosphere","./PanoramicAtmosphere"],function(b,h,l,m){return b([h],{classMetadata:{properties:{view:{}}},normalizeCtorArgs:function(b){return"esri.views.SceneView"===b.declaredClass?{view:b}:b},constructor:function(){},setContext:function(b){this._panoramicAtmosphere.setContext(b);this._realisticAtmosphere.setContext(b)},loadShaders:function(b,e,d){this._panoramicAtmosphere.loadShaders(b,e,d);this._realisticAtmosphere.loadShaders(b,e,d)},render:function(b){this._panoramicAtmosphere.render(b);
this._realisticAtmosphere.render(b);this._didRender=this._panoramicAtmosphere._didRender&&this._realisticAtmosphere._didRender},needsRender:function(){return this._panoramicAtmosphere._needsRender||this._realisticAtmosphere._needsRender},resetNeedsRender:function(){this._panoramicAtmosphere.resetNeedsRender();this._realisticAtmosphere.resetNeedsRender()},init:function(){this._panoramicAtmosphere=new m(this.view);this._panoramicAtmosphere.init();this._realisticAtmosphere=new l(this.view);this._realisticAtmosphere.init();
this._realisticAtmosphere.enablePlanar(!0)},destroy:function(){this._panoramicAtmosphere.destroy();this._realisticAtmosphere.destroy()},_setEnableTestImage:function(b){this._realisticAtmosphere._setEnableTestImage(b)}})})},"esri/views/3d/terrain/TilingScheme":function(){define(["../../../geometry/SpatialReference","../support/projectionUtils","../support/mathUtils"],function(b,h,l){function m(a,b){var c=Error(b);c.name=a;return c}var g=h.webMercator.x2lon,e=h.webMercator.y2lat,d=[0,0,0,0],c=function(a){var d=
c._checkUnsupported(a);if(d)throw d;this.spatialReference=a.spatialReference;this._isWebMercator=this.spatialReference.isWebMercator();this._isWGS84=this.spatialReference.wkid===b.WGS84.wkid;this.origin=[a.origin.x,a.origin.y];this.pixelSize=[a.cols,a.rows];var e=a.lods.reduce(function(a,b,c){b.level<a.min&&(a.min=b.level,a.minIndex=c);a.max=Math.max(a.max,b.level);return a},{min:Infinity,minIndex:0,max:-Infinity}),g=a.lods[e.minIndex],h=Math.pow(2,g.level),d=g.resolution*h,g=g.scale*h;this.levels=
Array(e.max+1);for(e=0;e<this.levels.length;e++)this.levels[e]={resolution:d,scale:g,tileSize:[d*a.cols,d*a.rows]},d/=2,g/=2};c.prototype={getExtent:function(a,b,c,d,h){d=d||Array(4);var m=this.levels[a];a=m.tileSize[0];m=m.tileSize[1];d[0]=this.origin[0]+c*a;d[2]=d[0]+a;d[3]=this.origin[1]-b*m;d[1]=d[3]-m;h&&(this._isWebMercator?(h[0]=g(d[0]),h[1]=e(d[1]),h[2]=g(d[2]),h[3]=e(d[3])):this._isWGS84&&(h[0]=l.deg2rad(d[0]),h[1]=l.deg2rad(d[1]),h[2]=l.deg2rad(d[2]),h[3]=l.deg2rad(d[3])))},ensureMaxLod:function(a){for(;this.levels.length<=
a;){var b=this.levels[this.levels.length-1],c=b.resolution/2;this.levels.push({resolution:c,scale:b.scale/2,tileSize:[c*this.pixelSize[0],c*this.pixelSize[1]]})}},getMaxLod:function(){return this.levels.length-1},scaleAtLevel:function(a){return this.levels[0].scale/Math.pow(2,a)},levelAtScale:function(a){var b=this.levels[0].scale;return a>=b?0:Math.log(b/a)*Math.LOG2E},compatibleWith:function(a){if(!(a instanceof c)){if(c._checkUnsupported(a))return!1;a=new c(a)}if(!a.spatialReference.equals(this.spatialReference)||
a.pixelSize[0]!==this.pixelSize[0]||a.pixelSize[1]!==this.pixelSize[1])return!1;var b=Math.min(this.levels.length,a.levels.length)-1,d=this.levels[b].resolution,e=l.floatEqualAbsolute,g=0.5*d;if(!e(a.origin[0],this.origin[0],g)||!e(a.origin[1],this.origin[1],g))return!1;var g=Math.max(this.pixelSize[0],this.pixelSize[1]),h=Math.pow(2,b);return e(d,a.levels[b].resolution,0.5*d/h/g)},rootTilesInExtent:function(a,b,e){var g=this.levels[0].tileSize;c.computeRowColExtent(a,g,this.origin,d);a=d[1];var h=
d[3],l=d[0],m=d[2],r=m-l,v=h-a;r*v>e&&(e=Math.floor(Math.sqrt(e)),v>e&&(a=a+Math.floor(0.5*v)-Math.floor(0.5*e),h=a+e),r>e&&(l=l+Math.floor(0.5*r)-Math.floor(0.5*e),m=l+e));e=Array((m-l)*(h-a));r=0;for(v=a;v<h;v++)for(var x=l;x<m;x++)e[r++]=[0,v,x];b&&(b[0]=this.origin[0]+l*g[0],b[1]=this.origin[1]-h*g[1],b[2]=this.origin[0]+m*g[0],b[3]=this.origin[1]-a*g[1]);return e}};c.computeRowColExtent=function(a,b,c,d){var e=0.0010*(a[2]-a[0]+(a[3]-a[1]));d[0]=Math.floor((a[0]+e-c[0])/b[0]);d[2]=Math.ceil((a[2]-
e-c[0])/b[0]);d[1]=Math.floor((c[1]-a[3]+e)/b[1]);d[3]=Math.ceil((c[1]-a[1]-e)/b[1])};c.isPowerOfTwo=function(a){a=a.lods;var b=a[0].resolution*Math.pow(2,a[0].level);return!a.some(function(a){return!l.floatEqualRelative(a.resolution,b/Math.pow(2,a.level))})};c.hasGapInLevels=function(a){a=a.lods.map(function(a){return a.level});a.sort(function(a,b){return a-b});for(var b=1;b<a.length;b++)if(a[b]!==a[0]+b)return!0;return!1};c.tileSizeIs256=function(a){return 256===a.rows&&256===a.cols};c._checkUnsupported=
function(a){return 1>a.lods.length?m("tilingscheme:generic","Tiling scheme must have at least one level"):!c.isPowerOfTwo(a)?m("tilingscheme:power-of-two","Tiling scheme must be power of two"):null};c.checkUnsupported=function(a){var b=c._checkUnsupported(a);return b?b:c.hasGapInLevels(a)?m("tilingscheme:gaps","Tiling scheme levels must not have gaps between min and max level"):!c.tileSizeIs256(a)?m("tilingscheme:tile-size","Tiles must be of size 256x256"):null};c.fromExtent=function(a,b,d){var e=
a[2]-a[0],g=a[3]-a[1],h=1.2*Math.max(e,g);a=new c({rows:256,cols:256,origin:{x:a[0]-0.5*(h-e),y:a[3]+0.5*(h-g)},lods:[{level:0,resolution:h/256,scale:1/(0.0254*(256/96)/(h*d))}],spatialReference:b});a.ensureMaxLod(20);return a};c.WebMercatorAuxiliarySphere=new c({rows:256,cols:256,origin:{x:-2.0037508342787E7,y:2.0037508342787E7},spatialReference:b.WebMercator,lods:[{level:0,resolution:156543.03392800014,scale:5.91657527591555E8}]});c.WebMercatorAuxiliarySphere.ensureMaxLod(21);return c})},"dojo/io/iframe":function(){define("../_base/config ../_base/json ../_base/kernel ../_base/lang ../_base/xhr ../sniff ../_base/window ../dom ../dom-construct ../query require ../aspect ../request/iframe".split(" "),
function(b,h,l,m,g,e,d,c,a,k,p,n,u){l.deprecated("dojo/io/iframe","Use dojo/request/iframe.","2.0");e=u._iframeName;e=e.substring(0,e.lastIndexOf("_"));var q=m.delegate(u,{create:function(){return q._frame=u.create.apply(u,arguments)},get:null,post:null,send:function(a){var d,e=g._ioSetArgs(a,function(a){d&&d.cancel()},function(a){var b=null;a=a.ioArgs;try{var c=a.handleAs;"xml"===c||"html"===c?b=d.response.data:(b=d.response.text,"json"===c?b=h.fromJson(b):"javascript"===c&&(b=l.eval(b)))}catch(e){b=
e}return b},function(a,b){b.ioArgs._hasError=!0;return a}),k=e.ioArgs,m="GET",f=c.byId(a.form);a.method&&("POST"===a.method.toUpperCase()&&f)&&(m="POST");a={method:m,handleAs:"json"===a.handleAs||"javascript"===a.handleAs?"text":a.handleAs,form:a.form,query:f?null:a.content,data:f?a.content:null,timeout:a.timeout,ioArgs:k};a.method&&(a.method=a.method.toUpperCase());if(b.ioPublish&&l.publish&&!1!==k.args.ioPublish)var p=n.after(u,"_notifyStart",function(a){a.options.ioArgs===k&&(p.remove(),g._ioNotifyStart(e))},
!0);d=u(k.url,a,!0);k._callNext=d._callNext;d.then(function(){e.resolve(e)}).otherwise(function(a){e.ioArgs.error=a;e.reject(a)});return e},_iframeOnload:d.global[e+"_onload"]});m.setObject("dojo.io.iframe",q);return q})},"esri/geometry/support/zmUtils":function(){define([],function(){return{updateSupportFromPoint:function(b,h,l){var m=b.hasZ,g=b.hasM;Array.isArray(h)?4===h.length&&!g&&!m?m=g=!0:3===h.length&&l&&!g?(m=!0,g=!1):3===h.length&&(g&&m)&&(m=g=!1):(m=!(!m&&h.hasZ&&(!g||h.hasM)),g=!(!g&&
h.hasM&&(!m||h.hasZ)));b.hasZ=m;b.hasM=g}}})},"esri/views/3d/webgl-engine/lib/Camera":function(){define(["./Util","./gl-matrix"],function(b,h){function l(a){var b="_"+a;return function(){return this[b]}}function m(b){var c="_"+b;return function(b){a(this[c],b)||(e.set(b,this[c]),this._frustumPlanesDirty=this._viewDirty=!0)}}function g(a){var b="_"+a;return function(a){this[b]!==a&&(this[b]=a,this._frustumPlanesDirty=this._projectionDirty=!0)}}var e=h.vec3d,d=h.vec4d,c=h.mat4d,a=b.arraysEqual,k=b.clamp,
p=e.create(),n=d.create(),u=c.create(),q=function(a,b,g){this._eye=e.create(a);this._center=e.create(b);this._fov=55/180*Math.PI;this._viewport=d.create();this._near=1;this._far=1E3;this._up=void 0!==g?e.create(g):e.create([0,0,1]);this._viewDirty=!0;this._viewMatrix=c.create();this._projectionDirty=!0;this._projectionMatrix=c.create();this._viewInverseTransposeMatrixDirty=!0;this._viewInverseTransposeMatrix=null;this._frustumPlanesDirty=!0;this._frustumPlanes=Array(6);for(a=0;6>a;++a)this._frustumPlanes[a]=
d.create();this._padding=d.create();this._fullViewport=null};Object.defineProperties(q.prototype,{eye:{get:l("eye"),set:m("eye")},center:{get:l("center"),set:m("center")},up:{get:l("up"),set:m("up")},viewMatrix:{get:function(){this._viewDirty&&(c.lookAt(this._eye,this._center,this._up,this._viewMatrix),this._viewDirty=!1,this._viewInverseTransposeMatrixDirty=!0);return this._viewMatrix},set:function(a){c.set(a,this._viewMatrix);this._viewDirty=!1;this._frustumPlanesDirty=this._viewInverseTransposeMatrixDirty=
!0}},near:{get:l("near"),set:g("near")},far:{get:l("far"),set:g("far")},viewport:{get:l("viewport"),set:function(a){this.x=a[0];this.y=a[1];this.width=a[2];this.height=a[3]}},x:{get:function(){return this._viewport[0]},set:function(a){a+=this._padding[3];this._viewport[0]!==a&&(this._viewport[0]=a,this._frustumPlanesDirty=this._projectionDirty=!0)}},y:{get:function(){return this._viewport[1]},set:function(a){a+=this._padding[2];this._viewport[1]!==a&&(this._viewport[1]=a,this._frustumPlanesDirty=
this._projectionDirty=!0)}},width:{get:function(){return this._viewport[2]},set:function(a){a-=this._padding[1]+this._padding[3];this._viewport[2]!==a&&(this._viewport[2]=a,this._frustumPlanesDirty=this._projectionDirty=!0)}},height:{get:function(){return this._viewport[3]},set:function(a){a-=this._padding[0]+this._padding[2];this._viewport[3]!==a&&(this._viewport[3]=a,this._frustumPlanesDirty=this._projectionDirty=!0)}},fullWidth:{get:function(){return this._viewport[2]+this._padding[1]+this._padding[3]}},
fullHeight:{get:function(){return this._viewport[3]+this._padding[0]+this._padding[2]}},fullViewport:{get:function(){this._fullViewport||(this._fullViewport=d.create());this._fullViewport[0]=this._viewport[0]-this._padding[3];this._fullViewport[1]=this._viewport[1]-this._padding[2];this._fullViewport[2]=this.fullWidth;this._fullViewport[3]=this.fullHeight;return this._fullViewport}},aspect:{get:function(){return this.width/this.height}},padding:{get:function(){return this._padding},set:function(b){a(this._padding,
b)||(this._viewport[0]+=b[3]-this._padding[3],this._viewport[1]+=b[2]-this._padding[2],this._viewport[2]-=b[1]+b[3]-(this._padding[1]+this._padding[3]),this._viewport[3]-=b[0]+b[2]-(this._padding[0]+this._padding[2]),d.set(b,this._padding),this._frustumPlanesDirty=this._projectionDirty=!0)}},projectionMatrix:{get:function(){if(this._projectionDirty){var a=this.width,b=this.height,d=this.near*Math.tan(this.fovY/2),e=d*this.aspect;c.frustum(-e*(1+2*this._padding[3]/a),e*(1+2*this._padding[1]/a),-d*
(1+2*this._padding[2]/b),d*(1+2*this._padding[0]/b),this.near,this.far,this._projectionMatrix);this._projectionDirty=!1}return this._projectionMatrix},set:function(a){c.set(a,this._projectionMatrix);this._projectionDirty=!1;this._frustumPlanesDirty=!0}},fov:{get:function(){return this._fov},set:function(a){this._fov=a;this._frustumPlanesDirty=this._projectionDirty=!0}},fovX:{get:function(){return b.fovd2fovx(this._fov,this.width,this.height)},set:function(a){this._fov=b.fovx2fovd(a,this.width,this.height);
this._frustumPlanesDirty=this._projectionDirty=!0}},fovY:{get:function(){return b.fovd2fovy(this._fov,this.width,this.height)},set:function(a){this._fov=b.fovy2fovd(a,this.width,this.height);this._frustumPlanesDirty=this._projectionDirty=!0}},distance:{get:function(){return e.dist(this._center,this._eye)}},angleOfElevation:{get:function(){e.subtract(this._center,this._eye,p);e.normalize(p);var a=e.dot(this._center,p)/e.length(this._center);return Math.acos(k(a,-1,1))-0.5*Math.PI}},frustumPoints:{get:function(){return this.computeFrustumPoints()}},
frustumPlanes:{get:function(){this._frustumPlanesDirty&&(this._frustumPlanes=this.computeFrustumPlanes(this._frustumPlanes),this._frustumPlanesDirty=!1);return this._frustumPlanes}},viewInverseTransposeMatrix:{get:function(){if(this._viewInverseTransposeMatrixDirty||this._viewDirty)this._viewInverseTransposeMatrix||(this._viewInverseTransposeMatrix=c.create()),c.inverse(this.viewMatrix,this._viewInverseTransposeMatrix),c.transpose(this._viewInverseTransposeMatrix),this._viewInverseTransposeMatrixDirty=
!1;return this._viewInverseTransposeMatrix}},perPixelRatio:{get:function(){return Math.tan(this.fovX/2)/this.width}}});q.prototype.copyFrom=function(a){e.set(a._eye,this._eye);e.set(a._center,this._center);e.set(a._up,this._up);d.set(a._viewport,this._viewport);d.set(a._padding,this._padding);this._near=a._near;this._far=a._far;this._fov=a._fov;a._viewDirty?this._frustumPlanesDirty=this._viewDirty=!0:(c.set(a._viewMatrix,this._viewMatrix),this._viewDirty=!1);a._projectionDirty?this._frustumPlanesDirty=
this._projectionDirty=!0:(c.set(a._projectionMatrix,this._projectionMatrix),this._projectionDirty=!1);return this};q.prototype.copy=function(){var a=new q;a.copyFrom(this);return a};q.prototype.equals=function(b){return a(this._eye,b._eye)&&a(this._center,b._center)&&a(this._up,b._up)&&a(this._viewport,b._viewport)&&a(this._padding,b._padding)&&this._near===b._near&&this._far===b._far&&this._fov===b._fov};q.prototype.almostEquals=function(a,b){var c=e.dist(this.eye,this.center)*(b||5E-4),c=c*c,d;
if(d=e.dist2(a.eye,this.eye)<c){if(c=e.dist2(a.center,this.center)<c)if(c=0.0010>Math.abs(a.fov-this.fov)){var f=a.padding,g=this.padding,c=g[0]-f[0];d=g[1]-f[1];var k=g[2]-f[2],f=g[3]-f[3],c=0.5>c*c+d*d+k*k+f*f}d=c}return d};q.prototype.markViewDirty=function(){this._frustumPlanesDirty=this._viewDirty=!0};q.prototype.computeDirection=function(a){a||(a=e.create());return e.normalize(e.subtract(this._center,this._eye,a))};q.prototype.computePixelSizeAt=function(a){return 2*e.dist(a,this._eye)*Math.tan(this.fovX/
2)/this.width};q.prototype.computePixelSizeAtDist=function(a){return 2*a*Math.tan(this.fovX/2)/this.width};q.prototype.computeDistanceFromRadius=function(a,b){b=b||1;return a/Math.tan(Math.min(this.fovX,this.fovY)/(2*b))};q.prototype.computeFrustumPlanes=function(a){if(!a){a=Array(6);for(var c=0;6>c;++c)a[c]=d.create()}b.matrix2frustumPlanes(this.viewMatrix,this.projectionMatrix,a);return a};q.prototype.computeFrustumPoints=function(a){if(!a){a=Array(8);for(var c=0;8>c;++c)a[c]=e.create()}b.matrix2frustum(this.viewMatrix,
this.projectionMatrix,a);return a};q.frameCenterRadiusWithPadding=function(a,b,c){b=Math.max(1E-6,b);c=(c||0)+2;c=Math.max(2,c);return{center:a,radius:b*c}};q.prototype.setGLViewport=function(a){var b=this.viewport,c=this.padding;a.viewport(b[0]-c[3],b[1]-c[2],b[2]+c[1]+c[3],b[3]+c[0]+c[2])};q.prototype.projectPoint=function(a,g,k){d.set4(a[0],a[1],a[2],1,n);c.multiplyVec4(this.viewMatrix,n);k&&(g[2]=-n[2]);c.multiplyVec4(this.projectionMatrix,n);e.scale(n,1/Math.abs(n[3]));a=this.viewport;g[0]=b.lerp(0,
a[0]+a[2],0.5+0.5*n[0]);g[1]=b.lerp(0,a[1]+a[3],0.5+0.5*n[1]);k||(g[2]=0.5*(n[2]+1));return g};q.prototype.unprojectPoint=function(a,b,d){if(d)return console.error("Camera.unprojectPoint() not yet implemented for linear Z"),null;c.multiply(this.projectionMatrix,this.viewMatrix,u);if(!c.inverse(u))return null;d=this.viewport;n[0]=2*(a[0]-d[0])/d[2]-1;n[1]=2*(a[1]-d[1])/d[3]-1;n[2]=2*a[2]-1;n[3]=1;c.multiplyVec4(u,n);if(0===n[3])return null;b[0]=n[0]/n[3];b[1]=n[1]/n[3];b[2]=n[2]/n[3];return b};var t=
e.create();q.prototype.computeUpOnSphere=function(){e.subtract(this.center,this.eye,t);var a=e.length(this.center);1>a?e.set3(0,0,1,this.up):Math.abs(e.dot(t,this.center))>0.9999*e.length(t)*a||(e.cross(t,this.center,this.up),e.cross(this.up,t,this.up),e.normalize(this.up))};return q})},"esri/tasks/support/FeatureSet":function(){define("../../core/JSONSupport ../../core/lang ../../Graphic ../../geometry/SpatialReference ../../geometry/support/graphicsUtils ../../geometry/support/jsonUtils ../../symbols/support/jsonUtils".split(" "),
function(b,h,l,m,g,e,d){return b.createSubclass({declaredClass:"esri.tasks.FeatureSet",classMetadata:{reader:{exclude:["transform"]}},displayFieldName:null,exceededTransferLimit:null,features:[],_featuresReader:function(b,a){var d=m.fromJSON(a.spatialReference),e;e=b.map(function(a){var b=l.fromJSON(a);a=a.geometry&&a.geometry.spatialReference;b.geometry&&!a&&(b.geometry.spatialReference=d);return b});a.transform&&this._hydrate(a.transform,a.geometryType,e);return e},fieldAliases:null,geometryType:null,
spatialReference:null,_spatialReferenceReader:function(b){return m.fromJSON(b)},toJSON:function(b){var a={hasZ:this.hasZ,hasM:this.hasM};this.displayFieldName&&(a.displayFieldName=this.displayFieldName);this.fields&&(a.fields=this.fields);this.spatialReference?a.spatialReference=this.spatialReference.toJSON():this.features[0]&&this.features[0].geometry&&(a.spatialReference=this.features[0].geometry.spatialReference.toJSON());this.features[0]&&(this.features[0].geometry&&(a.geometryType=e.getJsonType(this.features[0].geometry)),
a.features=g._encodeGraphics(this.features,b));a.exceededTransferLimit=this.exceededTransferLimit;a.transform=this.transform;return h.fixJson(a)},quantize:function(b){var a=b.translate[0],d=b.translate[1],e=b.scale[0],g=b.scale[1],h=this.features,l=function(a,b,c){var d,e,g,k,h,l,m=[];d=0;for(e=a.length;d<e;d++)if(g=a[d],0<d){if(l=b(g[0]),g=c(g[1]),l!==k||g!==h)m.push([l-k,g-h]),k=l,h=g}else k=b(g[0]),h=c(g[1]),m.push([k,h]);return 0<m.length?m:null},m=function(a,b,c){if("esriGeometryPoint"===a)return function(a){a.x=
b(a.x);a.y=c(a.y);return a};if("esriGeometryPolyline"===a||"esriGeometryPolygon"===a)return function(a){var d,e,g,k,h;g=a.rings||a.paths;h=[];d=0;for(e=g.length;d<e;d++)k=g[d],(k=l(k,b,c))&&h.push(k);return 0<h.length?(a.rings?a.rings=h:a.paths=h,a):null};if("esriGeometryMultipoint"===a)return function(a){var d;d=l(a.points,b,c);return 0<d.length?(a.points=d,a):null};if("esriGeometryEnvelope"===a)return function(a){return a}}(this.geometryType,function(b){return Math.round((b-a)/e)},function(a){return Math.round((d-
a)/g)}),r,v;r=0;for(v=h.length;r<v;r++)m(h[r].geometry)||(h.splice(r,1),r--,v--);this.transform=b;return this},_hydrate:function(b,a,d){if(b){var e=b.translate[0],g=b.translate[1],h=b.scale[0],l=b.scale[1],m=function(a,b,c){if("esriGeometryPoint"===a)return function(a){a.x=b(a.x);a.y=c(a.y)};if("esriGeometryPolyline"===a||"esriGeometryPolygon"===a)return function(a){a=a.rings||a.paths;var d,e,g,k,h,l,m,n;d=0;for(e=a.length;d<e;d++){h=a[d];g=0;for(k=h.length;g<k;g++)l=h[g],0<g?(m+=l[0],n+=l[1]):(m=
l[0],n=l[1]),l[0]=b(m),l[1]=c(n)}};if("esriGeometryEnvelope"===a)return function(a){a.xmin=b(a.xmin);a.ymin=c(a.ymin);a.xmax=b(a.xmax);a.ymax=c(a.ymax)};if("esriGeometryMultipoint"===a)return function(a){a=a.points;var d,e,g,k,h;d=0;for(e=a.length;d<e;d++)g=a[d],0<d?(k+=g[0],h+=g[1]):(k=g[0],h=g[1]),g[0]=b(k),g[1]=c(h)}}(a,function(a){return a*h+e},function(a){return g-a*l});b=0;for(a=d.length;b<a;b++)d[b].geometry&&m(d[b].geometry)}}})})},"esri/renderers/support/jsonUtils":function(){define("dojo/_base/array dojo/_base/lang ../../Color ../../core/screenUtils ../../symbols/support/jsonUtils ../SimpleRenderer ../UniqueValueRenderer ../ClassBreaksRenderer ../VectorFieldRenderer ../DotDensityRenderer ../ScaleDependentRenderer ../TimeClassBreaksAger ../TimeRampAger ../TemporalRenderer ../HeatmapRenderer".split(" "),
function(b,h,l,m,g,e,d,c,a,k,p,n,u,q,t){var r={fromJson:function(a){try{throw Error("fromJson is deprecated, use fromJSON instead");}catch(b){console.warn(b.stack)}return r.fromJSON(a)},fromJSON:function(b){var g;switch(b.type||""){case "simple":g=new e(b);break;case "uniqueValue":g=new d(b);break;case "classBreaks":g=new c(b);break;case "vectorField":g=new a(b);break;case "scaleDependent":g=this._scaleDependentFromJson(b);break;case "dotDensity":g=this._dotDensityFromJson(b);break;case "temporal":g=
this._temporalFromJson(b);break;case "heatmap":g=this._heatmapFromJson(b)}return g},_scaleDependentFromJson:function(a){var c={},d=a.minScale;c.rendererInfos=b.map(a.rendererInfos,function(a){var b=a.maxScale;a={minScale:d,maxScale:b,renderer:a.renderer&&this.fromJSON(a.renderer)};d=b;return a},this);return new p(c)},_dotDensityFromJson:function(a){a.backgroundColor&&h.isArray(a.backgroundColor)&&(a.backgroundColor=l.fromJSON(a.backgroundColor));0<a.dotSize&&(a.dotSize=m.pt2px(a.dotSize));a.fields&&
b.forEach(a.fields,function(a){a&&h.isArray(a.color)&&(a.color=l.fromJSON(a.color))});a.legendOptions&&(a.legendOptions.backgroundColor&&h.isArray(a.legendOptions.backgroundColor)&&(a.legendOptions.backgroundColor=l.fromJSON(a.legendOptions.backgroundColor)),a.legendOptions.outline&&(a.legendOptions.outline=g.fromJSON(a.legendOptions.outline)));a.outline&&(a.outline=g.fromJSON(a.outline));return new k(a)},_temporalFromJson:function(a){var b,c,d;a=a||{};b=this.fromJSON(a.observationRenderer);c=a.latestObservationRenderer?
this.fromJSON(a.latestObservationRenderer):null;d=a.trackRenderer?this.fromJSON(a.trackRenderer):null;a=this._agerFromJson(a.observationAger);return new q(b,c,d,a)},_agerFromJson:function(a){var b;a=a||{};a.colorRange||a.sizeRange||a.alphaRange?b=this._timeRampFromJson(a):a.agerClassBreakInfos&&(b=this._timeClassBreaksFromJson(a));return b},_timeRampFromJson:function(a){var b,c,d;a.colorRange&&1<a.colorRange.length&&(b=[l.fromJSON(a.colorRange[0]),l.fromJSON(a.colorRange[1])]);a.sizeRange&&1<a.sizeRange.length&&
(c=[a.sizeRange[0],a.sizeRange[1]]);a.alphaRange&&1<a.alphaRange.length&&(d=[a.alphaRange[0]/255,a.alphaRange[1]/255]);return new u(b,c,d)},_timeClassBreaksFromJson:function(a){var b=a.agerClassBreakInfos,c,d,e=[],g;c=n.UNIT_DAYS;switch(a.timeUnits){case "esriTimeUnitsSeconds":c=n.UNIT_SECONDS;break;case "esriTimeUnitsMilliseconds":c=n.UNIT_MILLISECONDS;break;case "esriTimeUnitsHours":c=n.UNIT_HOURS;break;case "esriTimeUnitsMinutes":c=n.UNIT_MINUTES;break;case "esriTimeUnitsMonths":c=n.UNIT_MONTHS;
break;case "esriTimeUnitsWeeks":c=n.UNIT_WEEKS;break;case "esriTimeUnitsYears":c=n.UNIT_YEARS}for(g=0;g<b.length;g+=1)a=b[g],d={minAge:0,maxAge:a.oldestAge||Infinity},a.color&&(d.color=l.fromJSON(a.color)),a.alpha&&(d.alpha=a.alpha/255),d.size=a.size,e[g]=d;return new n(e,c)},_heatmapFromJson:function(a){var c=a.colorStops;c&&c instanceof Array&&b.forEach(c,function(a){a.color=l.fromJSON(a.color)});return new t(a)}};return r})},"esri/views/3d/webgl-engine/lib/Float32ArrayList":function(){define(["./Util"],
function(b){return function(h){h=void 0===h?16:b.nextHighestPowerOfTwo(h);var l=new Float32Array(h),m=0;this.resize=function(b,e){m=b;var d,c;if(m>l.length){for(d=l.length||1;d<m;)d*=2;c=new Float32Array(d);e&&c.set(l);l=c;return!0}if(m<=l.length/2){d=l.length;for(c=2*m;d>=c;)d/=2;c=new Float32Array(d);e&&c.set(l.subarray(0,d));l=c;return!0}return!1};this.append=function(b){var e=m;this.resize(m+b.length,!0);l.set(b,e)};this.erase=function(b,e){for(var d=b;d<e;++d)l[d]=0};this.getArray=function(){return l};
this.getSize=function(){return m}}})},"dijit/Tooltip":function(){define("dojo/_base/array dojo/_base/declare dojo/_base/fx dojo/dom dojo/dom-class dojo/dom-geometry dojo/dom-style dojo/_base/lang dojo/mouse dojo/on dojo/sniff ./_base/manager ./place ./_Widget ./_TemplatedMixin ./BackgroundIframe dojo/text!./templates/Tooltip.html ./main".split(" "),function(b,h,l,m,g,e,d,c,a,k,p,n,u,q,t,r,v,x){function w(){}var f=h("dijit._MasterTooltip",[q,t],{duration:n.defaultDuration,templateString:v,postCreate:function(){this.ownerDocumentBody.appendChild(this.domNode);
this.bgIframe=new r(this.domNode);this.fadeIn=l.fadeIn({node:this.domNode,duration:this.duration,onEnd:c.hitch(this,"_onShow")});this.fadeOut=l.fadeOut({node:this.domNode,duration:this.duration,onEnd:c.hitch(this,"_onHide")})},show:function(a,b,e,f,g,k,h){if(!this.aroundNode||!(this.aroundNode===b&&this.containerNode.innerHTML==a))if("playing"==this.fadeOut.status())this._onDeck=arguments;else{this.containerNode.innerHTML=a;g&&this.set("textDir",g);this.containerNode.align=f?"right":"left";var l=
u.around(this.domNode,b,e&&e.length?e:s.defaultPosition,!f,c.hitch(this,"orient")),m=l.aroundNodePos;"M"==l.corner.charAt(0)&&"M"==l.aroundCorner.charAt(0)?(this.connectorNode.style.top=m.y+(m.h-this.connectorNode.offsetHeight>>1)-l.y+"px",this.connectorNode.style.left=""):"M"==l.corner.charAt(1)&&"M"==l.aroundCorner.charAt(1)?this.connectorNode.style.left=m.x+(m.w-this.connectorNode.offsetWidth>>1)-l.x+"px":(this.connectorNode.style.left="",this.connectorNode.style.top="");d.set(this.domNode,"opacity",
0);this.fadeIn.play();this.isShowingNow=!0;this.aroundNode=b;this.onMouseEnter=k||w;this.onMouseLeave=h||w}},orient:function(a,b,c,d,f){this.connectorNode.style.top="";var g=d.h;d=d.w;a.className="dijitTooltip "+{"MR-ML":"dijitTooltipRight","ML-MR":"dijitTooltipLeft","TM-BM":"dijitTooltipAbove","BM-TM":"dijitTooltipBelow","BL-TL":"dijitTooltipBelow dijitTooltipABLeft","TL-BL":"dijitTooltipAbove dijitTooltipABLeft","BR-TR":"dijitTooltipBelow dijitTooltipABRight","TR-BR":"dijitTooltipAbove dijitTooltipABRight",
"BR-BL":"dijitTooltipRight","BL-BR":"dijitTooltipLeft"}[b+"-"+c];this.domNode.style.width="auto";var k=e.position(this.domNode);if(p("ie")||p("trident"))k.w+=2;var h=Math.min(Math.max(d,1),k.w);e.setMarginBox(this.domNode,{w:h});"B"==c.charAt(0)&&"B"==b.charAt(0)?(a=e.position(a),b=this.connectorNode.offsetHeight,a.h>g?(this.connectorNode.style.top=g-(f.h+b>>1)+"px",this.connectorNode.style.bottom=""):(this.connectorNode.style.bottom=Math.min(Math.max(f.h/2-b/2,0),a.h-b)+"px",this.connectorNode.style.top=
"")):(this.connectorNode.style.top="",this.connectorNode.style.bottom="");return Math.max(0,k.w-d)},_onShow:function(){p("ie")&&(this.domNode.style.filter="")},hide:function(a){this._onDeck&&this._onDeck[1]==a?this._onDeck=null:this.aroundNode===a&&(this.fadeIn.stop(),this.isShowingNow=!1,this.aroundNode=null,this.fadeOut.play());this.onMouseEnter=this.onMouseLeave=w},_onHide:function(){this.domNode.style.cssText="";this.containerNode.innerHTML="";this._onDeck&&(this.show.apply(this,this._onDeck),
this._onDeck=null)}});p("dojo-bidi")&&f.extend({_setAutoTextDir:function(a){this.applyTextDir(a);b.forEach(a.children,function(a){this._setAutoTextDir(a)},this)},_setTextDirAttr:function(a){this._set("textDir",a);"auto"==a?this._setAutoTextDir(this.containerNode):this.containerNode.dir=this.textDir}});x.showTooltip=function(a,c,d,e,g,k,h){d&&(d=b.map(d,function(a){return{after:"after-centered",before:"before-centered"}[a]||a}));s._masterTT||(x._masterTT=s._masterTT=new f);return s._masterTT.show(a,
c,d,e,g,k,h)};x.hideTooltip=function(a){return s._masterTT&&s._masterTT.hide(a)};var s=h("dijit.Tooltip",q,{label:"",showDelay:400,hideDelay:400,connectId:[],position:[],selector:"",_setConnectIdAttr:function(d){b.forEach(this._connections||[],function(a){b.forEach(a,function(a){a.remove()})},this);this._connectIds=b.filter(c.isArrayLike(d)?d:d?[d]:[],function(a){return m.byId(a,this.ownerDocument)},this);this._connections=b.map(this._connectIds,function(b){b=m.byId(b,this.ownerDocument);var d=this.selector,
e=d?function(a){return k.selector(d,a)}:function(a){return a},f=this;return[k(b,e(a.enter),function(){f._onHover(this)}),k(b,e("focusin"),function(){f._onHover(this)}),k(b,e(a.leave),c.hitch(f,"_onUnHover")),k(b,e("focusout"),c.hitch(f,"set","state","DORMANT"))]},this);this._set("connectId",d)},addTarget:function(a){a=a.id||a;-1==b.indexOf(this._connectIds,a)&&this.set("connectId",this._connectIds.concat(a))},removeTarget:function(a){a=b.indexOf(this._connectIds,a.id||a);0<=a&&(this._connectIds.splice(a,
1),this.set("connectId",this._connectIds))},buildRendering:function(){this.inherited(arguments);g.add(this.domNode,"dijitTooltipData")},startup:function(){this.inherited(arguments);var a=this.connectId;b.forEach(c.isArrayLike(a)?a:[a],this.addTarget,this)},getContent:function(a){return this.label||this.domNode.innerHTML},state:"DORMANT",_setStateAttr:function(a){if(!(this.state==a||"SHOW TIMER"==a&&"SHOWING"==this.state||"HIDE TIMER"==a&&"DORMANT"==this.state)){this._hideTimer&&(this._hideTimer.remove(),
delete this._hideTimer);this._showTimer&&(this._showTimer.remove(),delete this._showTimer);switch(a){case "DORMANT":this._connectNode&&(s.hide(this._connectNode),delete this._connectNode,this.onHide());break;case "SHOW TIMER":"SHOWING"!=this.state&&(this._showTimer=this.defer(function(){this.set("state","SHOWING")},this.showDelay));break;case "SHOWING":var b=this.getContent(this._connectNode);if(!b){this.set("state","DORMANT");return}s.show(b,this._connectNode,this.position,!this.isLeftToRight(),
this.textDir,c.hitch(this,"set","state","SHOWING"),c.hitch(this,"set","state","HIDE TIMER"));this.onShow(this._connectNode,this.position);break;case "HIDE TIMER":this._hideTimer=this.defer(function(){this.set("state","DORMANT")},this.hideDelay)}this._set("state",a)}},_onHover:function(a){this._connectNode&&a!=this._connectNode&&this.set("state","DORMANT");this._connectNode=a;this.set("state","SHOW TIMER")},_onUnHover:function(a){this.set("state","HIDE TIMER")},open:function(a){this.set("state","DORMANT");
this._connectNode=a;this.set("state","SHOWING")},close:function(){this.set("state","DORMANT")},onShow:function(){},onHide:function(){},destroy:function(){this.set("state","DORMANT");b.forEach(this._connections||[],function(a){b.forEach(a,function(a){a.remove()})},this);this.inherited(arguments)}});s._MasterTooltip=f;s.show=x.showTooltip;s.hide=x.hideTooltip;s.defaultPosition=["after-centered","before-centered"];return s})},"esri/geometry/support/coordsUtils":function(){define([],function(){var b=
function(b,g,e){var d=e[0];e=e[1];for(var c=0,a,k,h,l,u=0,q=g.length;u<q;u++)if(c++,c===q&&(c=0),a=g[u][0],k=g[c][0],h=g[u][1],l=g[c][1],(h<e&&l>=e||l<e&&h>=e)&&a+(e-h)/(l-h)*(k-a)<d)b=!b;return b},h=function(b,g,e){for(var d=0,c=0,a=0,k,h,l,u,q,t,r,v,x,w=0,f=0,s=0,z=g.length-1;s<z;s++)k=g[s],h=k[0],l=k[1],u=k[2],q=g[s+1],t=q[0],r=q[1],v=q[2],x=h*r-t*l,w+=x,d+=(h+t)*x,c+=(l+r)*x,e&&(2<k.length&&2<q.length)&&(x=h*v-t*u,a+=(u+v)*x,f+=x);0<w&&(w*=-1);0<f&&(f*=-1);w?(b[0]=d,b[1]=c,b[2]=0.5*w,e?(b[3]=
a,b[4]=0.5*f):b.length=3):b.length=0;return b},l=function(b,g){for(var e=0,d=0,c=0,a=0,k=g?[0,0,0]:[0,0],h=g?[0,0,0]:[0,0],l,u,q,t=0,r=b.length;t<r-1;t++)if(l=b[t],u=b[t+1],l&&u){k[0]=l[0];k[0]=l[1];h[0]=u[0];h[0]=u[1];g&&(2<l.length&&2<u.length)&&(k[2]=l[2],h[2]=u[2]);q=h[0]-k[0];var v=h[1]-k[1],x=0;1<k.length&&1<h.length&&(x=k[2]-h[2]);if(q=Math.sqrt(q*q+v*v+x*x))e+=q,v=l[0]+0.5*(u[0]-l[0]),x=l[1]+0.5*(u[1]-l[1]),l=2<l.length&&2<u.length?[v,x,l[2]+0.5*(u[2]-l[2])]:[v,x],d+=q*l[0],c+=q*l[1],g&&2<
l.length&&(a+=q*l[2])}return 0<e?g?[d/e,c/e,a/e]:[d/e,c/e]:b.length?b[0]:null};return{fromGeom:function(b){if(!b)return null;if(Array.isArray(b))return b;var g=b.hasZ,e=b.hasM;if("point"===b.type)return e&&g?[b.x,b.y,b.z,b.m]:g?[b.x,b.y,b.z]:e?[b.x,b.y,b.m]:[b.x,b.y];if("polygon"===b.type)return b.rings.slice(0);if("polyline"===b.type)return b.path.slice(0);if("multipoint"===b.type)return b.points.slice(0);if("extent"===b.type){b=b.normalize();if(!b)return null;g=e=!1;b.map(function(b){b.hasZ&&(g=
!0);b.hasM&&(e=!0)});return b.map(function(b){var c=[[b.xmin,b.ymin],[b.xmin,b.ymax],[b.xmax,b.ymax],[b.xmax,b.ymin],[b.xmin,b.ymin]];if(g&&b.hasZ)for(var a=0.5*(b.zmax-b.zmin),k=0;k<c.length;k++)c[k].push(a);if(e&&b.hasM){b=0.5*(b.mmax-b.mmin);for(k=0;k<c.length;k++)c[k].push(b)}return c})}return null},contains:function(h,g){if(!h)return!1;if(!Array.isArray(h[0][0]))return b(!1,h,g);for(var e=!1,d=0,c=h.length;d<c;d++)e=b(e,h[d],g);return e},centroid:function(b,g,e){for(var d=[],c,a=0,k=g.length;a<
k;a++)c=h([],g[a],e),c.length&&d.push(c);d.sort(function(a,b){var c=a[2]-b[2];0===c&&e&&(c=a[4]-b[4]);return c});b.length=e?3:2;if(d.length)g=6*d[0][2],b[0]=d[0][0]/g,b[1]=d[0][1]/g,e&&(b[2]=d[0][3]/(6*d[0][4]));else if(d=g[0]&&g[0].length?l(g[0]):null)b[0]=d[0],b[1]=d[1],e&&2<d.length&&(b[2]=d[2]);return b},isClockwise:function(b){for(var g=0,e=0,d=e+1,c=b.length;e<c;e++,d+=1%c)g+=b[e][0]*b[d][1]-b[d][0]*b[e][1];return 0>=0.5*g}}})},"dojo/selector/acme":function(){define(["../dom","../sniff","../_base/array",
"../_base/lang","../_base/window"],function(b,h,l,m,g){var e=m.trim,d=l.forEach,c="BackCompat"==g.doc.compatMode,a=!1,k=function(){return!0},p=function(b){b=0<="\x3e~+".indexOf(b.slice(-1))?b+" * ":b+" ";for(var c=function(a,c){return e(b.slice(a,c))},d=[],f=-1,g=-1,k=-1,h=-1,l=-1,m=-1,n=-1,p,q="",r="",t,s=0,u=b.length,v=null,w=null,x=function(){0<=m&&(v.id=c(m,s).replace(/\\/g,""),m=-1);if(0<=n){var a=n==s?null:c(n,s);v[0>"\x3e~+".indexOf(a)?"tag":"oper"]=a;n=-1}0<=l&&(v.classes.push(c(l+1,s).replace(/\\/g,
"")),l=-1)};q=r,r=b.charAt(s),s<u;s++)if("\\"!=q)if(v||(t=s,v={query:null,pseudos:[],attrs:[],classes:[],tag:null,oper:null,id:null,getTag:function(){return a?this.otag:this.tag}},n=s),p)r==p&&(p=null);else if("'"==r||'"'==r)p=r;else if(0<=f)if("]"==r){w.attr?w.matchFor=c(k||f+1,s):w.attr=c(f+1,s);if((f=w.matchFor)&&('"'==f.charAt(0)||"'"==f.charAt(0)))w.matchFor=f.slice(1,-1);w.matchFor&&(w.matchFor=w.matchFor.replace(/\\/g,""));v.attrs.push(w);w=null;f=k=-1}else"\x3d"==r&&(k=0<="|~^$*".indexOf(q)?
q:"",w.type=k+r,w.attr=c(f+1,s-k.length),k=s+1);else 0<=g?")"==r&&(0<=h&&(w.value=c(g+1,s)),h=g=-1):"#"==r?(x(),m=s+1):"."==r?(x(),l=s):":"==r?(x(),h=s):"["==r?(x(),f=s,w={}):"("==r?(0<=h&&(w={name:c(h+1,s),value:null},v.pseudos.push(w)),g=s):" "==r&&q!=r&&(x(),0<=h&&v.pseudos.push({name:c(h+1,s)}),v.loops=v.pseudos.length||v.attrs.length||v.classes.length,v.oquery=v.query=c(t,s),v.otag=v.tag=v.oper?null:v.tag||"*",v.tag&&(v.tag=v.tag.toUpperCase()),d.length&&d[d.length-1].oper&&(v.infixOper=d.pop(),
v.query=v.infixOper.query+" "+v.query),d.push(v),v=null);return d},n=function(a,b){return!a?b:!b?a:function(){return a.apply(window,arguments)&&b.apply(window,arguments)}},u=function(a,b){var c=b||[];a&&c.push(a);return c},q=function(a){return 1==a.nodeType},t=function(b,c){return!b?"":"class"==c?b.className||"":"for"==c?b.htmlFor||"":"style"==c?b.style.cssText||"":(a?b.getAttribute(c):b.getAttribute(c,2))||""},r={"*\x3d":function(a,b){return function(c){return 0<=t(c,a).indexOf(b)}},"^\x3d":function(a,
b){return function(c){return 0==t(c,a).indexOf(b)}},"$\x3d":function(a,b){return function(c){c=" "+t(c,a);var d=c.lastIndexOf(b);return-1<d&&d==c.length-b.length}},"~\x3d":function(a,b){var c=" "+b+" ";return function(b){return 0<=(" "+t(b,a)+" ").indexOf(c)}},"|\x3d":function(a,b){var c=b+"-";return function(d){d=t(d,a);return d==b||0==d.indexOf(c)}},"\x3d":function(a,b){return function(c){return t(c,a)==b}}},v="undefined"==typeof g.doc.firstChild.nextElementSibling,x=!v?"nextElementSibling":"nextSibling",
w=!v?"previousElementSibling":"previousSibling",f=v?q:k,s=function(a){for(;a=a[w];)if(f(a))return!1;return!0},z=function(a){for(;a=a[x];)if(f(a))return!1;return!0},y=function(a){var b=a.parentNode,b=7!=b.nodeType?b:b.nextSibling,c=0,d=b.children||b.childNodes,e=a._i||a.getAttribute("_i")||-1,g=b._l||("undefined"!==typeof b.getAttribute?b.getAttribute("_l"):-1);if(!d)return-1;d=d.length;if(g==d&&0<=e&&0<=g)return e;h("ie")&&"undefined"!==typeof b.setAttribute?b.setAttribute("_l",d):b._l=d;e=-1;for(b=
b.firstElementChild||b.firstChild;b;b=b[x])f(b)&&(h("ie")?b.setAttribute("_i",++c):b._i=++c,a===b&&(e=c));return e},A=function(a){return!(y(a)%2)},B=function(a){return y(a)%2},E={checked:function(a,b){return function(a){return!!("checked"in a?a.checked:a.selected)}},disabled:function(a,b){return function(a){return a.disabled}},enabled:function(a,b){return function(a){return!a.disabled}},"first-child":function(){return s},"last-child":function(){return z},"only-child":function(a,b){return function(a){return s(a)&&
z(a)}},empty:function(a,b){return function(a){var b=a.childNodes;for(a=a.childNodes.length-1;0<=a;a--){var c=b[a].nodeType;if(1===c||3==c)return!1}return!0}},contains:function(a,b){var c=b.charAt(0);if('"'==c||"'"==c)b=b.slice(1,-1);return function(a){return 0<=a.innerHTML.indexOf(b)}},not:function(a,b){var c=p(b)[0],d={el:1};"*"!=c.tag&&(d.tag=1);c.classes.length||(d.classes=1);var e=G(c,d);return function(a){return!e(a)}},"nth-child":function(a,b){var c=parseInt;if("odd"==b)return B;if("even"==
b)return A;if(-1!=b.indexOf("n")){var d=b.split("n",2),e=d[0]?"-"==d[0]?-1:c(d[0]):1,f=d[1]?c(d[1]):0,g=0,k=-1;0<e?0>f?f=f%e&&e+f%e:0<f&&(f>=e&&(g=f-f%e),f%=e):0>e&&(e*=-1,0<f&&(k=f,f%=e));if(0<e)return function(a){a=y(a);return a>=g&&(0>k||a<=k)&&a%e==f};b=f}var h=c(b);return function(a){return y(a)==h}}},F=9>h("ie")||9==h("ie")&&h("quirks")?function(b){var c=b.toLowerCase();"class"==c&&(b="className");return function(d){return a?d.getAttribute(b):d[b]||d[c]}}:function(a){return function(b){return b&&
b.getAttribute&&b.hasAttribute(a)}},G=function(b,c){if(!b)return k;c=c||{};var e=null;"el"in c||(e=n(e,q));"tag"in c||"*"!=b.tag&&(e=n(e,function(c){return c&&(a?c.tagName:c.tagName.toUpperCase())==b.getTag()}));"classes"in c||d(b.classes,function(a,b,c){var d=RegExp("(?:^|\\s)"+a+"(?:\\s|$)");e=n(e,function(a){return d.test(a.className)});e.count=b});"pseudos"in c||d(b.pseudos,function(a){var b=a.name;E[b]&&(e=n(e,E[b](b,a.value)))});"attrs"in c||d(b.attrs,function(a){var b,c=a.attr;a.type&&r[a.type]?
b=r[a.type](c,a.matchFor):c.length&&(b=F(c));b&&(e=n(e,b))});"id"in c||b.id&&(e=n(e,function(a){return!!a&&a.id==b.id}));e||"default"in c||(e=k);return e},Q=function(a){return function(b,c,d){for(;b=b[x];)if(!v||q(b)){(!d||U(b,d))&&a(b)&&c.push(b);break}return c}},M=function(a){return function(b,c,d){for(b=b[x];b;){if(f(b)){if(d&&!U(b,d))break;a(b)&&c.push(b)}b=b[x]}return c}},T=function(a){a=a||k;return function(b,c,d){for(var e=0,g=b.children||b.childNodes;b=g[e++];)f(b)&&((!d||U(b,d))&&a(b,e))&&
c.push(b);return c}},K={},C=function(a){var d=K[a.query];if(d)return d;var e=a.infixOper,e=e?e.oper:"",f=G(a,{el:1}),h="*"==a.tag,l=g.doc.getElementsByClassName;if(e)l={el:1},h&&(l.tag=1),f=G(a,l),"+"==e?d=Q(f):"~"==e?d=M(f):"\x3e"==e&&(d=T(f));else if(a.id)f=!a.loops&&h?k:G(a,{el:1,id:1}),d=function(c,d){var e=b.byId(a.id,c.ownerDocument||c);if(e&&f(e)){if(9==c.nodeType)return u(e,d);for(var g=e.parentNode;g&&g!=c;)g=g.parentNode;if(g)return u(e,d)}};else if(l&&/\{\s*\[native code\]\s*\}/.test(String(l))&&
a.classes.length&&!c)var f=G(a,{el:1,classes:1,id:1}),m=a.classes.join(" "),d=function(a,b,c){b=u(0,b);for(var d,e=0,g=a.getElementsByClassName(m);d=g[e++];)f(d,a)&&U(d,c)&&b.push(d);return b};else!h&&!a.loops?d=function(b,c,d){c=u(0,c);for(var e=0,f=a.getTag(),f=f?b.getElementsByTagName(f):[];b=f[e++];)U(b,d)&&c.push(b);return c}:(f=G(a,{el:1,tag:1,id:1}),d=function(b,c,d){c=u(0,c);for(var e,g=0,k=(e=a.getTag())?b.getElementsByTagName(e):[];e=k[g++];)f(e,b)&&U(e,d)&&c.push(e);return c});return K[a.query]=
d},D={},L={},W=function(a){var b=p(e(a));if(1==b.length){var c=C(b[0]);return function(a){if(a=c(a,[]))a.nozip=!0;return a}}return function(a){a=u(a);for(var c,d,e=b.length,f,g,k=0;k<e;k++){g=[];c=b[k];d=a.length-1;0<d&&(f={},g.nozip=!0);d=C(c);for(var h=0;c=a[h];h++)d(c,g,f);if(!g.length)break;a=g}return g}},ca=h("ie")?"commentStrip":"nozip",V=!!g.doc.querySelectorAll,R=/\\[>~+]|n\+\d|([^ \\])?([>~+])([^ =])?/g,N=function(a,b,c,d){return c?(b?b+" ":"")+c+(d?" "+d:""):a},H=/([^[]*)([^\]]*])?/g,O=
function(a,b,c){return b.replace(R,N)+(c||"")},I=function(a,b){a=a.replace(H,O);if(V){var d=L[a];if(d&&!b)return d}if(d=D[a])return d;var d=a.charAt(0),e=-1==a.indexOf(" ");0<=a.indexOf("#")&&e&&(b=!0);if(V&&!b&&-1=="\x3e~+".indexOf(d)&&(!h("ie")||-1==a.indexOf(":"))&&!(c&&0<=a.indexOf("."))&&-1==a.indexOf(":contains")&&-1==a.indexOf(":checked")&&-1==a.indexOf("|\x3d")){var f=0<="\x3e~+".indexOf(a.charAt(a.length-1))?a+" *":a;return L[a]=function(b){try{if(!(9==b.nodeType||e))throw"";var c=b.querySelectorAll(f);
c[ca]=!0;return c}catch(d){return I(a,!0)(b)}}}var g=a.match(/([^\s,](?:"(?:\\.|[^"])+"|'(?:\\.|[^'])+'|[^,])*)/g);return D[a]=2>g.length?W(a):function(a){for(var b=0,c=[],d;d=g[b++];)c=c.concat(W(d)(a));return c}},J=0,S=h("ie")?function(b){return a?b.getAttribute("_uid")||b.setAttribute("_uid",++J)||J:b.uniqueID}:function(a){return a._uid||(a._uid=++J)},U=function(a,b){if(!b)return 1;var c=S(a);return!b[c]?b[c]=1:0},ba=function(b){if(b&&b.nozip)return b;if(!b||!b.length)return[];if(2>b.length)return[b[0]];
var c=[];J++;var d,e;if(h("ie")&&a){var f=J+"";for(d=0;d<b.length;d++)if((e=b[d])&&e.getAttribute("_zipIdx")!=f)c.push(e),e.setAttribute("_zipIdx",f)}else if(h("ie")&&b.commentStrip)try{for(d=0;d<b.length;d++)(e=b[d])&&q(e)&&c.push(e)}catch(g){}else for(d=0;d<b.length;d++)if((e=b[d])&&e._zipIdx!=J)c.push(e),e._zipIdx=J;return c},X=function(b,c){c=c||g.doc;a="div"===(c.ownerDocument||c).createElement("div").tagName;var d=I(b)(c);return d&&d.nozip?d:ba(d)};X.filter=function(a,c,d){for(var e=[],f=p(c),
f=1==f.length&&!/[^\w#\.]/.test(c)?G(f[0]):function(a){return-1!=l.indexOf(X(c,b.byId(d)),a)},g=0,k;k=a[g];g++)f(k)&&e.push(k);return e};return X})},"esri/layers/VectorTiledLayer":function(){define("../core/declare dojo/_base/lang ../request ../core/urlUtils ../core/JSONSupport ../geometry/SpatialReference ../geometry/Extent ../geometry/Point ./TiledLayer ./support/TileInfo ./support/LOD".split(" "),function(b,h,l,m,g,e,d,c,a,k,p){return b([a,g],{declaredClass:"esri.layers.VectorTiledLayer",classMetadata:{reader:{add:["spatialReference",
"tileInfo"]}},viewModulePaths:{"2d":"../views/2d/layers/VectorTiledLayerView2D"},_mapsWithAttribution:["World_Basemap"],normalizeCtorArgs:function(a,b){return"string"===typeof a?h.mixin({url:a},b):a},getDefaults:function(a){var b=null;a.url&&(b=m.urlToObject(a.url).path.toLowerCase(),b=this._getDefaultAttribution(this._getMapName(b)));var g=new d(-2.0037508342787E7,-2.003750834278E7,2.003750834278E7,2.0037508342787E7,e.WebMercator);return h.mixin(this.inherited(arguments),{styles:[],attributionDataUrl:b,
hasAttributionData:!!b,fullExtent:g,initialExtent:g,spatialReference:e.WebMercator,tileInfo:new k({rows:512,cols:512,dpi:96,format:"pbf",origin:new c({x:-2.0037508342787E7,y:2.0037508342787E7,spatialReference:e.WebMercator}),spatialReference:e.WebMercator,lods:[new p({level:0,resolution:78271.51696399994,scale:2.95828763795777E8}),new p({level:1,resolution:39135.75848200009,scale:1.47914381897889E8}),new p({level:2,resolution:19567.87924099992,scale:7.3957190948944E7}),new p({level:3,resolution:9783.93962049996,
scale:3.6978595474472E7}),new p({level:4,resolution:4891.96981024998,scale:1.8489297737236E7}),new p({level:5,resolution:2445.98490512499,scale:9244648.868618}),new p({level:6,resolution:1222.992452562495,scale:4622324.434309}),new p({level:7,resolution:611.4962262813797,scale:2311162.217155}),new p({level:8,resolution:305.74811314055756,scale:1155581.108577}),new p({level:9,resolution:152.87405657041106,scale:577790.554289}),new p({level:10,resolution:76.43702828507324,scale:288895.277144}),new p({level:11,
resolution:38.21851414253662,scale:144447.638572}),new p({level:12,resolution:19.10925707126831,scale:72223.819286}),new p({level:13,resolution:9.554628535634155,scale:36111.909643}),new p({level:14,resolution:4.77731426794937,scale:18055.954822}),new p({level:15,resolution:2.388657133974685,scale:9027.977411}),new p({level:16,resolution:1.1943285668550503,scale:4513.988705}),new p({level:17,resolution:0.5971642835598172,scale:2256.994353}),new p({level:18,resolution:0.29858214164761665,scale:1128.497176})]})})},
initialize:function(){if(this.serviceStyle)return this._setServiceStyle(this.serviceStyle);var a=l({url:this.url||this.styleUrl,content:{f:"json"},handleAs:"json"});this.addResolvingPromise(a.then(function(a){return a.currentVersion?(this.styleUrl=this.styleUrl||this.url+(a.defaultStyles||"/styles/"),this.read(a),l({url:this.styleUrl,content:{f:"json"},handleAs:"json"}).then(this._setServiceStyle.bind(this))):this._setServiceStyle(a)}.bind(this)))},_fullExtentReader:d.fromJSON,_initialExtentReader:d.fromJSON,
serviceStyle:null,_spatialReferenceReader:function(a,b){return(a=b.initialExtent&&b.initialExtent.spatialReference||b.fullExtent&&b.fullExtent.spatialReference)&&e.fromJSON(a)},styles:null,_stylesSetter:function(a){if(a){if("string"===typeof a)return[a];if(Array.isArray(a))return a}else return[]},styleUrl:null,_styleUrlSetter:function(a,b){if(a===b)return b;if(!b)return a;this.loaded&&l({url:a,handleAs:"json"}).then(function(a){this._setServiceStyle(a)}.bind(this),function(a){this.emit("error",Error(a))}.bind(this));
return a},_tileInfoReader:function(a){return a&&k.fromJSON(a)},addStyle:function(a){var b=this.styles;-1===b.indexOf(a)&&(this.styles=b.concat([a]))},removeStyle:function(a){var b=this.styles;a=b.indexOf(a);-1!==a&&(b.splice(a,1),this.styles=b.concat())},hasStyle:function(a){return-1!==this.styles.indexOf(a)},_getMapName:function(a){return(a=a.match(/^https?\:\/\/(basemaps|basemapsbeta)\.arcgis\.com\/arcgis\/rest\/services\/([^\/]+(\/[^\/]+)*)\/vectortileserver/i))&&a[2]},_getDefaultAttribution:function(a){if(a){var b;
a=a.toLowerCase();for(var c=0,d=this._mapsWithAttribution.length;c<d;c++)if(b=this._mapsWithAttribution[c],-1<b.toLowerCase().indexOf(a))return this._getProtocol()+"//static.arcgis.com/attribution/Vector/"+b}},_getProtocol:function(){var a=window.location.protocol;return"file:"===a?"http:":a},_setServiceStyle:function(a){if(a){var b=this.styleUrl||this.url,c=b.match(/\/vectortileserver\/*\w*/i);c&&(b=this.url);a.glyphs&&(a.glyphs=this._getAbsolute(a.glyphs,b));a.sprite&&(a.sprite=this._getAbsolute(a.sprite,
b),c&&(a.sprite=a.sprite.replace(/\/+$/,"")+"/sprite"));this.serviceStyle=a}},_getAbsolute:function(a,b){var c;if(/^https?:\/\//i.test(a)){if((c=b.match(/^https/))&&0===location.protocol.indexOf("https"))console.log(a.replace(/^http:/i),"https:"),a=a.replace(/^http:/i,"https:");return a}if(0===a.indexOf("//"))return location.protocol+url;if(0===a.indexOf("/"))return b=b.replace(/(\/+\w+\.\w+)$/,""),b+a;if(0===a.indexOf("."))return b=b.replace(/(\/+\w+\.\w+)$/,""),b.replace(/\/+$/,"")+"/"+a}})})},
"dijit/main":function(){define(["dojo/_base/kernel"],function(b){return b.dijit})},"esri/core/accessorSupport/OldValues":function(){define([],function(){var b=function(b){this._slots=[];this._copyFn=b};b.prototype={current:null,_slots:null,_copyFn:null,_size:0,_used:0,add:function(b){if(!b)return b;var l=this._slots;this._used===this._size?(l[this._used++]=b,this._size++,this.current=void 0):(this.current=l.splice(this._used++,1,b)[0],this._copyFn(this.current,b));return this.current},reset:function(){this._used=
0},destroy:function(){this._used=this._size=0;this.current=this._slots=null}};return b})},"esri/layers/support/ImageServiceParameters":function(){define(["../../core/declare","dojo/_base/lang","../../core/lang"],function(b,h,l){b=b(null,{declaredClass:"esri.layers.support.ImageServiceParameters",extent:null,width:null,height:null,imageSpatialReference:null,format:null,interpolation:null,compressionQuality:null,bandIds:null,timeExtent:null,mosaicRule:null,renderingRule:null,noData:null,compressionTolerance:null,
adjustAspectRatio:null,toJson:function(b){try{throw Error("toJson is deprecated, use toJSON instead");}catch(g){console.warn(g.stack)}return this.toJSON(b)},toJSON:function(b){var g=this.bbox||this.extent;b=(g=g&&b&&g._normalize(!0))?g.spatialReference.wkid||JSON.stringify(g.spatialReference.toJSON()):null;var e=this.imageSpatialReference,g={bbox:g?g.xmin+","+g.ymin+","+g.xmax+","+g.ymax:null,bboxSR:b,size:null!==this.width&&null!==this.height?this.width+","+this.height:null,imageSR:e?e.wkid||JSON.stringify(e.toJSON()):
b,format:this.format,interpolation:this.interpolation,compressionQuality:this.compressionQuality,bandIds:this.bandIds?this.bandIds.join(","):null,mosaicRule:this.mosaicRule?JSON.stringify(this.mosaicRule.toJSON()):null,renderingRule:this.renderingRule?JSON.stringify(this.renderingRule.toJSON()):null,noData:this.noData,noDataInterpretation:this.noDataInterpretation,compressionTolerance:this.compressionTolerance,adjustAspectRatio:this.adjustAspectRatio};b=this.timeExtent;g.time=b?b.toJSON().join(","):
null;return l.filter(g,function(b){if(null!==b&&void 0!==b)return!0})}});h.mixin(b,{INTERPOLATION_BILINEAR:"RSP_BilinearInterpolation",INTERPOLATION_CUBICCONVOLUTION:"RSP_CubicConvolution",INTERPOLATION_MAJORITY:"RSP_Majority",INTERPOLATION_NEARESTNEIGHBOR:"RSP_NearestNeighbor",NODATA_MATCH_ALL:"esriNoDataMatchAll",NODATA_MATCH_ANY:"esriNoDataMatchAny"});return b})},"dijit/layout/ContentPane":function(){define("dojo/_base/kernel dojo/_base/lang ../_Widget ../_Container ./_ContentPaneResizeMixin dojo/string dojo/html dojo/i18n!../nls/loading dojo/_base/array dojo/_base/declare dojo/_base/Deferred dojo/dom dojo/dom-attr dojo/dom-construct dojo/_base/xhr dojo/i18n dojo/when".split(" "),
function(b,h,l,m,g,e,d,c,a,k,p,n,u,q,t,r,v){return k("dijit.layout.ContentPane",[l,m,g],{href:"",content:"",extractContent:!1,parseOnLoad:!0,parserScope:b._scopeName,preventCache:!1,preload:!1,refreshOnShow:!1,loadingMessage:"\x3cspan class\x3d'dijitContentPaneLoading'\x3e\x3cspan class\x3d'dijitInline dijitIconLoading'\x3e\x3c/span\x3e${loadingState}\x3c/span\x3e",errorMessage:"\x3cspan class\x3d'dijitContentPaneError'\x3e\x3cspan class\x3d'dijitInline dijitIconError'\x3e\x3c/span\x3e${errorState}\x3c/span\x3e",
isLoaded:!1,baseClass:"dijitContentPane",ioArgs:{},onLoadDeferred:null,_setTitleAttr:null,stopParser:!0,template:!1,markupFactory:function(a,b,c){var d=new c(a,b);return!d.href&&d._contentSetter&&d._contentSetter.parseDeferred&&!d._contentSetter.parseDeferred.isFulfilled()?d._contentSetter.parseDeferred.then(function(){return d}):d},create:function(a,b){if((!a||!a.template)&&b&&!("href"in a)&&!("content"in a)){b=n.byId(b);for(var c=b.ownerDocument.createDocumentFragment();b.firstChild;)c.appendChild(b.firstChild);
a=h.delegate(a,{content:c})}this.inherited(arguments,[a,b])},postMixInProperties:function(){this.inherited(arguments);var a=r.getLocalization("dijit","loading",this.lang);this.loadingMessage=e.substitute(this.loadingMessage,a);this.errorMessage=e.substitute(this.errorMessage,a)},buildRendering:function(){this.inherited(arguments);this.containerNode||(this.containerNode=this.domNode);this.domNode.removeAttribute("title")},startup:function(){this.inherited(arguments);this._contentSetter&&a.forEach(this._contentSetter.parseResults,
function(a){!a._started&&(!a._destroyed&&h.isFunction(a.startup))&&(a.startup(),a._started=!0)},this)},_startChildren:function(){a.forEach(this.getChildren(),function(a){!a._started&&(!a._destroyed&&h.isFunction(a.startup))&&(a.startup(),a._started=!0)});this._contentSetter&&a.forEach(this._contentSetter.parseResults,function(a){!a._started&&(!a._destroyed&&h.isFunction(a.startup))&&(a.startup(),a._started=!0)},this)},setHref:function(a){b.deprecated("dijit.layout.ContentPane.setHref() is deprecated. Use set('href', ...) instead.",
"","2.0");return this.set("href",a)},_setHrefAttr:function(a){this.cancel();this.onLoadDeferred=new p(h.hitch(this,"cancel"));this.onLoadDeferred.then(h.hitch(this,"onLoad"));this._set("href",a);this.preload||this._created&&this._isShown()?this._load():this._hrefChanged=!0;return this.onLoadDeferred},setContent:function(a){b.deprecated("dijit.layout.ContentPane.setContent() is deprecated.  Use set('content', ...) instead.","","2.0");this.set("content",a)},_setContentAttr:function(a){this._set("href",
"");this.cancel();this.onLoadDeferred=new p(h.hitch(this,"cancel"));this._created&&this.onLoadDeferred.then(h.hitch(this,"onLoad"));this._setContent(a||"");this._isDownloaded=!1;return this.onLoadDeferred},_getContentAttr:function(){return this.containerNode.innerHTML},cancel:function(){this._xhrDfd&&-1==this._xhrDfd.fired&&this._xhrDfd.cancel();delete this._xhrDfd;this.onLoadDeferred=null},destroy:function(){this.cancel();this.inherited(arguments)},destroyRecursive:function(a){this._beingDestroyed||
this.inherited(arguments)},_onShow:function(){this.inherited(arguments);if(this.href&&!this._xhrDfd&&(!this.isLoaded||this._hrefChanged||this.refreshOnShow))return this.refresh()},refresh:function(){this.cancel();this.onLoadDeferred=new p(h.hitch(this,"cancel"));this.onLoadDeferred.then(h.hitch(this,"onLoad"));this._load();return this.onLoadDeferred},_load:function(){this._setContent(this.onDownloadStart(),!0);var a=this,b={preventCache:this.preventCache||this.refreshOnShow,url:this.href,handleAs:"text"};
h.isObject(this.ioArgs)&&h.mixin(b,this.ioArgs);var c=this._xhrDfd=(this.ioMethod||t.get)(b),d;c.then(function(b){d=b;try{return a._isDownloaded=!0,a._setContent(b,!1)}catch(c){a._onError("Content",c)}},function(b){c.canceled||a._onError("Download",b);delete a._xhrDfd;return b}).then(function(){a.onDownloadEnd();delete a._xhrDfd;return d});delete this._hrefChanged},_onLoadHandler:function(a){this._set("isLoaded",!0);try{this.onLoadDeferred.resolve(a)}catch(b){console.error("Error "+this.widgetId+
" running custom onLoad code: "+b.message)}},_onUnloadHandler:function(){this._set("isLoaded",!1);try{this.onUnload()}catch(a){console.error("Error "+this.widgetId+" running custom onUnload code: "+a.message)}},destroyDescendants:function(b){this.isLoaded&&this._onUnloadHandler();var c=this._contentSetter;a.forEach(this.getChildren(),function(a){a.destroyRecursive?a.destroyRecursive(b):a.destroy&&a.destroy(b);a._destroyed=!0});c&&(a.forEach(c.parseResults,function(a){a._destroyed||(a.destroyRecursive?
a.destroyRecursive(b):a.destroy&&a.destroy(b),a._destroyed=!0)}),delete c.parseResults);b||q.empty(this.containerNode);delete this._singleChild},_setContent:function(a,b){this.destroyDescendants();var c=this._contentSetter;c&&c instanceof d._ContentSetter||(c=this._contentSetter=new d._ContentSetter({node:this.containerNode,_onError:h.hitch(this,this._onError),onContentError:h.hitch(this,function(a){a=this.onContentError(a);try{this.containerNode.innerHTML=a}catch(b){console.error("Fatal "+this.id+
" could not change content due to "+b.message,b)}})}));var e=h.mixin({cleanContent:this.cleanContent,extractContent:this.extractContent,parseContent:!a.domNode&&this.parseOnLoad,parserScope:this.parserScope,startup:!1,dir:this.dir,lang:this.lang,textDir:this.textDir},this._contentSetterParams||{}),e=c.set(h.isObject(a)&&a.domNode?a.domNode:a,e),g=this;return v(e&&e.then?e:c.parseDeferred,function(){delete g._contentSetterParams;b||(g._started&&(g._startChildren(),g._scheduleLayout()),g._onLoadHandler(a))})},
_onError:function(a,b,c){this.onLoadDeferred.reject(b);a=this["on"+a+"Error"].call(this,b);c?console.error(c,b):a&&this._setContent(a,!0)},onLoad:function(){},onUnload:function(){},onDownloadStart:function(){return this.loadingMessage},onContentError:function(){},onDownloadError:function(){return this.errorMessage},onDownloadEnd:function(){}})})},"dijit/_WidgetsInTemplateMixin":function(){define(["dojo/_base/array","dojo/aspect","dojo/_base/declare","dojo/_base/lang","dojo/parser"],function(b,h,l,
m,g){return l("dijit._WidgetsInTemplateMixin",null,{_earlyTemplatedStartup:!1,widgetsInTemplate:!0,contextRequire:null,_beforeFillContent:function(){if(this.widgetsInTemplate){var b=this.domNode;this.containerNode&&!this.searchContainerNode&&(this.containerNode.stopParser=!0);g.parse(b,{noStart:!this._earlyTemplatedStartup,template:!0,inherited:{dir:this.dir,lang:this.lang,textDir:this.textDir},propsThis:this,contextRequire:this.contextRequire,scope:"dojo"}).then(m.hitch(this,function(b){this._startupWidgets=
b;for(var c=0;c<b.length;c++)this._processTemplateNode(b[c],function(a,b){return a[b]},function(a,b,c){return b in a?a.connect(a,b,c):a.on(b,c,!0)});this.containerNode&&this.containerNode.stopParser&&delete this.containerNode.stopParser}));if(!this._startupWidgets)throw Error(this.declaredClass+": parser returned unfilled promise (probably waiting for module auto-load), unsupported by _WidgetsInTemplateMixin.   Must pre-load all supporting widgets before instantiation.");}},_processTemplateNode:function(b,
d,c){return d(b,"dojoType")||d(b,"data-dojo-type")?!0:this.inherited(arguments)},startup:function(){b.forEach(this._startupWidgets,function(b){b&&(!b._started&&b.startup)&&b.startup()});this._startupWidgets=null;this.inherited(arguments)}})})},"esri/core/now":function(){define([],function(){return function(){var b,h=window.performance||{},l=h.now||h.webkitNow||h.msNow||h.oNow||h.mozNow;if(void 0!==l)return function(){return l.call(h)};b=window.performance&&window.performance.timing&&window.performance.timing.navigationStart?
window.performance.timing.navigationStart:Date.now();return function(){return Date.now()-b}}()})},"esri/views/ui/UI":function(){define("../../core/Accessor ./Component dojo/_base/lang dojo/dom-class dojo/dom-construct dojo/dom-style".split(" "),function(b,h,l,m,g,e){var d={top:"inherit",bottom:"inherit",left:"inherit",right:"inherit"};return b.createSubclass({classMetadata:{properties:{computedPadding:{readOnly:!0,dependsOn:["padding","view.padding"]},height:{readOnly:!0,dependsOn:["_height","computedPadding"]},
width:{readOnly:!0,dependsOn:["_width","computedPadding"]}}},declaredClass:"esri.views.ui.UI",css:{ui:"esri-ui",corner:"esri-ui-corner",topLeft:"esri-ui-top-left",topRight:"esri-ui-top-right",bottomLeft:"esri-ui-bottom-left",bottomRight:"esri-ui-bottom-right"},constructor:function(){this._components=[];this._handles=[this.watch("padding, view, view.padding, container",this._paddingRelatedWatcher.bind(this))];this._initCorners()},getDefaults:function(){return l.mixin(this.inherited(arguments),{padding:d})},
destroy:function(){this.container=null;this._components.forEach(function(b){b.destroy()});this._components.length=0;this._handles.forEach(function(b){b.remove()});this._handles.length=0},_topLeft:null,_topRight:null,_bottomLeft:null,_bottomRight:null,_cornerLookup:null,_components:null,_handles:null,_viewHandle:null,container:null,_containerSetter:function(b,a){if(b===a)return b;b&&(m.add(b,this.css.ui),this._attachCorners(b),this._applyPadding());a&&(m.remove(a,this.css.ui),e.set(a,{top:"",bottom:"",
left:"",right:""}),g.empty(a));return b},_computedPaddingGetter:function(b){b=b||{};var a=this.padding,d=this.view;b.top=this._getSidePadding("top",a,d);b.bottom=this._getSidePadding("bottom",a,d);b.left=this._getSidePadding("left",a,d);b.right=this._getSidePadding("right",a,d);return b},_heightGetter:function(){var b=this._height||0;if(0===b)return b;var a=this.computedPadding;return Math.max(b-(a.top+a.bottom),0)},_paddingSetter:function(b){return"inherit"===b||"none"===b?{bottom:b,top:b,right:b,
left:b}:l.mixin({},d,b)},_viewSetter:function(b,a){if(b===a)return b;this._viewHandle&&this._viewHandle.remove();b&&(this._viewHandle=b.on("resize",function(a){this.resize(a.width,a.height)}.bind(this)),this._handles.push(this._viewHandle));return b},_widthGetter:function(){var b=this._width||0;if(0===b)return b;var a=this.computedPadding;return Math.max(b-(a.left+a.right),0)},add:function(b,a){if(b&&this._isValidPosition(a)){if(!b.isInstanceOf||!b.isInstanceOf(h))b=new h({node:b});this._place(b,
this._cornerLookup[a],"bottom-right"===a?"first":"last");this._components.push(b)}},remove:function(b){b&&(b=this._components.indexOf(this.find(b)),-1<b&&this._components.splice(b,1))},resize:function(b,a){this._width=b;this._height=a;this._applyPadding()},find:function(b){return!b?null:b.isInstanceOf&&b.isInstanceOf(h)?this._findByComponent(b):"string"===typeof b?this._findById(b):this._findByNode(b.domNode||b)},_attachCorners:function(b){g.place(this._topLeft,b);g.place(this._topRight,b);g.place(this._bottomLeft,
b);g.place(this._bottomRight,b)},_initCorners:function(){var b,a,d,e;b=g.create("div",{className:this.css.topLeft+" "+this.css.corner});a=g.create("div",{className:this.css.topRight+" "+this.css.corner});d=g.create("div",{className:this.css.bottomLeft+" "+this.css.corner});e=g.create("div",{className:this.css.bottomRight+" "+this.css.corner});this._topLeft=b;this._topRight=a;this._bottomLeft=d;this._bottomRight=e;this._cornerLookup={"top-left":b,"top-right":a,"bottom-left":d,"bottom-right":e}},_isValidPosition:function(b){return!!this._cornerLookup[b]},
_place:function(b,a,d){b._widget?b._widget.placeAt(a,d):g.place(b.node,a,d)},_paddingRelatedWatcher:function(){this._applyPadding()},_applyPadding:function(){var b=this.container,a;b&&(a=this.computedPadding,e.set(b,{top:this._toPxUnit(a.top),bottom:this._toPxUnit(a.bottom),left:this._toPxUnit(a.left),right:this._toPxUnit(a.right)}))},_toPxUnit:function(b){return 0<b?b+"px":b},_getSidePadding:function(b,a,d){d=d&&d.padding&&d.padding[b]||0;b=a[b];return"inherit"===b?d:0===b||"none"===b?0:b},_findByComponent:function(b){var a=
null,d;this._components.some(function(e){(d=e===b)&&(a=e);return d});return a},_findById:function(b){var a=null,d;this._components.some(function(e){(d=e.id===b)&&(a=e);return d});return a},_findByNode:function(b){var a=null,d;this._components.some(function(e){(d=e.node===b)&&(a=e);return d});return a}})})},"dojo/_base/event":function(){define(["./kernel","../on","../has","../dom-geometry"],function(b,h,l,m){if(h._fixEvent){var g=h._fixEvent;h._fixEvent=function(b,c){(b=g(b,c))&&m.normalizeEvent(b);
return b}}var e={fix:function(b,c){return h._fixEvent?h._fixEvent(b,c):b},stop:function(b){l("dom-addeventlistener")||b&&b.preventDefault?(b.preventDefault(),b.stopPropagation()):(b=b||window.event,b.cancelBubble=!0,h._preventDefault.call(b))}};b.fixEvent=e.fix;b.stopEvent=e.stop;return e})},"esri/renderers/TemporalRenderer":function(){define(["../core/declare","./Renderer"],function(b,h){return b(h,{declaredClass:"esri.renderer.TemporalRenderer",constructor:function(b,h,g,e){this.observationRenderer=
b;this.latestObservationRenderer=h;this.trackRenderer=g;this.observationAger=e},getSymbol:function(b){var h=b.getLayer(),g=this.getObservationRenderer(b),e=g&&g.getSymbol(b),d=this.observationAger;h.timeInfo&&(h._map.timeExtent&&g===this.observationRenderer&&d&&e)&&(e=d.getAgedSymbol(e,b));return e},getObservationRenderer:function(b){return 0===b.getLayer()._getKind(b)?this.observationRenderer:this.latestObservationRenderer||this.observationRenderer},toJson:function(){try{throw Error("toJson is deprecated, use toJSON instead");
}catch(b){console.warn(b.stack)}return this.toJSON()},toJSON:function(){var b={type:"temporal"};b.observationRenderer=this.observationRenderer.toJSON();this.latestObservationRenderer&&(b.latestObservationRenderer=this.latestObservationRenderer.toJSON());this.trackRenderer&&(b.trackRenderer=this.trackRenderer.toJSON());this.observationAger&&(b.observationAger=this.observationAger.toJSON());return b}})})},"esri/Graphic":function(){define("dojo/_base/lang ./core/JSONSupport ./core/lang ./PopupTemplate ./geometry/support/jsonUtils ./symbols/support/jsonUtils".split(" "),
function(b,h,l,m,g,e){var d=0,c=h.createSubclass({declaredClass:"esri.Graphic",constructor:function(a){this.id=d++},normalizeCtorArgs:function(a,b,c,d){return a&&!a.declaredClass?a:{geometry:a,symbol:b,attributes:c,popupTemplate:d}},attributes:null,_attributesSetter:function(a,b){if(b===a)return b;this._notifyLayer("attributes",b,a);return a},geometry:null,_geometrySetter:function(a,b){if(b===a)return b;this._notifyLayer("geometry",b,a);return a},_geometryReader:function(a){return g.fromJSON(a)},
popupTemplate:null,symbol:null,_symbolSetter:function(a,b){if(b===a)return b;this._notifyLayer("symbol",b,a);return a},_symbolReader:function(a){return e.fromJSON(a)},visible:!0,_visibleSetter:function(a,b){if(b===a)return b;this._notifyLayer("visible",b,a);return a},getAttribute:function(a){return this.attributes&&this.attributes[a]},setAttribute:function(a,b){var c;c=this.getAttribute(a);this.attributes?(this.attributes[a]=b,this._notifyLayer("attributes",c,b,a)):(c={},c[a]=b,this.attributes=c)},
getEffectivePopupTemplate:function(){return this.popupTemplate||this.layer&&this.layer.popupTemplate},toJSON:function(){return{geometry:this.geometry&&this.geometry.toJSON(),symbol:this.symbol&&this.symbol.toJSON(),attributes:b.mixin({},this.attributes),popupTemplate:this.popupTemplate&&this.popupTemplate.toJSON()}},clone:function(){return new c({attributes:b.clone(this.attributes),geometry:this.geometry&&this.geometry.clone()||null,popupTemplate:this.popupTemplate&&this.popupTemplate.clone(),symbol:this.symbol&&
this.symbol.clone()||null,visible:this.visible})},_notifyLayer:function(a,b,c,d){this.layer&&(a={graphic:this,property:a,oldValue:b,newValue:c},d&&(a.attributeName=d),this.layer.graphicChanged(a))}});return c})},"esri/symbols/Font":function(){define(["dojo/_base/lang","../core/JSONSupport","../core/lang","../core/screenUtils"],function(b,h,l,m){var g={style:"normal",variant:"normal",weight:"normal",size:12,family:"serif",decoration:"none"};h=h.createSubclass({declaredClass:"esri.symbols.Font",getDefaults:function(){return g},
normalizeCtorArgs:function(b,d,c,a,g){if(b&&"string"!==typeof b)return b;var h={};null!=b&&(h.size=b);null!=d&&(h.style=d);null!=c&&(h.variant=c);null!=a&&(h.weight=a);g&&(h.family=g);return h},_sizeReader:m.pt2px,_sizeSetter:function(e){var d=parseFloat(e),c;d==e?c=e:b.isString(e)&&(-1<e.indexOf("pt")?c=m.pt2px(d):-1<e.indexOf("px")?c=d:-1<e.indexOf("em")?c=m.pt2px(12*d):-1<e.indexOf("%")&&(c=m.pt2px(0.12*d)));return c},toJSON:function(){return l.fixJson({size:m.px2pt(this.size),style:this.style,
variant:this.variant,decoration:this.decoration,weight:this.weight,family:this.family})}});h.defaultProps=g;b.mixin(h,{STYLE_NORMAL:"normal",STYLE_ITALIC:"italic",STYLE_OBLIQUE:"oblique",VARIANT_NORMAL:"normal",VARIANT_SMALLCAPS:"small-caps",WEIGHT_NORMAL:"normal",WEIGHT_BOLD:"bold",WEIGHT_BOLDER:"bolder",WEIGHT_LIGHTER:"lighter"});return h})},"esri/layers/ArcGISImageServiceLayer":function(){define(["../core/declare","dojo/_base/lang","../config","./DynamicLayer","./mixins/ImageServiceLayerMixin"],
function(b,h,l,m,g){return b([m,g],{declaredClass:"esri.layers.ArcGISImageServiceLayer",constructor:function(b,d){this._initialize(b,d);this.useMapImage=d&&d.useMapImage||!1},refresh:function(b){if(b)this.inherited(arguments);else{var d=this.disableClientCaching;this.disableClientCaching=!0;this.inherited(arguments);this.disableClientCaching=d}},exportMapImage:function(b,d){var c=l.defaults.map;delete h.mixin({size:c.width+","+c.height},this._params,b?b.toJSON():{},{f:"json"})._ts;return null}})})},
"esri/layers/pixelFilters/VectorFieldPixelFilter":function(){define(["../../core/declare","dojo/_base/lang","../../core/lang","dojo/_base/array"],function(b,h,l,m){return b(null,{declaredClass:"esri.layers.pixelFilters.VectorFieldPixelFilter",speedUnits:["esriMetersPerSecond","esriKilometersPerHour","esriKnots","esriFeetPerSecond","esriMilesPerHour"],constructor:function(b){h.mixin(this,b);this.isDataUV=b&&b.isDataUV?b.isDataUV:!1;this.computeMagnitudeAndDirection=h.hitch(this,this.computeMagnitudeAndDirection);
this.unitConversionFactor=1;this._updateUnitConvFactor()},setUnits:function(b,e){this.inputUnit=b;this.outputUnit=e;this.unitConversionFactor=1;this._updateUnitConvFactor()},_updateUnitConvFactor:function(){var b=m.indexOf(this.speedUnits,this.inputUnit),e=m.indexOf(this.speedUnits,this.outputUnit);if(this.inputUnit&&this.outputUnit&&0<=b&&0<=e){var d=[1,0.277778,0.514444,0.3048,0.44704,0];this.unitConversionFactor=d[b]/d[e]}},computeMagnitudeAndDirection:function(b){if(!l.isDefined(b))throw"Could not compute magnitude and direction. No pixel data is available.";
var e=b.pixelBlock;if(!l.isDefined(e)||2!==e.getPlaneCount())throw"Could not compute magnitude and direction. Pixel data does not contain two bands.";var d=b.extent,c=(d.xmax-d.xmin)/e.width,a=(d.ymax-d.ymin)/e.height,h=d.xmin+c/2,d=d.ymax-a/2;e.statistics[0].minValue=0;e.statistics[0].maxValue=0;var m=180/Math.PI,n=[],u=0,q=0,t=0,r=!l.isDefined(e.mask),v,x,w,f,s,z,y,A;s=y=Infinity;z=A=-Infinity;for(u=0;u<e.height;u++)for(q=0;q<e.width;q++,t++)if(n.push([h+c*q,d-a*u]),r||e.mask[t])w=v=e.pixels[0][t]*
this.unitConversionFactor,f=x=e.pixels[1][t],this.isDataUV&&(w=Math.sqrt(v*v+x*x),f=90-m*Math.atan2(x,v),e.pixels[0][t]=w*this.unitConversionFactor,e.pixels[1][t]=f),w>z&&(z=w),w<s&&(s=w),f>A&&(A=f),f<y&&(y=f);e.statistics[0].maxValue=z;e.statistics[0].minValue=s;e.statistics[1].maxValue=A;e.statistics[1].minValue=y;b.locations=n;return b}})})},"esri/views/3d/terrain/OverlayManager":function(){define("../../../core/declare dojo/on ../support/mathUtils ../support/projectionUtils ../lib/glMatrix ../webgl-engine/Stage ../webgl-engine/lib/Texture ../webgl-engine/lib/Util".split(" "),
function(b,h,l,m,g,e,d,c){var a=g.vec2d,k=g.vec3d,p=g.vec4d,n=c.assert,u={width:0,height:0,pixelRatio:0,views:null},q=[{viewport:p.create(),extent:p.create()}],t=[q[0],{viewport:p.create(),extent:p.create()}],r=p.create(),v=k.create(),x=[p.create(),p.create()];return b(null,{constructor:function(a,b,c,d){this._view=d;this._stage=d._stage;this._renderSR=this._overlaySR=null;this._overlaySREqualsRenderSR=!0;this.terrainSurface=c;this._renderer=this._stage.getTextureGraphicsRenderer();this._connectedLayers=
{};this._overlays=void 0;this._scale=0;this._dirty=!1;this._isSpherical=a;this._cyclical=b},destroy:function(){for(var a in this._connectedLayers)this.unregisterLayerView(this._connectedLayers[a]);this._disposeOverlays()},hasOverlays:function(){return!!this._overlays},setSpatialReference:function(a){(this._overlaySR=a)?(this._renderSR=this._view.renderSpatialReference,this._overlaySREqualsRenderSR=this._overlaySR.equals(this._renderSR)):this._disposeOverlays()},registerLayerView:function(a){var b=
a.layer.get("id");n(!this._connectedLayers[b],"layer already connected");var c=h(a,"draped-data-change",function(){this.setOverlayDirty()}.bind(this));this._connectedLayers[b]={eventHandles:[c],layerView:a};if(a.setDrapingExtent&&this._overlays)for(b=0;b<this._overlays.length;b++)a.setDrapingExtent(b,this._overlays[b].extent,this._overlaySR,2048);this.setOverlayDirty()},unregisterLayerView:function(a){for(var b in this._connectedLayers){var c=this._connectedLayers[b];if(c.layerView===a){if(c.eventHandles)for(var d=
0;d<c.eventHandles;d++)c.eventHandles[d].remove();delete this._connectedLayers[b];this.setOverlayDirty();a._overlayUpdating=!1;a._evaluateUpdatingState()}}},setOverlayDirty:function(){this._dirty||(this._setOverlayUpdating(!0),this._dirty=!0)},_setOverlayUpdating:function(a){for(var b in this._connectedLayers){var c=this._connectedLayers[b].layerView;if(!a||!c.get("suspended")&&c.hasDraped)c._overlayUpdating=a,c._evaluateUpdatingState()}},updateOverlay:function(){if(this._overlaySR){var a=this._computeOverlayExtents();
if(a){this._overlays||this._initOverlays();for(var b=0;b<this._overlays.length;b++){var c;a:{c=a[b];for(var d=this._overlays[b].extent,e=1E-5*Math.max(c[2]-c[0],c[3]-c[1],d[2]-d[0],d[3]-d[1]),g=0;4>g;g++)if(Math.abs(d[g]-c[g])>e){c=!0;break a}c=!1}if(c){p.set(a[b],this._overlays[b].extent);for(var h in this._connectedLayers)c=this._connectedLayers[h].layerView,c.setDrapingExtent&&c.setDrapingExtent(b,a[b],this._overlaySR,2048)}}this._setOverlayUpdating(!1);this._drawOverlays();this.terrainSurface._updateTileOverlayParams();
this._dirty=!1}}},overlaysNeedUpdate:function(){return this._dirty&&this._overlaySR},updateOpacity:function(a){var b=1;if(this._overlays){var c=this._scale;a=this._view.renderCoordsHelper.getAltitude(a);3.5*a<c&&(b=Math.sqrt(l.clamp((a-c/10)/(c/3.5-c/10),0,1)))}return b},setOverlayParamsOfTile:function(b,c,d){b=b.extent;var e=-1;this._rectInsideRect(b,this._overlays[0].extent)?e=0:this._rectanglesOverlap(b,this._overlays[1].extent)&&(e=1);if(0<=e){var g=this._overlays[e].extent;c.overlayTexScale=
(b[2]-b[0])/(g[2]-g[0]);var h=b[0];if(this._cyclical){var h=this._cyclical.minimalMonotonic(g[0],h),k=this._cyclical.minimalMonotonic(g[0],b[2]);h>k&&(h=k-(b[2]-b[0]))}a.set2((h-g[0])/(g[2]-g[0]),(b[1]-g[1])/(g[3]-g[1]),c.overlayTexOffset);c.overlayTexId=this._overlays[e].texture.getId();c.overlayOpacity=void 0!==d?d:1}else c.overlayTexId=null},overlayPixelSizeInMapUnits:function(a){var b;this._overlays&&(this._overlays[0]&&this._pointIsInExtent(a,this._overlays[0].extent)?b=this._overlays[0].extent:
this._overlays[1]&&(b=this._overlays[1].extent));return b?(b[2]-b[0])/2048:0},_initOverlays:function(){this._overlays=Array(2);for(var a=0;2>a;a++){var b=new d(null,"overlay",{wrapClamp:!0,mipmap:!0});this._stage.add(e.ModelContentType.TEXTURE,b);this._overlays[a]={texture:b,extent:p.create()}}},_disposeOverlays:function(){if(this._overlays){var a=this._stage;this._overlays.forEach(function(b){a.remove(e.ModelContentType.TEXTURE,b.texture.getId())});this._overlays=null}},_overlayExtentIncTable:[[0,
-1,2,1],[0,-2,2,0],[-1,-2,1,0],[-2,-2,0,0],[-2,-1,0,1],[-2,0,0,2],[-1,0,1,2],[0,0,2,2]],_computeOverlayExtents:function(){var b=this._view.navigation.currentCamera,c=k.create();k.set(b.center,c);this._scale=this._view.renderCoordsHelper.getAltitude(b.eye);var d=m.vectorToPoint(c,this._renderSR,this.terrainSurface.spatialReference);(d=this.terrainSurface.getElevation(d))?this._view.renderCoordsHelper.setAltitude(d,c):this._view.navigation.getCenterIntersectManifold(b.eye,b.center,c);var e=k.dist(b.eye,
c),d=b.angleOfElevation;if(!isNaN(d)){this._overlaySREqualsRenderSR||m.vectorToVector(c,this._renderSR,c,this._overlaySR);e=2*1024*b.perPixelRatio*e;this._isSpherical&&this._overlaySR.isWebMercator()&&(e/=Math.cos(m.webMercator.y2lat(c[1])),e=Math.min(e,Math.abs(this.terrainSurface.tilingScheme.origin[0])));var g=x[0];g[0]=c[0]-e;g[1]=c[1]-e;g[2]=c[0]+e;g[3]=c[1]+e;var h=x[1];p.set(g,h);g=this.terrainSurface.extent;if(6*e>g[3]-g[1]){if(p.set(g,h),this._isSpherical){h[1]*=0.999;h[3]*=0.999;var l=this._cyclical;
h.forEach(function(a,b){h[b]=l.clamp(a)})}}else d>0.25*Math.PI?(h[0]-=e,h[1]-=e,h[2]+=e,h[3]+=e):(m.vectorToVector(b.eye,this._renderSR,v,this._overlaySR),a.subtract(c,v,r),b=-Math.atan2(r[1],r[0])+0.125*Math.PI,0>b&&(b+=2*Math.PI),p.scale(this._overlayExtentIncTable[Math.floor(b/(0.25*Math.PI))],2*e,r),p.add(h,r,h));this.opacity=1;return x}},_drawOverlays:function(){for(var a=this._overlays[0].extent[2]-this._overlays[0].extent[0],b=this._stage.getTextureGraphicsRenderer(),c=0;c<this._overlays.length;c++){var d=
this._overlays[c].extent,e=this._cyclical?d[2]>this._cyclical.max:!1,g=this._cyclical?d[0]<this._cyclical.min:!1;if(e||g){u.views=t;var g=Math.round(2048*((e?this._cyclical.max-d[0]:this._cyclical.min-d[0])/(d[2]-d[0]))),h=u.views[0];p.set4(0,0,g,2048,h.viewport);p.set4(d[0],d[1],this._cyclical.max,d[3],h.extent);e||(h.extent[0]+=this._cyclical.range);h=u.views[1];p.set4(g,0,2048-g,2048,h.viewport);p.set4(this._cyclical.min,d[1],d[2],d[3],h.extent);e&&(h.extent[2]-=this._cyclical.range)}else u.views=
q,p.set(d,u.views[0].extent),p.set4(0,0,2048,2048,u.views[0].viewport);u.width=2048;u.height=2048;u.pixelRatio=a/(d[2]-d[0]);b.draw(this._overlays[c].texture,u)}},_rectanglesOverlap:function(a,b){return this._cyclical?(this._cyclical.contains(b[0],b[2],a[0])||this._cyclical.contains(b[0],b[2],a[2]))&&!(a[1]>b[3]||a[3]<b[1]):!(a[0]>b[2]||a[2]<b[0]||a[1]>b[3]||a[3]<b[1])},_rectInsideRect:function(a,b){return this._cyclical?this._cyclical.contains(b[0],b[2],a[0])&&this._cyclical.contains(b[0],b[2],a[2])&&
a[1]>b[1]&&a[3]<b[3]:a[0]>b[0]&&a[2]<b[2]&&a[1]>b[1]&&a[3]<b[3]},_pointIsInExtent:function(a,b){if(this._cyclical)return this._cyclical.contains(b[0],b[2],a.x)&&a.y>=b[1]&&a.y<=b[3];var c=a.x,d=a.y;return c>b[0]&&c<b[2]&&d>b[1]&&d<b[3]}})})},"dojo/_base/kernel":function(){define(["../has","./config","require","module"],function(b,h,l,m){var g;b=function(){return this}();var e={},d={},c={config:h,global:b,dijit:e,dojox:d},e={dojo:["dojo",c],dijit:["dijit",e],dojox:["dojox",d]};m=l.map&&l.map[m.id.match(/[^\/]+/)[0]];
for(g in m)e[g]?e[g][0]=m[g]:e[g]=[m[g],{}];for(g in e)m=e[g],m[1]._scopeName=m[0],h.noGlobals||(b[m[0]]=m[1]);c.scopeMap=e;c.baseUrl=c.config.baseUrl=l.baseUrl;c.isAsync=l.async;c.locale=h.locale;h="$Rev: f4fef70 $".match(/[0-9a-f]{7,}/);c.version={major:1,minor:10,patch:4,flag:"",revision:h?h[0]:NaN,toString:function(){var a=c.version;return a.major+"."+a.minor+"."+a.patch+a.flag+" ("+a.revision+")"}};Function("d","d.eval \x3d function(){return d.global.eval ? d.global.eval(arguments[0]) : eval(arguments[0]);}")(c);
c.exit=function(){};"undefined"!=typeof console||(console={});l="assert count debug dir dirxml error group groupEnd info profile profileEnd time timeEnd trace warn log".split(" ");var a;for(h=0;a=l[h++];)console[a]||function(){var b=a+"";console[b]="log"in console?function(){var a=Array.prototype.slice.call(arguments);a.unshift(b+":");console.log(a.join(" "))}:function(){};console[b]._fake=!0}();c.deprecated=c.experimental=function(){};c._hasResource={};return c})},"esri/views/3d/support/ObjectPool":function(){define(["../../../core/declare",
"./PreallocArray"],function(b,h){var l=b([],{constructor:function(b,g){this.freelist=new h(b);this.cls=g;this.initialSize=b},_allocate:function(){return new this.cls},acquire:function(){if(0===this.freelist.length)for(var b=Math.max(1,this.initialSize/2),g=0;g<b;g++)this.freelist.push(new this.cls);return this.freelist.pop()},release:function(b){this.freelist.push(b)}});l.on=function(b,g){b._pool=null;Object.defineProperty(b,"Pool",{get:function(){this._pool||(this._pool=new l(g,b));return this._pool}})};
return l})},"esri/views/3d/navigation/planar/AnimationPlanar":function(){define(["../mixins/AnimationMixin","../../lib/glMatrix","../../support/mathUtils"],function(b,h,l){function m(a,b){var c=b[0]-a[0],d=b[1]-a[1],e=b[2]-a[2],g=b[3]-a[3];return c*c+d*d+e*e+g*g}function g(a,b){return Math.sqrt(m(a,b))}function e(b){this.interpolate=function(b,d,e){e=Math.min(5*e,0.3);c.lerp(b.eye,d.eye,e);c.lerp(b.center,d.center,e);c.lerp(b.up,d.up,e);b.fov=l.lerp(b.fov,d.fov,e);b.padding=a.lerp(b.padding,d.padding,
e,k)}}function d(b,d,e){d=d||250;e=e||d;var h=0,m=0,r=0,v=0,x=0;this.interpolate=function(w,f,s){h=b.easeInOutInterpLinear(e,d,w.eye,f.eye,s,h,c);m=b.easeInOutInterpLinear(e,d,w.center,f.center,s,m,c);r=b.easeInOutInterpLinear(e,d,w.up,f.up,s,r,c);x=b.easeInOutInterpLinear(e,d,w.padding,f.padding,s,x,{dist:g,lerp:function(b,c,d){return a.lerp(b,c,d,k)},set:function(a){w.padding=a}});v=b.easeInOutInterpLinear(e,d,w.fov,f.fov,s,v,{dist:function(a,b){return Math.abs(b-a)},lerp:l.lerp,set:function(a){w.fov=
a}})}}var c=h.vec3d,a=h.vec4d,k=a.create();return b.createSubclass({declaredClass:"esri.views.3d.navigation.planar.AnimationPlanar",constructor:function(){this.interpolationTypes={linear:e,easeInOut:d}}})})},"esri/layers/support/CodedValueDomain":function(){define(["../../core/declare","dojo/_base/lang","dojo/_base/array","../../core/lang","./Domain"],function(b,h,l,m,g){return b([g],{declaredClass:"esri.layers.support.CodedValueDomain",constructor:function(b){b&&h.isObject(b)&&(this.codedValues=
b.codedValues)},getName:function(b){var d;l.some(this.codedValues,function(c){c.code==b&&(d=c.name);return!!d});return d},toJSON:function(){var b=this.inherited(arguments);b.codedValues=h.clone(this.codedValues);return m.fixJson(b)}})})},"esri/views/ViewAnimation":function(){define(["../core/declare","dojo/Deferred","../core/Accessor","../core/Promise"],function(b,h,l,m){var g={RUNNING:"running",FINISHED:"finished",STOPPED:"stopped"};b=b([l,m],{declaredClass:"esri.views.ViewAnimation",classMetadata:{properties:{state:{}}},
constructor:function(){this._dfd=new h;this.addResolvingPromise(this._dfd.promise)},initialize:function(){this.state=g.RUNNING},stop:function(){this.state=g.STOPPED;this._dfd.resolve()},finish:function(){this.state=g.FINISHED;this._dfd.resolve()},state:null,target:null});b.State=g;return b})},"dojox/gfx/_base":function(){define("dojo/_base/kernel dojo/_base/lang dojo/_base/Color dojo/_base/sniff dojo/_base/window dojo/_base/array dojo/dom dojo/dom-construct dojo/dom-geometry".split(" "),function(b,
h,l,m,g,e,d,c,a){var k=h.getObject("dojox.gfx",!0),p=k._base={};k._hasClass=function(a,b){var c=a.getAttribute("className");return c&&0<=(" "+c+" ").indexOf(" "+b+" ")};k._addClass=function(a,b){var c=a.getAttribute("className")||"";if(!c||0>(" "+c+" ").indexOf(" "+b+" "))a.setAttribute("className",c+(c?" ":"")+b)};k._removeClass=function(a,b){var c=a.getAttribute("className");c&&a.setAttribute("className",c.replace(RegExp("(^|\\s+)"+b+"(\\s+|$)"),"$1$2"))};p._getFontMeasurements=function(){var a=
{"1em":0,"1ex":0,"100%":0,"12pt":0,"16px":0,"xx-small":0,"x-small":0,small:0,medium:0,large:0,"x-large":0,"xx-large":0},b,d;m("ie")&&(d=g.doc.documentElement.style.fontSize||"",d||(g.doc.documentElement.style.fontSize="100%"));var e=c.create("div",{style:{position:"absolute",left:"0",top:"-100px",width:"30px",height:"1000em",borderWidth:"0",margin:"0",padding:"0",outline:"none",lineHeight:"1",overflow:"hidden"}},g.body());for(b in a)e.style.fontSize=b,a[b]=16*Math.round(12*e.offsetHeight/16)/12/1E3;
m("ie")&&(g.doc.documentElement.style.fontSize=d);g.body().removeChild(e);return a};var n=null;p._getCachedFontMeasurements=function(a){if(a||!n)n=p._getFontMeasurements();return n};var u=null,q={};p._getTextBox=function(b,d,e){var h,f,k=arguments.length,l;u||(u=c.create("div",{style:{position:"absolute",top:"-10000px",left:"0",visibility:"hidden"}},g.body()));h=u;h.className="";f=h.style;f.borderWidth="0";f.margin="0";f.padding="0";f.outline="0";if(1<k&&d)for(l in d)l in q||(f[l]=d[l]);2<k&&e&&(h.className=
e);h.innerHTML=b;h.getBoundingClientRect?(f=h.getBoundingClientRect(),f={l:f.left,t:f.top,w:f.width||f.right-f.left,h:f.height||f.bottom-f.top}):f=a.getMarginBox(h);h.innerHTML="";return f};p._computeTextLocation=function(a,b,c,d){var e={};switch(a.align){case "end":e.x=a.x-b;break;case "middle":e.x=a.x-b/2;break;default:e.x=a.x}e.y=a.y-c*(d?0.75:1);return e};p._computeTextBoundingBox=function(a){if(!k._base._isRendered(a))return{x:0,y:0,width:0,height:0};var b;b=a.getShape();var c=a.getFont()||k.defaultFont;
a=a.getTextWidth();c=k.normalizedLength(c.size);b=p._computeTextLocation(b,a,c,!0);return{x:b.x,y:b.y,width:a,height:c}};p._isRendered=function(a){for(a=a.parent;a&&a.getParent;)a=a.parent;return null!==a};var t=0;p._getUniqueId=function(){var a;do a=b._scopeName+"xUnique"+ ++t;while(d.byId(a));return a};p._fixMsTouchAction=function(a){a=a.rawNode;"undefined"!=typeof a.style.msTouchAction&&(a.style.msTouchAction="none")};h.mixin(k,{defaultPath:{type:"path",path:""},defaultPolyline:{type:"polyline",
points:[]},defaultRect:{type:"rect",x:0,y:0,width:100,height:100,r:0},defaultEllipse:{type:"ellipse",cx:0,cy:0,rx:200,ry:100},defaultCircle:{type:"circle",cx:0,cy:0,r:100},defaultLine:{type:"line",x1:0,y1:0,x2:100,y2:100},defaultImage:{type:"image",x:0,y:0,width:0,height:0,src:""},defaultText:{type:"text",x:0,y:0,text:"",align:"start",decoration:"none",rotated:!1,kerning:!0},defaultTextPath:{type:"textpath",text:"",align:"start",decoration:"none",rotated:!1,kerning:!0},defaultStroke:{type:"stroke",
color:"black",style:"solid",width:1,cap:"butt",join:4},defaultLinearGradient:{type:"linear",x1:0,y1:0,x2:100,y2:100,colors:[{offset:0,color:"black"},{offset:1,color:"white"}]},defaultRadialGradient:{type:"radial",cx:0,cy:0,r:100,colors:[{offset:0,color:"black"},{offset:1,color:"white"}]},defaultPattern:{type:"pattern",x:0,y:0,width:0,height:0,src:""},defaultFont:{type:"font",style:"normal",variant:"normal",weight:"normal",size:"10pt",family:"serif"},getDefault:function(){var a={};return function(b){var c=
a[b];if(c)return new c;c=a[b]=new Function;c.prototype=k["default"+b];return new c}}(),normalizeColor:function(a){return a instanceof l?a:new l(a)},normalizeParameters:function(a,b){var c;if(b){var d={};for(c in a)c in b&&!(c in d)&&(a[c]=b[c])}return a},makeParameters:function(a,b){var c=null;if(!b)return h.delegate(a);var d={};for(c in a)c in d||(d[c]=h.clone(c in b?b[c]:a[c]));return d},formatNumber:function(a,b){var c=a.toString();if(0<=c.indexOf("e"))c=a.toFixed(4);else{var d=c.indexOf(".");
0<=d&&5<c.length-d&&(c=a.toFixed(4))}return 0>a?c:b?" "+c:c},makeFontString:function(a){return a.style+" "+a.variant+" "+a.weight+" "+a.size+" "+a.family},splitFontString:function(a){var b=k.getDefault("Font");a=a.split(/\s+/);if(!(5>a.length)){b.style=a[0];b.variant=a[1];b.weight=a[2];var c=a[3].indexOf("/");b.size=0>c?a[3]:a[3].substring(0,c);var d=4;0>c&&("/"==a[4]?d=6:"/"==a[4].charAt(0)&&(d=5));d<a.length&&(b.family=a.slice(d).join(" "))}return b},cm_in_pt:72/2.54,mm_in_pt:7.2/2.54,px_in_pt:function(){return k._base._getCachedFontMeasurements()["12pt"]/
12},pt2px:function(a){return a*k.px_in_pt()},px2pt:function(a){return a/k.px_in_pt()},normalizedLength:function(a){if(0===a.length)return 0;if(2<a.length){var b=k.px_in_pt(),c=parseFloat(a);switch(a.slice(-2)){case "px":return c;case "pt":return c*b;case "in":return 72*c*b;case "pc":return 12*c*b;case "mm":return c*k.mm_in_pt*b;case "cm":return c*k.cm_in_pt*b}}return parseFloat(a)},pathVmlRegExp:/([A-Za-z]+)|(\d+(\.\d+)?)|(\.\d+)|(-\d+(\.\d+)?)|(-\.\d+)/g,pathSvgRegExp:/([A-DF-Za-df-z])|([-+]?\d*[.]?\d+(?:[eE][-+]?\d+)?)/g,
equalSources:function(a,b){return a&&b&&a===b},switchTo:function(a){var b="string"==typeof a?k[a]:a;b&&(e.forEach("Group Rect Ellipse Circle Line Polyline Image Text Path TextPath EsriPath Surface createSurface fixTarget".split(" "),function(a){k[a]=b[a]}),"string"==typeof a?k.renderer=a:e.some(["svg","vml","canvas","canvasWithEvents","silverlight"],function(a){return k.renderer=k[a]&&k[a].Surface===k.Surface?a:null}))}});return k})},"esri/views/3d/webgl-engine/lib/webglConstants":function(){define([],
function(){return{ACTIVE_ATTRIBUTES:35721,ACTIVE_ATTRIBUTE_MAX_LENGTH:35722,ACTIVE_TEXTURE:34016,ACTIVE_UNIFORMS:35718,ACTIVE_UNIFORM_MAX_LENGTH:35719,ALIASED_LINE_WIDTH_RANGE:33902,ALIASED_POINT_SIZE_RANGE:33901,ALPHA:6406,ALPHA_BITS:3413,ALWAYS:519,ARRAY_BUFFER:34962,ARRAY_BUFFER_BINDING:34964,ATTACHED_SHADERS:35717,BACK:1029,BLEND:3042,BLEND_COLOR:32773,BLEND_DST_ALPHA:32970,BLEND_DST_RGB:32968,BLEND_EQUATION:32777,BLEND_EQUATION_ALPHA:34877,BLEND_EQUATION_RGB:32777,BLEND_SRC_ALPHA:32971,BLEND_SRC_RGB:32969,
BLUE_BITS:3412,BOOL:35670,BOOL_VEC2:35671,BOOL_VEC3:35672,BOOL_VEC4:35673,BROWSER_DEFAULT_WEBGL:37444,BUFFER_SIZE:34660,BUFFER_USAGE:34661,BYTE:5120,CCW:2305,CLAMP_TO_EDGE:33071,COLOR_ATTACHMENT0:36064,COLOR_BUFFER_BIT:16384,COLOR_CLEAR_VALUE:3106,COLOR_WRITEMASK:3107,COMPILE_STATUS:35713,COMPRESSED_TEXTURE_FORMATS:34467,CONSTANT_ALPHA:32771,CONSTANT_COLOR:32769,CONTEXT_LOST_WEBGL:37442,CULL_FACE:2884,CULL_FACE_MODE:2885,CURRENT_PROGRAM:35725,CURRENT_VERTEX_ATTRIB:34342,CW:2304,DECR:7683,DECR_WRAP:34056,
DELETE_STATUS:35712,DEPTH_ATTACHMENT:36096,DEPTH_BITS:3414,DEPTH_BUFFER_BIT:256,DEPTH_CLEAR_VALUE:2931,DEPTH_COMPONENT:6402,DEPTH_COMPONENT16:33189,DEPTH_FUNC:2932,DEPTH_RANGE:2928,DEPTH_STENCIL:34041,DEPTH_STENCIL_ATTACHMENT:33306,DEPTH_TEST:2929,DEPTH_WRITEMASK:2930,DITHER:3024,DONT_CARE:4352,DST_ALPHA:772,DST_COLOR:774,DYNAMIC_DRAW:35048,ELEMENT_ARRAY_BUFFER:34963,ELEMENT_ARRAY_BUFFER_BINDING:34965,EQUAL:514,FASTEST:4353,FLOAT:5126,FLOAT_MAT2:35674,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,
FLOAT_VEC3:35665,FLOAT_VEC4:35666,FRAGMENT_SHADER:35632,FRAMEBUFFER:36160,FRAMEBUFFER_ATTACHMENT_OBJECT_NAME:36049,FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE:36048,FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE:36051,FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL:36050,FRAMEBUFFER_BINDING:36006,FRAMEBUFFER_COMPLETE:36053,FRAMEBUFFER_INCOMPLETE_ATTACHMENT:36054,FRAMEBUFFER_INCOMPLETE_DIMENSIONS:36057,FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:36055,FRAMEBUFFER_UNSUPPORTED:36061,FRONT:1028,FRONT_AND_BACK:1032,FRONT_FACE:2886,
FUNC_ADD:32774,FUNC_REVERSE_SUBTRACT:32779,FUNC_SUBTRACT:32778,GENERATE_MIPMAP_HINT:33170,GEQUAL:518,GREATER:516,GREEN_BITS:3411,HIGH_FLOAT:36338,HIGH_INT:36341,INCR:7682,INCR_WRAP:34055,INFO_LOG_LENGTH:35716,INT:5124,INT_VEC2:35667,INT_VEC3:35668,INT_VEC4:35669,INVALID_ENUM:1280,INVALID_FRAMEBUFFER_OPERATION:1286,INVALID_OPERATION:1282,INVALID_VALUE:1281,INVERT:5386,KEEP:7680,LEQUAL:515,LESS:513,LINEAR:9729,LINEAR_MIPMAP_LINEAR:9987,LINEAR_MIPMAP_NEAREST:9985,LINES:1,LINE_LOOP:2,LINE_STRIP:3,LINE_WIDTH:2849,
LINK_STATUS:35714,LOW_FLOAT:36336,LOW_INT:36339,LUMINANCE:6409,LUMINANCE_ALPHA:6410,MAX_COMBINED_TEXTURE_IMAGE_UNITS:35661,MAX_CUBE_MAP_TEXTURE_SIZE:34076,MAX_FRAGMENT_UNIFORM_VECTORS:36349,MAX_RENDERBUFFER_SIZE:34024,MAX_TEXTURE_IMAGE_UNITS:34930,MAX_TEXTURE_SIZE:3379,MAX_VARYING_VECTORS:36348,MAX_VERTEX_ATTRIBS:34921,MAX_VERTEX_TEXTURE_IMAGE_UNITS:35660,MAX_VERTEX_UNIFORM_VECTORS:36347,MAX_VIEWPORT_DIMS:3386,MEDIUM_FLOAT:36337,MEDIUM_INT:36340,MIRRORED_REPEAT:33648,NEAREST:9728,NEAREST_MIPMAP_LINEAR:9986,
NEAREST_MIPMAP_NEAREST:9984,NEVER:512,NICEST:4354,NONE:0,NOTEQUAL:517,NO_ERROR:0,NUM_COMPRESSED_TEXTURE_FORMATS:34466,ONE:1,ONE_MINUS_CONSTANT_ALPHA:32772,ONE_MINUS_CONSTANT_COLOR:32770,ONE_MINUS_DST_ALPHA:773,ONE_MINUS_DST_COLOR:775,ONE_MINUS_SRC_ALPHA:771,ONE_MINUS_SRC_COLOR:769,OUT_OF_MEMORY:1285,PACK_ALIGNMENT:3333,POINTS:0,POLYGON_OFFSET_FACTOR:32824,POLYGON_OFFSET_FILL:32823,POLYGON_OFFSET_UNITS:10752,RED_BITS:3410,RENDERBUFFER:36161,RENDERBUFFER_ALPHA_SIZE:36179,RENDERBUFFER_BINDING:36007,
RENDERBUFFER_BLUE_SIZE:36178,RENDERBUFFER_DEPTH_SIZE:36180,RENDERBUFFER_GREEN_SIZE:36177,RENDERBUFFER_HEIGHT:36163,RENDERBUFFER_INTERNAL_FORMAT:36164,RENDERBUFFER_RED_SIZE:36176,RENDERBUFFER_STENCIL_SIZE:36181,RENDERBUFFER_WIDTH:36162,RENDERER:7937,REPEAT:10497,REPLACE:7681,RGB:6407,RGB5_A1:32855,RGB565:36194,RGBA:6408,RGBA4:32854,SAMPLER_2D:35678,SAMPLER_CUBE:35680,SAMPLES:32937,SAMPLE_ALPHA_TO_COVERAGE:32926,SAMPLE_BUFFERS:32936,SAMPLE_COVERAGE:32928,SAMPLE_COVERAGE_INVERT:32939,SAMPLE_COVERAGE_VALUE:32938,
SCISSOR_BOX:3088,SCISSOR_TEST:3089,SHADER_COMPILER:36346,SHADER_SOURCE_LENGTH:35720,SHADER_TYPE:35663,SHADING_LANGUAGE_VERSION:35724,SHORT:5122,SRC_ALPHA:770,SRC_ALPHA_SATURATE:776,SRC_COLOR:768,STATIC_DRAW:35044,STENCIL_ATTACHMENT:36128,STENCIL_BACK_FAIL:34817,STENCIL_BACK_FUNC:34816,STENCIL_BACK_PASS_DEPTH_FAIL:34818,STENCIL_BACK_PASS_DEPTH_PASS:34819,STENCIL_BACK_REF:36003,STENCIL_BACK_VALUE_MASK:36004,STENCIL_BACK_WRITEMASK:36005,STENCIL_BITS:3415,STENCIL_BUFFER_BIT:1024,STENCIL_CLEAR_VALUE:2961,
STENCIL_FAIL:2964,STENCIL_FUNC:2962,STENCIL_INDEX:6401,STENCIL_INDEX8:36168,STENCIL_PASS_DEPTH_FAIL:2965,STENCIL_PASS_DEPTH_PASS:2966,STENCIL_REF:2967,STENCIL_TEST:2960,STENCIL_VALUE_MASK:2963,STENCIL_WRITEMASK:2968,STREAM_DRAW:35040,SUBPIXEL_BITS:3408,TEXTURE:5890,TEXTURE0:33984,TEXTURE1:33985,TEXTURE2:33986,TEXTURE3:33987,TEXTURE4:33988,TEXTURE5:33989,TEXTURE6:33990,TEXTURE7:33991,TEXTURE8:33992,TEXTURE9:33993,TEXTURE10:33994,TEXTURE11:33995,TEXTURE12:33996,TEXTURE13:33997,TEXTURE14:33998,TEXTURE15:33999,
TEXTURE16:34E3,TEXTURE17:34001,TEXTURE18:34002,TEXTURE19:34003,TEXTURE20:34004,TEXTURE21:34005,TEXTURE22:34006,TEXTURE23:34007,TEXTURE24:34008,TEXTURE25:34009,TEXTURE26:34010,TEXTURE27:34011,TEXTURE28:34012,TEXTURE29:34013,TEXTURE30:34014,TEXTURE31:34015,TEXTURE_2D:3553,TEXTURE_BINDING_2D:32873,TEXTURE_BINDING_CUBE_MAP:34068,TEXTURE_CUBE_MAP:34067,TEXTURE_CUBE_MAP_NEGATIVE_X:34070,TEXTURE_CUBE_MAP_NEGATIVE_Y:34072,TEXTURE_CUBE_MAP_NEGATIVE_Z:34074,TEXTURE_CUBE_MAP_POSITIVE_X:34069,TEXTURE_CUBE_MAP_POSITIVE_Y:34071,
TEXTURE_CUBE_MAP_POSITIVE_Z:34073,TEXTURE_MAG_FILTER:10240,TEXTURE_MIN_FILTER:10241,TEXTURE_WRAP_S:10242,TEXTURE_WRAP_T:10243,TRIANGLES:4,TRIANGLE_FAN:6,TRIANGLE_STRIP:5,UNPACK_ALIGNMENT:3317,UNPACK_COLORSPACE_CONVERSION_WEBGL:37443,UNPACK_FLIP_Y_WEBGL:37440,UNPACK_PREMULTIPLY_ALPHA_WEBGL:37441,UNSIGNED_BYTE:5121,UNSIGNED_INT:5125,UNSIGNED_SHORT:5123,UNSIGNED_SHORT_4_4_4_4:32819,UNSIGNED_SHORT_5_5_5_1:32820,UNSIGNED_SHORT_5_6_5:33635,VALIDATE_STATUS:35715,VENDOR:7936,VERSION:7938,VERTEX_ATTRIB_ARRAY_BUFFER_BINDING:34975,
VERTEX_ATTRIB_ARRAY_ENABLED:34338,VERTEX_ATTRIB_ARRAY_NORMALIZED:34922,VERTEX_ATTRIB_ARRAY_POINTER:34373,VERTEX_ATTRIB_ARRAY_SIZE:34339,VERTEX_ATTRIB_ARRAY_STRIDE:34340,VERTEX_ATTRIB_ARRAY_TYPE:34341,VERTEX_SHADER:35633,VIEWPORT:2978,ZERO:0}})},"esri/layers/support/LOD":function(){define(["../../core/lang","../../core/JSONSupport"],function(b,h){var l=h.createSubclass({declaredClass:"esri.layers.support.LOD",level:null,levelValue:null,resolution:null,scale:null,clone:function(){return new l({level:this.level,
levelValue:this.levelValue,resolution:this.resolution,scale:this.scale})},toJSON:function(){return b.fixJson({level:this.level,levelValue:this.levelValue,resolution:this.resolution,scale:this.scale})}});return l})},"dijit/form/_CheckBoxMixin":function(){define(["dojo/_base/declare","dojo/dom-attr"],function(b,h){return b("dijit.form._CheckBoxMixin",null,{type:"checkbox",value:"on",readOnly:!1,_aria_attr:"aria-checked",_setReadOnlyAttr:function(b){this._set("readOnly",b);h.set(this.focusNode,"readOnly",
b)},_setLabelAttr:void 0,_getSubmitValue:function(b){return null==b||""===b?"on":b},_setValueAttr:function(b){b=this._getSubmitValue(b);this._set("value",b);h.set(this.focusNode,"value",b)},reset:function(){this.inherited(arguments);this._set("value",this._getSubmitValue(this.params.value));h.set(this.focusNode,"value",this.value)},_onClick:function(b){return this.readOnly?(b.stopPropagation(),b.preventDefault(),!1):this.inherited(arguments)}})})},"dojo/html":function(){define("./_base/kernel ./_base/lang ./_base/array ./_base/declare ./dom ./dom-construct ./parser".split(" "),
function(b,h,l,m,g,e,d){var c=0,a={_secureForInnerHtml:function(a){return a.replace(/(?:\s*<!DOCTYPE\s[^>]+>|<title[^>]*>[\s\S]*?<\/title>)/ig,"")},_emptyNode:e.empty,_setNodeContent:function(a,b){e.empty(a);if(b)if("string"==typeof b&&(b=e.toDom(b,a.ownerDocument)),!b.nodeType&&h.isArrayLike(b))for(var c=b.length,d=0;d<b.length;d=c==b.length?d+1:0)e.place(b[d],a,"last");else e.place(b,a,"last");return a},_ContentSetter:m("dojo.html._ContentSetter",null,{node:"",content:"",id:"",cleanContent:!1,extractContent:!1,
parseContent:!1,parserScope:b._scopeName,startup:!0,constructor:function(a,b){h.mixin(this,a||{});b=this.node=g.byId(this.node||b);this.id||(this.id=["Setter",b?b.id||b.tagName:"",c++].join("_"))},set:function(a,b){void 0!==a&&(this.content=a);b&&this._mixin(b);this.onBegin();this.setContent();var c=this.onEnd();return c&&c.then?c:this.node},setContent:function(){var b=this.node;if(!b)throw Error(this.declaredClass+": setContent given no node");try{b=a._setNodeContent(b,this.content)}catch(c){var d=
this.onContentError(c);try{b.innerHTML=d}catch(e){console.error("Fatal "+this.declaredClass+".setContent could not change content due to "+e.message,e)}}this.node=b},empty:function(){this.parseDeferred&&(this.parseDeferred.isResolved()||this.parseDeferred.cancel(),delete this.parseDeferred);this.parseResults&&this.parseResults.length&&(l.forEach(this.parseResults,function(a){a.destroy&&a.destroy()}),delete this.parseResults);e.empty(this.node)},onBegin:function(){var b=this.content;if(h.isString(b)&&
(this.cleanContent&&(b=a._secureForInnerHtml(b)),this.extractContent)){var c=b.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);c&&(b=c[1])}this.empty();this.content=b;return this.node},onEnd:function(){this.parseContent&&this._parse();return this.node},tearDown:function(){delete this.parseResults;delete this.parseDeferred;delete this.node;delete this.content},onContentError:function(a){return"Error occurred setting content: "+a},onExecError:function(a){return"Error occurred executing scripts: "+a},
_mixin:function(a){var b={},c;for(c in a)c in b||(this[c]=a[c])},_parse:function(){var a=this.node;try{var b={};l.forEach(["dir","lang","textDir"],function(a){this[a]&&(b[a]=this[a])},this);var c=this;this.parseDeferred=d.parse({rootNode:a,noStart:!this.startup,inherited:b,scope:this.parserScope}).then(function(a){return c.parseResults=a},function(a){c._onError("Content",a,"Error parsing in _ContentSetter#"+this.id)})}catch(e){this._onError("Content",e,"Error parsing in _ContentSetter#"+this.id)}},
_onError:function(b,c,d){b=this["on"+b+"Error"].call(this,c);d?console.error(d,c):b&&a._setNodeContent(this.node,b,!0)}}),set:function(b,c,d){void 0==c&&(console.warn("dojo.html.set: no cont argument provided, using empty string"),c="");return d?(new a._ContentSetter(h.mixin(d,{content:c,node:b}))).set():a._setNodeContent(b,c,!0)}};h.setObject("dojo.html",a);return a})},"esri/widgets/PopupLegacy/PopupTemplate":function(){define("../../core/declare dojo/_base/lang dojo/has dojo/dom-construct ../../kernel ./InfoTemplate ./PopupInfo ./PopupRenderer".split(" "),
function(b,h,l,m,g,e,d,c){return b([e,d],{declaredClass:"esri.widgets.PopupTemplate","-chains-":{constructor:"manual"},chartTheme:null,constructor:function(a,b){h.mixin(this,b);this.initialize(a,b)},getTitle:function(a){var b;this.info&&(b=this.titleHasRelatedFields?"":this._getPopupValues(a,!0).title);return b||""},getContent:function(a){return this.info?(new c({template:this,graphic:a,chartTheme:this.chartTheme},m.create("div"))).domNode:""}})})},"dojo/dom-style":function(){define(["./sniff","./dom"],
function(b,h){function l(a,c,d){c=c.toLowerCase();if(b("ie")||b("trident")){if("auto"==d){if("height"==c)return a.offsetHeight;if("width"==c)return a.offsetWidth}if("fontweight"==c)switch(d){case 700:return"bold";default:return"normal"}}c in k||(k[c]=p.test(c));return k[c]?e(a,d):d}var m,g={};m=b("webkit")?function(a){var b;if(1==a.nodeType){var c=a.ownerDocument.defaultView;b=c.getComputedStyle(a,null);!b&&a.style&&(a.style.display="",b=c.getComputedStyle(a,null))}return b||{}}:b("ie")&&(9>b("ie")||
b("quirks"))?function(a){return 1==a.nodeType&&a.currentStyle?a.currentStyle:{}}:function(a){return 1==a.nodeType?a.ownerDocument.defaultView.getComputedStyle(a,null):{}};g.getComputedStyle=m;var e;e=b("ie")?function(a,b){if(!b)return 0;if("medium"==b)return 4;if(b.slice&&"px"==b.slice(-2))return parseFloat(b);var c=a.style,d=a.runtimeStyle,e=c.left,g=d.left;d.left=a.currentStyle.left;try{c.left=b,b=c.pixelLeft}catch(h){b=0}c.left=e;d.left=g;return b}:function(a,b){return parseFloat(b)||0};g.toPixelValue=
e;var d=function(a,b){try{return a.filters.item("DXImageTransform.Microsoft.Alpha")}catch(c){return b?{}:null}},c=9>b("ie")||10>b("ie")&&b("quirks")?function(a){try{return d(a).Opacity/100}catch(b){return 1}}:function(a){return m(a).opacity},a=9>b("ie")||10>b("ie")&&b("quirks")?function(b,c){""===c&&(c=1);var e=100*c;1===c?(b.style.zoom="",d(b)&&(b.style.filter=b.style.filter.replace(/\s*progid:DXImageTransform.Microsoft.Alpha\([^\)]+?\)/i,""))):(b.style.zoom=1,d(b)?d(b,1).Opacity=e:b.style.filter+=
" progid:DXImageTransform.Microsoft.Alpha(Opacity\x3d"+e+")",d(b,1).Enabled=!0);if("tr"==b.tagName.toLowerCase())for(e=b.firstChild;e;e=e.nextSibling)"td"==e.tagName.toLowerCase()&&a(e,c);return c}:function(a,b){return a.style.opacity=b},k={left:!0,top:!0},p=/margin|padding|width|height|max|min|offset/,n={cssFloat:1,styleFloat:1,"float":1};g.get=function(a,b){var d=h.byId(a),e=arguments.length;if(2==e&&"opacity"==b)return c(d);b=n[b]?"cssFloat"in d.style?"cssFloat":"styleFloat":b;var k=g.getComputedStyle(d);
return 1==e?k:l(d,b,k[b]||d.style[b])};g.set=function(b,c,d){var e=h.byId(b),k=arguments.length,l="opacity"==c;c=n[c]?"cssFloat"in e.style?"cssFloat":"styleFloat":c;if(3==k)return l?a(e,d):e.style[c]=d;for(var m in c)g.set(b,m,c[m]);return g.getComputedStyle(e)};return g})},"esri/views/3d/lib/SunCalc":function(){define([],function(){function b(a){return new Date((a+0.5-q)*u)}function h(b,c){return a(e(c)*d(v)+d(c)*e(v)*e(b))}function l(a,b){var f=n*(357.5291+0.98560028*a),l=n*(1.9148*e(f)+0.02*e(2*
f)+3E-4*e(3*f)),f=f+l+102.9372*n+g;b||(b={dec:0,ra:0});b.dec=h(f,0);b.ra=k(e(f)*d(v)-c(0)*e(v),d(f));return b}function m(a){var b=n*(134.963+13.064993*a),f=n*(93.272+13.22935*a);a=n*(218.316+13.176396*a)+6.289*n*e(b);f=5.128*n*e(f);b=385001-20905*d(b);return{ra:k(e(a)*d(v)-c(f)*e(v),d(a)),dec:h(a,f),dist:b}}var g=Math.PI,e=Math.sin,d=Math.cos,c=Math.tan,a=Math.asin,k=Math.atan2,p=Math.acos,n=g/180,u=864E5,q=2440588,t=2451545,r={dec:0,ra:0},v=23.4397*n,x={POLAR_EXCEPTION:{NORMAL:0,MIDNIGHT_SUN:1,POLAR_NIGHT:2},
getPosition:function(b,f,g,h){g=n*-g;f*=n;var m=b.valueOf()/u-0.5+q-t;b=l(m,r);g=n*(280.16+360.9856235*m)-g-b.ra;h||(h={azimuth:0,altitude:0});h.azimuth=k(e(g),d(g)*e(f)-c(b.dec)*d(f));h.altitude=a(e(f)*e(b.dec)+d(f)*d(b.dec)*d(g));return h}},w=[[-0.83,"sunrise","sunset"]];x.addTime=function(a,b,c){w.push([a,b,c])};var f=9E-4;x.getTimes=function(a,c,k){function l(a){a=p((e(a)-e(r)*e(M))/(d(r)*d(M)));return t+(f+(a+m)/(2*g)+v)+0.0053*e(G)-0.0069*e(2*Q)}var m=n*-k,r=n*c,v=Math.round(a.valueOf()/u-0.5+
q-t-f-m/(2*g));a=f+(0+m)/(2*g)+v;var G=n*(357.5291+0.98560028*a);c=n*(1.9148*e(G)+0.02*e(2*G)+3E-4*e(3*G));var Q=G+c+102.9372*n+g,M=h(Q,0);a=t+a+0.0053*e(G)-0.0069*e(2*Q);c={solarNoon:b(a),nadir:b(a-0.5),polarException:x.POLAR_EXCEPTION.NORMAL};var T,K,C,D;k=0;for(T=w.length;k<T;k+=1)K=w[k],C=l(K[0]*n),D=a-(C-a),c[K[1]]=b(D),c[K[2]]=b(C);c.polarException=function(a){a=(e(a)-e(r)*e(M))/(d(r)*d(M));return-1>a?x.POLAR_EXCEPTION.MIDNIGHT_SUN:1<a?x.POLAR_EXCEPTION.POLAR_NIGHT:x.POLAR_EXCEPTION.NORMAL}(w[0][0]*
n);return c};x.getMoonPosition=function(b,f,g){g=n*-g;f*=n;var h=b.valueOf()/u-0.5+q-t;b=m(h);g=n*(280.16+360.9856235*h)-g-b.ra;h=a(e(f)*e(b.dec)+d(f)*d(b.dec)*d(g));h+=0.017*n/c(h+10.26*n/(h+5.1*n));return{azimuth:k(e(g),d(g)*e(f)-c(b.dec)*d(f)),altitude:h,distance:b.dist}};x.getMoonFraction=function(a){var b=a.valueOf()/u-0.5+q-t;a=l(b);b=m(b);a=p(e(a.dec)*e(b.dec)+d(a.dec)*d(b.dec)*d(a.ra-b.ra));a=k(149598E3*e(a),b.dist-149598E3*d(a));return(1+d(a))/2};return x})},"esri/symbols/LineSymbol3D":function(){define(["../core/declare",
"./Symbol3D"],function(b,h){var l=b(h,{declaredClass:"esri.symbol.LineSymbol3D",type:"LineSymbol3D",_allowedLayerTypes:["Line","Path","Label"]});l.fromJSON=function(b){var g=new l;g.read(b);return g};return l})},"dojo/Stateful":function(){define(["./_base/declare","./_base/lang","./_base/array","./when"],function(b,h,l,m){return b("dojo.Stateful",null,{_attrPairNames:{},_getAttrNames:function(b){var e=this._attrPairNames;return e[b]?e[b]:e[b]={s:"_"+b+"Setter",g:"_"+b+"Getter"}},postscript:function(b){b&&
this.set(b)},_get:function(b,e){return"function"===typeof this[e.g]?this[e.g]():this[b]},get:function(b){return this._get(b,this._getAttrNames(b))},set:function(b,e){if("object"===typeof b){for(var d in b)b.hasOwnProperty(d)&&"_watchCallbacks"!=d&&this.set(d,b[d]);return this}d=this._getAttrNames(b);var c=this._get(b,d);d=this[d.s];var a;"function"===typeof d?a=d.apply(this,Array.prototype.slice.call(arguments,1)):this[b]=e;if(this._watchCallbacks){var h=this;m(a,function(){h._watchCallbacks(b,c,
e)})}return this},_changeAttrValue:function(b,e){var d=this.get(b);this[b]=e;this._watchCallbacks&&this._watchCallbacks(b,d,e);return this},watch:function(b,e){var d=this._watchCallbacks;if(!d)var c=this,d=this._watchCallbacks=function(a,b,e,g){var h=function(d){if(d){d=d.slice();for(var g=0,h=d.length;g<h;g++)d[g].call(c,a,b,e)}};h(d["_"+a]);g||h(d["*"])};!e&&"function"===typeof b?(e=b,b="*"):b="_"+b;var a=d[b];"object"!==typeof a&&(a=d[b]=[]);a.push(e);var h={};h.unwatch=h.remove=function(){var b=
l.indexOf(a,e);-1<b&&a.splice(b,1)};return h}})})},"dojo/dnd/autoscroll":function(){define("../_base/lang ../sniff ../_base/window ../dom-geometry ../dom-style ../window".split(" "),function(b,h,l,m,g,e){var d={};b.setObject("dojo.dnd.autoscroll",d);d.getViewport=e.getBox;d.V_TRIGGER_AUTOSCROLL=32;d.H_TRIGGER_AUTOSCROLL=32;d.V_AUTOSCROLL_VALUE=16;d.H_AUTOSCROLL_VALUE=16;var c,a=l.doc,k=Infinity,p=Infinity;d.autoScrollStart=function(b){a=b;c=e.getBox(a);b=l.body(a).parentNode;k=Math.max(b.scrollHeight-
c.h,0);p=Math.max(b.scrollWidth-c.w,0)};d.autoScroll=function(b){var g=c||e.getBox(a),h=l.body(a).parentNode,m=0,r=0;b.clientX<d.H_TRIGGER_AUTOSCROLL?m=-d.H_AUTOSCROLL_VALUE:b.clientX>g.w-d.H_TRIGGER_AUTOSCROLL&&(m=Math.min(d.H_AUTOSCROLL_VALUE,p-h.scrollLeft));b.clientY<d.V_TRIGGER_AUTOSCROLL?r=-d.V_AUTOSCROLL_VALUE:b.clientY>g.h-d.V_TRIGGER_AUTOSCROLL&&(r=Math.min(d.V_AUTOSCROLL_VALUE,k-h.scrollTop));window.scrollBy(m,r)};d._validNodes={div:1,p:1,td:1};d._validOverflow={auto:1,scroll:1};d.autoScrollNodes=
function(a){for(var b,c,e,k,p,x,w=0,f=0,s=a.target;s;){if(1==s.nodeType&&s.tagName.toLowerCase()in d._validNodes){e=g.getComputedStyle(s);k=e.overflow.toLowerCase()in d._validOverflow;p=e.overflowX.toLowerCase()in d._validOverflow;x=e.overflowY.toLowerCase()in d._validOverflow;if(k||p||x)b=m.getContentBox(s,e),c=m.position(s,!0);if(k||p){e=Math.min(d.H_TRIGGER_AUTOSCROLL,b.w/2);p=a.pageX-c.x;if(h("webkit")||h("opera"))p+=l.body().scrollLeft;w=0;0<p&&p<b.w&&(p<e?w=-e:p>b.w-e&&(w=e),s.scrollLeft+=w)}if(k||
x){k=Math.min(d.V_TRIGGER_AUTOSCROLL,b.h/2);x=a.pageY-c.y;if(h("webkit")||h("opera"))x+=l.body().scrollTop;f=0;0<x&&x<b.h&&(x<k?f=-k:x>b.h-k&&(f=k),s.scrollTop+=f)}if(w||f)return}try{s=s.parentNode}catch(z){s=null}}d.autoScroll(a)};return d})},"esri/views/BasemapView":function(){define(["../core/declare","../core/Accessor","../core/Collection"],function(b,h,l){return b([h],{declaredClass:"esri.views.BasemapView",classMetadata:{properties:{view:{},suspended:{readOnly:!0,dependsOn:["view.suspended"]}},
computed:{baseLayerViews:["view.map.basemap.baseLayers"],referenceLayerViews:["view.map.basemap.referenceLayers"],elevationLayerViews:["view.map.basemap.elevationLayers"]}},constructor:function(){this._handles={};this._lyrColHandler=this._lyrColHandler.bind(this)},destroy:function(){this.view=null},_suspendedGetter:function(){return this.view?this.view.suspended:!0},_baseLayerViewsGetter:function(b){return this._lyrsToLyrViews("baseLayers",b)},_referenceLayerViewsGetter:function(b){return this._lyrsToLyrViews("referenceLayers",
b)},_elevationLayerViewsGetter:function(b){return this._lyrsToLyrViews("elevationLayers",b)},_lyrsToLyrViews:function(b,g){var e=this.get("view.map.basemap."+b);this._handles[b]&&(this._handles[b].remove(),this._handles[b]=null,this._clearViews(g));g||(g=new l);e&&(this._addAll(e),this._handles[b]=e.on("change",this._lyrColHandler));return g},_clearViews:function(b){b.drain(function(b){b.view.factory.dispose(b);b.set("parent",null)},this)},_addAll:function(b){b.forEach(function(g){this._createLyrView(b,
g)},this)},_createLyrView:function(b,g){this.view.factory.create(g).then(function(e){if(this.view&&-1<b.indexOf(g)&&-1===this._getViewsCol(b).indexOf(e)){var d=this._getLyrViewIdxCandidate(b,g);e.set({parent:this,layer:g});this._getViewsCol(b).addItem(e,d)}}.bind(this),function(b){b=!b?{}:b.message?b:b.error;b.message&&-1===b.message.indexOf("No LayerView module")&&console.error(b)}.bind(this))},_removeLyrView:function(b,g){var e=this.view,d=this._getViewsCol(b),c=d.findIndex(function(a){return a.layer===
g});if(-1<c){var a=d.getItemAt(c);d.removeItemAt(c);e.factory.dispose(a);a.set("parent",null)}},_reorderLyrView:function(b,g,e){b=this._getViewsCol(b);var d=b.find(function(b){return b.layer===g});d&&b.moveItem(d,e)},_getLyrViewIdxCandidate:function(b,g){var e=this._getViewsCol(b),d=b.indexOf(g),d=e.findIndex(function(c){return b.indexOf(c.layer)>d});return-1<d?d:e.length},_lyrColHandler:function(b){var g=b.target;b.added.forEach(function(b){this._createLyrView(g,b)},this);b.removed.forEach(function(b){this._removeLyrView(g,
b)},this);b.moved.forEach(function(b){this._reorderLyrView(g,b,g.indexOf(b))},this)},_getViewsCol:function(b){var g=this.get("view.map.basemap");if(b===g.baseLayers)return this.baseLayerViews;if(b===g.referenceLayers)return this.referenceLayerViews;if(b===g.elevationLayers)return this.elevationLayerViews}})})},"esri/layers/ArcGISElevationLayer":function(){define("../core/declare dojo/_base/lang ./TiledLayer ./mixins/ArcGISMapService ./mixins/ArcGISCachedService ../request".split(" "),function(b,h,
l,m,g,e){return b([l,m,g],{declaredClass:"esri.layers.ArcGISElevationLayer",normalizeCtorArgs:function(b,c){return"string"===typeof b?h.mixin({},{url:b},c):b},initialize:function(){this.addResolvingPromise(this._fetchImageService())},viewModulePaths:{"3d":"../views/3d/layers/ElevationLayerView3D"},_fetchImageService:function(){return e({url:this.parsedUrl.path,content:h.mixin({f:"json"},this.parsedUrl.query),handleAs:"json",callbackParamName:"callback"}).then(function(b){b._ssl&&(delete b._ssl,this.url=
this.url.replace(/^http:/i,"https:"));this.read(b)}.bind(this))}})})},"esri/views/3d/webgl-engine/lib/GeometryData":function(){define([],function(){var b=0,h=function(h,m){var g=b++;this.getFaces=function(){return h};this.getVertexAttr=function(){return m};this.getId=function(){return g};this.estimateGpuMemoryUsage=function(){var b=0,d;for(d in h){var c=3;h[d].indices.normal&&(c+=3);h[d].indices.uv0&&(c+=2);h[d].indices.color&&c++;b+=4*h[d].indices.position.length*c}return b}};h.getNewId=function(){return b++};
h.AxisOrder={CG:0,GIS:1};return h})},"esri/views/3d/webgl-engine/lib/IntervalUtilities":function(){define([],function(){return{copyIntervals:function(b){for(var h=[],l=0;l<b.length;l++){var m=b[l];h.push([m[0],m[1]])}return h},convertFaceToIndexRange:function(b,h){for(var l=0;l<b.length;l++){var m=b[l];m[0]*=h;m[1]=m[1]*h+(h-1)}},sortIntervals:function(b){return b.sort(function(b,l){return b[0]==l[0]?b[1]>l[1]?1:b[1]<l[1]?-1:0:b[0]>l[0]?1:b[0]<l[0]?-1:0})},intersectIntervals:function(b,h){if(0>=b.length)return[];
for(var l=[],m=0;m<b.length;m++){var g=b[m];g[1]<h[0]||g[0]>h[1]||(g=[g[0],g[1]],g[0]<h[0]&&(g[0]=h[0]),g[1]>h[1]&&(g[1]=h[1]),l.push(g))}return l},mergeIntervals:function(b){if(0>=b.length)return[];var h=[];b=this.sortIntervals(b);h.push(b[0]);for(var l=1;l<b.length;l++){var m=h[h.length-1];m[1]+1<b[l][0]?h.push(b[l]):m[1]<b[l][1]&&(m[1]=b[l][1],h.pop(),h.push(m))}return h},invertIntervals:function(b,h){for(var l=[],m=0,g=0;g<b.length;g++){var e=b[g];e[0]>m&&l.push([m,e[0]-1]);m=e[1]+1}m<=h&&l.push([m,
h]);return l},offsetIntervals:function(b,h){for(var l=[],m=0;m<b.length;m++){var g=b[m];l.push([g[0]+h,g[1]+h])}return l}}})},"dijit/layout/utils":function(){define(["dojo/_base/array","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/lang"],function(b,h,l,m,g){function e(b,a){var d=b.resize?b.resize(a):l.setMarginBox(b.domNode,a);d?g.mixin(b,d):(g.mixin(b,l.getMarginBox(b.domNode)),g.mixin(b,a))}var d={marginBox2contentBox:function(b,a){var d=m.getComputedStyle(b),e=l.getMarginExtents(b,
d),g=l.getPadBorderExtents(b,d);return{l:m.toPixelValue(b,d.paddingLeft),t:m.toPixelValue(b,d.paddingTop),w:a.w-(e.w+g.w),h:a.h-(e.h+g.h)}},layoutChildren:function(c,a,d,l,m){a=g.mixin({},a);h.add(c,"dijitLayoutContainer");d=b.filter(d,function(a){return"center"!=a.region&&"client"!=a.layoutAlign}).concat(b.filter(d,function(a){return"center"==a.region||"client"==a.layoutAlign}));b.forEach(d,function(b){var c=b.domNode,d=b.region||b.layoutAlign;if(!d)throw Error("No region setting for "+b.id);var g=
c.style;g.left=a.l+"px";g.top=a.t+"px";g.position="absolute";h.add(c,"dijitAlign"+(d.substring(0,1).toUpperCase()+d.substring(1)));c={};l&&l==b.id&&(c["top"==b.region||"bottom"==b.region?"h":"w"]=m);"leading"==d&&(d=b.isLeftToRight()?"left":"right");"trailing"==d&&(d=b.isLeftToRight()?"right":"left");"top"==d||"bottom"==d?(c.w=a.w,e(b,c),a.h-=b.h,"top"==d?a.t+=b.h:g.top=a.t+a.h+"px"):"left"==d||"right"==d?(c.h=a.h,e(b,c),a.w-=b.w,"left"==d?a.l+=b.w:g.left=a.l+a.w+"px"):("client"==d||"center"==d)&&
e(b,a)})}};g.setObject("dijit.layout.utils",d);return d})},"dojo/has":function(){define(["require","module"],function(b,h){var l=b.has||function(){};if(!l("dojo-has-api")){var m="undefined"!=typeof window&&"undefined"!=typeof location&&"undefined"!=typeof document&&window.location==location&&window.document==document,g=function(){return this}(),e=m&&document,d=e&&e.createElement("DiV"),c=h.config&&h.config()||{},l=function(a){return"function"==typeof c[a]?c[a]=c[a](g,e,d):c[a]};l.cache=c;l.add=function(a,
b,d,e){("undefined"==typeof c[a]||e)&&(c[a]=b);return d&&l(a)}}l.add("dom-addeventlistener",!!document.addEventListener);l.add("touch","ontouchstart"in document||"onpointerdown"in document&&0<navigator.maxTouchPoints||window.navigator.msMaxTouchPoints);l.add("touch-events","ontouchstart"in document);l.add("pointer-events","onpointerdown"in document);l.add("MSPointer","msMaxTouchPoints"in navigator);l.add("device-width",screen.availWidth||innerWidth);m=document.createElement("form");l.add("dom-attributes-explicit",
0==m.attributes.length);l.add("dom-attributes-specified-flag",0<m.attributes.length&&40>m.attributes.length);l.clearElement=function(a){a.innerHTML="";return a};l.normalize=function(a,b){var c=a.match(/[\?:]|[^:\?]*/g),d=0,e=function(a){var b=c[d++];if(":"==b)return 0;if("?"==c[d++]){if(!a&&l(b))return e();e(!0);return e(a)}return b||0};return(a=e())&&b(a)};l.load=function(a,b,c){a?b([a],c):c()};return l})},"esri/tasks/support/ImageServiceIdentifyParameters":function(){define(["../../core/declare",
"../../core/Accessor","../../core/lang","../../geometry/support/jsonUtils"],function(b,h,l,m){return b(h,{declaredClass:"esri.tasks.ImageServiceIdentifyParameters",geometry:null,mosaicRule:null,noData:null,renderingRule:null,pixelSizeX:null,pixelSizeY:null,pixelSize:null,returnGeometry:!1,returnCatalogItems:!0,timeExtent:null,toJson:function(b){try{throw Error("toJson is deprecated, use toJSON instead");}catch(e){console.warn(e.stack)}return this.toJSON(b)},toJSON:function(b){var e=b&&b.geometry||
this.geometry;b={geometry:e,returnGeometry:this.returnGeometry,returnCatalogItems:this.returnCatalogItems,mosaicRule:this.mosaicRule?JSON.stringify(this.mosaicRule.toJSON()):null,renderingRule:this.renderingRule?JSON.stringify(this.renderingRule.toJSON()):null};e&&(b.geometryType=m.getJsonType(e));e=this.timeExtent;b.time=e?e.toJSON().join(","):null;l.isDefined(this.pixelSizeX)&&l.isDefined(this.pixelSizeY)?b.pixelSize=JSON.stringify({x:parseFloat(this.pixelSizeX),y:parseFloat(this.pixelSizeY)}):
this.pixelSize&&(b.pixelSize=this.pixelSize?JSON.stringify(this.pixelSize.toJSON()):null);return b}})})},"esri/core/Evented":function(){define(["./declare","dojo/Evented"],function(b,h){return b(h,{declaredClass:"esri.Evented",hasEventListener:function(b){b="on"+b;return!(!this[b]||!this[b].after)},emit:function(b,h){if(this.hasEventListener(b))return h=h||{},h.target||(h.target=this),this.inherited(arguments,[b,h])}})})},"esri/core/urlUtils":function(){define("dojo/_base/lang dojo/_base/url dojo/io-query ../kernel ../config ./sniff".split(" "),
function(b,h,l,m,g,e){var d={},c=g.request,a=m.appUrl.scheme+":";"file:"===a&&(a="http:");var k={};d.corsServersUrlCache=k;d.burstUrlCache=function(){d.corsServersUrlCache=k={}};d._toURL=function(a){if("string"===typeof a)return new h(d.getAbsoluteUrl(a));a.scheme||(a.scheme=m.appUrl.scheme);return a};d.urlToObject=function(a){var b={},c=new h(a),d=a.indexOf("?");null===c.query?b={path:a,query:null}:(b.path=a.substring(0,d),b.query=l.queryToObject(c.query));c.fragment&&(b.hash=c.fragment,null===c.query&&
(b.path=b.path.substring(0,b.path.length-(c.fragment.length+1))));return b};d.getProxyUrl=function(a,e){var g=b.isString(a)?0===b.trim(a).toLowerCase().indexOf("https:"):a,h=c.proxyUrl,k,l;if(b.isString(a)&&(l=d.getProxyRule(a)))h=l.proxyUrl;if(!h)throw console.log("esriConfig.request.proxyUrl is not set. If making a request to a CORS enabled server, please push the domain into esriConfig.request.corsEnabledServers."),Error("esriConfig.request.proxyUrl is not set. If making a request to a CORS enabled server, please push the domain into esriConfig.request.corsEnabledServers.");
g&&(!1!==e&&"https"===m.appUrl.scheme)&&(g=h,0!==g.toLowerCase().indexOf("http")&&(g=d.getAbsoluteUrl(g)),g=g.replace(/^http:/i,"https:"),d.canUseXhr(g)&&(h=g,k=1));h=d.urlToObject(h);h._xo=k;return h};d.addProxy=function(a){var e=d.getProxyRule(a),g;e?g=d.urlToObject(e.proxyUrl):c.forceProxy&&(g=d.getProxyUrl());g&&(e=d.urlToObject(a),a=g.path+"?"+e.path,(g=l.objectToQuery(b.mixin(g.query||{},e.query)))&&(a+="?"+g));return a};d.addProxyRule=function(a){var b=d.urlToObject(a.urlPrefix).path.replace(/([^\/])$/,
"$1/").replace(/^https?:\/\//ig,"").toLowerCase(),e=c.proxyRules,g,h=e.length,k,l=h;a.urlPrefix=b;for(g=0;g<h;g++){k=e[g].urlPrefix;if(0===b.indexOf(k)){if(b.length===k)return-1;l=g;break}0===k.indexOf(b)&&(l=g+1)}e.splice(l,0,a);return l};d.getProxyRule=function(a){var b=c.proxyRules,e=b.length,g=d.urlToObject(a).path.replace(/([^\/])$/,"$1/").replace(/^https?:\/\//ig,"").toLowerCase(),h;for(a=0;a<e;a++)if(0===g.indexOf(b[a].urlPrefix)){h=b[a];break}return h};d.hasSameOrigin=function(a,b,c){a=d._toURL(a);
b=d._toURL(b);return(c||a.scheme===b.scheme)&&a.host.toUpperCase()===b.host.toUpperCase()&&a.port===b.port};d.canUseXhr=function(a,g){var k=!!e("esri-phonegap"),l=d.hasSameOrigin,t=c.corsEnabledServers||[],r,v,x,w,f,s=-1;b.isString(a)&&(a=a.toLowerCase(),a=0===a.indexOf("http")?new h(a):m.appUrl);if(!k&&e("esri-cors")){v=0;for(x=t.length;v<x;v++){r=t[v];w=d.corsServersUrlCache;w[r]||(0!==b.trim(r).toLowerCase().indexOf("http")?w[r]=[new h("http://"+r),new h("https://"+r)]:w[r]=[new h(r)]);r=w[r];
w=0;for(f=r.length;w<f;w++)if(l(a,r[w])){s=v;k=!0;break}}}return g?s:k};d.getAbsoluteUrl=function(c){return b.isString(c)&&!/^https?:\/\//i.test(c)?0===c.indexOf("//")?a+c:0===c.indexOf("/")?a+"//"+m.appUrl.host+(m.appUrl.port?":"+m.appUrl.port:"")+c:m._appBaseUrl+c:c};d.fixUrl=function(a){return d._ensureProtocol(a).replace(/^(https?:\/\/)(arcgis\.com)/i,"$1www.$2")};d.normalize=function(a){a=d._ensureProtocol(a);return a=d._ensureProperProtocolForAGOResource(a)};d._ensureProtocol=function(a){var b;
if(!a)return a;/^\/\//i.test(a)&&(b=m.appUrl.scheme,a=("file"===b?"https":b)+":"+a);return a};d._ensureProperProtocolForAGOResource=function(a){return"https"===m.appUrl.scheme&&(/^http\:\/\/server\.arcgisonline\.com(?!:)/i.test(a)||/^http\:\/\/services\.arcgisonline\.com(?!:)/i.test(a)||/^http\:\/\/.+\.arcgis\.com(?!:)/i.test(a))?a.replace(/http:/i,"https:"):a};return d})},"esri/symbols/PointSymbol3D":function(){define(["../core/declare","./Symbol3D"],function(b,h){return b(h,{declaredClass:"esri.symbol.PointSymbol3D",
type:"PointSymbol3D",_allowedLayerTypes:["Icon","Object","Text"]})})},"esri/views/2d/math/vec2":function(){define(["./common"],function(b){var h=b.GLMAT_ARRAY_TYPE,l=b.GLMAT_RANDOM,m={create:function(){var b=new h(2);b[0]=0;b[1]=0;return b},clone:function(b){var e=new h(2);e[0]=b[0];e[1]=b[1];return e},fromValues:function(b,e){var d=new h(2);d[0]=b;d[1]=e;return d},copy:function(b,e){b[0]=e[0];b[1]=e[1];return b},set:function(b,e,d){b[0]=e;b[1]=d;return b},add:function(b,e,d){b[0]=e[0]+d[0];b[1]=
e[1]+d[1];return b},subtract:function(b,e,d){b[0]=e[0]-d[0];b[1]=e[1]-d[1];return b}};m.sub=m.subtract;m.multiply=function(b,e,d){b[0]=e[0]*d[0];b[1]=e[1]*d[1];return b};m.mul=m.multiply;m.divide=function(b,e,d){b[0]=e[0]/d[0];b[1]=e[1]/d[1];return b};m.div=m.divide;m.min=function(b,e,d){b[0]=Math.min(e[0],d[0]);b[1]=Math.min(e[1],d[1]);return b};m.max=function(b,e,d){b[0]=Math.max(e[0],d[0]);b[1]=Math.max(e[1],d[1]);return b};m.scale=function(b,e,d){b[0]=e[0]*d;b[1]=e[1]*d;return b};m.scaleAndAdd=
function(b,e,d,c){b[0]=e[0]+d[0]*c;b[1]=e[1]+d[1]*c;return b};m.distance=function(b,e){var d=e[0]-b[0],c=e[1]-b[1];return Math.sqrt(d*d+c*c)};m.dist=m.distance;m.squaredDistance=function(b,e){var d=e[0]-b[0],c=e[1]-b[1];return d*d+c*c};m.sqrDist=m.squaredDistance;m.length=function(b){var e=b[0];b=b[1];return Math.sqrt(e*e+b*b)};m.len=m.length;m.squaredLength=function(b){var e=b[0];b=b[1];return e*e+b*b};m.sqrLen=m.squaredLength;m.negate=function(b,e){b[0]=-e[0];b[1]=-e[1];return b};m.inverse=function(b,
e){b[0]=1/e[0];b[1]=1/e[1];return b};m.normalize=function(b,e){var d=e[0],c=e[1],d=d*d+c*c;0<d&&(d=1/Math.sqrt(d),b[0]=e[0]*d,b[1]=e[1]*d);return b};m.dot=function(b,e){return b[0]*e[0]+b[1]*e[1]};m.cross=function(b,e,d){e=e[0]*d[1]-e[1]*d[0];b[0]=b[1]=0;b[2]=e;return b};m.lerp=function(b,e,d,c){var a=e[0];e=e[1];b[0]=a+c*(d[0]-a);b[1]=e+c*(d[1]-e);return b};m.random=function(b,e){e=e||1;var d=2*l()*Math.PI;b[0]=Math.cos(d)*e;b[1]=Math.sin(d)*e;return b};m.transformMat2=function(b,e,d){var c=e[0];
e=e[1];b[0]=d[0]*c+d[2]*e;b[1]=d[1]*c+d[3]*e;return b};m.transformMat2d=function(b,e,d){var c=e[0];e=e[1];b[0]=d[0]*c+d[2]*e+d[4];b[1]=d[1]*c+d[3]*e+d[5];return b};m.transformMat3=function(b,e,d){var c=e[0];e=e[1];b[0]=d[0]*c+d[3]*e+d[6];b[1]=d[1]*c+d[4]*e+d[7];return b};m.transformMat4=function(b,e,d){var c=e[0];e=e[1];b[0]=d[0]*c+d[4]*e+d[12];b[1]=d[1]*c+d[5]*e+d[13];return b};m.forEach=function(){var b=m.create();return function(e,d,c,a,h,l){d||(d=2);c||(c=0);for(a=a?Math.min(a*d+c,e.length):e.length;c<
a;c+=d)b[0]=e[c],b[1]=e[c+1],h(b,b,l),e[c]=b[0],e[c+1]=b[1];return e}}();m.str=function(b){return"vec2("+b[0]+", "+b[1]+")"};return m})},"esri/renderers/ScaleDependentRenderer":function(){define(["../core/declare","dojo/_base/array","dojo/_base/lang","../core/lang","./Renderer"],function(b,h,l,m,g){return b(g,{declaredClass:"esri.renderer.ScaleDependentRenderer",constructor:function(b){this.setRendererInfos(b&&b.rendererInfos||[])},setRendererInfos:function(b){this.rendererInfos=b;this._setRangeType();
return this},getSymbol:function(b){var d=this.getRendererInfo(b);return d&&d.renderer&&d.renderer.getSymbol(b)},getRendererInfo:function(b){b=b.getLayer().getMap();return"zoom"===this.rangeType?this.getRendererInfoByZoom(b.getZoom()):this.getRendererInfoByScale(b.getScale())},getRendererInfoByZoom:function(b){var d,c=this.rendererInfos,a,g=0;do d=c[g],b>=d.minZoom&&b<=d.maxZoom&&(a=d),g++;while(!a&&g<c.length);return a},getRendererInfoByScale:function(b){var d,c=this.rendererInfos,a,g=0,h,l,m,q;do d=
c[g],h=d.minScale,l=d.maxScale,m=!h,q=!l,!m&&b<=h&&(m=!0),!q&&b>=l&&(q=!0),m&&q&&(a=d),g++;while(!a&&g<c.length);return a},addRendererInfo:function(b){var d,c=0,a,g=this.rendererInfos,h=b.hasOwnProperty("minZoom")?"minZoom":"minScale",l=g.length;do{a=g[c];if(l===c||b[h]<a[h])g.splice(c,0,b),this._setRangeType(),d=!0;c++}while(!d&&c<l);return this},_setRangeType:function(){var b=this.rendererInfos;if(b=b&&b[0])this.rangeType=b.hasOwnProperty("minZoom")?"zoom":b.hasOwnProperty("minScale")?"scale":""},
toJson:function(){try{throw Error("toJson is deprecated, use toJSON instead");}catch(b){console.warn(b.stack)}return this.toJSON()},toJSON:function(){if("zoom"===this.rangeType)return null;var b=this.rendererInfos||[],d=b[0]&&b[0].minScale,b=l.mixin(this.inherited(arguments),{type:"scaleDependent",minScale:0<d?d:0,rendererInfos:h.map(b,function(b){return m.fixJson({maxScale:0<b.maxScale?b.maxScale:0,renderer:b.renderer&&b.renderer.toJSON()})})});return m.fixJson(b)}})})},"esri/core/arrayUtils":function(){define([],
function(){function b(b,h){return-1===b.indexOf(h)}function h(b,h,g){return!b.some(h.bind(null,g))}return{findIndex:function(b,h,g){for(var e=b.length,d,c=0;c<e;c++)if(d=b[c],h.call(g,d,c,b))return c;return-1},equals:function(b,h){if(!b&&!h)return!0;if(!b||!h||b.length!=h.length)return!1;for(var g=0;g<b.length;g++)if(b[g]!==h[g])return!1;return!0},difference:function(l,m,g){var e;g?(e=m.filter(h.bind(null,l,g)),l=l.filter(h.bind(null,m,g))):(e=m.filter(b.bind(null,l)),l=l.filter(b.bind(null,m)));
return{added:e,removed:l}}}})},"esri/geometry/SpatialReference":function(){define(["dojo/_base/lang","../core/JSONSupport"],function(b,h){var l=[-2.0037508342788905E7,2.0037508342788905E7],m=[-2.0037508342787E7,2.0037508342787E7],g=[102113,102100,3857,3785],e=[102113,102100,3857,3785,4326],d=h.createSubclass({declaredClass:"esri.SpatialReference",_info:{102113:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",${Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',
valid:l,origin:m,dx:1E-5},102100:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",${Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',valid:l,origin:m,
dx:1E-5},3785:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",${Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:l,origin:m,dx:1E-5},3857:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",${Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',
valid:l,origin:m,dx:1E-5},4326:{wkTemplate:'GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",${Central_Meridian}],UNIT["Degree",0.0174532925199433]]',altTemplate:'PROJCS["WGS_1984_Plate_Carree",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Plate_Carree"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",${Central_Meridian}],UNIT["Degrees",111319.491]]',
valid:[-180,180],origin:[-180,180],dx:1E-5}},normalizeCtorArgs:function(c){var a={};if("object"===typeof c)return b.mixin(a,c);a["string"===typeof c?"wkt":"wkid"]=c;return a},wkid:null,wkt:null,clone:function(){if(this===d.WGS84)return d.WGS84;if(this===d.WebMercator)return d.WebMercator;var b=new d;null!=this.wkid?(b.wkid=this.wkid,null!=this.latestWkid&&(b.latestWkid=this.latestWkid),null!=this.vcsWkid&&(b.vcsWkid=this.vcsWkid),null!=this.latestVcsWkid&&(b.latestVcsWkid=this.latestVcsWkid)):null!=
this.wkt&&(b.wkt=this.wkt);return b},equals:function(b){var a=!1;b&&(this===b&&(a=!0),this.wkid||b.wkid?a=this.wkid===b.wkid||this.isWebMercator()&&b.isWebMercator()||this.wkid===b.latestWkid||b.wkid===this.latestWkid:this.wkt&&b.wkt&&(a=this.wkt.toUpperCase()===b.wkt.toUpperCase()));return a},isWebMercator:function(){return-1!==g.indexOf(this.wkid)},isWrappable:function(){return-1!==e.indexOf(this.wkid)},toJSON:function(){var b=null;null!=this.wkid?(b={wkid:this.wkid},null!=this.latestWkid&&(b.latestWkid=
this.latestWkid),null!=this.vcsWkid&&(b.vcsWkid=this.vcsWkid),null!=this.latestVcsWkid&&(b.latestVcsWkid=this.latestVcsWkid)):null!=this.wkt&&(b={wkt:this.wkt});return b},_getInfo:function(){return this.wkid?this._info[this.wkid]:null},_canProject:function(b){var a=!1;b&&(a=this.isWebMercator()&&4326===b.wkid||b.isWebMercator()&&4326===this.wkid);return a}});d.fromJSON=function(b){if(!b)return null;if(b.wkid){if(102100===b.wkid)return d.WebMercator;if(4326===b.wkid)return d.WGS84}var a=new d;a.read(b);
return a};d.WGS84=new d(4326);d.WebMercator=new d({wkid:102100,latestWkid:3857});Object.freeze&&(Object.freeze(d.WGS84),Object.freeze(d.WebMercator));return d})},"esri/views/3d/webgl-engine/lib/LinearDepthTextureHelper":function(){define(["./GLFBO","./Util"],function(b,h){return function(l){var m,g;this.setEnableState=function(b){b!==this.getEnableState()&&(b?this.enable():this.disable())};this.getEnableState=function(){return void 0!==m};this.getDepthFBO=function(){return m};this.enable=function(){h.assert(!this.getEnableState());
m=new b(l.RGBA,l.UNSIGNED_BYTE,!0,l.NEAREST,l)};this.disable=function(){h.assert(this.getEnableState());m.dispose();m=void 0};var e,d;this.setupFBOs=function(b){h.assert(this.getEnableState());g=b=b.viewport;e=b[2];d=b[3];l.viewport(0,0,e,d)};this.prepareDepthPass=function(){h.assert(this.getEnableState());m.setSize(e,d);m.bind();l.clearColor(0,0,0,0);l.clear(l.COLOR_BUFFER_BIT|l.DEPTH_BUFFER_BIT)};this.finish=function(b){l.bindFramebuffer(l.FRAMEBUFFER,b);l.viewport(g[0],g[1],g[2],g[3])}}})},"esri/views/3d/navigation/mixins/AnimationMixin":function(){define(["../../../../core/declare",
"dojo/on"],function(b,h){return b([],{declaredClass:"esri.views.3d.navigation.mixins.AnimationMixin",classMetadata:{properties:{interpolation:{setter:function(b){if("string"===typeof b){var h=this.interpolationTypes[b];return!h?(console.error("[AnimationMixin] Invalid interpolation type "+b),this.interpolation):new h(this)}return b}}}},getDefaults:function(){return{interpolation:"linear"}},easeInOutInterpLinear:function(b,h,g,e,d,c,a){var k=a.dist(g,e);if(k<0.1/this.mapUnitInMeters)return a.set(e,
g),0;h=Math.min(Math.sqrt(k*b),h);c=Math.min(c+b*d,h);b=Math.min(c/k*d,1);a.set(a.lerp(g,e,b),g);return c},step:function(b){this.inherited(arguments);this.currentHasReachedTarget()?this.pan.updateContinuous(b):(this.currentHasAlmostReachedTarget()||this.interpolation.interpolate(this.cameras.current,this.cameras.target,b),this.currentHasAlmostReachedTarget()?this.setCurrentToTarget(!0):this.currentChanged())},animationStarted:function(){h.emit(this,"animationStarted")},stop:function(){this.pan&&this.pan.continuous&&
this.pan.continuous.stop();this.currentHasAlmostReachedTarget()?this.currentReachedTarget(!0):this.setCurrentToTarget()}})})},"esri/core/accessorSupport/Cache":function(){define(["./dictionary"],function(b){var h=Object.prototype.hasOwnProperty,l=function(){this.dirty=b();this.values=b()};l.prototype={destroy:function(){this.values=this.dirty=null},has:function(b){return h.call(this.values,b)},get:function(b){return this.values[b]},keys:function(){return Object.keys(this.values)},set:function(b,g){this.dirty[b]=
!1;this.values[b]=g},setDirty:function(b){this.dirty[b]=!0},isDirty:function(b){return!0===this.dirty[b]}};return l})},"esri/views/3d/support/cameraUtils":function(){define("../../../geometry/SpatialReference ../../../config ../../../geometry/Point ../../../geometry/support/webMercatorUtils ../../../Camera ../lib/glMatrix ./mathUtils ./earthUtils ./projectionUtils ./cameraUtilsPlanar ./cameraUtilsSpherical".split(" "),function(b,h,l,m,g,e,d,c,a,k,p){function n(a){var c;a.map&&(c=a.map.spatialReference);
return c||b.WGS84}function u(a,b){return"spherical"===a._globeMode?p[b]:k[b]}function q(c,e,f){var h=c.renderSpatialReference,k=e.computeDirection(A),k=v(c,e.eye,k,e.up,B);c=n(c);a.vectorToVector(e.eye,h,z,c)||(c=b.WGS84,a.vectorToVector(e.eye,h,z,c));return f?(f.position.x=z[0],f.position.y=z[1],f.position.z=z[2],f.position.spatialReference=c,f.heading=k.heading,f.tilt=k.tilt,f.fov=d.rad2deg(e.fov),f):new g(new l(z,c),k.heading,k.tilt,d.rad2deg(e.fov))}function t(a,b,c){var e=a.navigation.currentCamera,
g=e.fovX,e=e.width/2;"spherical"===a._globeMode&&null!=c&&(b*=Math.cos(d.deg2rad(c)));b/=a.mapCoordsHelper.mapUnitInMeters;return e/(h.screenDPI*f/b)/Math.tan(g/2)}function r(a,b,c){var e=a.navigation.currentCamera;b*=Math.tan(e.fovX/2);e=h.screenDPI*f/(e.width/2/b);"spherical"===a._globeMode&&(e/=Math.cos(d.deg2rad(c)));return e*=a.mapCoordsHelper.mapUnitInMeters}function v(a,b,c,d,e){return u(a,"directionToHeadingTilt")(b,c,d,e)}function x(b,c,d,e,f,g){var h=w.create(),k=b.renderSpatialReference;
if(e&&e instanceof l){var m=e;a.pointToVector(m,h,b.renderSpatialReference);null==m.z&&("spherical"===b._globeMode?b._pickRay([0,0,0],h):b._pickRay([h[0],h[1]-1,h[2]],h),null!=b.basemapTerrain&&(m=b.basemapTerrain.getElevation(m),null!=m&&b.renderCoordsHelper.setAltitude(h,m)))}else e?w.set(e,h):w.set(b.navigation.currentCamera.center,h);if(!e||!(e instanceof l))e=n(b),e=a.vectorToPoint(h,k,e);f=Math.max(f,b.navigation.minPoiDist);k=d;d=f;if(g=!g||!g.noReset)g=e,e=b.engineToScreen(b.navigation.currentCamera.center),
m=b.toScreen(g),g=e.x-m.x,e=e.y-m.y,e=Math.sqrt(g*g+e*e),g=Math.max(b.width,b.height),g=e>s*g;g?(c=0,k=b.navigation.constraints.tilt.min(d)):(k=u(b,"eyeTiltToLookAtTilt")(h,d,k),k=b.navigation.constraints.tilt.apply(k,d),k=u(b,"lookAtTiltToEyeTilt")(h,d,k));b=u(b,"eyeForCenterWithHeadingTilt")(h,f,c,k);b.center=h;return b}var w=e.vec3d,f=39.37,s=2,z=w.create(),y=w.create(),A=w.create(),B={heading:0,tilt:0},E=new d.Cyclical(-2.0037508342788905E7,2.0037508342788905E7);return{externalToInternal:function(b,
c){var e=b.renderSpatialReference,f=u(b,"headingTiltToDirectionUp"),g=w.create();return a.pointToVector(c.position,g,e)?(e=f(g,c.heading,c.tilt),w.add(e.direction,g),g=b.navigation.getCameraIntersectTerrain(g,e.direction,e.up),g.fov=d.deg2rad(c.fov),g):null},internalToExternal:q,scaleToDistance:t,distanceToScale:r,fromExtent:function(d,e,f,h,k){h instanceof g&&(k=h,h={});var p="spherical"===d._globeMode,q=d.renderSpatialReference,r=n(d),t=b.WebMercator,s=e.spatialReference||t,u,v=0;null!=e.zmax&&
null!=e.zmin&&(u=(e.zmax+e.zmin)/2,v=e.zmax-e.zmin);if(p){var p=new l(e.xmin,e.ymin,s),w=new l(e.xmax,e.ymax,s),p=m.project(p,t),w=m.project(w,t);if(null===p||null===w)return;e=new l(E.center(p.x,w.x),(w.y+p.y)/2,t);null!=u&&(e.z=u);s=c.getGreatCircleSpanAt(e,p,w);t=s.lon;s=s.lat;E.diff(p.x,w.x)>E.range/2&&(t+=c.halfEarthCircumference);t=Math.min(t,c.halfEarthCircumference);s=Math.min(s,c.halfEarthCircumference)}else m.canProject(e,r)&&(e=m.project(e,r)),t=e.xmax-e.xmin,s=e.ymax-e.ymin,e=new l({x:e.xmin+
0.5*t,y:e.ymin+0.5*s,z:u,spatialReference:r});w=d.navigation.currentCamera;u=1/Math.tan(w.fovX/2);p=1/Math.tan(w.fovY/2);w=1/Math.tan(w.fov/2);v=Math.max(0.5*t*u,0.5*s*p,0.5*v*w)/1;f||(f=d._externalCamera());d=x(d,f.heading,f.tilt,e,v,h);q=a.vectorToPoint(d.eye,q,r);if(!q)return null;k||(k=new g);k.position=q;k.heading=d.heading;k.tilt=d.tilt;k.fov=f.fov;return k},toExtent:function(b,d,e,f,g){var h=b.renderSpatialReference;d||(e||(e=b.navigation.currentCamera),d=q(b,e,g));if(e)g=a.vectorToPoint(e.center,
h,n(b)),d=e.distance;else{g=b.toMap(b.screenCenter);if(!g)return null;d=c.computeCarthesianDistance(d.position,g)}e||(e=b.navigation.currentCamera);h=Math.tan(e.fovX/2);e=Math.tan(e.fovY/2);h=1*2*d*h;e=1*2*d*e;return"spherical"===b._globeMode?p.toExtent(b,g,h,e,f):k.toExtent(b,g,h,e,f)},fromCenterScale:function(b,c,d,e,f,h){var k=t(b,d,c.latitude);d=b.renderSpatialReference;c=x(b,e.heading,e.tilt,c,k,f);b=n(b);b=a.vectorToPoint(c.eye,d,b);if(!b)return null;if(!h)return new g(b,c.heading,c.tilt,e.fov);
h.position=b;h.heading=c.heading;h.tilt=c.tilt;h.fov=e.fov;return h},directionToHeadingTilt:v,eyeHeadingTiltForCenterPointAtDistance:x,scaleToZoom:function(a,b){var c=a.get("basemapTerrain.tilingScheme");return c?c.levelAtScale(b):void 0},zoomToScale:function(a,b){var c=a.get("basemapTerrain.tilingScheme");return c?c.scaleAtLevel(b):void 0},computeScale:function(c,d,e){var f=c.renderSpatialReference;d||(d=c.navigation.currentCamera);var g;g=b.WGS84;d.center?(a.vectorToVector(d.center,f,y,g),g=y[1],
d=d.distance):(g=d.position.latitude,a.pointToVector(d.position,z,f),a.pointToVector(e,y,f),d=w.dist(z,y));return r(c,d,g)}}})},"dijit/_FocusMixin":function(){define(["./focus","./_WidgetBase","dojo/_base/declare","dojo/_base/lang"],function(b,h,l,m){m.extend(h,{focused:!1,onFocus:function(){},onBlur:function(){},_onFocus:function(){this.onFocus()},_onBlur:function(){this.onBlur()}});return l("dijit._FocusMixin",null,{_focusManager:b})})},"esri/symbols/PictureMarkerSymbol":function(){define("../core/declare dojo/_base/lang ../core/lang ../core/screenUtils ../core/urlUtils ./MarkerSymbol".split(" "),
function(b,h,l,m,g,e){var d={width:16,height:16,angle:0,xoffset:0,yoffset:0};b=b(e,{declaredClass:"esri.symbols.PictureMarkerSymbol",type:"picturemarkersymbol",classMetadata:{computed:{url:["source"]},reader:{exclude:["contentType","imageData","size","url","color"],add:["source"]}},getDefaults:function(){return h.mixin(this.inherited(arguments),d)},normalizeCtorArgs:function(b,a,d){if(b&&"string"!==typeof b&&null==b.imageData)return b;var e={};b&&(e.url=b);null!=a&&(e.width=a);null!=d&&(e.height=
d);return e},_urlGetter:function(){return this.source?this.source.url:void 0},_urlSetter:function(b){var a;b&&0===b.indexOf("data:")?(a=b.substring(5,b.indexOf(";")),this.source={value:b,contentType:a,imageData:b.substring(13+a.length)}):this.source={url:b};return b},_sourceReader:function(b,a){return a.imageData?{url:a.url,contentType:a.contentType,imageData:a.imageData}:{url:a.url}},_heightReader:function(b,a){return a.size?a.size:m.pt2px(b)},_widthReader:function(b,a){return a.size?a.size:m.pt2px(b)},
toJSON:function(){var b=this.source,a=this.url,d=b&&b.imageData,b=b&&b.contentType;if(h.isString(a)&&(0===a.indexOf("/")||0===a.indexOf("//")||0===a.indexOf("./")||0===a.indexOf("../")))a=g.getAbsoluteUrl(a);var e=m.px2pt(this.width),e=isNaN(e)?void 0:e,n=m.px2pt(this.height),n=isNaN(n)?void 0:n,a=l.fixJson(h.mixin(this.inherited(arguments),{type:"esriPMS",url:a,imageData:d,contentType:b,width:e,height:n}));delete a.color;delete a.size;return a}});b.defaultProps=d;return b})},"esri/views/3d/navigation/spherical/NavigationSpherical":function(){define("../Navigation ./ConstraintsSpherical ./AnimationSpherical ./actions/PanSpherical ./actions/ZoomSpherical ./actions/RotateSpherical ../../lib/glMatrix".split(" "),
function(b,h,l,m,g,e,d){var c=d.vec3d,a=d.mat4d,k=c.create(),p=c.create(),n=c.create(),u=a.create();return b.createSubclass([h,l],{declaredClass:"esri.views.3d.navigation.spherical.NavigationSpherical",initialize:function(){this.pan=new m(this);this.zoom=new g(this);this.rotate=new e(this)},fixTargetUpVector:function(){this.cameras.target.computeUpOnSphere()},setPoiAuto:function(a,b){var d=this.picker.pickAlongRay(this.cameras.target.eye,this.cameras.target.center,null,a);this.picker.pickedIntersectionPoint(d,
k)&&(this.setCameraFromEyeAndCenter(this.cameras.target.eye,k),c.set(this.cameras.target.center,this.cameras.current.center),b&&this.setCurrentToTarget())},rotateCameraWithPointsOnSphere:function(b,d,e,g,h){var k;null==h&&(h=c.length(b));1E-4<=Math.abs(c.length(b)-h)&&(console.error("[NavigationSpherical.rotateCameraWithPointsOnSphere]: invalid radius for source point (got "+h+", but expected "+c.length(b)+", "+b+")"),k=c.length(b));1E-4<=Math.abs(c.length(d)-h)&&(console.error("[NavigationSpherical.rotateCameraWithPointsOnSphere: invalid radius for target point (got "+
h+", but expected "+c.length(d)+")"),void 0===k&&(k=c.length(d)));void 0!==k&&(h=k);b=this.rotationFromPointsOnSphere(b,d,h,n);a.identity(u);a.rotate(u,b,n);a.multiplyVec3(u,e.eye,g.eye);a.multiplyVec3(u,e.center,g.center);a.multiplyVec3(u,e.up,g.up)},rotationFromPointsOnSphere:function(a,b,d,e){c.cross(a,b,e);return-Math.acos(1-c.dist2(a,b)/(2*d*d))},preserveHeadingTiltFrame:function(a){var b=c.length(this.cameras.current.center);c.scale(a,b/c.length(a),p);this.rotateCameraWithPointsOnSphere(p,this.cameras.current.center,
this.cameras.current,this.cameras.target,b)}})})},"esri/layers/support/DimensionalDefinition":function(){define(["../../core/declare","dojo/_base/lang","../../core/lang"],function(b,h,l){return b(null,{declaredClass:"esri.layers.support.DimensionalDefinition",variableName:null,dimensionName:null,values:[],isSlice:!1,constructor:function(b){h.isObject(b)&&h.mixin(this,b)},toJson:function(){try{throw Error("toJson is deprecated, use toJSON instead");}catch(b){console.warn(b.stack)}return this.toJSON()},
toJSON:function(){return l.filter({variableName:this.variableName,dimensionName:this.dimensionName,values:this.values,isSlice:this.isSlice},function(b){return null!==b})}})})},"dojo/errors/CancelError":function(){define(["./create"],function(b){return b("CancelError",null,null,{dojoType:"cancel"})})},"dijit/form/ValidationTextBox":function(){define("dojo/_base/declare dojo/_base/kernel dojo/_base/lang dojo/i18n ./TextBox ../Tooltip dojo/text!./templates/ValidationTextBox.html dojo/i18n!./nls/validate".split(" "),
function(b,h,l,m,g,e,d){var c;return c=b("dijit.form.ValidationTextBox",g,{templateString:d,required:!1,promptMessage:"",invalidMessage:"$_unset_$",missingMessage:"$_unset_$",message:"",constraints:{},pattern:".*",regExp:"",regExpGen:function(){},state:"",tooltipPosition:[],_deprecateRegExp:function(a,b){b!=c.prototype[a]&&(h.deprecated("ValidationTextBox id\x3d"+this.id+", set('"+a+"', ...) is deprecated.  Use set('pattern', ...) instead.","","2.0"),this.set("pattern",b))},_setRegExpGenAttr:function(a){this._deprecateRegExp("regExpGen",
a);this._set("regExpGen",this._computeRegexp)},_setRegExpAttr:function(a){this._deprecateRegExp("regExp",a)},_setValueAttr:function(){this.inherited(arguments);this._refreshState()},validator:function(a,b){return RegExp("^(?:"+this._computeRegexp(b)+")"+(this.required?"":"?")+"$").test(a)&&(!this.required||!this._isEmpty(a))&&(this._isEmpty(a)||void 0!==this.parse(a,b))},_isValidSubset:function(){return 0==this.textbox.value.search(this._partialre)},isValid:function(){return this.validator(this.textbox.value,
this.get("constraints"))},_isEmpty:function(a){return(this.trim?/^\s*$/:/^$/).test(a)},getErrorMessage:function(){var a="$_unset_$"==this.invalidMessage?this.messages.invalidMessage:!this.invalidMessage?this.promptMessage:this.invalidMessage,b="$_unset_$"==this.missingMessage?this.messages.missingMessage:!this.missingMessage?a:this.missingMessage;return this.required&&this._isEmpty(this.textbox.value)?b:a},getPromptMessage:function(){return this.promptMessage},_maskValidSubsetError:!0,validate:function(a){var b=
"",c=this.disabled||this.isValid(a);c&&(this._maskValidSubsetError=!0);var d=this._isEmpty(this.textbox.value),e=!c&&a&&this._isValidSubset();this._set("state",c?"":((!this._hasBeenBlurred||a)&&d||e)&&(this._maskValidSubsetError||e&&!this._hasBeenBlurred&&a)?"Incomplete":"Error");this.focusNode.setAttribute("aria-invalid","Error"==this.state?"true":"false");"Error"==this.state?(this._maskValidSubsetError=a&&e,b=this.getErrorMessage(a)):"Incomplete"==this.state?(b=this.getPromptMessage(a),this._maskValidSubsetError=
!this._hasBeenBlurred||a):d&&(b=this.getPromptMessage(a));this.set("message",b);return c},displayMessage:function(a){a&&this.focused?e.show(a,this.domNode,this.tooltipPosition,!this.isLeftToRight()):e.hide(this.domNode)},_refreshState:function(){this._created&&this.validate(this.focused);this.inherited(arguments)},constructor:function(a){this.constraints=l.clone(this.constraints);this.baseClass+=" dijitValidationTextBox"},startup:function(){this.inherited(arguments);this._refreshState()},_setConstraintsAttr:function(a){!a.locale&&
this.lang&&(a.locale=this.lang);this._set("constraints",a);this._refreshState()},_setPatternAttr:function(a){this._set("pattern",a);this._refreshState()},_computeRegexp:function(a){var b=this.pattern;"function"==typeof b&&(b=b.call(this,a));if(b!=this._lastRegExp){var c="";this._lastRegExp=b;".*"!=b&&b.replace(/\\.|\[\]|\[.*?[^\\]{1}\]|\{.*?\}|\(\?[=:!]|./g,function(a){switch(a.charAt(0)){case "{":case "+":case "?":case "*":case "^":case "$":case "|":case "(":c+=a;break;case ")":c+="|$)";break;default:c+=
"(?:"+a+"|$)"}});try{"".search(c)}catch(d){c=this.pattern,console.warn("RegExp error in "+this.declaredClass+": "+this.pattern)}this._partialre="^(?:"+c+")$"}return b},postMixInProperties:function(){this.inherited(arguments);this.messages=m.getLocalization("dijit.form","validate",this.lang);this._setConstraintsAttr(this.constraints)},_setDisabledAttr:function(a){this.inherited(arguments);this._refreshState()},_setRequiredAttr:function(a){this._set("required",a);this.focusNode.setAttribute("aria-required",
a);this._refreshState()},_setMessageAttr:function(a){this._set("message",a);this.displayMessage(a)},reset:function(){this._maskValidSubsetError=!0;this.inherited(arguments)},_onBlur:function(){this.displayMessage("");this.inherited(arguments)},destroy:function(){e.hide(this.domNode);this.inherited(arguments)}})})},"esri/views/3d/webgl-engine/lib/ShaderVariations":function(){define(["dojo/_base/lang","./Util","../lib/GLSLProgram","../lib/GLSLShader"],function(b,h,l,m){var g=h.assert,e=function(b,c){return b+
c.toString()};return function(d,c,a,h,p,n,u){g(2===c.length,"you must specify shader snippet prefixes for vertex and fragment shaders");!a||0===a.length?a=[[],[]]:Array.isArray(a[0])||(a=[a,a]);var q=[],t=!1,r={},v={};this.addDefine=function(a,b,c,d){g(!t,"you cannot add another variable after the first program has been generated");g(a,"you must specify a program name suffix");q.push({programNameSuffixes:["",a],shaderNameSuffixes:d||a,defineStr:b,affectsShaderTypes:c||[!0,!0]})};this.addBinaryShaderSnippetSuffix=
function(a,b,c){g(!t,"you cannot add another variable after the first program has been generated");g(a,"you must specify a program name suffix");q.push({programNameSuffixes:["",a],shaderSnippetSuffixes:["",b],affectsShaderTypes:c||[!0,!0]})};this.addNaryShaderSnippetSuffix=function(a,b){g(!t,"you cannot add another variable after the first program has been generated");var c=a.map(function(a){g(null!=a.value,"value must always be specified");return a.value});q.push({values:c,programNameSuffixes:a.map(function(a,
b){return null!=a.programNameSuffix?a.programNameSuffix:c[b]}),shaderSnippetSuffixes:a.map(function(a,b){return null!=a.shaderSnippetSuffix?a.shaderSnippetSuffix:c[b]}),affectsShaderTypes:b||[!0,!0]})};this.getShaderVariation=function(e){g(e.length===q.length,"you must specify a value for each variable");for(var h=d,f=b.clone(c),k=b.clone(c),l=b.clone(a),m=0;m<q.length;m++){var n=q[m],p=e[m],r;n.values?(r=n.values.indexOf(p),g(0<=r,"invalid value "+p+" for variable "+m)):r=p?1:0;h+=n.programNameSuffixes[r];
for(p=0;2>p;p++)n.affectsShaderTypes[p]&&(n.shaderSnippetSuffixes&&(f[p]+=n.shaderSnippetSuffixes[r],k[p]+=n.shaderSnippetSuffixes[r]),n.defineStr&&r&&(l[p].push(n.defineStr),k[p]+=n.shaderNameSuffixes))}return{programName:h,shaderSnippetNames:f,shaderNames:k,defines:l}};this.getProgram=function(a,b,c){b=b||n;c=c||u;t=!0;var d=a.reduce(e,"");if(v[d])return v[d];a=this.getShaderVariation(a);var q=h.get(a.programName);if(q)return q;var y,A,B=a.shaderNames[0],q=r[B]||p&&p.shaders[B];q||(y=a.shaderSnippetNames[0],
A=b[y],g(null!=A,"shader snippet '"+y+"' does not exist"),q=new m(c.VERTEX_SHADER,A,c,a.defines[0]),r[B]=q,p&&p.add(B,q));B=a.shaderNames[1];y=r[B]||p&&p.shaders[B];y||(y=a.shaderSnippetNames[1],A=b[y],g(null!=A,"shader snippet '"+y+"' does not exist"),y=new m(c.FRAGMENT_SHADER,A,c,a.defines[1]),r[B]=y,p&&p.add(B,y));q=new l([q,y],c);v[d]=q;h.add(a.programName,q);return q}}})},"esri/views/3d/webgl-engine/materials/internal/TexOnlyGLMaterial":function(){define(["dojo/text!./TexOnlyGLMaterial.xml",
"./MaterialUtil","../../lib/GLSLProgram","../../lib/GLSLShader"],function(b,h,l,m){var g=h.Layouts.PosTex,e=function(b,c,a,e,l){this.id=h.__GLMaterial_id++;var m=b.get("texOnly");this.getId=function(){return this.id};this.beginSlot=function(a){return 0===a};this.getProgram=function(){return m};this.setColor=function(b){a=b};this.bind=function(b,d){m.use();m.uniformMatrix4fv("model",h.IDENTITY);m.uniformMatrix4fv("proj",d.proj);m.uniform4fv("color",void 0!==a?a:[1,1,1,1]);m.uniform1i("tex",0);b.bindTexture(b.TEXTURE_2D,
c);g.enableVertexAttribArrays(b,m);e&&b.enable(b.BLEND);void 0!==l&&b.depthFunc(l)};this.release=function(a){void 0!==l&&a.depthFunc(a.LESS);e&&a.disable(a.BLEND);g.disableVertexAttribArrays(a,m)};this.bindView=function(a,b){h.bindView(b.origin,b.view,m)};this.bindInstance=function(a,b){m.uniformMatrix4fv("model",b.transformation)};this.getDrawMode=function(a){return a.TRIANGLES}};e.loadShaders=function(d,c,a,e){d._parse(b);var g=new m(e.VERTEX_SHADER,d.vertexShaderTexOnly,e);d=new m(e.FRAGMENT_SHADER,
d.fragmentShaderTexOnly,e);e=new l([g,d],e);a.add("texOnly",e);c.add("vertexShaderTexOnly",g);c.add("fragmentShaderTexOnly",d)};return e})},"esri/portal/Portal":function(){define("../core/Evented ../identity/IdentityManager ./PortalGroup ./PortalItem ./PortalListing ./PortalProvision ./PortalUser ./support/portalResult ./support/PortalUtil dojo/_base/array ../core/declare dojo/_base/Deferred dojo/_base/kernel dojo/_base/lang".split(" "),function(b,h,l,m,g,e,d,c,a,k,p,n,u,q){return p([b],{declaredClass:"esri.arcgis.Portal",
esriPortal:null,portalUtil:null,emitError:function(a){this.emit("error",{error:a})},constructor:function(b){b=q.isObject(b)?b:{url:b};this.esriPortal={options:{disableIdentityLookup:!0},requestParams:{f:"json"}};this.portalUtil=new a(this);b.self?(this.esriPortal.self=b.self,q.mixin(this,{url:b.url||window.location.protocol+"//"+(b.self.urlKey?b.self.urlKey+"."+b.self.customBaseUrl:b.self.portalHostname)}),this.portalUrl=-1!==this.url.indexOf("/sharing")?this.url+"/":this.url+"/sharing/rest/",b=b.self.user?
this.signIn():this.init(this.url)):(b.url&&q.mixin(this,{url:b.url}),b=this.init(this.url));b.then(q.hitch(this,function(){this.emit("ready");this.emit("load")}))},init:function(a,b){a=(a||this.portalUrl).replace(/\/+$/,"");this.portalUrl=-1!==a.indexOf("/sharing")?a+"/":a+"/sharing/rest/";return this._getSelf(this.portalUrl).then(q.hitch(this,function(a){this.esriPortal.self=q.mixin({},a);if((a=a.user)&&b)this.esriPortal.currentToken=b&&b.token,this.esriPortal.loggedInUser=new d(q.mixin(a,{portal:this,
credential:b}));this.esriPortal.self.id&&!1===this.esriPortal.self.canSearchPublic&&(this.esriPortal.extraQuery=" AND orgid:"+this.esriPortal.self.id);q.mixin(this,this.esriPortal.self);this.thumbnailUrl=this.portalUtil.formatUrl(this.portalUrl+"accounts/self/resources/"+this.thumbnail);this.isOrganization=this.access&&this.access.length||!1;this.created=this.created?new Date(this.created):null;this.modified=this.modified?new Date(this.modified):null;return this}),q.hitch(this,function(a){this.emitError(a);
throw a;}))},signIn:function(){var a=new n,b=q.hitch(this,function(){this._onSignIn().then(q.hitch(this,function(){a.resolve(this.esriPortal.loggedInUser)}),q.hitch(this,function(b){a.reject(b)}))});if(!this.esriPortal||!this.esriPortal.self)this.on("load",q.hitch(this,function(){b()}));else this.esriPortal&&this.esriPortal.loggedInUser?a.resolve(this.esriPortal.loggedInUser):b();return a.promise},signOut:function(){this.esriPortal.loggedInUser.credential&&this.esriPortal.loggedInUser.credential.destroy();
this.esriPortal.loggedInUser=null;this.esriPortal.options.disableIdentityLookup=!0;a.clearFieldsFromObject(this.esriPortal.self,this);this.esriPortal.self=null;return this.init(this.url)},getPortalUser:function(){return this.esriPortal.loggedInUser},addResource:function(a,b){return this.portalUtil.request(this.portalUrl+"portals/self/addResource",{key:a,text:b},{usePost:!0})},update:function(a){return this.portalUtil.request(this.portalUrl+"portals/self/update",a,{usePost:!0})},queryGroups:function(a,
b){return this._queryPortal(this.portalUrl+"community/groups",this.portalUtil.formatQueryParams({},a,b),l)},queryItems:function(a,b){return this._queryPortal(this.portalUrl+"search",this.portalUtil.formatQueryParams({},a,b),m)},queryListings:function(a){a=this.portalUtil.formatQueryParams({},a,!0);var b="";a.q&&-1<a.q.toLowerCase().indexOf("mylistings:true")?(a.q=a.q.toLowerCase().replace("mylistings:true",""),b="?mylistings\x3dtrue"):a.q||(a.q='""');return this._queryPortal(this.portalUrl+"content/listings"+
b,a,g)},getProvisions:function(){return this.getCustomers().then(q.hitch(this,function(a){return a.purchases}))},getInterests:function(){return this.getCustomers().then(q.hitch(this,function(a){return a.interests}))},getTrials:function(){return this.getCustomers().then(q.hitch(this,function(a){return a.trials}))},getCustomers:function(a){return this.portalUtil.request(this.portalUrl+"portals/self/customers",{status:a||"all"})},queryCustomerList:function(b){b=a.formatQueryParams({},b,!0);return this._queryPortal(this.portalUrl+
"portals/self/customersList",b)},getMyPurchases:function(){return this.getPurchases().then(function(a){return a.purchases})},getMyInterests:function(){return this.getPurchases().then(function(a){return a.interests})},getPurchases:function(){return this.portalUtil.request(this.portalUrl+"portals/self/purchases").then(q.hitch(this,function(b){b.interests=k.map(b.interests,function(a){return q.mixin(a.provision,{listing:a.listing})});b.purchases=k.map(b.purchases,function(a){return q.mixin(a.provision,
{listing:a.listing})});b.trials=k.map(b.trials,function(a){return q.mixin(a.provision,{listing:a.listing})});b.interests=a.resultsToTypedArray(e,{portal:this},b.interests);b.trials=a.resultsToTypedArray(e,{portal:this},b.trials);b.purchases=a.resultsToTypedArray(e,{portal:this},b.purchases);return b}))},queryUsers:function(a,b){return this._queryPortal(this.portalUrl+"community/users",this.portalUtil.formatQueryParams({sortField:"username"},a,b),d)},_onSignIn:function(){this.esriPortal.options.disableIdentityLookup=
!1;if(!this.esriPortal.self||!this.esriPortal.self.user)this.esriPortal.self=null;return h.getCredential(this.portalUrl).then(q.hitch(this,"init",this.url)).then(q.hitch(this,function(){return this.esriPortal.loggedInUser}),q.hitch(this,function(a){this.esriPortal.options.disableIdentityLookup=!0;this.emitError(a);throw a;}))},_getSelf:function(a){a=a+"accounts/self?culture\x3d"+u.locale;return this.esriPortal.self?(a=new n,a.resolve(this.esriPortal.self),a.promise):this.portalUtil.request(a)},_queryPortal:function(b,
d,e){var g=q.mixin({num:10,start:0,sortField:"title",sortOrder:"asc"},d),h=["start","query","num","nextStart"];b=this.portalUtil.request(b,g).then(q.hitch(this,function(b){b.results=a.resultsToTypedArray(e,{portal:this},b);b.queryParams=q.mixin({},g);b.nextQueryParams=q.mixin(g,{start:b.nextStart});return a.clearFieldsFromObject(h,b)}));b=q.delegate(b);b.queryParams=q.mixin({},g);b.nextQueryParams=n.when(b,function(a){return a.nextQueryParams});return c(b)}})})},"esri/identity/OAuthInfo":function(){define(["../core/lang",
"../core/declare","dojo/_base/lang"],function(b,h,l){return h(null,{declaredClass:"esri.arcgis.OAuthInfo",constructor:function(b){l.mixin(this,{expiration:20160,minTimeUntilExpiration:30,portalUrl:"https://www.arcgis.com",authNamespace:"/",forceLogin:!1,popup:!1,popupCallbackUrl:"oauth-callback.html",popupWindowFeatures:"height\x3d480,width\x3d800,location,resizable,scrollbars,status"},b)},_oAuthCred:null,toJson:function(){try{throw Error("toJson is deprecated, use toJSON instead");}catch(b){console.warn(b.stack)}return this.toJSON()},
toJSON:function(){return b.fixJson({appId:this.appId,expiration:this.expiration,locale:this.locale,minTimeUntilExpiration:this.minTimeUntilExpiration,portalUrl:this.portalUrl,authNamespace:this.authNamespace,forceLogin:this.forceLogin,popup:this.popup,popupCallbackUrl:this.popupCallbackUrl,popupWindowFeatures:this.popupWindowFeatures})}})})},"esri/core/accessorSupport/merge":function(){define(["dojo/_base/lang"],function(b){var h=function(l,m){return!m?l:Object.keys(m).reduce(function(g,e){var d,
c;if("value"===e)g[e]=m[e];else if(void 0===g[e])g[e]=b.clone(m[e]);else if(d=g[e],c=m[e],d!==c)if(Array.isArray(c)||Array.isArray(g))d=d?Array.isArray(d)?g[e]=d.concat():g[e]=[d]:g[e]=[],c&&(Array.isArray(c)||(c=[c]),g[e]=d.concat(c));else if(c&&"object"==typeof c)g[e]=h(d,c);else if(!d||c)g[e]=c;return g},l||{})};return h})},"esri/layers/support/LabelClass":function(){define("../../core/declare dojo/_base/lang dojo/number ../../widgets/Popup/PopupRenderer ../../core/lang ../../core/screenUtils ../../symbols/TextSymbol ../../symbols/LabelSymbol3D ../../symbols/ShieldLabelSymbol".split(" "),
function(b,h,l,m,g,e,d,c,a){var k=b(null,{declaredClass:"esri.layers.support.LabelClass",labelPlacement:null,labelExpression:null,useCodedValues:null,symbol:null,maxScale:0,minScale:0,where:null,sizeInfo:null,_labelPlacementLookup:{"above-center":"esriServerPointLabelPlacementAboveCenter","above-left":"esriServerPointLabelPlacementAboveLeft","above-right":"esriServerPointLabelPlacementAboveRight","below-center":"esriServerPointLabelPlacementBelowCenter","below-left":"esriServerPointLabelPlacementBelowLeft",
"below-right":"esriServerPointLabelPlacementBelowRight","center-center":"esriServerPointLabelPlacementCenterCenter","center-left":"esriServerPointLabelPlacementCenterLeft","center-right":"esriServerPointLabelPlacementCenterRight","above-after":"esriServerLinePlacementAboveAfter","above-along":"esriServerLinePlacementAboveAlong","above-before":"esriServerLinePlacementAboveBefore","above-start":"esriServerLinePlacementAboveStart","above-end":"esriServerLinePlacementAboveEnd","below-after":"esriServerLinePlacementBelowAfter",
"below-along":"esriServerLinePlacementBelowAlong","below-before":"esriServerLinePlacementBelowBefore","below-start":"esriServerLinePlacementBelowStart","below-end":"esriServerLinePlacementBelowEnd","center-after":"esriServerLinePlacementCenterAfter","center-along":"esriServerLinePlacementCenterAlong","center-before":"esriServerLinePlacementCenterBefore","center-start":"esriServerLinePlacementCenterStart","center-end":"esriServerLinePlacementCenterEnd","always-horizontal":"esriServerPolygonPlacementAlwaysHorizontal"},
constructor:function(b){if(b&&(h.mixin(this,b),this._labelPlacementLookup.hasOwnProperty(this.labelPlacement)||(this.labelPlacement=g.valueOf(this._labelPlacementLookup,b.labelPlacement)),b.symbol&&(this.symbol=b.symbol.declaredClass?b.symbol:"LabelSymbol3D"===b.symbol.type?c.fromJSON(b.symbol):"esriSHD"===b.symbol.type?new a(b.symbol):d.fromJSON(b.symbol)),b=this.sizeInfo))b.minSize&&(b.minSize=e.pt2px(b.minSize)),b.maxSize&&(b.maxSize=e.pt2px(b.maxSize))},getSymbol:function(){return this.symbol},
getRequiredFields:function(){var a=Object.create(null);this.collectRequiredFields(a);return Object.keys(a)},collectRequiredFields:function(a){k.collectLabelExpressionRequiredFields(this.getLabelExpression(),a);k.collectWhereRequiredFields(this.where,a)},getLabelExpression:function(){return this.labelExpressionInfo?this.labelExpressionInfo.value:k.isValidLabelExpression(this.labelExpression)?k._convertLabelExpression(this.labelExpression):""},toJson:function(){try{throw Error("toJson is deprecated, use toJSON instead");
}catch(a){console.warn(a.stack)}return this.toJSON()},toJSON:function(){var a=this.sizeInfo;a&&(a=h.mixin({},a),a.minSize&&(a.minSize=e.px2pt(a.minSize)),a.maxSize&&(a.maxSize=e.px2pt(a.maxSize)));a={labelExpression:this.labelExpression,labelExpressionInfo:this.labelExpressionInfo&&h.clone(this.labelExpressionInfo),useCodedValues:this.useCodedValues,maxScale:this.maxScale,minScale:this.minScale,where:this.where,sizeInfo:a,labelPlacement:this._labelPlacementLookup.hasOwnProperty(this.labelPlacement)?
this._labelPlacementLookup[this.labelPlacement]:this.labelPlacement,symbol:this.symbol&&this.symbol.toJSON()};return g.fixJson(a)}});k.evaluateWhere=function(a,b){var c=function(a,b,c){switch(b){case "\x3d":return a==c?!0:!1;case "\x3c\x3e":return a!=c?!0:!1;case "\x3e":return a>c?!0:!1;case "\x3e\x3d":return a>=c?!0:!1;case "\x3c":return a<c?!0:!1;case "\x3c\x3d":return a<=c?!0:!1}return!1};try{if(null==a)return!0;var d=a.split(" ");if(3===d.length)return c(b[d[0]],d[1],d[2]);if(7===d.length){var e=
c(b[d[0]],d[1],d[2]),g=d[3],h=c(b[d[4]],d[5],d[6]);switch(g){case "AND":return e&&h;case "OR":return e||h}}return!1}catch(k){console.log("Error.: can't parse \x3d "+a)}};k.collectWhereRequiredFields=function(a,b){if(null!=a){var c=a.split(" ");3===c.length&&(b[c[0]]=!0);7===c.length&&(b[c[0]]=!0,b[c[4]]=!0)}};k.collectLabelExpressionRequiredFields=function(a,b){var c=a.match(/{[^}]*}/g);c&&c.forEach(function(a){b[a.slice(1,-1)]=!0})};k.buildLabelText=function(a,b,c,d){return a.replace(/{[^}]*}/g,
function(a){return k.formatField(a.slice(1,-1),a,b,c,d)})};k.formatField=function(a,b,c,d,e){var k;for(k=0;k<d.length;k++)if(d[k].name==a){b=c[d[k].name];var v=d[k].domain;if(v&&h.isObject(v)){if("codedValue"==v.type)for(a=0;a<v.codedValues.length;a++)v.codedValues[a].code==b&&(b=v.codedValues[a].name);else"range"==v.type&&(v.minValue<=b&&b<=v.maxValue)&&(b=v.name);break}v=d[k].type;if("esriFieldTypeDate"==v)(v="DateFormat"+m.prototype._dateFormats[e&&e.dateFormat||"shortDate"])&&(b=g.substitute({myKey:b},
"${myKey:"+v+"}"));else if("esriFieldTypeInteger"==v||"esriFieldTypeSmallInteger"==v||"esriFieldTypeLong"==v||"esriFieldTypeDouble"==v)e&&(e.numberFormat&&e.numberFormat.digitSeparator&&e.numberFormat.places)&&(b=l.format(b,{places:e.numberFormat.places}))}return null==b?"":b};k.isValidLabelExpression=function(a){return/^(\s*\[[^\]]+\]\s*)+$/i.test(a)};k._convertLabelExpression=function(a){return a.replace(/\[/g,"{").replace(/\]/g,"}")};return k})},"esri/symbols/TextSymbol":function(){define("../core/declare dojo/_base/lang ../core/lang ../core/screenUtils ./Symbol ./Font".split(" "),
function(b,h,l,m,g,e){var d={x:0,y:0,text:"",rotated:!1,kerning:!0,color:[0,0,0,1],font:e.defaultFont,angle:0,xoffset:0,yoffset:0,horizontalAlignment:"center"};b=b(g,{declaredClass:"esri.symbols.TextSymbol",classMetadata:{properties:{font:{type:e}}},getDefaults:function(){return h.mixin(this.inherited(arguments),d)},normalizeCtorArgs:function(b,a,d){if(b&&"string"!==typeof b)return b;var e={};b&&(e.text=b);a&&(e.font=a);d&&(e.color=d);return e},_fontReader:e.fromJSON,type:"textsymbol",xoffset:0,_xoffsetReader:m.pt2px,
yoffset:0,_yoffsetReader:m.pt2px,angle:0,_angleReader:function(b){return b&&-1*b},toJSON:function(){var b=m.px2pt(this.xoffset),a=m.px2pt(this.yoffset),b=isNaN(b)?void 0:b,a=isNaN(a)?void 0:a;return l.fixJson(h.mixin(this.inherited(arguments),{type:"esriTS",backgroundColor:this.backgroundColor,borderLineColor:this.borderLineColor,borderLineSize:this.borderLineSize,haloSize:this.haloSize,haloColor:this.haloColor,verticalAlignment:this.verticalAlignment,horizontalAlignment:this.horizontalAlignment,
rightToLeft:this.rightToLeft,width:this.width,angle:this.angle&&-1*this.angle,xoffset:b,yoffset:a,text:this.text,rotated:this.rotated,kerning:this.kerning,font:this.font&&this.font.toJSON()}))}});h.mixin(b,{ALIGN_START:"start",ALIGN_MIDDLE:"middle",ALIGN_END:"end",DECORATION_NONE:"none",DECORATION_UNDERLINE:"underline",DECORATION_OVERLINE:"overline",DECORATION_LINETHROUGH:"line-through"});b.defaultProps=d;return b})},"dojo/_base/url":function(){define(["./kernel"],function(b){var h=/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/,
l=/^((([^\[:]+):)?([^@]+)@)?(\[([^\]]+)\]|([^\[:]*))(:([0-9]+))?$/,m=function(){for(var b=arguments,e=[b[0]],d=1;d<b.length;d++)if(b[d]){var c=new m(b[d]+""),e=new m(e[0]+"");if(""==c.path&&!c.scheme&&!c.authority&&!c.query)null!=c.fragment&&(e.fragment=c.fragment),c=e;else if(!c.scheme&&(c.scheme=e.scheme,!c.authority&&(c.authority=e.authority,"/"!=c.path.charAt(0)))){for(var e=(e.path.substring(0,e.path.lastIndexOf("/")+1)+c.path).split("/"),a=0;a<e.length;a++)"."==e[a]?a==e.length-1?e[a]="":(e.splice(a,
1),a--):0<a&&(!(1==a&&""==e[0])&&".."==e[a]&&".."!=e[a-1])&&(a==e.length-1?(e.splice(a,1),e[a-1]=""):(e.splice(a-1,2),a-=2));c.path=e.join("/")}e=[];c.scheme&&e.push(c.scheme,":");c.authority&&e.push("//",c.authority);e.push(c.path);c.query&&e.push("?",c.query);c.fragment&&e.push("#",c.fragment)}this.uri=e.join("");b=this.uri.match(h);this.scheme=b[2]||(b[1]?"":null);this.authority=b[4]||(b[3]?"":null);this.path=b[5];this.query=b[7]||(b[6]?"":null);this.fragment=b[9]||(b[8]?"":null);null!=this.authority&&
(b=this.authority.match(l),this.user=b[3]||null,this.password=b[4]||null,this.host=b[6]||b[7],this.port=b[9]||null)};m.prototype.toString=function(){return this.uri};return b._Url=m})},"dojo/selector/_loader":function(){define(["../has","require"],function(b,h){var l=document.createElement("div");b.add("dom-qsa2.1",!!l.querySelectorAll);b.add("dom-qsa3",function(){try{return l.innerHTML="\x3cp class\x3d'TEST'\x3e\x3c/p\x3e",1==l.querySelectorAll(".TEST:empty").length}catch(b){}});var m;return{load:function(g,
e,d,c){c=h;g="default"==g?b("config-selectorEngine")||"css3":g;g="css2"==g||"lite"==g?"./lite":"css2.1"==g?b("dom-qsa2.1")?"./lite":"./acme":"css3"==g?b("dom-qsa3")?"./lite":"./acme":"acme"==g?"./acme":(c=e)&&g;if("?"==g.charAt(g.length-1)){g=g.substring(0,g.length-1);var a=!0}if(a&&(b("dom-compliant-qsa")||m))return d(m);c([g],function(a){"./lite"!=g&&(m=a);d(a)})}}})},"put-selector/put":function(){(function(b){var h,l=/[-+,> ]/;b([],h=function(b,g){function e(g){function h(){v&&(r&&v!=r)&&(r==g&&
(u||(u=l.test(s)&&b.createDocumentFragment()))?u:r).insertBefore(v,t||null)}for(var u,q,t,r,v,x=arguments,w=x[0],f=0;f<x.length;f++){var s=x[f];if("object"==typeof s){q=!1;if(s instanceof Array){v=b.createDocumentFragment();for(var z=0;z<s.length;z++)v.appendChild(e(s[z]));s=v}if(s.nodeType)v=s,h(),r=s,t=0;else for(z in s)v[z]=s[z]}else if(q)q=!1,v.appendChild(b.createTextNode(s));else{1>f&&(g=null);q=!0;if(w=s.replace(d,function(d,l,q,u,w,z){l&&(h(),"-"==l||"+"==l?(r=(t=v||r).parentNode,v=null,"+"==
l&&(t=t.nextSibling)):("\x3c"==l?r=v=(v||r).parentNode:(","==l?r=g:v&&(r=v),v=null),t=0),v&&(r=v));if((d=!q&&u)||!v&&(q||w))"$"==d?(d=x[++f],r.appendChild(b.createTextNode(d))):(d=d||e.defaultTag,(l=k&&x[f+1]&&x[f+1].name)&&(d="\x3c"+d+' name\x3d"'+l+'"\x3e'),v=a&&~(c=d.indexOf("|"))?b.createElementNS(a[d.slice(0,c)],d.slice(c+1)):b.createElement(d));if(q)if("$"==u&&(u=x[++f]),"#"==q)v.id=u;else if(l=(d=v.className)&&(" "+d+" ").replace(" "+u+" "," "),"."==q)v.className=d?(l+u).substring(1):u;else if("!"==
s){var Q;k?e("div",v,"\x3c").innerHTML="":(Q=v.parentNode)&&Q.removeChild(v)}else l=l.substring(1,l.length-1),l!=d&&(v.className=l);w&&("$"==z&&(z=x[++f]),"style"==w?v.style.cssText=z:(q="!"==w.charAt(0)?(w=w.substring(1))&&"removeAttribute":"setAttribute",z=""===z?w:z,a&&~(c=w.indexOf("|"))?v[q+"NS"](a[w.slice(0,c)],w.slice(c+1),z):v[q](w,z)));return""}))throw new SyntaxError("Unexpected char "+w+" in "+s);h();r=w=v||r}}g&&u&&g.appendChild(u);return w}l=g||l;var d=/(?:\s*([-+ ,<>]))?\s*(\.|!\.?|#)?([-\w\u00A0-\uFFFF%$|]+)?(?:\[([^\]=]+)=?['"]?([^\]'"]*)['"]?\])?/g,
c,a=!1;b=b||document;var k="object"==typeof b.createElement;e.addNamespace=function(c,d){b.createElementNS?(a||(a={}))[c]=d:b.namespaces.add(c,d)};e.defaultTag="div";e.forDocument=h;return e})})(function(b,h,l){l=l||h;"function"===typeof define?define([],function(){return l()}):"undefined"==typeof window?require("./node-html")(module,l):put=l()})},"esri/views/3d/terrain/TileGeometryFactory":function(){define("../webgl-engine/lib/Geometry ../webgl-engine/lib/GeometryData ../lib/glMatrix ../support/earthUtils ../support/mathUtils ./TerrainConst".split(" "),
function(b,h,l,m,g,e){function d(a,b,c,d,e){a<d[0]&&(d[0]=a);a>e[0]&&(e[0]=a);b<d[1]&&(d[1]=b);b>e[1]&&(e[1]=b);c<d[2]&&(d[2]=c);c>e[2]&&(e[2]=c)}function c(a,b,c){for(var d=0;d<c.length;d++){var f=c[d];if(f){var h=f.safeWidth,k=f.width,l=f.pixels,m=g.clamp(f.dy*(f.y1-b),0,h),f=g.clamp(f.dx*(a-f.x0),0,h),h=Math.floor(m),n=Math.floor(f),p=h*k+n,q=p+k,r=l[p],k=l[q],p=l[p+1],l=l[q+1];if(r+k+p+l<0.5*e.ELEVATION_NODATA_VALUE)return m-=h,f-=n,a=r+(p-r)*f,a+(k+(l-k)*f-a)*m}}return null}function a(a){u||
a*a+4*(a-1)>z&&(a=1<<Math.floor(Math.log2(0.5*(-4+Math.sqrt(16+4*(4+z))))));return a}var k=m.earthRadius,p=l.vec3d,n=g.lerp,u=!1,q=function(){var a=p.create(),b=p.create(),c=p.create(),d,e,f;this.init=function(g,h){e=g;f=h;p.subtract(c,b,a);d=0.5*p.length(a);p.lerp(b,c,0.5,a)};this.getCenter=function(){return a};this.getBSRadius=function(){return d};this.getBBMin=function(){return b};this.getBBMax=function(){return c};this.getPosition=function(){return e};this.getIndices=function(){return f};this.getPrimitiveIndices=
function(){};this.getChildren=function(){}},t=function(a,b,c,d){a*=k;for(var e=0;e<=b;e++)c[5*d]=0,c[5*d+1]=0,c[5*d+2]=a,d++},r=new function(){var a=Array(50),c=0,d={};this.get=function(f){var g=d[f];g||(g={ptr:0,data:Array(50)},d[f]=g);0<g.ptr?(e.vertexArrayHits++,f=g.data[--g.ptr],g.data[g.ptr]=null):(e.vertexArrayMisses++,f=new Float32Array(f));if(0<c)return e.geometryHits++,g=a[--c],a[c]=null,g.getData().getVertexAttr().terrain.data=f,g;e.geometryMisses++;g={};g.terrain={size:5,data:f};f=new q;
return new b(new h([{type:"triangle",indices:{terrain:null},positionKey:"terrain"}],g),"tile",[f])};this.put=function(b){var e=b.getData(),f=e.getVertexAttr(),g=f.terrain.data,h=d[g.length];50>h.ptr&&(h.data[h.ptr++]=g);f.terrain.data=null;e.getFaces()[0].indices.terrain=null;50>c&&(a[c++]=b)};var e={geometryHits:0,geometryMisses:0,vertexArrayHits:0,vertexArrayMisses:0};this.stats=e;this._pools={geometry:a,vertexArray:d}},v=[],x=Array(257),w=Array(257),f=Array(257),s=Array(257),z=65536,y={values:null,
numSurfaceIndices:0,numSkirtIndices:0},A=function(a,b,c){c||(a.values=b.values);a.numSurfaceIndices=b.numSurfaceIndices;a.numSkirtIndices=b.numSkirtIndices;return a},B=function(a,b,c,d,e){var f;f=y;var g=c&2,h=b+(d?1024:0)+(g?2048:0),k=v[h];f||(f={});if(k)A(f,k);else{var k=b-1,l=b-1,m=b*b,n=2*k+2*l,p=6*k*l,q=6*n,r=6*(2*k+l-1);d&&(p*=2,q*=2,r*=2);for(var n=u&&m+n>z?new Uint32Array(p+q):new Uint16Array(p+q),s=0,t=0,w=p,x,B,U,ba,X=0,$=0;$<=l;$++){g&&(X=0===$?r:$===l?-r:0);for(var w=w+X,P=0;P<=k;P++)ba=
B=-1,0===$&&(B=m+P,P!==k&&(ba=s+1)),P===k&&(B=m+k+$,$<l&&(ba=s+k+1)),$===l&&(B=m+k+l+(k-P),0<P&&(ba=s-1)),0===P&&0<$&&(B=m+2*k+l+(l-$),ba=s-(k+1)),-1<B&&(U=0===P&&1===$?m:B+1,-1<ba&&(x=s,d?(n[w+0]=x,n[w+1]=B,n[w+2]=B,n[w+3]=U,n[w+4]=U,n[w+5]=x,n[w+6]=U,n[w+7]=ba,n[w+8]=ba,n[w+9]=x,n[w+10]=x,n[w+11]=U,w+=12):(n[w+0]=x,n[w+1]=B,n[w+2]=U,n[w+3]=U,n[w+4]=ba,n[w+5]=x,w+=6))),++s,P<k&&$<l&&(x=$*(k+1)+P,B=x+1,U=B+(k+1),ba=U-1,d?(n[t+0]=x,n[t+1]=B,n[t+2]=B,n[t+3]=U,n[t+4]=U,n[t+5]=x,n[t+6]=U,n[t+7]=ba,n[t+
8]=ba,n[t+9]=x,n[t+10]=x,n[t+11]=U,t+=12):(n[t+0]=x,n[t+1]=B,n[t+2]=U,n[t+3]=U,n[t+4]=ba,n[t+5]=x,t+=6));w-=X}f.values=n;f.numSurfaceIndices=p;f.numSkirtIndices=q;v[h]=A({},f)}g=a.getData();h=g.getVertexAttr();g.getFaces()[0].indices.terrain=f.values;a.getBoundingInfo(0).init(h.terrain,f.values);e||(e={});e.geometry=a;e.numWithoutSkirtIndices=f.numSurfaceIndices+(c?6*(b-1)*(d?2:1):0);e.numVertsPerRow=b;return A(e,f,!0)};return{createPlanarGlobeTile:function(b,e,f,g,h,k,l){var m=e[0],n=e[1],q=e[2]-
m;e=e[3]-n;var s=0.1*q;b=a(b);var t=b-1,u=b-1,v=b*b,w=r.get(5*(v+(2*t+2*u))),x=w.getData().getVertexAttr().terrain.data,y,A,z=0;y=w.getBoundingInfo(0);var S=y.getBBMin(),U=y.getBBMax();p.set3(1E7,1E7,1E7,S);p.set3(-1E7,-1E7,-1E7,U);for(A=0;A<=u;A++){var ba=A/u,X=n+ba*e;k&&(X<k[1]?(X=k[1],ba=(X-n)/e):X>k[3]&&(X=k[3],ba=(X-n)/e));for(y=0;y<=t;y++){var $=y/t,P=m+$*q;k&&(P<k[0]?(P=k[0],$=(P-m)/q):P>k[2]&&(P=k[2],$=(P-m)/q));var aa=f?c(P,X,f)||0:0,P=P-g[0],da=X-g[1],aa=aa-g[2];d(P,da,aa,S,U);x[5*z]=P;
x[5*z+1]=da;x[5*z+2]=aa;x[5*z+3]=$;x[5*z+4]=ba;var Y=-1;0===A&&(Y=v+y);y===t&&(Y=v+t+A);A===u&&(Y=v+t+u+(t-y));0===y&&0<A&&(Y=v+2*t+u+(u-A));-1<Y&&(x[5*Y]=P,x[5*Y+1]=da,x[5*Y+2]=aa-s,x[5*Y+3]=$,x[5*Y+4]=ba,d(P,da-s,aa,S,U));++z}}return B(w,b,0,h,l)},createSphericalGlobeTile:function(b,e,g,h,l,m,q,u){var v=g[0],y=g[1],A=g[2],z=g[3],V=Math.max(0.9,1-0.5*(A-v));b=a(b);g=b-1;var R=b-1,N=b*b,H=r.get(5*(N+(2*g+2*R))),O=H.getData().getVertexAttr().terrain.data,I=e[2]-e[0],J=e[3]-e[1],S,U=0,ba=A-v,A=l[0],
X=l[1];l=l[2];var $=H.getBoundingInfo(0),P=$.getBBMin(),$=$.getBBMax();p.set3(1E7,1E7,1E7,P);p.set3(-1E7,-1E7,-1E7,$);for(S=0;S<=g;S++){var aa=S/g,da=v+aa*ba,Y=e[0]+aa*I;x[S]=Math.sin(da);w[S]=Math.cos(da);f[S]=aa;s[S]=Y}for(v=0;v<=R;v++){S=n(y,z,v/R);var I=Math.cos(S),ba=Math.sin(S),da=k/2*Math.log((1+ba)/(1-ba)),fa=(da-e[1])/J;for(S=0;S<=g;S++){var aa=f[S],Y=s[S],ga=x[S],ea=w[S],ia=k;h&&(ia+=c(Y,da,h)||0);var Y=ea*I*ia,ga=ga*I*ia,ia=ba*ia,ja=Y-A,Z=ga-X,ha=ia-l;d(ja,Z,ha,P,$);ea=5*U;O[ea+0]=ja;O[ea+
1]=Z;O[ea+2]=ha;O[ea+3]=aa;O[ea+4]=fa;ea=-1;0===v&&(ea=N+S);S===g&&(ea=N+g+v);v===R&&(ea=N+g+R+(g-S));0===S&&0<v&&(ea=N+2*g+R+(R-v));-1<ea&&(Y=Y*V-A,ga=ga*V-X,ia=ia*V-l,d(Y,ga,ia,P,$),ea*=5,O[ea+0]=Y,O[ea+1]=ga,O[ea+2]=ia,O[ea+3]=aa,O[ea+4]=fa);++U}}e=!!(m&2);m&1&&t(-1,g,O,N);e&&t(1,g,O,N+g+R);return B(H,b,m,q,u)},releaseGeometry:r.put,elevationSampler:c,_geometryObjectPool:r,supportedNumVertsPerRow:a,setSupportsUintIndices:function(a){u=a}}})},"dijit/form/_ExpandingTextAreaMixin":function(){define("dojo/_base/declare dojo/dom-construct dojo/has dojo/_base/lang dojo/on dojo/_base/window ../Viewport".split(" "),
function(b,h,l,m,g,e,d){l.add("textarea-needs-help-shrinking",function(){var b=e.body(),a=h.create("textarea",{rows:"5",cols:"20",value:" ",style:{zoom:1,fontSize:"12px",height:"96px",overflow:"hidden",visibility:"hidden",position:"absolute",border:"5px solid white",margin:"0",padding:"0",boxSizing:"border-box",MsBoxSizing:"border-box",WebkitBoxSizing:"border-box",MozBoxSizing:"border-box"}},b,"last"),d=a.scrollHeight>=a.clientHeight;b.removeChild(a);return d});return b("dijit.form._ExpandingTextAreaMixin",
null,{_setValueAttr:function(){this.inherited(arguments);this.resize()},postCreate:function(){this.inherited(arguments);var b=this.textbox;b.style.overflowY="hidden";this.own(g(b,"focus, resize",m.hitch(this,"_resizeLater")))},startup:function(){this.inherited(arguments);this.own(d.on("resize",m.hitch(this,"_resizeLater")));this._resizeLater()},_onInput:function(b){this.inherited(arguments);this.resize()},_estimateHeight:function(){var b=this.textbox;b.rows=(b.value.match(/\n/g)||[]).length+1},_resizeLater:function(){this.defer("resize")},
resize:function(){function b(){var c=!1;""===a.value&&(a.value=" ",c=!0);var d=a.scrollHeight;c&&(a.value="");return d}var a=this.textbox;"hidden"==a.style.overflowY&&(a.scrollTop=0);if(!this.busyResizing){this.busyResizing=!0;if(b()||a.offsetHeight){var d=b()+Math.max(a.offsetHeight-a.clientHeight,0),e=d+"px";e!=a.style.height&&(a.style.height=e,a.rows=1);if(l("textarea-needs-help-shrinking")){var g=b(),h=a.style.minHeight,m=4,t=a.scrollTop;a.style.minHeight=e;for(a.style.height="auto";0<d;){a.style.minHeight=
Math.max(d-m,4)+"px";e=b();g-=e;d-=g;if(g<m)break;g=e;m<<=1}a.style.height=d+"px";a.style.minHeight=h;a.scrollTop=t}a.style.overflowY=b()>a.clientHeight?"auto":"hidden";"hidden"==a.style.overflowY&&(a.scrollTop=0)}else this._estimateHeight();this.busyResizing=!1}}})})},"dijit/form/Button":function(){define("require dojo/_base/declare dojo/dom-class dojo/has dojo/_base/kernel dojo/_base/lang dojo/ready ./_FormWidget ./_ButtonMixin dojo/text!./templates/Button.html ../a11yclick".split(" "),function(b,
h,l,m,g,e,d,c,a,k){m("dijit-legacy-requires")&&d(0,function(){b(["dijit/form/DropDownButton","dijit/form/ComboButton","dijit/form/ToggleButton"])});d=h("dijit.form.Button"+(m("dojo-bidi")?"_NoBidi":""),[c,a],{showLabel:!0,iconClass:"dijitNoIcon",_setIconClassAttr:{node:"iconNode",type:"class"},baseClass:"dijitButton",templateString:k,_setValueAttr:"valueNode",_setNameAttr:function(a){this.valueNode&&this.valueNode.setAttribute("name",a)},_fillContent:function(a){if(a&&(!this.params||!("label"in this.params)))if(a=
e.trim(a.innerHTML))this.label=a},_setShowLabelAttr:function(a){this.containerNode&&l.toggle(this.containerNode,"dijitDisplayNone",!a);this._set("showLabel",a)},setLabel:function(a){g.deprecated("dijit.form.Button.setLabel() is deprecated.  Use set('label', ...) instead.","","2.0");this.set("label",a)},_setLabelAttr:function(a){this.inherited(arguments);!this.showLabel&&!("title"in this.params)&&(this.titleNode.title=e.trim(this.containerNode.innerText||this.containerNode.textContent||""))}});m("dojo-bidi")&&
(d=h("dijit.form.Button",d,{_setLabelAttr:function(a){this.inherited(arguments);this.titleNode.title&&this.applyTextDir(this.titleNode,this.titleNode.title)},_setTextDirAttr:function(a){this._created&&this.textDir!=a&&(this._set("textDir",a),this._setLabelAttr(this.label))}}));return d})},"esri/core/nextTick":function(){define(["./ObjectPool"],function(b){var h=window.MutationObserver||window.WebKitMutationObserver,l=new b(function(){this.isActive=!0;this.callback=null},function(){this.isActive=!1;
this.callback=null}),m=function(){},g=function(){e.put(this)},e=new b(function(){this.remove=g},function(){this.remove=m;this.destructor&&this.destructor();this.item.isActive=!1;this.destructor=this.item=null}),d=function(a,b){var c=e.get();c.item=a;c.destructor=b;return c},c=function(a){a.isActive&&(a.isActive=!1,a.callback());a.isActive||l.put(a)};return function(){var a,b,e=function(){if(window.postMessage&&!window.importScripts){var a=!0,b=window.onmessage;window.onmessage=function(){a=!1};window.postMessage("",
"*");window.onmessage=b;return a}},g=[];if(h){var m=document.createElement("div");(new h(function(){for(;0<g.length;){var a=g.shift();c(a)}})).observe(m,{attributes:!0});b=function(a){g.push(a);m.setAttribute("queueStatus","1")}}else e()?(window.addEventListener("message",function(a){if(a.source==window&&"esri-nexttick-message"==a.data)for(a.stopPropagation();g.length;)c(g.shift())},!0),b=function(a){g.push(a);window.postMessage("esri-nexttick-message","*")}):window.setImmediate?(a=window.clearImmediate,
b=function(a){return window.setImmediate(c.bind(null,a))}):(a=window.clearTimeout,b=function(a){return window.setTimeout(c.bind(null,a),0)});return function(c){var e=l.get();e.callback=c;var g=b(e);return d(e,a&&function(){a(g)})}}()})},"esri/views/3d/terrain/ElevationTileAgent":function(){define(["./TileAgentBase","./TerrainConst","./UpsampleInfo","../support/ObjectPool"],function(b,h,l,m){var g=function(){b.apply(this,arguments)};g.prototype=new b;g.prototype.constructor=g;g.prototype.dataArrived=
function(b){b!==this.tile?this._setUpsamplingTile(b):this.updateGeometry();this._dataRequested=null;this._requestNext()};g.prototype.updateGeometry=function(){this._tileLayerInfo.pendingUpdates|=h.TileUpdateTypes.UPDATE_GEOMETRY;this.tile.updateGeometry()};g.prototype._findAncestorWithData=function(){if(this.tile.lij[0]<this.tile.elevationStartsAtLevel)return null;for(var b=this.layerClass,d=this.layerIdx,c=this.tile,a=c.vlevel,g;c&&(!c.layerInfo[b][d].data||!(g=c,a-c.lij[0]>=h.ELEVATION_DESIRED_RESOLUTION_LEVEL));)c=
c.parent;return g?(b=l.Pool.acquire(),b.init(g,0,0,1),b):null};g.prototype._findNextDownload=function(){var b,d=this.layerIdx,c=this.layerClass,a=this.tile.parentSurface.layerViewByIndex(d,c),g=a._minDataLevel,a=a._maxDataLevel,l=h.ELEVATION_DESIRED_RESOLUTION_LEVEL-(this.tile.vlevel-this.tile.lij[0]);if(this._tileLayerInfo.data||this.tile.lij[0]<Math.max(g,this.tile.elevationStartsAtLevel))b=null;else{for(var m=this.tile,u=m.lij[0],q=0,t=this._tileLayerInfo.upsampleFromTile?this._tileLayerInfo.upsampleFromTile.tile.lij[0]:
-1,r=this.tile.parentSurface,v=r.getTilemapTile(m),r=r.tilemapStats,x=!1;m&&m.lij[0]>=g;){if(m.layerInfo[this.layerClass][this.layerIdx].data&&u-m.lij[0]>=l){m.lij[0]>t&&this._setUpsamplingTile(m);break}v&&!v.tileDataAvailable(m,d,c)?(x=!0,b=null):m.lij[0]<=a&&(b=m);m=m.parent;v=v?v.parent:null;q++}b&&(u-b.lij[0]<l&&this._tileLayerInfo.upsampleFromTile)&&(b=null);!b&&x&&r.tilesNotPresent++}return b};g.prototype._setUpsamplingTile=function(b){this._tileLayerInfo.upsampleFromTile&&l.Pool.release(this._tileLayerInfo.upsampleFromTile);
var d=l.Pool.acquire();d.init(b,0,0,1);this._tileLayerInfo.upsampleFromTile=d;this.tile.updateElevationBounds();this.updateGeometry()};m.on(g,400);return g})},"esri/geometry/support/normalizeUtils":function(){define("dojo/_base/array dojo/_base/lang dojo/_base/Deferred ../../config ../Polyline ../Polygon ./webMercatorUtils ./jsonUtils".split(" "),function(b,h,l,m,g,e,d,c){function a(a,b){return Math.ceil((a-b)/(2*b))}function k(a,b){var c=a.paths||a.rings,d,e,g=c.length,h;for(d=0;d<g;d++){h=c[d].length;
for(e=0;e<h;e++){var k=a.getPoint(d,e);a.setPoint(d,e,k.offset(b,0))}}return a}function p(a,c){if(!(a instanceof g||a instanceof e))throw console.error("_straightLineDensify: the input geometry is neither polyline nor polygon"),Error("_straightLineDensify: the input geometry is neither polyline nor polygon");var d=a instanceof g,h=[],k;b.forEach(d?a.paths:a.rings,function(a){h.push(k=[]);k.push([a[0][0],a[0][1]]);var b,d,e,g,l,m,n,p,q,r,s,t;for(l=0;l<a.length-1;l++){b=a[l][0];d=a[l][1];e=a[l+1][0];
g=a[l+1][1];n=Math.sqrt((e-b)*(e-b)+(g-d)*(g-d));p=(g-d)/n;q=(e-b)/n;r=n/c;if(1<r){for(m=1;m<=r-1;m++)t=m*c,s=q*t+b,t=p*t+d,k.push([s,t]);m=(n+Math.floor(r-1)*c)/2;s=q*m+b;t=p*m+d;k.push([s,t])}k.push([e,g])}});return d?new g({paths:h,spatialReference:a.spatialReference}):new e({rings:h,spatialReference:a.spatialReference})}function n(a,b,c){b&&(a=p(a,1E6),a=d.webMercatorToGeographic(a,!0));c&&(a=k(a,c));return a}function u(b,c,d){var e=b.x||b[0],g;e>c?(g=a(e,c),b.x?b=b.offset(g*-2*c,0):b[0]=e+g*
-2*c):e<d&&(g=a(e,d),b.x?b=b.offset(g*-2*d,0):b[0]=e+g*-2*d);return b}function q(c,d){var e=-1;b.forEach(d.cutIndexes,function(g,h){var k=d.geometries[h];b.forEach(k.rings||k.paths,function(c,d){b.some(c,function(b){if(!(180>b[0])){b=0;var e,f=c.length,g;for(e=0;e<f;e++)g=c[e][0],b=g>b?g:b;b=Number(b.toFixed(9));b=-360*a(b,180);f=c.length;for(e=0;e<f;e++)g=k.getPoint(d,e),k.setPoint(d,e,g.offset(b,0))}return!0})});g===e?k.rings?b.forEach(k.rings,function(a){c[g]=c[g].addRing(a)}):b.forEach(k.paths,
function(a){c[g]=c[g].addPath(a)}):(e=g,c[g]=k)});return c}function t(h,f,p,r){var t=new l;t.then(p,r);f=f||m.geometryService;var v=[],x=[],E,F,G,Q,M,T,K,C,D=0;b.forEach(h,function(d){if(d)if(E||(E=d.spatialReference,F=E._getInfo(),Q=(G=E.isWebMercator())?2.0037508342788905E7:180,M=G?-2.0037508342788905E7:-180,T=G?102100:4326,K=new g({paths:[[[Q,M],[Q,Q]]],spatialReference:{wkid:T}}),C=new g({paths:[[[M,M],[M,Q]]],spatialReference:{wkid:T}})),F){var f=c.fromJSON(d.toJSON()),h=d.getExtent();"point"===
d.type?v.push(u(f,Q,M)):"multipoint"===d.type?(f.points=b.map(f.points,function(a){return u(a,Q,M)}),v.push(f)):"extent"===d.type?(f=h._normalize(null,null,F),v.push(f.rings?new e(f):f)):h?(d=a(h.xmin,M)*2*Q,f=0===d?f:k(f,d),h=h.offset(d,0),h.intersects(K)&&h.xmax!==Q?(D=h.xmax>D?h.xmax:D,f=n(f,G),x.push(f),v.push("cut")):h.intersects(C)&&h.xmin!==M?(D=h.xmax*2*Q>D?h.xmax*2*Q:D,f=n(f,G,360),x.push(f),v.push("cut")):v.push(f)):v.push(f)}else v.push(d);else v.push(d)});p=new g;r=a(D,Q);for(var L=-90,
W=r;0<r;){var ca=-180+360*r;p.addPath([[ca,L],[ca,-1*L]]);L*=-1;r--}0<x.length&&0<W?f?f.cut(x,p,function(a){x=q(x,a);var c=[];b.forEach(v,function(a,b){if("cut"===a){var e=x.shift();h[b].rings&&1<h[b].rings.length&&e.rings.length>=h[b].rings.length?(v[b]="simplify",c.push(e)):v[b]=!0===G?d.geographicToWebMercator(e):e}});0<c.length?f.simplify(c,function(a){b.forEach(v,function(b,c){"simplify"===b&&(v[c]=!0===G?d.geographicToWebMercator(a.shift()):a.shift())});t.callback(v)},function(a){t.errback(a)}):
t.callback(v)},function(a){t.errback(a)}):t.errback(Error("esri.geometry.normalizeCentralMeridian: 'geometryService' argument is missing.")):(b.forEach(v,function(a,b){if("cut"===a){var c=x.shift();v[b]=!0===G?d.geographicToWebMercator(c):c}}),t.callback(v));return t.promise}function r(a,c,d,e){var g=!1,k;h.isObject(a)&&a&&(h.isArray(a)?a.length&&((k=a[0]&&a[0].declaredClass)&&-1!==k.indexOf("Graphic")?(a=b.map(a,function(a){return a.geometry}),g=a.length?!0:!1):k&&-1!==k.indexOf("esri.geometry.")&&
(g=!0)):(k=a.declaredClass)&&-1!==k.indexOf("FeatureSet")?(a=b.map(a.features||[],function(a){return a.geometry}),g=a.length?!0:!1):k&&-1!==k.indexOf("esri.geometry.")&&(g=!0));g&&c.push({index:d,property:e,value:a})}function v(a,c){var d=[];b.forEach(c,function(c){var e=c.i,f=a[e];c=c.p;var g;if(h.isObject(f)&&f)if(c)if("*"===c[0])for(g in f)f.hasOwnProperty(g)&&r(f[g],d,e,g);else b.forEach(c,function(a){r(h.getObject(a,!1,f),d,e,a)});else r(f,d,e)});return d}function x(a,c){var d=0,e={};b.forEach(c,
function(b){var c=b.index,f=b.property,g=b.value,k=g.length||1,l=a.slice(d,d+k);h.isArray(g)||(l=l[0]);d+=k;delete b.value;f?(e[c]=e[c]||{},e[c][f]=l):e[c]=l});return e}return{normalizeCentralMeridian:t,_foldCutResults:q,_prepareGeometryForCut:n,_offsetMagnitude:a,_pointNormalization:u,_updatePolyGeometry:k,_straightLineDensify:p,_createWrappers:function(a){var c=h.isObject(a)?a.prototype:h.getObject(a+".prototype");b.forEach(c.__msigns,function(a){var d=c[a.n];c[a.n]=function(){var c=this,e=[],f;
for(f=0;f<a.c;f++)e[f]=arguments[f];var g={};e.push(g);var h,k=[],l;c.normalization&&!c._isTable&&(h=v(e,a.a),b.forEach(h,function(a){k=k.concat(a.value)}),k.length&&(l=t(k)));return l?l.then(function(a){g.assembly=x(a,h);return d.apply(c,e)}):d.apply(c,e)}})},_disassemble:v,_addToBucket:r,_reassemble:x}})},"dojo/parser":function(){define("require ./_base/kernel ./_base/lang ./_base/array ./_base/config ./dom ./_base/window ./_base/url ./aspect ./promise/all ./date/stamp ./Deferred ./has ./query ./on ./ready".split(" "),
function(b,h,l,m,g,e,d,c,a,k,p,n,u,q,t,r){function v(a){return eval("("+a+")")}function x(a){var b=a._nameCaseMap,c=a.prototype;if(!b||b._extendCnt<f){var b=a._nameCaseMap={},d;for(d in c)"_"!==d.charAt(0)&&(b[d.toLowerCase()]=d);b._extendCnt=f}return b}function w(a,c){var d=a.join();if(!s[d]){for(var e=[],f=0,g=a.length;f<g;f++){var h=a[f];e[e.length]=s[h]=s[h]||l.getObject(h)||~h.indexOf("/")&&(c?c(h):b(h))}f=e.shift();s[d]=e.length?f.createSubclass?f.createSubclass(e):f.extend.apply(f,e):f}return s[d]}
new Date("X");var f=0;a.after(l,"extend",function(){f++},!0);var s={},z={_clearCache:function(){f++;s={}},_functionFromScript:function(a,b){var c="",d="",e=a.getAttribute(b+"args")||a.getAttribute("args"),f=a.getAttribute("with"),e=(e||"").split(/\s*,\s*/);f&&f.length&&m.forEach(f.split(/\s*,\s*/),function(a){c+="with("+a+"){";d+="}"});return new Function(e,c+a.innerHTML+d)},instantiate:function(a,b,c){b=b||{};c=c||{};var d=(c.scope||h._scopeName)+"Type",e="data-"+(c.scope||h._scopeName)+"-",f=e+
"type",g=e+"mixins",k=[];m.forEach(a,function(a){var c=d in b?b[d]:a.getAttribute(f)||a.getAttribute(d);if(c){var e=a.getAttribute(g),c=e?[c].concat(e.split(/\s*,\s*/)):[c];k.push({node:a,types:c})}});return this._instantiate(k,b,c)},_instantiate:function(a,b,c,d){function e(a){!b._started&&!c.noStart&&m.forEach(a,function(a){"function"===typeof a.startup&&!a._started&&a.startup()});return a}a=m.map(a,function(a){var d=a.ctor||w(a.types,c.contextRequire);if(!d)throw Error("Unable to resolve constructor for: '"+
a.types.join()+"'");return this.construct(d,a.node,b,c,a.scripts,a.inherited)},this);return d?k(a).then(e):e(a)},construct:function(b,d,e,f,g,k){function n(b){ca&&l.setObject(ca,b);for(L=0;L<O.length;L++)a[O[L].advice||"after"](b,O[L].method,l.hitch(b,O[L].func),!0);for(L=0;L<I.length;L++)I[L].call(b);for(L=0;L<J.length;L++)b.watch(J[L].prop,J[L].func);for(L=0;L<S.length;L++)t(b,S[L].event,S[L].func);return b}var r=b&&b.prototype;f=f||{};var s={};f.defaults&&l.mixin(s,f.defaults);k&&l.mixin(s,k);
var w;u("dom-attributes-explicit")?w=d.attributes:u("dom-attributes-specified-flag")?w=m.filter(d.attributes,function(a){return a.specified}):(k=(/^input$|^img$/i.test(d.nodeName)?d:d.cloneNode(!1)).outerHTML.replace(/=[^\s"']+|="[^"]*"|='[^']*'/g,"").replace(/^\s*<[a-zA-Z0-9]*\s*/,"").replace(/\s*>.*$/,""),w=m.map(k.split(/\s+/),function(a){var b=a.toLowerCase();return{name:a,value:"LI"==d.nodeName&&"value"==a||"enctype"==b?d.getAttribute(b):d.getAttributeNode(b).value}}));var z=f.scope||h._scopeName;
k="data-"+z+"-";var D={};"dojo"!==z&&(D[k+"props"]="data-dojo-props",D[k+"type"]="data-dojo-type",D[k+"mixins"]="data-dojo-mixins",D[z+"type"]="dojoType",D[k+"id"]="data-dojo-id");for(var L=0,W,z=[],ca,V;W=w[L++];){var R=W.name,N=R.toLowerCase();W=W.value;switch(D[N]||N){case "data-dojo-type":case "dojotype":case "data-dojo-mixins":break;case "data-dojo-props":V=W;break;case "data-dojo-id":case "jsid":ca=W;break;case "data-dojo-attach-point":case "dojoattachpoint":s.dojoAttachPoint=W;break;case "data-dojo-attach-event":case "dojoattachevent":s.dojoAttachEvent=
W;break;case "class":s["class"]=d.className;break;case "style":s.style=d.style&&d.style.cssText;break;default:if(R in r||(R=x(b)[N]||R),R in r)switch(typeof r[R]){case "string":s[R]=W;break;case "number":s[R]=W.length?Number(W):NaN;break;case "boolean":s[R]="false"!=W.toLowerCase();break;case "function":""===W||-1!=W.search(/[^\w\.]+/i)?s[R]=new Function(W):s[R]=l.getObject(W,!1)||new Function(W);z.push(R);break;default:N=r[R],s[R]=N&&"length"in N?W?W.split(/\s*,\s*/):[]:N instanceof Date?""==W?new Date(""):
"now"==W?new Date:p.fromISOString(W):N instanceof c?h.baseUrl+W:v(W)}else s[R]=W}}for(w=0;w<z.length;w++)D=z[w].toLowerCase(),d.removeAttribute(D),d[D]=null;if(V)try{V=v.call(f.propsThis,"{"+V+"}"),l.mixin(s,V)}catch(H){throw Error(H.toString()+" in data-dojo-props\x3d'"+V+"'");}l.mixin(s,e);g||(g=b&&(b._noScript||r._noScript)?[]:q("\x3e script[type^\x3d'dojo/']",d));var O=[],I=[],J=[],S=[];if(g)for(L=0;L<g.length;L++)D=g[L],d.removeChild(D),e=D.getAttribute(k+"event")||D.getAttribute("event"),f=
D.getAttribute(k+"prop"),V=D.getAttribute(k+"method"),z=D.getAttribute(k+"advice"),w=D.getAttribute("type"),D=this._functionFromScript(D,k),e?"dojo/connect"==w?O.push({method:e,func:D}):"dojo/on"==w?S.push({event:e,func:D}):s[e]=D:"dojo/aspect"==w?O.push({method:V,advice:z,func:D}):"dojo/watch"==w?J.push({prop:f,func:D}):I.push(D);b=(g=b.markupFactory||r.markupFactory)?g(s,d,b):new b(s,d);return b.then?b.then(n):n(b)},scan:function(a,c){function d(a){if(!a.inherited){a.inherited={};var b=a.node,c=
d(a.parent),b={dir:b.getAttribute("dir")||c.dir,lang:b.getAttribute("lang")||c.lang,textDir:b.getAttribute(r)||c.textDir},e;for(e in b)b[e]&&(a.inherited[e]=b[e])}return a.inherited}var e=[],f=[],g={},k=(c.scope||h._scopeName)+"Type",l="data-"+(c.scope||h._scopeName)+"-",p=l+"type",r=l+"textdir",l=l+"mixins",q=a.firstChild,s=c.inherited;if(!s){var t=function(a,b){return a.getAttribute&&a.getAttribute(b)||a.parentNode&&t(a.parentNode,b)},s={dir:t(a,"dir"),lang:t(a,"lang"),textDir:t(a,r)},v;for(v in s)s[v]||
delete s[v]}for(var s={inherited:s},u,x;;)if(q)if(1!=q.nodeType)q=q.nextSibling;else if(u&&"script"==q.nodeName.toLowerCase())(z=q.getAttribute("type"))&&/^dojo\/\w/i.test(z)&&u.push(q),q=q.nextSibling;else if(x)q=q.nextSibling;else{var z=q.getAttribute(p)||q.getAttribute(k);v=q.firstChild;if(!z&&(!v||3==v.nodeType&&!v.nextSibling))q=q.nextSibling;else{x=null;if(z){var N=q.getAttribute(l);u=N?[z].concat(N.split(/\s*,\s*/)):[z];try{x=w(u,c.contextRequire)}catch(H){}x||m.forEach(u,function(a){~a.indexOf("/")&&
!g[a]&&(g[a]=!0,f[f.length]=a)});N=x&&!x.prototype._noScript?[]:null;s={types:u,ctor:x,parent:s,node:q,scripts:N};s.inherited=d(s);e.push(s)}else s={node:q,scripts:u,parent:s};u=N;x=q.stopParser||x&&x.prototype.stopParser&&!c.template;q=v}}else{if(!s||!s.node)break;q=s.node.nextSibling;x=!1;s=s.parent;u=s.scripts}var O=new n;f.length?(c.contextRequire||b)(f,function(){O.resolve(m.filter(e,function(a){if(!a.ctor)try{a.ctor=w(a.types,c.contextRequire)}catch(b){}for(var d=a.parent;d&&!d.types;)d=d.parent;
var e=a.ctor&&a.ctor.prototype;a.instantiateChildren=!(e&&e.stopParser&&!c.template);a.instantiate=!d||d.instantiate&&d.instantiateChildren;return a.instantiate}))}):O.resolve(e);return O.promise},_require:function(a,c){var d=v("{"+a.innerHTML+"}"),e=[],f=[],g=new n,h=c&&c.contextRequire||b,k;for(k in d)e.push(k),f.push(d[k]);h(f,function(){for(var a=0;a<e.length;a++)l.setObject(e[a],arguments[a]);g.resolve(arguments)});return g.promise},_scanAmd:function(a,b){var c=new n,d=c.promise;c.resolve(!0);
var e=this;q("script[type\x3d'dojo/require']",a).forEach(function(a){d=d.then(function(){return e._require(a,b)});a.parentNode.removeChild(a)});return d},parse:function(a,b){var c;!b&&a&&a.rootNode?(b=a,c=b.rootNode):a&&l.isObject(a)&&!("nodeType"in a)?b=a:c=a;c=c?e.byId(c):d.body();b=b||{};var f=b.template?{template:!0}:{},g=[],h=this,k=this._scanAmd(c,b).then(function(){return h.scan(c,b)}).then(function(a){return h._instantiate(a,f,b,!0)}).then(function(a){return g=g.concat(a)}).otherwise(function(a){console.error("dojo/parser::parse() error",
a);throw a;});l.mixin(g,k);return g}};h.parser=z;g.parseOnLoad&&r(100,z,"parse");return z})},"esri/core/ArrayPool":function(){define([],function(){var b=Array.prototype.splice,h=function(h,g){g=null==g?50:g;h=null==h?50:h;for(var e=[],d=-1,c=h;0<c;--c)e.push([]);d=h-1;this.get=function(){if(-1===d){for(var a=g;0<a;--a)e.push([]);d+=g}d-=1;return e.pop()};this.getCopy=function(a){var c=this.get();a.unshift(0,0);b.apply(c,a);a.splice(0,2);return c};this.put=function(a){a&&(a.length=0,d+=1,e[d]=a)}},
l=new h(100);h.get=function(){return l.get()};h.getCopy=function(b){return l.getCopy(b)};h.put=function(b){return l.put(b)};return h})},"esri/layers/support/Raster":function(){define("../../core/declare dojo/_base/lang dojo/_base/Deferred dojo/_base/array dojo/_base/config dojo/sniff ../../core/Evented ../../request ../../geometry/Extent ../../geometry/SpatialReference ../../core/deferredUtils ./PixelBlock ./LercCodec".split(" "),function(b,h,l,m,g,e,d,c,a,k,p,n,u){var q=b(d,{declaredClass:"esri.layers.Raster",
imageServiceUrl:null,validPixelTypes:"U1 U2 U4 U8 U16 U32 S8 S16 S32 F32".split(" "),validFormats:["lerc"],_eventMap:{"raster-read-complete":["pixelData","params"]},constructor:function(a){if(!a)throw"Image Service URL is not defined";this.imageServiceUrl=a},read:function(a,b,d){var f=this,k=new l(p._dfdCanceller);if(10>e("ie"))throw"This browser is not supported.";if(!a.imageServiceParameters||!a.nBands)throw"Insufficient parameters to read data";var n=h.clone(a.imageServiceParameters),r=a.nBands,
t=a.pixelType;m.some(this.validPixelTypes,function(a){return a===t})||(n.pixelType="F32");m.some(this.validFormats,function(a){return a.toLowerCase()===n.format.toLowerCase()})||(n.format="lerc");this._prepareGetImageParameters(n);k._pendingDfd=c({url:this.imageServiceUrl+"/exportImage",handleAs:"arraybuffer",content:h.mixin(n,{f:"image"}),load:function(a){"LERC"===n.format.toUpperCase()?(a={pixelBlock:q._lercDecode(a,{width:n.width,height:n.height,planes:r,pixelType:t,noDataValue:n.noData}),extent:n.extent},
f._resolve([a,n],"onRasterReadComplete",b,k)):(a=Error("Format '"+n.format+"' is not supported."),a.log=g.isDebug,f._resolve([a],null,d,k,!0))},error:function(a){f._resolve([a],null,d,k,!0)}});return k.promise},onRasterReadComplete:function(){},_prepareGetImageParameters:function(b){if(b.size&&b.bbox){var c=b.size.split(",");b.width=parseFloat(c[0]);b.height=parseFloat(c[1]);b.extent||(c=b.bbox.split(","),b.extent=new a(parseFloat(c[0]),parseFloat(c[1]),parseFloat(c[2]),parseFloat(c[3]),new k(b.bboxSR)))}else{if(!b.width||
Math.floor(b.width)!==b.width||!b.height||Math.floor(b.height)!==b.height)throw"Incorrect Image Dimensions";if(!b.extent||"esri.geometry.Extent"!==b.extent.declaredClass)throw"Incorrect extent";var c=b.extent,d=c.spatialReference.wkid||JSON.stringify(c.spatialReference.toJSON());delete b._ts;h.mixin(b,{bbox:c.xmin+","+c.ymin+","+c.xmax+","+c.ymax,imageSR:d,bboxSR:d,size:b.width+","+b.height},b.disableClientCaching?{_ts:(new Date).getTime()}:{})}},_adjustExtent:function(a,b,c){var d=a.ymax-a.ymin,
e=a.xmax-a.xmin;c>=b?a.ymax=a.ymin+e*b/c:(e=d*c/b,a.xmax=a.xmin+e);return a},_resolve:function(a,b,c,d,e){b&&this[b].apply(this,a);c&&c.apply(null,a);d&&p._resDfd(d,a,e)}}),t=null,r=null;q._lercDecode=function(a,b){if(!b.planes||Math.floor(b.planes)!==b.planes)throw"Number of Bands not specified.";if(!b.height||Math.floor(b.height)!==b.height)throw"Height not provided.";if(!b.width||Math.floor(b.width)!==b.width)throw"Width not provided.";r=b.noDataValue;var c=b.pixelType;"U1"===c||"U2"===c||"U4"===
c||"U8"===c?(c="U8",r=Math.pow(2,8)-1,t=Uint8Array):"U16"===c?(r=r||Math.pow(2,16)-1,t=Uint16Array):"U32"===c?(r=r||Math.pow(2,32)-1,t=Uint32Array):"S8"===c?(r=r||0-Math.pow(2,7),t=Int8Array):"S16"===c?(r=r||0-Math.pow(2,15),t=Int16Array):"S32"===c?(r=r||0-Math.pow(2,31),t=Int32Array):t=Float32Array;b.pixelType=c;for(var c=0,d,e=0,g,h=a.byteLength-10;e<h;){var k=u.decode(a,{inputOffset:e,encodedMaskData:d,returnMask:0===c?!0:!1,returnEncodedMask:0===c?!0:!1,returnFileInfo:!0,pixelType:t,noDataValue:r}),
e=k.fileInfo.eofOffset;0===c&&(d=k.encodedMaskData,g=new n({width:b.width,height:b.height,pixels:[],pixelType:b.pixelType,mask:k.maskData,statistics:[]}));c++;if(k.height!==b.height||k.width!==b.width)throw"The decoded image dimensions are incorrect";g.addData({pixels:k.pixelData,statistics:{minValue:k.minValue,maxValue:k.maxValue,noDataValue:k.noDataValue}})}return g};return q})},"dojo/promise/all":function(){define(["../_base/array","../Deferred","../when"],function(b,h,l){var m=b.some;return function(b){var e,
d;b instanceof Array?d=b:b&&"object"===typeof b&&(e=b);var c,a=[];if(e){d=[];for(var k in e)Object.hasOwnProperty.call(e,k)&&(a.push(k),d.push(e[k]));c={}}else d&&(c=[]);if(!d||!d.length)return(new h).resolve(c);var p=new h;p.promise.always(function(){c=a=null});var n=d.length;m(d,function(b,d){e||a.push(d);l(b,function(b){p.isFulfilled()||(c[a[d]]=b,0===--n&&p.resolve(c))},p.reject);return p.isFulfilled()});return p.promise}})},"esri/portal/support/portalResult":function(){define(["../../core/lang",
"dojo/_base/array","dojo/_base/lang","dojo/when"],function(b,h,l,m){var g=function(e){function d(b){e[b]||(e[b]=function(){var a=arguments;return m(e,function(d){Array.prototype.unshift.call(a,d.results||d);return g(h[b].apply(h,a))})})}if(!e)return e;e.then&&(e=l.delegate(e));e.total||(e.total=m(e,function(c){return b.isDefined(c.total)?c.total:c.length||0}));d("forEach");d("filter");d("map");d("some");d("every");return e};return g})},"esri/symbols/SimpleMarkerSymbol":function(){define(["../core/declare",
"dojo/_base/lang","../core/lang","./MarkerSymbol","./SimpleLineSymbol"],function(b,h,l,m,g){var e={style:"circle",color:[255,255,255,0.25],outline:new g,size:16,angle:0,xoffset:0,yoffset:0};b=b(m,{declaredClass:"esri.symbol.SimpleMarkerSymbol",classMetadata:{properties:{outline:{type:g}}},_styles:{circle:"esriSMSCircle",square:"esriSMSSquare",cross:"esriSMSCross",x:"esriSMSX",diamond:"esriSMSDiamond",path:"esriSMSPath"},getDefaults:function(){return h.mixin(this.inherited(arguments),e)},normalizeCtorArgs:function(b,
c,a,e){if(b&&"string"!==typeof b)return b;var g={};b&&(g.style=b);null!=c&&(g.size=c);a&&(g.outline=a);e&&(g.color=e);return g},type:"simplemarkersymbol",_styleReader:function(b,c){return l.valueOf(this._styles,b)},_pathSetter:function(b){this.style="path";return b},_outlineReader:g.fromJSON,toJSON:function(){var b=h.mixin(this.inherited(arguments),{type:"esriSMS",style:this._styles[this.style]}),c=this.outline;c&&(b.outline=c.toJSON());b.path=this.path;return l.fixJson(b)},_setDim:function(b,c,a){this._targetWidth=
b;this._targetHeight=c;this._spikeSize=a}});h.mixin(b,{STYLE_CIRCLE:"circle",STYLE_SQUARE:"square",STYLE_CROSS:"cross",STYLE_X:"x",STYLE_DIAMOND:"diamond",STYLE_PATH:"path",STYLE_TARGET:"target"});b.defaultProps=e;return b})},"esri/layers/support/MosaicRule":function(){define(["../../core/declare","dojo/_base/lang","../../core/lang","../../geometry/Point"],function(b,h,l,m){var g=b(null,{declaredClass:"esri.layers.support.MosaicRule",method:null,where:null,sortField:null,sortValue:null,ascending:!1,
lockRasterIds:null,viewpoint:null,objectIds:null,operation:null,multidimensionalDefinition:[],constructor:function(b){h.isObject(b)&&(h.mixin(this,b),b.mosaicMethod&&(this.method=b.mosaicMethod),this.method&&"esri"!==this.method.toLowerCase().substring(0,4)&&(this.method=this._getMethodEnum(this.method)),b.mosaicOperation&&(this.operation=b.mosaicOperation),this.operation&&"MT_"!==this.operation.toUpperCase().substring(0,3)&&(this.operation=this._getOperatorEnum(this.operation)),b.fids&&(this.objectIds=
b.fids),b.viewpoint&&(this.viewpoint=new m(b.viewpoint)))},toJson:function(){try{throw Error("toJson is deprecated, use toJSON instead");}catch(b){console.warn(b.stack)}return this.toJSON()},toJSON:function(){var b=null,d=this.multidimensionalDefinition?this.multidimensionalDefinition.length:0;if(d)for(var b=[],c=0;c<d;c++)b.push("esri.layers.support.DimensionalDefinition"===this.multidimensionalDefinition[c].declaredClass?this.multidimensionalDefinition[c].toJSON():this.multidimensionalDefinition[c]);
b={mosaicMethod:this.method,where:this.where,sortField:this.sortField,sortValue:this.sortValue,ascending:this.ascending,lockRasterIds:this.lockRasterIds,viewpoint:this.viewpoint?this.viewpoint.toJSON():null,fids:this.objectIds,mosaicOperation:this.operation,multidimensionalDefinition:b};return l.filter(b,function(a){if(null!==a)return!0})},_getMethodEnum:function(b){if(b){var d=g.METHOD_NONE;switch(b.toLowerCase()){case "byattribute":d=g.METHOD_ATTRIBUTE;break;case "center":d=g.METHOD_CENTER;break;
case "lockraster":d=g.METHOD_LOCKRASTER;break;case "nadir":d=g.METHOD_NADIR;break;case "northwest":d=g.METHOD_NORTHWEST;break;case "seamline":d=g.METHOD_SEAMLINE;break;case "viewpoint":d=g.METHOD_VIEWPOINT}return d}},_getOperatorEnum:function(b){if(b)switch(b.toLowerCase()){case "first":return g.OPERATION_FIRST;case "last":return g.OPERATION_LAST;case "max":return g.OPERATION_MAX;case "min":return g.OPERATION_MIN;case "blend":return g.OPERATION_BLEND;case "mean":return g.OPERATION_MEAN}}});h.mixin(g,
{METHOD_NONE:"esriMosaicNone",METHOD_CENTER:"esriMosaicCenter",METHOD_NADIR:"esriMosaicNadir",METHOD_VIEWPOINT:"esriMosaicViewpoint",METHOD_ATTRIBUTE:"esriMosaicAttribute",METHOD_LOCKRASTER:"esriMosaicLockRaster",METHOD_NORTHWEST:"esriMosaicNorthwest",METHOD_SEAMLINE:"esriMosaicSeamline",OPERATION_FIRST:"MT_FIRST",OPERATION_LAST:"MT_LAST",OPERATION_MIN:"MT_MIN",OPERATION_MAX:"MT_MAX",OPERATION_MEAN:"MT_MEAN",OPERATION_BLEND:"MT_BLEND"});return g})},"url:esri/views/3d/webgl-engine/materials/internal/TexOnlyGLMaterial.xml":'\x3c?xml version\x3d"1.0" encoding\x3d"UTF-8"?\x3e\r\n\r\n\x3csnippets\x3e\r\n\r\n\x3csnippet name\x3d"vertexShaderTexOnly"\x3e\x3c![CDATA[\r\n\tuniform mat4 proj;\r\n\tuniform mat4 view;\r\n\tuniform mat4 model;\r\n\tattribute vec3 $position;\r\n\tattribute vec2 $uv0;\r\n\tvarying vec2 vtc;\r\n\r\n\tvoid main(void) {\r\n\t\tgl_Position \x3d proj * view * vec4((model * vec4(position, 1.0)).xyz, 1.0);\r\n\t\tvtc \x3d $uv0;\r\n\t}\r\n]]\x3e\x3c/snippet\x3e\r\n\r\n\x3csnippet name\x3d"fragmentShaderTexOnly"\x3e\x3c![CDATA[\r\n\tprecision mediump float;\r\n\r\n\tuniform sampler2D tex;\r\n\tuniform vec4 color;\r\n\tvarying vec2 vtc;\r\n\r\n\tvoid main() {\r\n\t\tvec4 texColor \x3d texture2D(tex, vtc);\r\n\t\tgl_FragColor \x3d texColor * color;\r\n\t}\r\n]]\x3e\x3c/snippet\x3e\r\n\r\n\x3c/snippets\x3e',
"url:esri/views/3d/webgl-engine/materials/RibbonLineMaterial.xml":'\x3c?xml version\x3d"1.0" encoding\x3d"UTF-8"?\x3e\r\n\r\n\x3csnippets\x3e\r\n\r\n\x3csnippet name\x3d"vsRibbonLine"\x3e\x3c![CDATA[\r\n\tuniform mat4 proj;\r\n\tuniform mat4 view;\r\n\tuniform mat4 model;\r\n\r\n\tuniform float extLineWidth;\r\n\tuniform float nearPlane;\r\n\r\n\tattribute vec3 $position;\t\r\n\tattribute vec2 $uv0;\r\n\tvarying vec2 vtc;\r\n\r\n\tattribute vec4 $color;\r\n\tvarying vec4 vColor;\r\n\r\n\tattribute float size;\r\n\r\n#ifndef WALL\r\n\tuniform float miterLimit;\r\n\tattribute vec3 $auxpos1;\r\n\tattribute vec3 $auxpos2;\r\n#endif\r\n\r\n#ifdef SCREENSCALE\r\n\tuniform vec2 screenSize;\r\n\t$toScreenCoords\r\n#define VECTYPE vec2\r\n#define ZEROVEC vec2(0.0, 0.0)\r\n#define PERPENDICULAR(v) vec2(v.y, -v.x);\r\n#define ISOUTSIDE (left.x * right.y - left.y * right.x)*$uv0.y \x3e 0.0\r\n\r\n#else //ifdef SCREENSCALE\r\n\r\n#define VECTYPE vec3\r\n#define ZEROVEC vec3(0.0, 0.0, 0.0)\r\n// these macros are only valid for "strip" type lines:\r\n#define PERPENDICULAR(v) cross(up/*vec3(0.0, 1.0, 0.0)*/, v)\r\n#define ISOUTSIDE dot(cross(left, right), up/*vec3(0.0, 1.0, 0.0)*/)*$uv0.y \x3c 0.0\r\n\r\n#endif //ifdef SCREENSCALE\r\n\r\n\tfloat interp(float ncp, vec4 a, vec4 b) {\r\n\t\treturn (-ncp - a.z) / (b.z - a.z);\r\n\t}\r\n\r\n#ifdef SCREENSCALE\r\n\r\n  void clipAndTransform(inout vec4 pos, inout vec4 prev, inout vec4 next) {\r\n\t\tfloat vnp \x3d nearPlane*0.99;\r\n\r\n\t\t//We have four vertices per point on the line. Start and end vertices \r\n\t\t//are treated differently --\x3e d \x3e 0, d \x3c 0\r\n\t\tfloat d \x3d abs($uv0.y) - 1.1;\r\n\r\n\t\t//current pos behind ncp --\x3e we need to clip\r\n\t\tif(pos.z \x3e -nearPlane) {\t\t\t\r\n\t\t\tif (d \x3c 0.0) {\r\n\t\t\t\t//previous in front of ncp\r\n\t\t\t\tif(prev.z \x3c -nearPlane) {\r\n\t\t\t\t\tpos \x3d mix(prev, pos, interp(vnp, prev, pos));\r\n\t\t\t\t\tnext \x3d pos;\t\t\t\r\n\t\t\t\t} else {\r\n\t\t\t\t  pos \x3d vec4(0, 0, 0, 1);\r\n\t\t\t  }\r\n\t\t\t}\r\n\t\t\t//next in front of ncp\r\n\t\t\tif(d \x3e 0.0) {\r\n\t\t\t\tif(next.z \x3c -nearPlane) {\r\n\t\t\t\t\tpos \x3d mix(pos, next, interp(vnp, pos, next));\r\n\t\t\t\t\tprev \x3d pos;\t\t\t\r\n\t\t\t\t} else {\r\n\t\t\t\t\tpos \x3d vec4(0, 0, 0, 1);\r\n\t\t\t\t}\r\n\t\t\t}\t\t\t\r\n\t\t}\telse { \r\n\t\t\t//current position visible \r\n\t\t\t//previous behind ncp\r\n\t\t\tif (prev.z \x3e -nearPlane) {\t\t\t\t\r\n\t\t\t\tprev \x3d mix(pos, prev, interp(vnp, pos, prev));\t\t\t\t\r\n\t\t\t}\t\t\t\t\t\r\n\t\t\t//next behind ncp\r\n\t\t\tif (next.z \x3e -nearPlane) {\r\n\t\t\t\tnext \x3d mix(next, pos, interp(vnp, next, pos));\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tpos\x3d proj * pos;\r\n\t\tpos.xy *\x3d screenSize;\r\n\t\tpos /\x3d pos.w;\r\n\r\n\t\tnext \x3d proj * next;\r\n\t\tnext.xy *\x3d screenSize;\r\n\t\tnext /\x3d next.w;\r\n\r\n\t\tprev \x3d proj * prev;\r\n\t\tprev.xy *\x3d screenSize;\r\n\t\tprev /\x3d prev.w;\t\t\r\n  }\r\n\r\n#endif // SCREENSCALE\r\n\r\n\tvoid main(void) {\r\n\r\n\tfloat lineWidth \x3d extLineWidth + $size; \r\n\r\n#ifdef SCREENSCALE\r\n\r\n#if 0\r\n\t\tvec4 pos \x3d toScreenCoords($position.xyz);\r\n\t\tvec2 left \x3d (pos - toScreenCoords($auxpos1)).xy;\r\n\t\tvec2 right \x3d (toScreenCoords($auxpos2) - pos).xy;\r\n#else\r\n\t\tvec4 pos  \x3d view * vec4((model * vec4($position.xyz, 1.0)).xyz, 1.0); \r\n\t\tvec4 prev \x3d view * vec4((model * vec4($auxpos1.xyz, 1.0)).xyz, 1.0); \r\n\t\tvec4 next \x3d view * vec4((model * vec4($auxpos2.xyz, 1.0)).xyz, 1.0); \r\n\r\n\t\tclipAndTransform(pos, prev, next);\r\n\r\n\t\tvec2 left \x3d (pos - prev).xy;\r\n\t\tvec2 right \x3d (next - pos).xy;\r\n#endif\r\n\r\n#else // ifdef SCREENSCALE\r\n\t\tvec4 pos \x3d vec4($position, 1.0);\r\n#ifndef WALL\r\n\t\tvec3 left \x3d $position.xyz - $auxpos1;\r\n\t\tvec3 right \x3d $auxpos2 - $position.xyz;\r\n\t\tvec3 up \x3d normalize($position.xyz);\r\n#endif // ifndef WALL\r\n#endif // ifdef SCREENSCALE\r\n\r\n#ifdef WALL\r\n\t\tfloat displacementLen \x3d lineWidth;\r\n\t\tvec3 displacementDir \x3d normalize($position.xyz);//vec3(0.0, 1.0, 0.0);\r\n#else // ifdef WALL\r\n\r\n\t\tfloat leftLen \x3d length(left);\r\n\t\tleft \x3d (leftLen \x3e 0.001) ? left/leftLen : ZEROVEC;\r\n\r\n\t\tfloat rightLen \x3d length(right);\r\n\t\tright \x3d (rightLen \x3e 0.001) ? right/rightLen : ZEROVEC;\r\n\r\n\t\t// determine if vertex is on the "outside or "inside" of the join\r\n\t\tbool isOutside \x3d ISOUTSIDE;\r\n\r\n\t\t// compute miter join position first\r\n\t\tfloat displacementLen \x3d lineWidth;\r\n\t\tVECTYPE displacementDir \x3d normalize(left + right);\r\n\t\tdisplacementDir \x3d PERPENDICULAR(displacementDir);\r\n\t\tif (leftLen \x3e 0.001 \x26\x26 rightLen \x3e 0.001) {\r\n\t\t\tfloat nDotSeg \x3d dot(displacementDir, left);\r\n\t\t\tdisplacementLen /\x3d length(nDotSeg*left - displacementDir);\r\n\r\n\t\t\t// limit displacement of inner vertices\r\n\t\t\tif (!isOutside)\r\n\t\t\t\tdisplacementLen \x3d min(displacementLen, min(leftLen, rightLen)/abs(nDotSeg));\r\n\t\t}\r\n\r\n\t\tif (isOutside \x26\x26 (displacementLen \x3e miterLimit*lineWidth)) {\r\n\t\t\t// convert to bevel join if miterLimit is exceeded\r\n\t\t\tif (leftLen \x3c 0.001)\r\n\t\t\t    displacementDir \x3d right;\r\n\t\t\telse if (rightLen \x3c 0.001)\r\n\t\t\t\tdisplacementDir \x3d left;\r\n\t\t\telse\r\n\t\t\t\tdisplacementDir \x3d (abs($uv0.y) - 1.1 \x3c 0.0) ? left : right;\r\n\t\t\tdisplacementDir \x3d normalize(displacementDir);\r\n\t\t\tdisplacementDir \x3d PERPENDICULAR(displacementDir);\r\n\t\t\tdisplacementLen \x3d lineWidth;\r\n\t\t}\r\n\r\n#endif // ifdef WALL\r\n\r\n#ifdef SCREENSCALE\r\n\t\tpos.xy +\x3d displacementDir * floor($uv0.y + 0.5) * displacementLen;\r\n\t\tpos.xy /\x3d screenSize;\r\n#else\r\n\t\tpos.xyz +\x3d displacementDir * floor($uv0.y + 0.5) * displacementLen;\r\n\t\tpos \x3d proj * view * model * pos;\r\n#endif\r\n\r\n\t\tvtc \x3d $uv0;\r\n\t\tvColor \x3d $color * 0.003921568627451; // \x3d 1/255\r\n\t\tgl_Position \x3d pos;\r\n\t}\r\n]]\x3e\x3c/snippet\x3e\r\n\r\n\x3csnippet name\x3d"fsRibbonLine"\x3e\x3c![CDATA[\r\n\tprecision mediump float;\r\n\r\n\tuniform vec4 eColor;\r\n\tvarying vec4 vColor;\r\n\tvarying vec2 vtc;\r\n\r\n\tvoid main() {\r\n\t\tgl_FragColor \x3d eColor * vColor;\r\n\t\t//gl_FragColor.a \x3d 1;\r\n\t}\r\n]]\x3e\x3c/snippet\x3e\r\n\r\n\x3c/snippets\x3e',
"url:esri/widgets/Popup/templates/PopupRenderer.html":'\x3cdiv class\x3d"${css.root}"\x3e\r\n  \x3cdiv class\x3d"${css.container}" data-dojo-attach-point\x3d"_container"\x3e\r\n    \x3cdiv class\x3d"${css.main}"\x3e\r\n      \x3cdiv class\x3d"${css.title}" data-dojo-attach-point\x3d"_title"\x3e\x3c/div\x3e\r\n      \x3cdiv class\x3d"${css.description}" data-dojo-attach-point\x3d"_description"\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"${css.attachments}"\x3e\r\n      \x3cdiv\x3e${_i18n.attach}:\x3c/div\x3e\r\n      \x3cul data-dojo-attach-point\x3d"_attachmentsList"\x3e\x3c/ul\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"${css.media}"\x3e\r\n      \x3cdiv class\x3d"${css.mediaTitle}"\x3e${_i18n.media}\x3c/div\x3e\r\n      \x3cul class\x3d"${css.mediaSummary}"\x3e\r\n        \x3cli class\x3d"${css.mediaImageSummary}"\x3e\r\n          \x3cspan class\x3d"${css.mediaCount}" data-dojo-attach-point\x3d"_imageCount"\x3e\x3c/span\x3e\r\n          \x3cspan aria-hidden\x3d"true" class\x3d"${css.mediaImageIcon}"\x3e\x3c/span\x3e\r\n        \x3c/li\x3e\r\n        \x3cli class\x3d"${css.mediaChartSummary}"\x3e\r\n          \x3cspan class\x3d"${css.mediaCount}" data-dojo-attach-point\x3d"_chartCount"\x3e\x3c/span\x3e\r\n          \x3cspan aria-hidden\x3d"true" class\x3d"${css.mediaChartIcon}"\x3e\x3c/span\x3e\r\n        \x3c/li\x3e\r\n      \x3c/ul\x3e\r\n      \x3cdiv class\x3d"${css.mediaSlider}"\x3e\r\n        \x3cdiv class\x3d"${css.mediaSliderItems}" data-dojo-attach-point\x3d"_mediaSliderItems"\x3e\x3c/div\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"${css.edit}" data-dojo-attach-point\x3d"_editSummarySection"\x3e\r\n      \x3cdiv class\x3d"${css.editSummary}" data-dojo-attach-point\x3d"_editSummary"\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e',
"url:esri/views/3d/webgl-engine/materials/WaterMaterial.xml":'\x3c?xml version\x3d"1.0" encoding\x3d"UTF-8"?\x3e\r\n\r\n\x3csnippets\x3e\r\n\r\n\x3csnippet name\x3d"vertexShaderWater"\x3e\x3c![CDATA[\r\n\tuniform mat4 proj;\r\n\tuniform mat4 view;\r\n\tuniform mat4 model;\r\n\tattribute vec3 $position;\r\n\tvarying vec3 vpos;\r\n\r\n\tvoid main(void) {\r\n\t\tvpos \x3d (model * vec4($position, 1.0)).xyz;\r\n\t\tgl_Position \x3d proj * view * vec4(vpos, 1.0);\r\n\t}\r\n]]\x3e\x3c/snippet\x3e\r\n\r\n\x3csnippet name\x3d"fragmentShaderWater"\x3e\x3c![CDATA[\r\n\tprecision mediump float;\r\n\r\n\tuniform vec3 color;\r\n\tuniform float scale;\r\n\tuniform float speed;\r\n\r\n\tuniform vec4 lightAmbient;\r\n\tuniform vec4 lightDiffuse;\r\n\tuniform vec4 lightSpecular;\r\n\tuniform vec3 lightDirection;\r\n\r\n\tuniform vec3 camPos;\r\n\r\n\tuniform sampler2D noiseTex;\r\n\tuniform sampler2D reflTex;\r\n\r\n\tuniform sampler2D depthTex;\r\n\tuniform int shadowMapNum;\r\n\tuniform vec4 shadowMapDistance;\r\n\tuniform mat4 shadowMapMatrix[4];\r\n\tuniform float depthHalfPixelSz;\r\n\r\n\tvarying vec3 vpos;\r\n\r\n\t$evalShadow\r\n\r\n\t$normal2envTC\r\n\r\n\t// TODO optimize?\r\n\tvec2 rotate(vec2 pos, float angle) {\r\n\t\tfloat c \x3d cos(angle);\r\n\t\tfloat s \x3d sin(angle);\r\n\t\treturn vec2(c * pos.x - s * pos.y, s * pos.x + c * pos.y);\r\n\t}\r\n\r\n\tfloat compDelta(vec2 pos) {\r\n\t\tconst float PI_THIRD \x3d 1.04719755;\r\n\r\n\t\tfloat result \x3d .0;\r\n\t\tfloat s \x3d 1.0;\r\n\t\tfor (int i \x3d 0; i \x3c 6; ++i) {\r\n\t\t\tvec2 tc \x3d pos / (20.0 * s);\r\n\t\t\ttc +\x3d rotate(vec2(1.0 + speed, .0), PI_THIRD * float(i));\r\n\t\t\tresult +\x3d s * texture2D(noiseTex, tc).r;\r\n\t\t\ts *\x3d 1.5;\r\n\t\t}\r\n\t\treturn result * scale * .2;\r\n\t}\r\n\r\n\tvoid main() {\r\n\t\tvec3 viewVec \x3d normalize(camPos - vpos);\r\n\r\n\t\tfloat d0 \x3d compDelta(vpos.xz);\r\n\t\tfloat dx \x3d compDelta(vpos.xz + vec2(.05, .0));\r\n\t\tfloat dz \x3d compDelta(vpos.xz + vec2(.0, .05));\r\n\r\n\t\tvec3 normal \x3d normalize(vec3(d0 - dx, .05, d0 - dz));\r\n\r\n\t\tfloat fresnel \x3d clamp(1.0 - 1.25 * dot(viewVec, normal), .0, 1.0);\r\n\r\n\t\tfloat shadow \x3d evalShadow(vpos, 1.0 / gl_FragCoord.w, depthTex, shadowMapNum, shadowMapDistance, shadowMapMatrix, depthHalfPixelSz);\r\n\r\n\t\tvec3 reflDir \x3d reflect(-viewVec, normal);\r\n\t\tif (reflDir.y \x3c .02) reflDir.y \x3d 0.04 - reflDir.y;\r\n\r\n\t\tvec3 reflCol \x3d texture2D(reflTex, normal2envTC(reflDir)).rgb * lightAmbient.rgb*lightSpecular.w;\r\n\t\treflCol *\x3d .5 + max(lightDirection.y, .0) * .5; // ?\t+\r\n\t\tvec3 waterColor \x3d color * (lightAmbient.rgb * lightAmbient.w + (1.0 - shadow) * max(lightDirection.y, .0) * lightDiffuse.rgb * lightDiffuse.w);\r\n\t\tvec3 finalColor \x3d mix(waterColor, reflCol, .15 + .6 * fresnel);\r\n\r\n\t\tvec3 spec \x3d pow(max(dot(reflDir, lightDirection), .001), 80.0) * lightSpecular.rgb * lightSpecular.w * 2.0;\r\n\t\tfinalColor +\x3d (1.0 - shadow) * lightDiffuse.w * spec;\r\n\r\n\t\tgl_FragColor \x3d vec4(finalColor, 1.0);\r\n\t}\r\n]]\x3e\x3c/snippet\x3e\r\n\r\n\x3c/snippets\x3e',
"url:esri/widgets/Compass/templates/Compass.html":'\x3cdiv title\x3d"${_i18n.reset}"\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"dap_indicator" class\x3d"${css.indicator}"\x3e\r\n    \x3csvg class\x3d"${css.compass}" xmlns\x3d"http://www.w3.org/2000/svg" xmlns:xlink\x3d"http://www.w3.org/1999/xlink" version\x3d"1.1" x\x3d"0px" y\x3d"0px" viewBox\x3d"0 0 30 30" xml:space\x3d"preserve" enable-background\x3d"new 0 0 30 30" aria-labelledby\x3d"title" aria-describedby\x3d"desc" role\x3d"img"\x3e\r\n      \x3ctitle\x3e${_i18n.title}\x3c/title\x3e\r\n      \x3cdesc\x3e${_i18n.rotationDescription}\x3c/desc\x3e\r\n      \x3cpath class\x3d"${css.compassStyle}" d\x3d"M15 3.2C8.48 3.2 3.2 8.48 3.2 15S8.48 26.8 15 26.8 26.8 21.52 26.8 15 21.52 3.2 15 3.2zM15 25.7C9.1 25.7 4.3 20.9 4.3 15 4.3 9.44 8.57 4.86 14 4.35V11h2V4.35c5.43 0.51 9.7 5.09 9.7 10.65C25.7 20.9 20.9 25.7 15 25.7z" /\x3e\r\n    \x3c/svg\x3e\r\n    \x3csvg class\x3d"${css.compassNorth}" xmlns\x3d"http://www.w3.org/2000/svg" xmlns:xlink\x3d"http://www.w3.org/1999/xlink" version\x3d"1.1" x\x3d"0" y\x3d"0" viewBox\x3d"0 0 30 30" xml:space\x3d"preserve" enable-background\x3d"new 0 0 30 30" aria-labelledby\x3d"title" aria-describedby\x3d"desc" role\x3d"img"\x3e\r\n      \x3ctitle\x3e${_i18n.title}\x3c/title\x3e\r\n      \x3cdesc\x3e${_i18n.compassDescription}\x3c/desc\x3e\r\n      \x3cpath class\x3d"${css.compassStyle}" d\x3d"M15 3l-4.79 11.46c-0.13 0.35-0.13 0.73 0 1.08L15 27l4.79-11.46c0.13-0.35 0.13-0.73 0-1.08L15 3zM11.3 16h7.4L15 25.2 11.3 16z" /\x3e\r\n    \x3c/svg\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e',
"url:esri/views/3d/webgl-engine/materials/LeafCardMaterial.xml":'\x3c?xml version\x3d"1.0" encoding\x3d"UTF-8"?\x3e\r\n\r\n\x3csnippets\x3e\r\n\r\n\x3csnippet name\x3d"vertexShaderLeafCard"\x3e\r\n\t\x3c![CDATA[\r\n\tuniform mat4 proj;\r\n\tuniform mat4 view;\r\n\tuniform mat4 model;\r\n\tuniform mat4 modelNormal;\r\n\tattribute vec3 $position;\r\n\tattribute vec4 $normal;\r\n\tattribute vec4 $uv0;\r\n\tvarying vec2 vtc;\r\n\tvarying vec3 vnormal;\r\n\tvarying float ambientLeaf;\r\n\r\n\tuniform float trafoScale;\r\n\tvarying vec3 vpos;\r\n\r\n\t// TODO optimize?\r\n\tvec2 rotate(vec2 pos, float angle) {\r\n\t\tfloat c \x3d cos(angle);\r\n\t\tfloat s \x3d sin(angle);\r\n\t\treturn vec2(c * pos.x - s * pos.y, s * pos.x + c * pos.y);\r\n\t}\r\n\r\n\tvoid main(void) {\r\n\r\n\t\tvpos \x3d (model * vec4($position, 1.0)).xyz;\r\n\r\n\t\tvec3 pos \x3d (view * model * vec4($position, 1.0)).xyz;\r\n\t\tvec2 uv01 \x3d floor($uv0.xy);\r\n\t\tvec2 uv \x3d $uv0.xy - uv01;\r\n\r\n   \t\tvec2 up \x3d rotate(vec2(1,0), $uv0.z);\r\n   \t\tvec3 xDir \x3d  vec3(up.x,up.y,0.0);\r\n   \t\tvec3 yDir \x3d  vec3(-up.y,up.x,0.0);\r\n\r\n\t\tpos +\x3d xDir * (uv01.x - .5) * $uv0.w *trafoScale;\r\n\t\tpos +\x3d yDir * (uv01.y - .5) * $uv0.w *trafoScale;;\r\n\t\tvec4 pos4 \x3d proj * vec4(pos, 1.0);\r\n\t\tgl_Position \x3d pos4;\r\n\t\tvtc \x3d uv;\r\n\t\tambientLeaf \x3d normal.w;\r\n\t\tvnormal \x3d normalize((modelNormal * vec4($normal.xyz, 1.0)).xyz);\r\n\t}\r\n]]\x3e\r\n\x3c/snippet\x3e\r\n\r\n\x3csnippet name\x3d"fragmentShaderLeafCard"\x3e\r\n\x3c![CDATA[\r\n\tprecision mediump float;\r\n\r\n\tuniform vec3 camPos;\r\n\r\n\tuniform vec4 lightAmbient;\r\n\tuniform vec4 lightDiffuse;\r\n\tuniform vec4 lightSpecular;\r\n\tuniform vec3 lightDirection;\r\n\r\n\tuniform vec3 ambient;\r\n\tuniform vec3 diffuse;\r\n\tuniform vec3 specular;\r\n\tuniform float shininess;\r\n\r\n\tuniform sampler2D tex;\r\n\tvarying vec2 vtc;\r\n\tvarying vec3 vnormal;\r\n\tvarying float ambientLeaf;\r\n\r\n\tvarying vec3 vpos;\r\n\r\n\tvoid main() {\r\n\t\tvec4 texColor \x3d texture2D(tex, vtc);\r\n\t\tif (texColor.a \x3c .33) discard;\r\n\r\n\t\tvec3 a \x3d ambient * lightAmbient.rgb * lightAmbient.w;\r\n\t\tvec3 d \x3d diffuse * lightDiffuse.rgb * lightDiffuse.w * clamp(dot(vnormal, lightDirection), .0, 1.0);\r\n\r\n\t\tvec3 reflDir \x3d normalize(reflect(vpos - camPos, vnormal));\r\n\t\tfloat specDot \x3d max(dot(reflDir, lightDirection), .001);\r\n\t\tvec3 s \x3d specular * lightSpecular.rgb * lightSpecular.w * pow(specDot, shininess);\r\n\r\n\t\tgl_FragColor \x3d vec4(ambientLeaf * texColor.rgb * (a + d) + s, texColor.a);\r\n\r\n\t\t//gl_FragColor \x3d vec4(ambient,1.0);\r\n\r\n\t}\r\n]]\x3e\x3c/snippet\x3e\r\n\r\n\r\n\x3csnippet name\x3d"vertexShaderLeafCardDepth"\x3e\x3c![CDATA[\r\n   \tuniform mat4 proj;\r\n   \tuniform mat4 view;\r\n   \tuniform mat4 model;\r\n   \tuniform vec2 nearFar;\r\n\r\n   \tattribute vec3 $position;\r\n   \tattribute vec4 $uv0;\r\n\r\n   \tuniform float trafoScale;\r\n\r\n   \tvarying vec2 vtc;\r\n   \tvarying float depth;\r\n\r\n   \t// TODO optimize?\r\n   \tvec2 rotate(vec2 pos, float angle) {\r\n   \t\tfloat c \x3d cos(angle);\r\n   \t\tfloat s \x3d sin(angle);\r\n   \t\treturn vec2(c * pos.x - s * pos.y, s * pos.x + c * pos.y);\r\n   \t}\r\n\r\n   \tvoid main(void) {\r\n   \t\tvec3 pos \x3d (view * model * vec4($position, 1.0)).xyz;\r\n   \t\tvec2 uv01 \x3d floor($uv0.xy);\r\n   \t\tvec2 uv \x3d $uv0.xy - uv01;\r\n\r\n   \t\tvec2 up \x3d rotate(vec2(1,0), $uv0.z);\r\n   \t\tvec3 xDir \x3d  vec3(up.x,up.y,0.0);\r\n   \t\tvec3 yDir \x3d  vec3(-up.y,up.x,0.0);\r\n\r\n   \t\tpos +\x3d xDir * (uv01.x - .5) * $uv0.w*trafoScale;\r\n   \t\tpos +\x3d yDir * (uv01.y - .5) * $uv0.w*trafoScale;\r\n   \t\tvec4 pos4 \x3d proj * vec4(pos, 1.0);\r\n   \t\tgl_Position \x3d pos4;\r\n   \t\tvtc \x3d uv;\r\n\r\n   \t\tdepth \x3d (-pos.z - nearFar[0]) / (nearFar[1] - nearFar[0]);\r\n\r\n   \t}\r\n ]]\x3e\x3c/snippet\x3e\r\n\r\n\x3c/snippets\x3e',
"url:esri/views/3d/webgl-engine/materials/HUDMaterial.xml":'\x3c?xml version\x3d"1.0" encoding\x3d"UTF-8"?\x3e\r\n\r\n\x3csnippets\x3e\r\n\r\n\x3csnippet name\x3d"HUDMaterialCommonVariables"\x3e\x3c![CDATA[\r\n\tuniform mat4 proj;\r\n\tuniform mat4 view;\r\n\tuniform mat4 model;\r\n\tuniform mat4 modelNormal;\r\n\tuniform vec4 viewport;\r\n\tuniform vec3 camPos;\r\n\tuniform float pixelRatio;\r\n\tuniform vec2 screenOffset;\r\n\tuniform vec2 anchorPos;\r\n\tuniform float polygonOffset;\r\n\r\n\tattribute vec3 $position;\r\n\tattribute vec3 $normal;\r\n\tattribute vec2 $uv0;\r\n\tattribute vec4 $color;\r\n  attribute vec2 $size;\r\n  attribute vec4 $auxpos1;\r\n\r\n\tvarying vec4 vcolor;\r\n\t\r\n#ifdef OCCL_PIXELSHADER\r\n \tvarying vec4 vtc;\r\n#else\r\n\tvarying vec2 vtc;\r\n\tvarying vec2 vsize;\r\n\tuniform sampler2D framebufferTex;\r\n\tuniform vec3 markerColor;\r\n#endif\t\r\n\r\n]]\x3e\x3c/snippet\x3e\r\n\r\n\x3csnippet name\x3d"matchPixelOrigin"\x3e\x3c![CDATA[\r\n\tvec4 matchPixelOrigin(vec4 clipCoord, vec2 widthHeight) {\r\n\t\tvec2 xy \x3d vec2(.5) + .5 * clipCoord.xy / clipCoord.w;\r\n\t\tvec2 pixelSz \x3d vec2(1.0) / widthHeight;\r\n\t\tvec2 ij \x3d floor((xy + .5 * pixelSz) * widthHeight);\r\n\t\tvec2 result \x3d ((ij * pixelSz) * 2.0 - vec2(1.0)) * clipCoord.w;\r\n\t\treturn vec4(result.x, result.y, clipCoord.z, clipCoord.w);\r\n\t}\r\n]]\x3e\x3c/snippet\x3e\r\n\r\n\x3csnippet name\x3d"calcPosMatchPixelCenter"\x3e\x3c![CDATA[\r\n\r\n\t\tvec3 posModel \x3d (model * vec4($position, 1.0)).xyz;\r\n\t\tvec3 posView \x3d (view * vec4(posModel, 1.0)).xyz;\r\n\r\n\t\tvec3 vnormal \x3d (modelNormal * vec4($normal, 1.0)).xyz;\r\n\r\n\t\t// view angle dependent part of polygon offset emulation\r\n\t\tfloat cosAlpha \x3d dot(vnormal, normalize(camPos - posModel));\r\n\t\tif (cosAlpha \x3e .01) {\r\n\t\t\tfloat tanAlpha \x3d sqrt(1.0 - cosAlpha * cosAlpha) / cosAlpha;\r\n\t\t\tposView *\x3d 1.0 - tanAlpha / viewport[2];\r\n\t\t}\r\n\r\n\t    if (centerOffset.w\x3c0.0)\r\n            posView+\x3dcenterOffset.xyz;\r\n\r\n\t\tvec4 posProj \x3d proj * vec4(posView, 1.0);\r\n\r\n\t\t// constant part of polygon offset emulation\r\n\t\tif (cosAlpha \x3e .01)\r\n\t\t\tposProj.z -\x3d polygonOffset * posProj.w;\r\n\r\n\t\tposProjCenter \x3d matchPixelCenter(posProj, viewport.zw);\r\n\r\n]]\x3e\x3c/snippet\x3e\r\n\r\n\x3csnippet name\x3d"vertexShaderHUD"\x3e\x3c![CDATA[\r\n    $HUDMaterialCommonVariables\r\n\r\n\t$matchPixelCenter\r\n\t$matchPixelOrigin\r\n\r\n\tvoid main(void) {\r\n\r\n\t    vec4 centerOffset \x3d $auxpos1;\r\n\r\n\t\tvec2 combinedSize \x3d $size * pixelRatio;\r\n\r\n        vec4 posProjCenter;\r\n\t\t$calcPosMatchPixelCenter\r\n\r\n#ifdef OCCL_TEST\r\n\t\tif (texture2D(framebufferTex, .5 + .5 * posProjCenter.xy / posProjCenter.w).rgb \x3d\x3d markerColor) {\r\n#endif\r\n\t\t\tvec2 uv01 \x3d floor($uv0);\r\n\t\t\tvec2 uv \x3d $uv0 - uv01;\r\n\t\t\tfloat dist \x3d distance(camPos, posModel);\r\n\t\t\tposProj.xy +\x3d ((uv01 - anchorPos) * 2.0 * combinedSize + screenOffset)/ viewport.zw * posProj.w;\r\n\t\t\tvtc.xy \x3d uv;\r\n\t\t\tvsize \x3d $size;\r\n#ifdef OCCL_TEST\r\n\t\t} else {\r\n\t\t\tvtc \x3d vec2(.0);\r\n\t\t}\r\n#endif\r\n\r\n#ifdef OCCL_PIXELSHADER\r\n\tvtc.zw \x3d .5 + .5 * posProjCenter.xy / posProjCenter.w;\r\n#endif\r\n\t\tgl_Position \x3d matchPixelOrigin(posProj, viewport.zw);\r\n\t\tvcolor \x3d $color / 255.0;\r\n\t}\r\n]]\x3e\x3c/snippet\x3e\r\n\r\n\x3csnippet name\x3d"vertexShaderHUDWorldScale"\x3e\x3c![CDATA[\r\n    $HUDMaterialCommonVariables\r\n\r\n\tuniform vec2 minMaxWorldSizeFactor;\r\n\r\n\t$matchPixelCenter\r\n\t$matchPixelOrigin\r\n\r\n\tvoid main(void) {\r\n\t    vec4 centerOffset \x3d $auxpos1;\r\n\t    vec2 combinedSize \x3d $size * pixelRatio;\r\n\t    \r\n\t    vec4 posProjCenter;\r\n\r\n\t\t$calcPosMatchPixelCenter\r\n\r\n#ifdef OCCL_TEST\r\n\t\tif (texture2D(framebufferTex, .5 + .5 * posProjCenter.xy / posProjCenter.w).rgb \x3d\x3d markerColor) {\r\n#endif\r\n\t\t\tfloat scale \x3d 1.0;\r\n\t\t\tvec2 minMaxWorldSize \x3d distance(camPos, position)*minMaxWorldSizeFactor;\r\n\t\t\tif (minMaxWorldSize.x \x3e combinedSize.y)\r\n\t\t\t\tscale \x3d minMaxWorldSize.x / combinedSize.y;\r\n\t\t\telse if (minMaxWorldSize.y \x3e 0.0)\r\n\t\t\t\tscale \x3d min(1.0, minMaxWorldSize.y / combinedSize.y);\r\n\r\n\t\t\tvec2 uv01 \x3d floor($uv0);\r\n\t\t\tvec2 uv \x3d $uv0 - uv01;\r\n\t\t\tposView.xy +\x3d (uv01 - anchorPos) * combinedSize * scale;\r\n\t\t\tuv.y +\x3d (1.0 - texScale.y);\r\n\t\t\tvtc.xy \x3d uv;\r\n#ifdef OCCL_TEST\r\n\t\t} else {\r\n\t\t\tvtc \x3d vec2(.0);\r\n\t\t}\r\n#endif\r\n\r\n#ifdef OCCL_PIXELSHADER\r\n\tvtc.zw \x3d .5 + .5 * posProjCenter.xy / posProjCenter.w;\r\n#endif\r\n\t\tposProj \x3d proj * vec4(posView,1.0);\r\n\t\tposProj.xy +\x3d screenOffset / viewport.zw * posProj.w;\r\n\t\tgl_Position \x3d posProj;\r\n\t\tvcolor \x3d $color;\r\n\t}\r\n]]\x3e\x3c/snippet\x3e\r\n\r\n\r\n\r\n\x3csnippet name\x3d"calcLabelDirections"\x3e\x3c![CDATA[\r\n\tvec2 uv01 \x3d floor($uv0);\r\n\tvec2 uv \x3d $uv0 - uv01;\r\n\r\n\tvec3 labelDir, labelDirOrtho;\r\n\r\n\tint isUp \x3d 0;\r\n\tvec2 vId \x3d (uv01 - vec2(.5, .5))*2.0;\r\n\r\n\tvec3 viewDirInNormalPlane \x3d normalize(camDir.xyz - dot(camDir.xyz, direction)*direction);\r\n\tfloat angleToNormal \x3d abs(dot(viewDirInNormalPlane,up));\r\n\tfloat angleToDirection \x3d abs(dot(camDir.xyz, direction));\r\n\tif (angleToDirection \x3c 0.985 \x26\x26 angleToNormal \x3c 0.500)\r\n\t{\r\n\t    if (angleToNormal \x3c 0.422) {\r\n\t\t    isUp \x3d 1;\r\n\t\t    labelDir \x3d direction;\r\n\t\t    labelDirOrtho \x3d up;\r\n\t\t    vId.y +\x3d 0.5;\r\n\t\t} else {\r\n\t\t    labelDir \x3d direction;\r\n            labelDirOrtho \x3d cross(viewDirInNormalPlane, direction);\r\n            vId.y +\x3d dot(labelDirOrtho, up)*0.5;\r\n\t\t}\r\n\t}\r\n\telse\r\n\t{\r\n\t\tlabelDir \x3d direction;\r\n\t\tlabelDirOrtho \x3d normalize(cross(up,direction));\r\n\t}\r\n]]\x3e\x3c/snippet\x3e\r\n\r\n\x3csnippet name\x3d"vertexShaderHUDDirection"\x3e\x3c![CDATA[\r\n \tuniform vec3 direction;\r\n \t\r\n\tvoid main(void) {\r\n\t    vec4 centerOffset \x3d $auxpos1;\r\n\t    vec2 combinedSize \x3d $size * pixelRatio;\r\n\r\n        vec4 posProjCenter;\r\n \t\t$calcPosMatchPixelCenter\r\n\r\n \t\tvec3 direction \x3d normalize(direction);\r\n \t\tvec3 up \x3d vnormal;\r\n \t\tvec3 camDir \x3d normalize(vec3(view[0][2],view[1][2],view[2][2]));\r\n\r\n #ifdef OCCL_TEST\r\n \t\tif (texture2D(framebufferTex, .5 + .5 * posProjCenter.xy / posProjCenter.w).rgb \x3d\x3d markerColor) {\r\n #endif\r\n\r\n \t\t\t$calcLabelDirections\r\n\r\n\t\t    float scale;\r\n\t\t    if (proj[2][3] !\x3d 0.0)  // perspective projection\r\n \t\t\t    scale \x3d posProj.w*0.5/viewport[2];\r\n \t\t\telse                    // othographic projection\r\n \t\t\t    scale \x3d 2.0/proj[0][0]/viewport[2];\r\n\r\n \t\t\tposModel.xyz +\x3d labelDir * vId.x * combinedSize.x * scale ;\r\n \t\t\tposModel.xyz +\x3d labelDirOrtho * vId.y * combinedSize.y * scale;\r\n\r\n \t\t\tvec4 posDirProj \x3d proj*view*model * vec4($position+direction, 1.0);\r\n \t\t\tvec4 posProjUnmodified \x3d proj*view*model * vec4($position, 1.0);\r\n \t\t\tif (posDirProj.x\x3cposProjUnmodified.x)\r\n \t\t\t{\r\n \t\t\t\tif (isUp\x3d\x3d1)\r\n \t\t\t\t\tuv.x \x3d texScale.x-uv.x;\r\n \t\t\t\telse\r\n \t\t\t\t\tuv \x3d texScale-uv;\r\n \t\t\t}\r\n \t\t\tvtc.xy \x3d uv;\r\n #ifdef OCCL_TEST\r\n \t\t} else {\r\n \t\t\tvtc \x3d vec2(.0);\r\n \t\t}\r\n #endif\r\n\r\n #ifdef OCCL_PIXELSHADER\r\n\tvtc.zw \x3d .5 + .5 * posProjCenter.xy / posProjCenter.w;\r\n#endif\r\n \t\tvec4 pos4 \x3d proj * view * vec4(posModel,1.0);\r\n \t\tgl_Position \x3d pos4;\r\n \t}\r\n ]]\x3e\x3c/snippet\x3e\r\n\r\n\r\n\x3csnippet name\x3d"vertexShaderHUDDirectionWorldScale"\x3e\x3c![CDATA[\r\n    $HUDMaterialCommonVariables\r\n    \r\n\tuniform vec2 minMaxWorldSizeFactor;\r\n\tuniform vec3 direction;\r\n\r\n\t$matchPixelCenter\r\n\t$matchPixelOrigin\r\n\r\n\tvoid main(void) {\r\n\t    vec4 centerOffset \x3d $auxpos1;\r\n\t    vec2 combinedSize \x3d $size * pixelRatio;\r\n\r\n        vec4 posProjCenter;\r\n\t\t$calcPosMatchPixelCenter\r\n\r\n\t\tvec3 direction \x3d normalize(direction);\r\n\t\tvec3 up \x3d vnormal;\r\n\t\tvec3 camDir \x3d normalize(vec3(view[0][2],view[1][2],view[2][2]));\r\n\r\n#ifdef OCCL_TEST\r\n\t\tif (texture2D(framebufferTex, .5 + .5 * posProjCenter.xy / posProjCenter.w).rgb \x3d\x3d markerColor) {\r\n#endif\r\n\r\n\t\t\t$calcLabelDirections\r\n\r\n\t\t\tfloat scale \x3d 1.0;\r\n\t\t\tvec2 minMaxWorldSize \x3d minMaxWorldSizeFactor;\r\n\t\t\tif (proj[2][3] !\x3d 0.0)  // perspective projection\r\n\t\t\t\tminMaxWorldSize \x3d distance(camPos, position)*minMaxWorldSizeFactor;\r\n\t\t\tif (minMaxWorldSize.x \x3e combinedSize.y)\r\n\t\t\t\tscale \x3d minMaxWorldSize.x / combinedSize.y;\r\n\t\t\telse if (minMaxWorldSize.y \x3e 0.0)\r\n\t\t\t\tscale \x3d min(1.0, minMaxWorldSize.y / combinedSize.y);\r\n\r\n\t\t\tposModel.xyz +\x3d labelDir*vId.x*combinedSize.x*scale;\r\n\t\t\tposModel.xyz +\x3d labelDirOrtho*vId.y*combinedSize.y*scale;\r\n\r\n\t\t\tvec4 posDirProj \x3d proj*view*model * vec4($position+direction, 1.0);\r\n\t\t\tvec4 posProjUnmodified \x3d proj*view*model * vec4($position, 1.0);\r\n \t\t\tif (posDirProj.x\x3cposProjUnmodified.x)\r\n \t\t\t{\r\n \t\t\t\tif (isUp\x3d\x3d1)\r\n \t\t\t\t\tuv.x \x3d texScale.x-uv.x;\r\n \t\t\t\telse\r\n \t\t\t\t\tuv \x3d texScale-uv;\r\n \t\t\t}\r\n \t\t\tuv.y +\x3d (1.0 - texScale.y);\r\n\t\t\tvtc.xy \x3d uv;\r\n#ifdef OCCL_TEST\r\n\t\t} else {\r\n\t\t\tvtc \x3d vec2(.0);\r\n\t\t}\r\n#endif\r\n\r\n#ifdef OCCL_PIXELSHADER\r\n\tvtc.zw \x3d .5 + .5 * posProjCenter.xy / posProjCenter.w;\r\n#endif\r\n\t\tvec4 pos4 \x3d proj * view * vec4(posModel,1.0);\r\n\t\tgl_Position \x3d pos4;\r\n\t}\r\n]]\x3e\x3c/snippet\x3e\r\n\r\n\x3csnippet name\x3d"fragmentShaderHUD"\x3e\x3c![CDATA[\r\n\tprecision mediump float;\r\n\r\n\t#extension GL_OES_standard_derivatives : require\r\n\r\n\tuniform sampler2D tex;\r\n\tuniform vec4 overrideColor;\r\n\tuniform vec4 outlineColor;\r\n\tuniform float outlineSize;\r\n\r\n\tvarying vec4 vcolor;\r\n\r\n#ifdef OCCL_PIXELSHADER\r\n\tvarying vec4 vtc;\r\n\tuniform vec3 markerColor;\r\n\tuniform sampler2D framebufferTex;\r\n#else\r\n\tvarying vec2 vtc;\r\n\tvarying vec2 vsize;\r\n#endif\r\n\r\n\tvoid main() {\r\n\r\n#ifdef OCCL_PIXELSHADER\r\n   \t\tif (texture2D(framebufferTex, vtc.zw).rgb !\x3d markerColor)\r\n   \t\t\tdiscard;\r\n#endif\r\n\r\n#ifdef SIGNED_DISTANCE_FIELD\r\n\t\tvec4 color \x3d vec4(0.0, 0.0, 0.0, 0.0);\r\n\t\tvec4 fillPixelColor \x3d overrideColor * vcolor;\r\n\r\n\t\t// Distance in [-0.5, 0.5]\r\n\t\tfloat d \x3d dot(texture2D(tex, vtc), vec4(1.0/16777216.0, 1.0/65535.0, 1.0/256.0, 1.0)) - 0.5;\r\n\t\t// Distance in output units\r\n\t\tfloat dist \x3d d * vsize.x;\r\n\r\n\t\tfillPixelColor.a *\x3d clamp(0.5 - dist, 0.0, 1.0);\r\n\r\n\t\tif (outlineSize \x3e 0.25) {\r\n\t\t\tvec4 outlinePixelColor \x3d outlineColor;\r\n\t\t\tfloat clampedOutlineSize \x3d min(outlineSize, 0.5*vsize.x);\r\n\t\t\toutlinePixelColor.a *\x3d clamp(0.5 - (abs(dist) - 0.5*clampedOutlineSize), 0.0, 1.0);\r\n\r\n\t\t\t// perform un-premultiplied over operator (see https://en.wikipedia.org/wiki/Alpha_compositing#Description)\r\n\t\t\tfloat compositeAlpha \x3d outlinePixelColor.a + fillPixelColor.a * (1.0 - outlinePixelColor.a);\r\n\t\t\tvec3 compositeColor \x3d vec3(outlinePixelColor) * outlinePixelColor.a +\r\n\t\t\t\tvec3(fillPixelColor) * fillPixelColor.a * (1.0 - outlinePixelColor.a);\r\n\t\t\tcompositeColor /\x3d compositeAlpha;\r\n\r\n\t\t\tgl_FragColor \x3d vec4(compositeColor, compositeAlpha);\r\n\t\t}\r\n\t\telse {\r\n\t\t\tgl_FragColor \x3d fillPixelColor;\r\n\t\t}\r\n\r\n\t\t// visualize SDF:\r\n\t\t// gl_FragColor \x3d vec4(clamp(-dist/vsize.x*2.0, 0.0, 1.0), clamp(dist/vsize.x*2.0, 0.0, 1.0), 0.0, 1.0);\r\n#else\r\n\t\tgl_FragColor \x3d texture2D(tex, vtc, -0.5) * overrideColor * vcolor;\r\n#endif\r\n\r\n\t\tif (gl_FragColor.a \x3c 0.1) {\r\n\t\t\tdiscard;\r\n\t\t}\r\n\t}\r\n]]\x3e\x3c/snippet\x3e\r\n\r\n\r\n\x3csnippet name\x3d"vertexShaderOcclusionTestPixel"\x3e\x3c![CDATA[\r\n\tuniform mat4 proj;\r\n\tuniform mat4 view;\r\n\tuniform mat4 model;\r\n\tuniform mat4 modelNormal;\r\n\tuniform vec4 viewport;\r\n\tuniform vec3 camPos;\r\n\tuniform float polygonOffset;\r\n\r\n\tattribute vec3 $position;\r\n\tattribute vec3 $normal;\r\n\tattribute vec4 $auxpos1;\r\n\r\n\t$matchPixelCenter\r\n\r\n\tvoid main(void) {\r\n\t    vec4 centerOffset \x3d $auxpos1;\r\n\r\n\t    vec4 posProjCenter;\r\n\t    if (dot($position, $position) \x3e 0.0) {\r\n\t\t    $calcPosMatchPixelCenter\r\n\t\t} else {\r\n\t\t    posProjCenter \x3d vec4(1e038, 1e038, 1e038, 1.0);\r\n\t\t}\r\n\r\n\t\tgl_Position \x3d posProjCenter;\r\n\t\tgl_PointSize \x3d 1.0;\r\n\t}\r\n]]\x3e\x3c/snippet\x3e\r\n\r\n\x3c/snippets\x3e',
"url:esri/views/3d/webgl-engine/materials/internal/util.xml":'\x3c?xml version\x3d"1.0" encoding\x3d"UTF-8"?\x3e\r\n\r\n\x3csnippets\x3e\r\n\r\n\x3csnippet name\x3d"matchPixelCenter"\x3e\x3c![CDATA[\r\n\tvec4 matchPixelCenter(vec4 clipCoord, vec2 widthHeight) {\r\n\t\tvec2 xy \x3d vec2(.500123) + .5 * clipCoord.xy / clipCoord.w;\r\n\t\tvec2 ij \x3d floor(xy * widthHeight);\r\n\t\tvec2 pixelSz \x3d vec2(1.0) / widthHeight;\r\n\t\tvec2 result \x3d (((vec2(.5) + ij) * pixelSz) * 2.0 - vec2(1.0)) * clipCoord.w;\r\n\t\treturn vec4(result.x, result.y, clipCoord.z, clipCoord.w);\r\n\t}\r\n]]\x3e\x3c/snippet\x3e\r\n\r\n\x3csnippet name\x3d"float2rgba"\x3e\x3c![CDATA[\r\n\tvec4 float2rgba(const in float v) { \r\n\t\tvec4 enc \x3d vec4(1.0, 255.0, 65025.0, 160581375.0) * v; \r\n\t\tenc \x3d fract(enc); \r\n\t\tenc -\x3d enc.yzww * vec4(1.0/255.0, 1.0/255.0, 1.0/255.0, 0.0); \r\n\t\treturn enc; \r\n\t}\r\n]]\x3e\x3c/snippet\x3e\r\n\r\n\x3csnippet name\x3d"rgba2float"\x3e\x3c![CDATA[\r\n\tfloat rgba2float(vec4 rgba) { \r\n\t\treturn dot(rgba, vec4(1.0, 1.0/255.0, 1.0/65025.0, 1.0/160581375.0)); \r\n\t}\r\n]]\x3e\x3c/snippet\x3e\t\r\n\r\n\x3csnippet name\x3d"calcFragDepth"\x3e\x3c![CDATA[\r\n\t#extension GL_OES_standard_derivatives : enable \r\n\r\n\tfloat calcFragDepth(const in float depth) {\r\n\t\t//calc polygon offset\r\n\t\tconst float SLOPE_SCALE \x3d 2.0; \r\n\t\tconst float BIAS \x3d 2.0 * .000015259;\t\t// 1 / (2^16 - 1) \r\n\t\tfloat m \x3d max(abs(dFdx(depth)), abs(dFdy(depth))); \r\n\t\tfloat result \x3d depth + SLOPE_SCALE * m + BIAS; \r\n\t\treturn clamp(result, .0, .999999); \r\n\t}\r\n]]\x3e\x3c/snippet\x3e\r\n\r\n\x3csnippet name\x3d"evalShadow"\x3e\x3c![CDATA[\r\n\t$rgba2float\r\n\r\n\t// "matrix" parameter used to have const qualifier as well, but IE11 couldn\'t deal with it at time of writing.\r\n\t// once IE11 is fine with it, const should probably be re-introduced\r\n\tfloat evalShadow(const in vec3 vpos, const in float depth, const in sampler2D depthTex, const int num, const in vec4 distance, in mat4 matrix[4], const in float halfPxSz) {\r\n\t\tif (halfPxSz \x3c .0) return .0;\r\n\t\t\r\n\t\t//choose correct cascade\r\n\t\tint i \x3d depth \x3c distance[1] ? 0 : depth \x3c distance[2] ? 1 : depth \x3c distance[3] ? 2 : 3;\t\t\r\n\r\n\t\tif (i \x3e\x3d num) return .0;\r\n\t\t\r\n\t\tmat4 mat \x3d i \x3d\x3d 0 ? matrix[0] : i \x3d\x3d 1 ? matrix[1] : i \x3d\x3d 2 ? matrix[2] : matrix[3];\r\n\t\t\r\n\t\tvec4 lv \x3d mat * vec4(vpos, 1.0);\r\n\t\tlv.xy /\x3d lv.w;\r\n\t\t\r\n\t\t//vertex completely outside? -\x3e no shadow\r\n\t\tvec3 lvpos \x3d .5 * lv.xyz + vec3(.5);\t\t\r\n\t\tif (lvpos.z \x3e\x3d 1.0) return .0;\t\t\r\n\t\tif (lvpos.x \x3c .0 || lvpos.x \x3e 1.0 || lvpos.y \x3c .0 || lvpos.y \x3e 1.0) return .0;\r\n\t\t\r\n\t\t//calc coord in cascade texture\r\n\t\tvec2 uv \x3d vec2(float(i - 2 * (i / 2)) *.5, float(i / 2) * .5) + .5 * lvpos.xy;\r\n\t\t\r\n\t\tfloat texSize \x3d .5 / halfPxSz; \r\n\r\n\t\t//filter, offset by half pixels\r\n\t\tvec2 st \x3d fract((vec2(halfPxSz) + uv) * texSize);\r\n\t\t\r\n\t\tfloat s00 \x3d rgba2float(texture2D(depthTex, uv + vec2(-halfPxSz, -halfPxSz))) \x3c lvpos.z ? 1.0 : .0; \r\n\t\tfloat s10 \x3d rgba2float(texture2D(depthTex, uv + vec2(halfPxSz, -halfPxSz))) \x3c lvpos.z ? 1.0 : .0; \r\n\t\tfloat s11 \x3d rgba2float(texture2D(depthTex, uv + vec2(halfPxSz, halfPxSz))) \x3c lvpos.z ? 1.0 : .0; \r\n\t\tfloat s01 \x3d rgba2float(texture2D(depthTex, uv + vec2(-halfPxSz, halfPxSz))) \x3c lvpos.z ? 1.0 : .0; \r\n\r\n\t\treturn mix(mix(s00, s10, st.x), mix(s01, s11, st.x), st.y); \r\n\t}\r\n]]\x3e\x3c/snippet\x3e\r\n\r\n\x3csnippet name\x3d"normal2envTC"\x3e\x3c![CDATA[\r\n\tvec2 normal2envTC(vec3 normal) { \r\n\t\tfloat v \x3d .5 + .5 * asin(normal.y) * 0.63661977; \r\n\t\tfloat u \x3d .5 - .5 * atan(normal.z, normal.x) * 0.31830988; \r\n\t\treturn vec2(u, v);\r\n\t}\r\n]]\x3e\x3c/snippet\x3e\r\n\r\n\x3csnippet name\x3d"vertexShaderShowDepth"\x3e\x3c![CDATA[\r\n\tuniform mat4 proj;\r\n\tattribute vec2 $position;\r\n\tattribute vec2 $uv0;\r\n\tvarying vec2 vtc;\r\n\r\n\tvoid main(void) {\r\n\t\tgl_Position \x3d proj * vec4($position.x, $position.y, .0, 1.0);\r\n\t\tvtc \x3d $uv0;\r\n\t}\r\n]]\x3e\x3c/snippet\x3e\r\n\r\n\t\x3csnippet name\x3d"fragmentShaderShowDepth"\x3e\x3c![CDATA[\r\n\tprecision mediump float;\r\n\r\n\tuniform sampler2D depthTex;\r\n\tvarying vec2 vtc;\r\n\t$rgba2float\r\n\tvoid main() {\r\n\t//\tgl_FragColor \x3d vec4(vec3(texture2D(depthTex, vtc).a), 1.0);\r\n\t\tgl_FragColor \x3d vec4(rgba2float(texture2D(depthTex, vtc)));\r\n\t//\tgl_FragColor \x3d texture2D(depthTex, vtc);\r\n\t}\r\n]]\x3e\x3c/snippet\x3e\r\n\r\n\x3csnippet name\x3d"vsUVQuad"\x3e\x3c![CDATA[\r\n\tattribute vec2 $position; \r\n\tvarying vec2 uv; \r\n\r\n\tvoid main(void) { \r\n\t\tgl_Position \x3d vec4($position.x, $position.y, .0, 1.0); \r\n\t\tuv \x3d $position * .5 + vec2(.5); \r\n\t}\r\n]]\x3e\x3c/snippet\x3e\t\r\n\r\n\x3csnippet name\x3d"toScreenCoords"\x3e\x3c![CDATA[\r\n\tvec4 toScreenCoords(vec3 vertex) {\r\n\t\tvec4 vClipSpace \x3d proj * view * vec4((model * vec4(vertex, 1.0)).xyz, 1.0);\r\n\t\tvClipSpace.xy *\x3d screenSize;\r\n\t\treturn vClipSpace/abs(vClipSpace.w);\r\n\t}\r\n]]\x3e\x3c/snippet\x3e\r\n\r\n\x3c/snippets\x3e\r\n\t',
"url:dijit/templates/Tooltip.html":'\x3cdiv class\x3d"dijitTooltip dijitTooltipLeft" id\x3d"dojoTooltip" data-dojo-attach-event\x3d"mouseenter:onMouseEnter,mouseleave:onMouseLeave"\r\n\t\x3e\x3cdiv class\x3d"dijitTooltipConnector" data-dojo-attach-point\x3d"connectorNode"\x3e\x3c/div\r\n\t\x3e\x3cdiv class\x3d"dijitTooltipContainer dijitTooltipContents" data-dojo-attach-point\x3d"containerNode" role\x3d\'alert\'\x3e\x3c/div\r\n\x3e\x3c/div\x3e\r\n',"url:esri/widgets/templates/BasemapGallery.html":'\x3cdiv class\x3d"esri-basemap-gallery"\x3e\r\n  \x3cdiv dojoAttachPoint\x3d"flowContainer"\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:dijit/form/templates/ValidationTextBox.html":'\x3cdiv class\x3d"dijit dijitReset dijitInline dijitLeft"\r\n\tid\x3d"widget_${id}" role\x3d"presentation"\r\n\t\x3e\x3cdiv class\x3d\'dijitReset dijitValidationContainer\'\r\n\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputField dijitValidationIcon dijitValidationInner" value\x3d"\x26#935; " type\x3d"text" tabIndex\x3d"-1" readonly\x3d"readonly" role\x3d"presentation"\r\n\t/\x3e\x3c/div\r\n\t\x3e\x3cdiv class\x3d"dijitReset dijitInputField dijitInputContainer"\r\n\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputInner" data-dojo-attach-point\x3d\'textbox,focusNode\' autocomplete\x3d"off"\r\n\t\t\t${!nameAttrSetting} type\x3d\'${type}\'\r\n\t/\x3e\x3c/div\r\n\x3e\x3c/div\x3e\r\n',
"url:dijit/templates/InlineEditBox.html":'\x3cspan data-dojo-attach-point\x3d"editNode" role\x3d"presentation" class\x3d"dijitReset dijitInline dijitOffScreen"\r\n\t\x3e\x3cspan data-dojo-attach-point\x3d"editorPlaceholder"\x3e\x3c/span\r\n\t\x3e\x3cspan data-dojo-attach-point\x3d"buttonContainer"\r\n\t\t\x3e\x3cbutton data-dojo-type\x3d"./form/Button" data-dojo-props\x3d"label: \'${buttonSave}\', \'class\': \'saveButton\'"\r\n\t\t\tdata-dojo-attach-point\x3d"saveButton" data-dojo-attach-event\x3d"onClick:save"\x3e\x3c/button\r\n\t\t\x3e\x3cbutton data-dojo-type\x3d"./form/Button"  data-dojo-props\x3d"label: \'${buttonCancel}\', \'class\': \'cancelButton\'"\r\n\t\t\tdata-dojo-attach-point\x3d"cancelButton" data-dojo-attach-event\x3d"onClick:cancel"\x3e\x3c/button\r\n\t\x3e\x3c/span\r\n\x3e\x3c/span\x3e\r\n',
"url:esri/views/3d/webgl-engine/materials/internal/ssao.xml":'\x3c?xml version\x3d"1.0" encoding\x3d"UTF-8"?\x3e\r\n\r\n\x3csnippets\x3e\r\n\r\n\t\x3csnippet name\x3d"createFsSSAOSrc"\x3e\x3c![CDATA[\r\n\r\n\tprecision mediump float;\r\n\r\n\tuniform sampler2D rnm;\r\n\tuniform sampler2D normalMap;\r\n\tuniform sampler2D depthMap;\r\n\tuniform float\t\tssaoAtt;\r\n\tuniform vec2\t\trnmScale;\r\n\tuniform float\t\tradius;\r\n\tuniform vec2\t\tnearFar;\r\n\tuniform vec3\t\tpSphere[64];\r\n\r\n\tvarying vec2\t\tuv;\r\n\r\n\tconst\tint\t\t samples \x3d\t$samples;\r\n\tconst\tfloat\t\tstrength \x3d .07;\r\n\tconst\tfloat\t\tfalloff \x3d .000002;\r\n\r\n\t$rgba2float\r\n\tvoid main(void) {\r\n\t\tvec3 fres \x3d normalize((texture2D(rnm, uv * rnmScale).xyz * 2.0) - vec3(1.0));\r\n\t\tfloat currentPixelDepth \x3d rgba2float(texture2D(depthMap, uv));\r\n\t\tvec3 ep \x3d vec3(uv.xy, currentPixelDepth);\r\n\t\tvec3 norm \x3d vec3(-1.0) + 2.0 * texture2D(normalMap, uv).xyz;\r\n\t\tfloat bl \x3d .0;\r\n\t\tfloat f \x3d mix(nearFar.x, nearFar.y, currentPixelDepth) / nearFar.x;\r\n\t\tfloat radD \x3d radius / f;\r\n\t\tradD \x3d min(radD, .5);\r\n\t\tfloat depthDifference;\r\n\t\tvec3 ray;\r\n\r\n\t\tfor(int i \x3d 0; i \x3c samples; ++i) {\r\n\t\t\tray \x3d radD*reflect(pSphere[i], fres);\r\n\t\t\tvec2 tc \x3d ep.xy + sign(dot(ray, norm) ) * ray.xy;\r\n\t\t\tif (tc.x \x3e\x3d .0 \x26\x26 tc.y \x3e\x3d .0 \x26\x26 tc.x \x3c\x3d 1.0 \x26\x26 tc.y \x3c\x3d 1.0) {\r\n\t\t\t\tfloat occluderDepth \x3d rgba2float(texture2D(depthMap, tc));\r\n\t\t\t\tvec3 occluderNormal \x3d vec3(-1.0) + 2.0 * texture2D(normalMap, tc).xyz;\r\n\t\t\t\tdepthDifference \x3d currentPixelDepth - occluderDepth;\r\n\t\t\t\tbl +\x3d step(falloff, depthDifference) * (1.0 - dot(occluderNormal, norm)) * (1.0 - smoothstep(falloff, strength, depthDifference));\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\tfloat ao \x3d 1.0 + bl * (-1.38 / float(samples)) * ssaoAtt;\r\n\t\tgl_FragColor.a \x3d ao;\r\n\t}\r\n]]\x3e\x3c/snippet\x3e\r\n\r\n\t\x3csnippet name\x3d"getDepthLinear"\x3e\x3c![CDATA[\r\n\tfloat getDepthLinear(vec2 ssC) {\r\n\t\treturn -(rgba2float(texture2D(depthMap, ssC))*(nearFar[1] - nearFar[0])+nearFar[0]);\r\n\t}\r\n]]\x3e\x3c/snippet\x3e\r\n\r\n\x3csnippet name\x3d"createFsSSAOSrcObscurance"\x3e\x3c![CDATA[\r\n\r\n\tprecision mediump float;\r\n\r\n\tuniform mat4 projMatrixInv;\r\n\r\n\tuniform sampler2D normalMap;\r\n\tuniform sampler2D depthMap;\r\n\r\n\tuniform float     intensity;\r\n\r\n\tuniform float projScale;\r\n\tuniform float     radius;\r\n\tuniform vec2      nearFar;\r\n\r\n\tuniform vec4      projInfo;\r\n\r\n\tconst\tint\t\t samples \x3d\t$samples;\r\n\r\n\tuniform vec2\t  screenDimensions;\r\n\r\n\t//noise texture lookup could be replaced with hash function if WebGL gets XOR functionality\r\n\tuniform vec3\t\tpSphere[64]; //tap position\r\n\tuniform vec2\t\trnmScale;\r\n\tuniform sampler2D rnm; //noise texture\r\n\r\n\t//set z scaling, used to prevent division in ortho mode\r\n\tuniform vec2 zScale;\r\n\r\n\tvarying vec2  uv;\r\n\tvarying vec4  camPos;\r\n\r\n\t$rgba2float\r\n\t$getDepthLinear\r\n\r\n\t/** Returns a unit vector and a screen-space radius for the tap on a unit disk (the caller should scale by the actual disk radius) */\r\n\t/*uniform float numSpiralTurns;\r\n\tvec2 tapLocation(int sampleNumber, float spinAngle, out float ssR){\r\n\t\t// Radius relative to ssR\r\n\t\tfloat alpha \x3d (float(sampleNumber) + 0.5) * (1.0 / float(samples));\r\n\t\tfloat angle \x3d alpha * (numSpiralTurns * 6.28) + spinAngle;\r\n\r\n\t\tssR \x3d alpha;\r\n\t\treturn vec2(cos(angle), sin(angle));\r\n\t}*/\r\n\r\n\r\n\tfloat radius2 \x3d radius * radius;\r\n\r\n\tfloat fallOffFunction(float vv, float vn, float bias) {\r\n\t\t// A: From the HPG12 paper\r\n\t\t// Note large epsilon to avoid overdarkening within cracks\r\n\t\t// return float(vv \x3c radius2) * max((vn - bias) / (epsilon + vv), 0.0) * radius2 * 0.6;\r\n\r\n\t\t// B: Smoother transition to zero (lowers contrast, smoothing out corners). [Recommended]\r\n\t\tfloat f \x3d max(radius2 - vv, 0.0); return f * f * f * max(vn-bias, 0.0);\r\n\r\n\t\t// C: Medium contrast (which looks better at high radii), no division.  Note that the\r\n\t\t// contribution still falls off with radius^2, but we\'ve adjusted the rate in a way that is\r\n\t\t// more computationally efficient and happens to be aesthetically pleasing.\r\n\t\t// return 4.0 * max(1.0 - vv * invRadius2, 0.0) * max(vn - bias, 0.0);\r\n\r\n\t\t// D: Low contrast, no division operation\r\n\t\t// return 2.0 * float(vv \x3c radius * radius) * max(vn - bias, 0.0);\r\n\t}\r\n\r\n\r\n\t/** Compute the occlusion due to sample point \\a Q about camera-space point \\a C with unit normal \\a n_C */\r\n\tfloat aoValueFromPositionsAndNormal(vec3 C, vec3 n_C, vec3 Q) {\r\n\t\tvec3 v \x3d Q - C;\r\n\t\tfloat vv \x3d dot(v, v);\r\n\t\tfloat vn \x3d dot(normalize(v), n_C);\r\n\t\treturn fallOffFunction(vv, vn, 0.1);\r\n\t}\r\n\r\n\r\n\t/** Reconstruct camera-space P.xyz from screen-space S \x3d (x, y) in\r\n\t\tpixels and camera-space z \x3c 0.  Assumes that the upper-left pixel center\r\n\t\tis at (0.5, 0.5) [but that need not be the location at which the sample tap\r\n\t\twas placed!]\r\n\r\n\t\tCosts 3 MADD.  Error is on the order of 10^3 at the far plane, partly due to z precision.\r\n\t  */\r\n\tvec3 reconstructCSPosition(vec2 S, float z) {\r\n\t\treturn vec3(( (S.xy) * projInfo.xy + projInfo.zw)*(z*zScale.x+zScale.y), z);\r\n\t}\r\n\r\n\tvoid main(void)\r\n\t{\r\n\r\n\t\t//Hash function used in the HPG12 AlchemyAO paper\r\n\t\t//Not supported in WebGL -\x3e using texture lookup as in old SSAO shader instead\r\n\t\t//ivec2 ssC \x3d ivec2(gl_FragCoord.xy);\r\n\t\t//float randomPatternRotationAngle \x3d float((3 * ssC.x ^ ssC.y + ssC.x * ssC.y) * 10);\r\n\t\tvec3 fres \x3d normalize((texture2D(rnm, uv * rnmScale).xyz * 2.0) - vec3(1.0));\r\n\r\n\t   float currentPixelDepth \x3d getDepthLinear(uv);\r\n\r\n\t   if (-currentPixelDepth\x3enearFar.y || -currentPixelDepth\x3cnearFar.x) {\r\n\t\tgl_FragColor \x3d vec4(0);\r\n\t\treturn;\r\n\t   }\r\n\r\n\t   vec3 currentPixelPos \x3d reconstructCSPosition(gl_FragCoord.xy,currentPixelDepth);\r\n\r\n\t   // get the normal of current fragment\r\n\t   vec4 norm4 \x3d texture2D(normalMap, uv);\r\n\t   vec3 norm \x3d vec3(-1.0) + 2.0 * norm4.xyz;\r\n\t   bool isTerrain \x3d norm4.w\x3c0.5;\r\n\r\n\t   float sum \x3d .0;\r\n\r\n\t   vec4 occluderFragment;\r\n\t   vec3 ray;\r\n\r\n\t   vec3 tapPixelPos;\r\n\r\n\t\t//TODO the factor 2.0 should not be necessary, but makes ssao much nicer. bug or deviation from CE somewhere else?\r\n\t   float ps \x3d projScale/(2.0*currentPixelPos.z*zScale.x+zScale.y);\r\n\r\n\t   for(int i \x3d 0; i \x3c samples; ++i)\r\n\t   {\r\n\t\t  // get a vector (randomized inside of a sphere with radius 1.0) from a texture and reflect it\r\n\t\t  //float ssR;\r\n\t\t  //vec2 unitOffset \x3d tapLocation(i, randomPatternRotationAngle, ssR);\r\n\t\t  // get the depth of the occluder fragment\r\n\t\t  //vec2 offset \x3d vec2(-unitOffset*radius*ssR*ps);\r\n\r\n\t\t  vec2 unitOffset \x3d reflect(pSphere[i], fres).xy;\r\n\t\t  vec2 offset \x3d vec2(-unitOffset*radius*ps);\r\n\r\n\r\n\t\t  //don\'t use current or very nearby samples\r\n\t\t  if ( abs(offset.x)\x3c2.0 || abs(offset.y)\x3c2.0) continue;\r\n\r\n\r\n\t\t  vec2 tc \x3d vec2(gl_FragCoord.xy + offset);\r\n\t\t  if (tc.x \x3c 0.0 || tc.y \x3c 0.0 || tc.x \x3e screenDimensions.x || tc.y \x3e screenDimensions.y) continue;\r\n\t\t  vec2 tcTap \x3d tc/screenDimensions;\r\n\t\t  float occluderFragmentDepth \x3d getDepthLinear(tcTap);\r\n\r\n\t\t  if (isTerrain) {\r\n\t\t  \tbool isTerrainTap \x3d texture2D(normalMap, tcTap).w\x3c0.5;\r\n\t\t  \tif (isTerrainTap)\r\n\t\t  \t\tcontinue;\r\n\t\t  }\r\n\r\n\t\t  tapPixelPos \x3d reconstructCSPosition(tc, occluderFragmentDepth);\r\n\r\n\t\t  sum+\x3d aoValueFromPositionsAndNormal(currentPixelPos, norm, tapPixelPos);\r\n\t   }\r\n\r\n\t   // output the result\r\n\r\n\t\tfloat A \x3d max(1.0-sum*intensity/float(samples),0.0);\r\n\r\n\t\t// Anti-tone map to reduce contrast and drag dark region farther\r\n\t\t// (x^0.2 + 1.2 * x^4)/2.2\r\n\t\tA \x3d (pow(A, 0.2) + 1.2 * A*A*A*A) / 2.2;\r\n\r\n\r\n\t   //gl_FragColor \x3d vec4(norm/2.0+0.5, 1.0);\r\n\t   //gl_FragColor \x3d vec4(-currentPixelDepth/1000.0);\r\n\t   //gl_FragColor \x3d vec4(tapPixelPos.x/100.0);\r\n\t   gl_FragColor \x3d vec4(A);\r\n\r\n\r\n\t}\r\n]]\x3e\x3c/snippet\x3e\r\n\r\n\x3csnippet name\x3d"fsBlurEdgeAware"\x3e\x3c![CDATA[\r\n\r\n\tprecision mediump float;\r\n\r\n\tuniform sampler2D normalMap;\r\n\tuniform sampler2D depthMap;\r\n\tuniform sampler2D tex;\r\n\r\n\r\n\tuniform vec2 blurSize;\r\n\r\n\r\n\tuniform float g_BlurFalloff;\r\n\tuniform float projScale;\r\n\r\n\r\n\tvarying vec2 uv;\r\n\r\n\tuniform vec2\t\tnearFar;\r\n\r\n\t//set z scaling, used to prevent division in ortho mode\r\n\tuniform vec2 zScale;\r\n\r\n\t$rgba2float\r\n\t$getDepthLinear\r\n\r\n\tfloat BlurFunction(vec2 uv, float r, float center_d, inout float w_total, float sharpness)\r\n\t{\r\n\t\tfloat c \x3d texture2D(tex, uv).r;\r\n\t\tfloat d \x3d getDepthLinear(uv);\r\n\r\n\t\tfloat ddiff \x3d d - center_d;\r\n\r\n\t\tfloat w \x3d exp(-r*r*g_BlurFalloff - ddiff*ddiff*sharpness);\r\n\r\n\t\tw_total +\x3d w;\r\n\r\n\t\treturn w*c;\r\n\t}\r\n\r\n\tvoid main(void)\r\n\t{\r\n\r\n\t\tfloat b \x3d 0.0;\r\n\t\tfloat w_total \x3d 0.0;\r\n\r\n\t\tfloat center_d \x3d  getDepthLinear(uv);\r\n\r\n\t\tfloat sharpness \x3d -0.05*projScale/(center_d*zScale.x+zScale.y);\r\n\t\tfor (int r \x3d -RADIUS; r \x3c\x3d RADIUS; ++r)\r\n\t\t{\r\n\t\t\tfloat rf \x3d float(r);\r\n\t\t\tvec2 uvOffset \x3d uv + rf*blurSize;\r\n\t\t\tb +\x3d BlurFunction(uvOffset, rf, center_d, w_total, sharpness);\r\n\t\t}\r\n\r\n\t\tgl_FragColor \x3d vec4(b/w_total);\r\n\t}\r\n]]\x3e\x3c/snippet\x3e\r\n\r\n\r\n\t\x3csnippet name\x3d"fsBlurSrc0"\x3e\x3c![CDATA[\r\n\tprecision mediump float;\r\n\r\n\tuniform sampler2D tex;\r\n\tuniform float blurSize;\r\n\tvarying vec2 uv;\r\n\r\n\tvoid main() {\r\n\t\tint rad \x3d RADIUS - 1;\r\n\r\n\t\tvec4 sum \x3d vec4(0.0);\r\n\t\tfor (int k \x3d -RADIUS; k \x3c\x3d RADIUS; ++k) { \t\t// NOTE for-variable-init must be a const expression\r\n\t\t\tfloat fi \x3d float(k);\r\n]]\x3e\x3c/snippet\x3e\r\n\r\n\t\x3csnippet name\x3d"fsBlurSrc1"\x3e\x3c![CDATA[\r\n\t\t}\r\n\r\n\t\tgl_FragColor \x3d sum / float(RADIUS * RADIUS);\r\n\t}\r\n]]\x3e\x3c/snippet\x3e\r\n\r\n\t\x3csnippet name\x3d"fsBlurH"\x3e\x3c![CDATA[\r\n\t$fsBlurSrc0\r\n\t\t\tsum +\x3d texture2D(tex, vec2(uv.x + fi * blurSize, uv.y)) * (float(rad) - abs(fi) + 1.0);\r\n\t$fsBlurSrc1\r\n]]\x3e\x3c/snippet\x3e\r\n\r\n\t\x3csnippet name\x3d"fsBlurV"\x3e\x3c![CDATA[\r\n\t$fsBlurSrc0\r\n\t\t\tsum +\x3d texture2D(tex, vec2(uv.x, uv.y + fi * blurSize)) * (float(rad) - abs(fi) + 1.0);\r\n\t$fsBlurSrc1\r\n]]\x3e\x3c/snippet\x3e\r\n\r\n\x3c/snippets\x3e',
"url:esri/views/3d/environment/materials/RealisticAtmosphereMaterial.xml":'\x3c?xml version\x3d"1.0" encoding\x3d"UTF-8"?\x3e\r\n\r\n\x3csnippets\x3e\r\n\r\n\x3c!--Vertex Shader for Atmosphere--\x3e\r\n\x3csnippet name\x3d"vsRealisticAtmosphere"\x3e\x3c![CDATA[\r\n//\r\n// Based on Atmospheric scattering vertex shader by Sean O\'Neil from GPU Gems 2 Chapter 16.\r\n//\r\n// Link:                   http://http.developer.nvidia.com/GPUGems2/gpugems2_chapter16.html\r\n// Download Portal:        http://http.download.nvidia.com/developer/GPU_Gems_2/CD/Index.html\r\n// Unmodified Source Code: http://http.download.nvidia.com/developer/GPU_Gems_2/CD/Content/16.zip\r\n//\r\n// Adapted for WebGIS by Jascha Gr\u00fcbel (jgruebel@esri.com), Z\u00fcrich 2015\r\n//\r\n\r\n  precision mediump  float;\r\n\r\n  //Camera\r\n  uniform vec2 halfSizeNearPlane;\r\n  uniform vec3 v3CameraUp;\r\n  uniform vec3 v3CameraRight;\r\n  uniform vec3 v3CameraDir;\r\n\r\n  //Attributes\r\n  attribute vec3 $position;\r\n  attribute vec2 $uv0;\r\n\r\n  //Varyings\r\n  varying vec3 v3WorldRay;\r\n  varying vec2 vtc;\r\n\r\n#ifdef HAZE\r\n  varying vec3 v3EyeDir;\r\n#endif\r\n\r\n  void main(void) {\r\n    vec3 v3Pos \x3d $position;\r\n    vtc \x3d $uv0;\r\n\r\n#ifdef HAZE\r\n    v3EyeDir \x3d vec3((2.0*halfSizeNearPlane *vtc)-halfSizeNearPlane,-1.0);\r\n#else\r\n    vec3 v3EyeDir \x3d vec3((2.0*halfSizeNearPlane *vtc)-halfSizeNearPlane,-1.0);\r\n#endif\r\n    v3WorldRay \x3d v3EyeDir.z*v3CameraDir + v3EyeDir.y*v3CameraUp + v3EyeDir.x*v3CameraRight;\r\n    gl_Position \x3d vec4(v3Pos, 1.0);\r\n  }\r\n]]\x3e\x3c/snippet\x3e\r\n\r\n\x3csnippet name\x3d"atmosphereScaleFunction"\x3e\x3c![CDATA[\r\n  //Approximation for inner integral based on a radii ratio of 10.25:10\r\n  float scale(float fCos){\r\n    float x \x3d 1.0 - fCos;\r\n    return exp(-0.00287 + x*(0.459 + x*(3.83 + x*(-6.80 + x*5.25))));\r\n  }\r\n]]\x3e\x3c/snippet\x3e\r\n\r\n\x3csnippet name\x3d"toneMapperConstants"\x3e\x3c![CDATA[\r\n#ifdef HAZE\r\n  const float fOneOverGamma \x3d 1.0;//Gamma \x3d 1.0\r\n#else\r\n  const float fOneOverGamma \x3d 0.454545; // Gamma \x3d 2.2\r\n#endif\r\n  const vec3 v3OneOverGamma \x3d vec3(fOneOverGamma);\r\n\r\n]]\x3e\x3c/snippet\x3e\r\n\r\n\x3csnippet name\x3d"exponentialToneMapper"\x3e\x3c![CDATA[\r\n  //ToneMapping operators\r\n  vec3 expTM(vec3 inputColor,float exposure){\r\n      return pow(1.0 - exp(inputColor * -exposure), v3OneOverGamma);\r\n  }\r\n]]\x3e\x3c/snippet\x3e\r\n\r\n\x3csnippet name\x3d"reinhardToneMapper"\x3e\x3c![CDATA[\r\n  vec3 reinhardTM(vec3 inputColor, float exposure){\r\n      vec3 intermediate \x3d inputColor *exposure;\r\n      intermediate /\x3d (1.0+intermediate);\r\n      return pow(intermediate, v3OneOverGamma);\r\n  }\r\n]]\x3e\x3c/snippet\x3e\r\n\r\n\r\n\x3csnippet name\x3d"HSVColorSpace"\x3e\x3c![CDATA[\r\n//based on http://gamedev.stackexchange.com/a/59808\r\n// Hue in range [0,1] instead of 360\u00b0\r\nvec3 rgb2hsv(vec3 c)\r\n{\r\n    vec4 K \x3d vec4(0.0, -1.0 / 3.0, 2.0 / 3.0, -1.0);\r\n    vec4 p \x3d mix(vec4(c.bg, K.wz), vec4(c.gb, K.xy), step(c.b, c.g));\r\n    vec4 q \x3d mix(vec4(p.xyw, c.r), vec4(c.r, p.yzx), step(p.x, c.r));\r\n\r\n    float d \x3d q.x - min(q.w, q.y);\r\n    float e \x3d 1.0e-10;\r\n    return vec3(abs(q.z + (q.w - q.y) / (6.0 * d + e)), d / (q.x + e), q.x);\r\n}\r\n\r\nvec3 hsv2rgb(vec3 c)\r\n{\r\n    vec4 K \x3d vec4(1.0, 2.0 / 3.0, 1.0 / 3.0, 3.0);\r\n    vec3 p \x3d abs(fract(c.xxx + K.xyz) * 6.0 - K.www);\r\n    return c.z * mix(K.xxx, clamp(p - K.xxx, 0.0, 1.0), c.y);\r\n}\r\n]]\x3e\x3c/snippet\x3e\r\n\r\n\x3csnippet name\x3d"atmosphereUniformsConstantsVaryings"\x3e\x3c![CDATA[\r\n\r\n  //Light\r\n  uniform vec3 v3LightDir;      // The direction vector to the light source\r\n  uniform vec3 v3InvWavelength; // 1 / pow(wavelength, 4) for the red, green, and blue channels\r\n  uniform vec3 v3InvWavelengthScaled; //v3InvWavelength * fKr4PI + fKm4PI\r\n\r\n  //Radii\r\n  uniform vec4 v4Radii; // inner, inner^2, outer, outer^2,\r\n\r\n  //Atmosphere\r\n  const float fKrESun \x3d 0.075;        // Kr * ESun \x3d 0.005 * 15.0\r\n  const float fKmESun \x3d 0.015;        // Km * ESun \x3d 0.005 * 15\r\n  //uniform float fScale;         // 1 / (fOuterRadius - fInnerRadius)\r\n  //uniform float fScaleDepth;    // The scale depth (i.e. the altitude at which the atmosphere\'s average density is found)\r\n  //uniform float fScaleOverScaleDepth; // fScale / fScaleDepth\r\n  //uniform float fOneOverScaleDepth; // 1.0 / fScaleDepth\r\n\r\n  //uniform float fScaleDepthBlue;    // The scale depth (i.e. the altitude at which the atmosphere\'s average density is found)\r\n  //uniform float fScaleOverScaleDepthBlue; // fScale / fScaleDepth\r\n  //uniform float fOneOverScaleDepthBlue; // 1.0 / fScaleDepth\r\n\r\n  uniform vec4 v4AtmosParams1; //(fScale,fScaleDepth,fScaleOverScaleDepth,fOneOverScaleDepth)\r\n  uniform vec4 v4AtmosParams2; //(g,fScaleDepthBlue,fScaleOverScaleDepthBlue,fOneOverScaleDepthBlue)\r\n#ifndef HAZE\r\n  uniform vec4 v4AtmosParams3; //(g2,fMiePhaseCoefficients,fLowerAlphaBlendBound,fOneOverOuterRadiusMinusAlphaBlendBound)\r\n#endif\r\n\r\n  //Camera\r\n  uniform vec3 v3CameraPos;     // The camera\'s current position\r\n  //uniform float fCameraHeight;  // The camera\'s current height\r\n  //uniform float fCameraHeight2; // fCameraHeight^2\r\n  //uniform float fC; //fCameraHeight2 - fOuterRadius2; // C \x3d ||o-c||^2 - r^2\r\n  //uniform float fCSur; //fCameraHeight2 - (fInnerRadius2 - 63756370000.0); // C \x3d ||o-c||^2 - r^2\r\n  uniform vec4 v4SphereComp; //The camera\'s current height, CameraHeight^2,fC,fCSur\r\n  uniform vec2 nearFar;\r\n#ifdef HAZE\r\n  uniform vec4 v4Viewport;\r\n#endif\r\n\r\n  //Camera HDR\r\n#ifdef HAZE\r\n  const float fExposure \x3d 1.5;\r\n#else\r\n  const float fExposure \x3d 2.0;\r\n#endif\r\n\r\n#ifdef HAZE\r\n  //Depth texture\r\n  uniform sampler2D tDepth;\r\n  uniform sampler2D tColor;\r\n#endif\r\n\r\n  //Testing variables\r\n  uniform float showTest;\r\n\r\n  //Varyings\r\n  varying vec3 v3EyeDir;\r\n  varying vec3 v3WorldRay;\r\n  varying vec2 vtc;\r\n\r\n  //Loop constants for integral approximation\r\n  const float fSamples \x3d 5.0;\r\n  const int maxSamples \x3d 5;\r\n]]\x3e\x3c/snippet\x3e\r\n\r\n\r\n\x3csnippet name\x3d"atmospherePrecomputation"\x3e\x3c![CDATA[\r\n    float fInnerRadius \x3d v4Radii[0];   // The inner (planetary) radius\r\n    float fInnerRadius2 \x3d v4Radii[1];  // fInnerRadius^2\r\n    float fOuterRadius \x3d v4Radii[2];   // The outer (atmosphere) radius\r\n    float fOuterRadius2 \x3d v4Radii[3];  // fOuterRadius^2\r\n\r\n    float fCameraHeight \x3d v4SphereComp[0];\r\n    float fCameraHeight2 \x3d v4SphereComp[1];\r\n    float fC \x3d v4SphereComp[2];\r\n    float fCSur \x3d v4SphereComp[3];\r\n\r\n#ifdef PLANAR\r\n    vec3 cameraPosition \x3d vec3(0.0,0.0,fCameraHeight);\r\n#else\r\n    vec3 cameraPosition \x3d v3CameraPos;\r\n#endif\r\n\r\n    //Debug variables\r\n    vec3 test \x3d vec3(0.0,0.0,0.0);\r\n\r\n    //Obtain ray from Camera\r\n    vec3 worldSpaceRay \x3d normalize(v3WorldRay);\r\n\r\n    //Compute Atmosphere intersection; i.e. ray/sphere intersection\r\n    float B \x3d 2.0 * dot(cameraPosition, worldSpaceRay); // B \x3d 2(l * (o-c))\r\n    float det \x3d B*B - 4.0 * fC; // det \x3d B^2 - 4.0* C\r\n\r\n    //idealized sphere intersection to discard early some pixels\r\n    float detSur \x3d B*B - 4.0 * fCSur; // det \x3d B^2 - 4.0* C\r\n\r\n]]\x3e\x3c/snippet\x3e\r\n\r\n\r\n\x3csnippet name\x3d"atmosphereDiscardPixels"\x3e\x3c![CDATA[\r\n#ifdef HAZE\r\n      //load texture value early\r\n      float cameraSpaceZ \x3d rgba2float(texture2D(tDepth, vtc));\r\n      test \x3d vec3(cameraSpaceZ,0.0,0.0);\r\n\r\n      bool continueComputation \x3d false;\r\n      float nearSurfaceT;\r\n      if (detSur\x3e0.0){\r\n        nearSurfaceT \x3d 0.5 *(-B - sqrt(detSur));\r\n      }\r\n\r\n      float rayEndT;\r\n\r\n      //Find intersections with ground\r\n\r\n      //Sample Pixel below actual pixel to get rid of aliasing effects: IMPORT is based on view constrains in WSV3.8, changing the view constrains will\r\n      //cause aliasing. Proper implemenation would average between neighboring pixels!\r\n      vec2 vtc_below \x3d vec2(vtc.x,vtc.y - 1.0/v4Viewport[3]);\r\n      float cameraSpaceZ_below \x3d rgba2float(texture2D(tDepth, vtc_below));\r\n      if (cameraSpaceZ \x3c 1.00 \x26\x26 cameraSpaceZ \x3e 0.0){ // not behind the far clipping plane or in front of the near\r\n        float linDepth \x3d cameraSpaceZ*(nearFar[1] - nearFar[0] ) + nearFar[0];\r\n\r\n        vec3 cameraSpaceRay \x3d normalize(v3EyeDir);\r\n        cameraSpaceRay /\x3d cameraSpaceRay.z;\r\n        cameraSpaceRay *\x3d linDepth;\r\n#ifndef PLANAR\r\n        if((fCameraHeight-fInnerRadius)\x3e8000000.0 \x26\x26 detSur\x3e0.0){\r\n          rayEndT \x3d nearSurfaceT;\r\n        } else  if ((fCameraHeight-fInnerRadius)\x3e2000000.0 \x26\x26 detSur\x3e0.0){\r\n          rayEndT \x3d mix(length(cameraSpaceRay),nearSurfaceT,((fCameraHeight-fInnerRadius)-2000000.0)/6000000.0);\r\n        } else {\r\n          rayEndT \x3d length(cameraSpaceRay);\r\n        }\r\n#else\r\n        rayEndT \x3d length(cameraSpaceRay);\r\n#endif\r\n        continueComputation \x3d true;\r\n      } else if (cameraSpaceZ \x3d\x3d 0.0 \x26\x26 cameraSpaceZ_below \x3c 1.00 \x26\x26 cameraSpaceZ_below \x3e 0.0){\r\n        float linDepth \x3d cameraSpaceZ_below*(nearFar[1] - nearFar[0] ) + nearFar[0];\r\n\r\n        vec3 cameraSpaceRay \x3d normalize(v3EyeDir);\r\n        cameraSpaceRay /\x3d cameraSpaceRay.z;\r\n        cameraSpaceRay *\x3d linDepth;\r\n        rayEndT \x3d length(cameraSpaceRay);\r\n        continueComputation \x3d true;\r\n      }\r\n#ifdef PLANAR\r\n      if (16500.0+ fInnerRadius \x3c fCameraHeight){\r\n        continueComputation \x3d false;\r\n      }\r\n#endif\r\n#else\r\n      bool continueComputation \x3d true;\r\n      if (detSur\x3e0.0){\r\n        float nearSurfaceT \x3d 0.5 *(-B - sqrt(detSur));\r\n        if (nearSurfaceT \x3e 0.0){\r\n          continueComputation \x3d false;\r\n        }\r\n      }\r\n#endif\r\n\r\n]]\x3e\x3c/snippet\x3e\r\n\r\n\x3csnippet name\x3d"atmosphereUnpackAddUniforms"\x3e\x3c![CDATA[\r\n        float fScale \x3d v4AtmosParams1.x;\r\n        vec2 v2ScaleDepth \x3d vec2(v4AtmosParams1.y,v4AtmosParams2.y);//fScaleDepth, fScaleDepthBlue\r\n        vec2 v2ScaleOverScaleDepth \x3d vec2(v4AtmosParams1.z,v4AtmosParams2.z);//fScaleOverScaleDepth, fScaleOverScaleDepthBlue\r\n        vec2 v2OneOverScaleDepth \x3d vec2(v4AtmosParams1.w,v4AtmosParams2.w);//fOneOverScaleDepth, fOneOverScaleDepthBlue\r\n\r\n#ifndef HAZE\r\n        float g \x3d v4AtmosParams2.x;\r\n        float g2 \x3d v4AtmosParams3.x;\r\n        float fMiePhaseCoefficients \x3d v4AtmosParams3.y;\r\n        float fLowerAlphaBlendBound \x3d v4AtmosParams3.z;\r\n        float fOneOverOuterRadiusMinusAlphaBlendBound \x3d v4AtmosParams3.w;\r\n#endif\r\n]]\x3e\x3c/snippet\x3e\r\n\r\n\r\n\x3csnippet name\x3d"atmosphereComputeRayAndLoopSetup"\x3e\x3c![CDATA[\r\n        float rayStartT \x3d 0.5 *(-B - sqrt(det)); //near intersection with atmosphere\r\n#ifdef HAZE\r\n        float nearT \x3d abs(rayStartT);\r\n        float farT \x3d abs(rayEndT);\r\n#else\r\n        float rayEndT \x3d 0.5 *(-B + sqrt(det)); //far intersection with atmosphere\r\n\r\n#endif\r\n\r\n        float fDistance;//calculate its scattering offset\r\n        // Calculate the ray\'s starting position\r\n        if (rayStartT \x3c 0.0)\r\n        { //ray starts from camera to far\r\n          rayStartT \x3d 0.0;\r\n#ifndef HAZE\r\n          fDistance \x3d fScale*(fInnerRadius - fCameraHeight);\r\n#endif\r\n        }\r\n#ifndef HAZE\r\n        else\r\n        {//outside atmosphere\r\n          fDistance \x3d -1.0;\r\n        }\r\n#endif\r\n\r\n        // Initialize the scattering loop variables\r\n        vec3 v3Start \x3d cameraPosition + worldSpaceRay * rayStartT;\r\n\r\n#ifdef HAZE\r\n        vec3 v3End \x3d cameraPosition + worldSpaceRay * rayEndT;\r\n\r\n        float fEndLength \x3d length(v3End);\r\n        float fLocalCameraHeight \x3d length(v3Start);\r\n\r\n        //computed for the original end point to get consistent light angles after possible inversions\r\n        float fLightAngle \x3d dot(v3LightDir, v3End) / fEndLength;\r\n\r\n        if (nearT \x3e farT)\r\n        {\r\n          if (fLocalCameraHeight \x3c fEndLength)\r\n          {\r\n            //Switch positive slopes for flipped rays\r\n            v3End \x3d cameraPosition + worldSpaceRay * rayStartT;\r\n            v3Start \x3d cameraPosition + worldSpaceRay * rayEndT;\r\n            worldSpaceRay *\x3d -1.0;\r\n            fEndLength \x3d length(v3End);\r\n            fLocalCameraHeight \x3d length(v3Start);\r\n          }\r\n          else if (fLocalCameraHeight \x3d\x3d fEndLength)\r\n          {// create minuscule fake slope for integration if the slope is zero\r\n            fLocalCameraHeight +\x3d 1.0; //BUGFIX, if the height of camera and ground is equal the equation breaks, add fake meter to camera height to get\r\n            //slope for the camera function\r\n          }\r\n        }\r\n\r\n        //Calculate its scattering offset\r\n        // Assumes camera constrains of WSV 3.8\r\n        float fCameraDepth;\r\n        float fCameraDepthBlue;\r\n        if (fLocalCameraHeight \x3e fOuterRadius)\r\n        {\r\n          fDistance \x3d fInnerRadius - fOuterRadius;\r\n        } else\r\n        {//outside atmosphere\r\n          fDistance \x3d fEndLength - fLocalCameraHeight;\r\n        }\r\n\r\n#endif\r\n        vec2 v2OpticalStartDepth \x3d exp(fDistance * v2OneOverScaleDepth);\r\n\r\n        float fRayLength \x3d rayEndT - rayStartT;\r\n        float fSampleLength \x3d fRayLength / fSamples;\r\n        float fScaledLength \x3d fSampleLength * fScale;\r\n        vec3 v3SampleRay \x3d worldSpaceRay * fSampleLength;\r\n        vec3 v3SamplePoint \x3d v3Start + v3SampleRay * 0.5;\r\n\r\n#ifdef HAZE\r\n        float fCameraAngle \x3d dot(-worldSpaceRay, v3End) / fEndLength;\r\n        float fScaleCameraAngle \x3d scale(fCameraAngle);\r\n        vec2 v2CameraOffset \x3d fScaleCameraAngle*v2OpticalStartDepth;\r\n\r\n        float scaledValues \x3d scale(fLightAngle) + fScaleCameraAngle;\r\n        vec2 v2ScaledValuesDepth \x3d scaledValues * v2ScaleDepth;\r\n#else\r\n        float fCameraAngle \x3d dot(worldSpaceRay, v3Start / length(v3Start));\r\n        float angleMultiplier \x3d fCameraAngle\x3e0.0?fCameraAngle:0.0;\r\n\r\n        float fScaleCameraAngle \x3d scale(fCameraAngle);\r\n        vec2 v2CameraOffset \x3d fScaleCameraAngle*v2OpticalStartDepth * v2ScaleDepth;\r\n#endif\r\n\r\n        //Loop variables\r\n        vec3 v3FrontColor \x3d vec3(0.0, 0.0, 0.0);\r\n        vec3 v3FrontColorBlue \x3d vec3(0.0, 0.0, 0.0);\r\n        vec3 v3Attenuate\x3d vec3(0.0, 0.0, 0.0);\r\n        vec3 v3AttenuateBlue \x3d vec3(0.0, 0.0, 0.0);\r\n]]\x3e\x3c/snippet\x3e\r\n\r\n\r\n\x3csnippet name\x3d"atmosphereComputeSampleContribution"\x3e\x3c![CDATA[\r\n          float fHeight \x3d length(v3SamplePoint);\r\n          vec2 v2Depth \x3d exp(v2ScaleOverScaleDepth * (fInnerRadius - fHeight));\r\n#ifdef HAZE\r\n          vec2 v2Scatter \x3d v2Depth*v2ScaledValuesDepth-v2CameraOffset;\r\n#else\r\n          float fLightAngle \x3d dot(v3LightDir, v3SamplePoint) / fHeight;\r\n          float fCameraAngle \x3d dot(worldSpaceRay, v3SamplePoint) / fHeight;\r\n          float fTempScaledValues \x3d scale(fLightAngle) - scale(fCameraAngle);\r\n          vec2 v2Scatter \x3d v2CameraOffset + fTempScaledValues*v2Depth* v2ScaleDepth;\r\n#endif\r\n          v3Attenuate \x3d exp(-v2Scatter.x * v3InvWavelengthScaled);\r\n          v3AttenuateBlue \x3d exp(-v2Scatter.y * v3InvWavelengthScaled);\r\n\r\n          v3FrontColor +\x3d v3Attenuate * v2Depth.x;\r\n          v3FrontColorBlue +\x3d v3AttenuateBlue * v2Depth.y;\r\n\r\n          v3SamplePoint +\x3d v3SampleRay;\r\n]]\x3e\x3c/snippet\x3e\r\n\r\n\r\n\x3csnippet name\x3d"atmosphereComputeHDRColors"\x3e\x3c![CDATA[\r\n        //Phase computation\r\n        //clamp to avoid numerical instability at fCos \x3d\x3d -1.0 (and close values) to display fake sun\r\n        float fCos \x3d clamp(dot(v3LightDir, -worldSpaceRay ),-0.9999999,1.0);\r\n        float fOnePlusCos2 \x3d fCos*fCos + 1.0;\r\n#ifdef HAZE\r\n        // Finally, scale the Rayleigh colors and set up the varying variables for the pixel shader\r\n        vec3 colorCoefficients \x3d (fScaledLength* 0.75 * fOnePlusCos2)*(fKrESun*v3InvWavelength+fKmESun);\r\n\r\n        //Scaled Length is only applied afterwards to save multiplications\r\n        vec3 v3Color \x3d colorCoefficients *v3FrontColor;\r\n        vec3 v3ColorBlue \x3d colorCoefficients *v3FrontColorBlue;\r\n#else\r\n        vec3 v3RayleighCoefficients \x3d (fScaledLength*0.75 * fOnePlusCos2*fKrESun)*v3InvWavelength;\r\n        float fMieCoefficients \x3d fScaledLength*fKmESun * fMiePhaseCoefficients * fOnePlusCos2 / pow(1.0 + g2 - 2.0*g*fCos, 1.5);\r\n\r\n        // Calculate the attenuation factor for the ground\r\n        vec3 v3Color \x3d v3RayleighCoefficients * v3FrontColor + fMieCoefficients * v3FrontColor;\r\n        vec3 v3ColorBlue \x3d v3RayleighCoefficients * v3FrontColorBlue + fMieCoefficients * v3FrontColorBlue;\r\n#endif\r\n]]\x3e\x3c/snippet\x3e\r\n\r\n\r\n\x3csnippet name\x3d"atmosphereComputePixelColor"\x3e\x3c![CDATA[\r\n\r\n\r\n        //HDR to LDR conversion\r\n        vec3 ldrBlue \x3d expTM(v3ColorBlue,2.0*fExposure);\r\n        vec3 ldrRed \x3d expTM(v3Color,fExposure);\r\n\r\n        //mix reddish and blueish atmosphere\r\n        vec3 LDR \x3d mix(ldrBlue,ldrRed,0.2);\r\n#ifdef HAZE\r\n        vec3 groundColor \x3d texture2D(tColor, vtc).xyz;\r\n        LDR *\x3d (1.0-fCameraAngle);\r\n        vec3 hsv \x3d rgb2hsv(LDR);\r\n        hsv.y \x3d clamp(hsv.y*1.5,0.0,1.0);//boost haze saturation by 50%\r\n        LDR \x3d hsv2rgb(hsv);\r\n        vec3 finalColor \x3d groundColor*(1.0-LDR)+LDR;\r\n#else\r\n        //reinhard tonemapper for looking upwards\r\n        vec3 ldrReinhard \x3d reinhardTM(v3Color,fExposure);\r\n        LDR +\x3d angleMultiplier*ldrReinhard;\r\n\r\n        //height dependent parameter to smooth out reddish atmosphere\r\n        float side \x3d (rayEndT+rayStartT)*0.5;\r\n        float atmoHeight \x3d sqrt(fCameraHeight2 - side*side);\r\n        float h2 \x3d clamp(1.0-(atmoHeight-fLowerAlphaBlendBound)/(fOuterRadius-fLowerAlphaBlendBound),0.0,1.0);\r\n\r\n        vec3 finalColor \x3d LDR*h2;\r\n        vec3 hsv \x3d rgb2hsv(finalColor);\r\n        hsv.y \x3d clamp(hsv.y*1.5,0.0,1.0);//boost sky saturation by 50%\r\n        finalColor \x3d hsv2rgb(hsv);\r\n#endif\r\n#ifdef PLANAR\r\n#ifndef HAZE\r\n        float alpha \x3d clamp(fCameraHeight-fInnerRadius,7000.0,30000.0);\r\n        alpha \x3d alpha / (30000.0-7000.0);\r\n        gl_FragColor \x3d vec4(finalColor, 1.0-alpha);\r\n#else\r\n        float alpha \x3d clamp(fCameraHeight-fInnerRadius,0.0,16500.0);\r\n        alpha \x3d alpha / (16500.0-0.0);\r\n        gl_FragColor \x3d vec4(finalColor, 1.0-alpha);\r\n#endif\r\n#else\r\n#ifndef HAZE\r\n        float alpha \x3d clamp(fCameraHeight-fInnerRadius,7000.0,30000.0);\r\n        alpha \x3d alpha / (30000.0-7000.0);\r\n        float atmosStrength \x3d clamp((length(ldrRed)-0.05)*1.05,0.0,1.0);\r\n        gl_FragColor \x3d vec4(finalColor, atmosStrength*clamp(1.0-(atmoHeight-fInnerRadius)/(fOuterRadius-fInnerRadius),0.0,1.0));\r\n#else\r\n        gl_FragColor \x3d vec4(finalColor, 1.0);\r\n#endif\r\n#endif\r\n\r\n\r\n]]\x3e\x3c/snippet\x3e\r\n\r\n\x3c!--Fragment Shader for Atmosphere--\x3e\r\n\x3csnippet name\x3d"fsRealisticAtmosphere"\x3e\x3c![CDATA[\r\n\r\n  precision mediump  float;\r\n\r\n$atmosphereUniformsConstantsVaryings\r\n\r\n$atmosphereScaleFunction\r\n\r\n  //Conversion implementation found in util.xml\r\n$rgba2float\r\n\r\n\r\n$toneMapperConstants\r\n$exponentialToneMapper\r\n#ifndef HAZE\r\n$reinhardToneMapper\r\n#endif\r\n\r\n$HSVColorSpace\r\n\r\n  void main()\r\n  {\r\n\r\n    $atmospherePrecomputation\r\n\r\n    //Inside Atmosphere\r\n    if (det \x3e\x3d 0.0){\r\n\r\n      $atmosphereDiscardPixels\r\n\r\n      if(continueComputation){\r\n\r\n        $atmosphereUnpackAddUniforms\r\n\r\n        $atmosphereComputeRayAndLoopSetup\r\n\r\n        // Now loop through the sample rays\r\n        for(int i\x3d0; i\x3cmaxSamples; i++)\r\n        {\r\n          $atmosphereComputeSampleContribution\r\n        }\r\n\r\n        $atmosphereComputeHDRColors\r\n\r\n        $atmosphereComputePixelColor\r\n\r\n        //Debug variable overlay\r\n        if(showTest\x3e0.0){\r\n          gl_FragColor \x3d vec4(test,1.0);\r\n        }\r\n\r\n      } else {//Not on surface\r\n        gl_FragColor \x3d vec4(0.0);\r\n      }\r\n    } else {//Outside Atmosphere\r\n      gl_FragColor \x3d vec4(0.0);\r\n    }\r\n  }\r\n]]\x3e\x3c/snippet\x3e\r\n\r\n\x3c/snippets\x3e\r\n',
"url:esri/views/3d/webgl-engine/materials/internal/BlendLayers.xml":'\x3c?xml version\x3d"1.0" encoding\x3d"UTF-8"?\x3e\r\n\r\n\x3csnippets\x3e\r\n\r\n\x3csnippet name\x3d"vertexShaderBlendLayers"\x3e\x3c![CDATA[\t\t\r\n\tattribute vec3 $position;\r\n\tattribute vec2 $uv0;\r\n\t\r\n\tuniform float scale;\r\n\tuniform vec2 offset;\r\n\r\n\tvarying vec2 uv;\r\n\r\n\tvoid main(void) {\t\t\r\n\t\tgl_Position \x3d vec4($position, 1.0);\r\n\t\tuv \x3d $uv0 * scale + offset;;\r\n\t}\r\n]]\x3e\x3c/snippet\x3e\r\n\r\n\x3csnippet name\x3d"fragmentShaderBlendLayers"\x3e\x3c![CDATA[\r\n\tprecision mediump float;\r\n\r\n\tvarying vec2 uv;\r\n\t\r\n\tuniform sampler2D tex;\t\r\n\tuniform float opacity;\r\n\r\n\tvoid main() {\r\n\t\tvec4 color \x3d texture2D(tex, uv);\t\t\r\n\t\tgl_FragColor \x3d vec4(color.xyz, color.a * opacity);\r\n\t}\r\n]]\x3e\x3c/snippet\x3e\r\n\x3c/snippets\x3e',
"url:esri/views/3d/webgl-engine/materials/BillboardMaterial.xml":'\x3c?xml version\x3d"1.0" encoding\x3d"UTF-8"?\x3e\r\n\r\n\x3csnippets\x3e\r\n\r\n\x3csnippet name\x3d"vertexShaderBillboard"\x3e\x3c![CDATA[\r\n\tuniform mat4 proj;\r\n\tuniform mat4 view;\r\n\tuniform mat4 model;\r\n\tuniform mat4 modelNormal;\r\n\tattribute vec3 $position;\r\n\tattribute vec3 $normal;\r\n\tattribute vec2 $uv0;\r\n\tvarying vec2 vtc;\r\n\tvarying vec3 vnormal;\r\n\tconst float size \x3d 1.05;\r\n\r\n\tvoid main(void) {\r\n\t\tvec3 pos \x3d (view * model * vec4($position, 1.0)).xyz;\r\n\t\tvec2 uv01 \x3d floor($uv0);\r\n\t\tvec2 uv \x3d $uv0 - uv01;\r\n\t\tvec3 zDir \x3d normalize(-pos);\r\n\t\tvec3 xDir \x3d normalize(cross(vec3(.0, 1.0, .0), zDir));\r\n\t\tvec3 yDir \x3d cross(zDir, xDir);\r\n\t\tpos +\x3d xDir * (uv01.x - .5) * size;\r\n\t\tpos +\x3d yDir * (uv01.y - .5) * size;\r\n\t\tvec4 pos4 \x3d proj * vec4(pos, 1.0);\r\n\t\tgl_Position \x3d pos4;\r\n\t\tvtc \x3d uv;\r\n\t\tvnormal \x3d normalize((modelNormal * vec4($normal, 1.0)).xyz);\r\n\t}\r\n]]\x3e\x3c/snippet\x3e\r\n\r\n\x3csnippet name\x3d"fragmentShaderBillboard"\x3e\x3c![CDATA[\r\n\tprecision mediump float;\r\n\r\n\tuniform vec4 lightAmbient;\r\n\tuniform vec4 lightDiffuse;\r\n\tuniform vec3 lightDirection;\r\n\tuniform sampler2D tex;\r\n\tvarying vec2 vtc;\r\n\tvarying vec3 vnormal;\r\n\r\n\tvoid main() {\r\n\t\tvec4 texColor \x3d texture2D(tex, vtc);\r\n\t\tif (texColor.a \x3c .15) discard;\r\n\t\tgl_FragColor \x3d texColor;\r\n\t\tgl_FragColor.rgb *\x3d lightAmbient.rgb * lightAmbient.w + lightDiffuse.rgb * lightDiffuse.w * dot(lightDirection, vnormal);\r\n\t}\r\n]]\x3e\x3c/snippet\x3e\r\n\r\n\x3csnippet name\x3d"vertexShaderBillboardDepth"\x3e\x3c![CDATA[\r\n\tuniform mat4 proj;\r\n\tuniform mat4 view;\r\n\tuniform mat4 model;\r\n\tuniform vec2 nearFar;\r\n\tattribute vec3 $position;\r\n\tattribute vec2 $uv0;\r\n\tvarying vec2 vtc;\r\n\tvarying float depth;\r\n\tconst float size \x3d 1.05;\r\n\r\n\tvoid main(void) {\r\n\t\tvec3 pos \x3d (view * model * vec4($position, 1.0)).xyz;\r\n\t\tvec2 uv01 \x3d floor($uv0);\r\n\t\tvec2 uv \x3d $uv0 - uv01;\r\n\t\tpos.x +\x3d (uv01.x - .5) * size;\r\n\t\tpos.y +\x3d (uv01.y - .5) * size;\r\n\t\tvec4 eye \x3d vec4(pos, 1.0);\r\n\t\tgl_Position \x3d proj * eye;\r\n\t\tdepth \x3d (-eye.z - nearFar[0]) / (nearFar[1] - nearFar[0]);\r\n\t\tvtc \x3d uv;\r\n\t}\r\n]]\x3e\x3c/snippet\x3e\r\n\r\n\x3c/snippets\x3e',
"url:esri/views/3d/webgl-engine/materials/Material.xml":'\x3c?xml version\x3d"1.0" encoding\x3d"UTF-8"?\x3e\r\n\r\n\x3csnippets\x3e\r\n\r\n\x3csnippet name\x3d"vsPhongSrc"\x3e\x3c![CDATA[\r\n\tuniform mat4 proj;\r\n\tuniform mat4 view;\r\n#ifdef INSTANCED\r\n    attribute mat4 model;\r\n    attribute mat4 modelNormal;\r\n#else\r\n\tuniform mat4 model;\r\n\tuniform mat4 modelNormal;\r\n#endif\r\n#ifdef INSTANCEDCOLOR\r\n    attribute vec4 instanceColor;\r\n#endif\r\n\tattribute vec3 $position;\r\n\tattribute vec3 $normal;\r\n\tvarying vec3 vpos;\r\n\tvarying vec3 vnormal;\r\n\r\n#ifdef VERTEXCOLORS\r\n    attribute vec4 $color;\r\n#endif\r\n\r\n#if defined(VERTEXCOLORS) || defined(INSTANCEDCOLOR)\r\n    varying vec4 vcolor;\r\n#endif\r\n\r\n\r\n\tvoid main(void) {\r\n\t\tvpos \x3d (model * vec4($position, 1.0)).xyz;\r\n\t\tvnormal \x3d normalize((modelNormal * vec4($normal, 1.0)).xyz);\r\n\t\tgl_Position \x3d proj * view * vec4(vpos, 1.0);\r\n\r\n#if defined(VERTEXCOLORS) || defined(INSTANCEDCOLOR)\r\n        vcolor \x3d vec4(1,1,1,1);\r\n#endif\r\n#ifdef VERTEXCOLORS\r\n        vcolor *\x3d $color * 0.003921568627451; // \x3d 1/255\r\n#endif\r\n#ifdef INSTANCEDCOLOR\r\n        vcolor *\x3d instanceColor;\r\n#endif\r\n]]\x3e\x3c/snippet\x3e\r\n\r\n\x3csnippet name\x3d"fsPhongSrc"\x3e\x3c![CDATA[\r\n\tuniform vec3 camPos;\r\n\tuniform vec4 lightAmbient;\r\n\tuniform vec4 lightDiffuse;\r\n\tuniform vec4 lightSpecular;\r\n\tuniform vec3 lightDirection;\r\n\tuniform vec3 ambient;\r\n\tuniform vec3 diffuse;\r\n\tuniform vec3 specular;\r\n\tuniform float shininess;\r\n\tuniform float opacity;\r\n\tuniform sampler2D depthTex;\r\n\tuniform int shadowMapNum;\r\n\tuniform vec4 shadowMapDistance;\r\n\tuniform mat4 shadowMapMatrix[4];\r\n\tuniform float depthHalfPixelSz;\r\n\tuniform sampler2D ssaoTex;\r\n\tuniform vec4 viewportPixelSz;\r\n\tvarying vec3 vpos;\r\n\tvarying vec3 vnormal;\r\n#if defined(VERTEXCOLORS) || defined(INSTANCEDCOLOR)\r\n    varying vec4 vcolor;\r\n#endif\r\n\r\n\t$evalShadow\r\n\tvoid main() {\r\n\t\tvec3 a \x3d ambient * lightAmbient.rgb * lightAmbient.w;\r\n\r\n\t\tvec3 viewDir \x3d normalize(vpos - camPos);\r\n\r\n#ifndef DOUBLESIDED\r\n\t\tvec3 normal \x3d vnormal;\r\n#else\r\n\t\tvec3 normal \x3d dot(vnormal, viewDir)\x3e0.0?-vnormal:vnormal;\r\n#endif\r\n\r\n    normal \x3d normalize(normal);\r\n    \r\n\t\tfloat shadow \x3d evalShadow(vpos, 1.0 / gl_FragCoord.w, depthTex, shadowMapNum, shadowMapDistance, shadowMapMatrix, depthHalfPixelSz);\r\n\t\tvec3 d \x3d (1.0 - shadow) * diffuse * lightDiffuse.rgb * lightDiffuse.w * clamp(dot(normal, lightDirection), .0, 1.0);\r\n\r\n\t\tfloat opacity_ \x3d opacity;\r\n#if defined(VERTEXCOLORS) || defined(INSTANCEDCOLOR)\r\n        a *\x3d vcolor.rgb;\r\n        d *\x3d vcolor.rgb;\r\n        opacity_ *\x3d vcolor.a;\r\n#endif\r\n\r\n\t\tvec3 reflDir \x3d normalize(reflect(viewDir, normal));\r\n\t\tfloat specDot \x3d max(dot(reflDir, lightDirection), .001);\r\n\t\tvec3 s \x3d (1.0 - shadow) * specular * lightSpecular.rgb * lightSpecular.w * pow(specDot, shininess);\r\n\r\n\t\tfloat ssao \x3d texture2D(ssaoTex, (gl_FragCoord.xy - viewportPixelSz.xy) * viewportPixelSz.zw).a;\r\n\t\tssao \x3d viewportPixelSz.z \x3c 0.0 ? 1.0 : ssao;\r\n\r\n]]\x3e\x3c/snippet\x3e\r\n\r\n\x3csnippet name\x3d"vsPhong"\x3e\x3c![CDATA[\r\n\t$vsPhongSrc\r\n\t}\r\n]]\x3e\x3c/snippet\x3e\r\n\r\n\x3csnippet name\x3d"fsPhong"\x3e\x3c![CDATA[\r\n\tprecision mediump float;\r\n\r\n\t$fsPhongSrc\r\n\t\tgl_FragColor \x3d vec4(ssao * (a + d) + s, opacity_);\r\n\t}\r\n]]\x3e\x3c/snippet\x3e\r\n\r\n\x3csnippet name\x3d"vsPhongTextured"\x3e\x3c![CDATA[\r\n\tattribute vec2 $uv0;\r\n\tvarying vec2 vtc;\r\n\t$vsPhongSrc\r\n#ifndef FLIPV\r\n\t\tvtc \x3d $uv0;\r\n#else\r\n        vtc \x3d vec2($uv0.x, 1.0-$uv0.y);\r\n#endif\r\n    \r\n\t}\r\n]]\x3e\x3c/snippet\x3e\r\n\r\n\x3csnippet name\x3d"fsPhongTextured"\x3e\x3c![CDATA[\r\n\tprecision mediump float;\r\n\r\n\tuniform sampler2D tex;\r\n\tvarying vec2 vtc;\r\n\t$fsPhongSrc\r\n\t\tvec4 texColor \x3d texture2D(tex, vtc);\r\n\t\tif (texColor.a \x3c .33) discard;\r\n\t\tgl_FragColor \x3d vec4(ssao * texColor.rgb * (a + d) + s, texColor.a * opacity_);\r\n\t}\r\n]]\x3e\x3c/snippet\x3e\r\n\r\n\x3csnippet name\x3d"vsPhongAtlasTextured"\x3e\x3c![CDATA[\r\n\tattribute vec4 $uv0;\r\n\tattribute vec4 $region;\r\n\tvarying vec2 vtc;\r\n\tvarying vec4 regionV;\r\n\t$vsPhongSrc\r\n#ifndef FLIPV\r\n        vtc \x3d $uv0.xy;\r\n#else\r\n        vtc \x3d vec2($uv0.x, 1.0-$uv0.y);\r\n#endif\r\n\t    regionV \x3d $region/65535.0;\r\n\t}\r\n]]\x3e\x3c/snippet\x3e\r\n\r\n\x3csnippet name\x3d"fsPhongAtlasTextured"\x3e\x3c![CDATA[\r\n\tprecision mediump float;\r\n\r\n\tuniform sampler2D tex;\r\n\tvarying vec2 vtc;\r\n\tvarying vec4 regionV;\r\n\r\n\t$fsPhongSrc\r\n\t\tvec2 uv \x3d vtc;\r\n\t\tuv \x3d fract(uv);\r\n\t\t//[umin, vmin, umax, vmax]\r\n\r\n\t\tuv \x3d uv.xy*(regionV.zw-regionV.xy)+regionV.xy;\r\n\t\tvec4 texColor \x3d texture2D(tex, uv);\r\n\t\tif (texColor.a \x3c .33) discard;\r\n\t\tgl_FragColor \x3d vec4(ssao * texColor.rgb * (a + d) + s, texColor.a * opacity_);\r\n\t\t//gl_FragColor \x3d regionV;\r\n\t}\r\n]]\x3e\x3c/snippet\x3e\r\n\r\n\x3csnippet name\x3d"fsPhongTexturedRefl"\x3e\x3c![CDATA[\r\n\tprecision mediump float;\r\n\r\n\tuniform sampler2D tex;\r\n\tuniform sampler2D reflTex;\r\n\tuniform float reflectivity;\r\n\tvarying vec2 vtc;\r\n\r\n\t$normal2envTC\r\n\r\n\t$fsPhongSrc\r\n\t\tvec4 texColor \x3d texture2D(tex, vtc);\r\n\t\tif (texColor.a \x3c .33) discard;\r\n\t\tvec4 reflColor \x3d texture2D(reflTex, normal2envTC(reflDir));\r\n\t\tgl_FragColor \x3d vec4(ssao * mix(texColor.rgb * (a + d), reflColor.rgb * lightAmbient.rgb*lightSpecular.w, reflectivity) + s, texColor.a * opacity_);\r\n\t}\r\n]]\x3e\x3c/snippet\x3e\r\n\r\n\x3csnippet name\x3d"vsDepthSrc"\x3e\x3c![CDATA[\r\n\tuniform mat4 proj;\r\n\tuniform mat4 view;\r\n\tuniform mat4 model;\r\n\tuniform vec2 nearFar;\r\n\tattribute vec3 $position;\r\n\tvarying float depth;\r\n\r\n\tvoid main(void) {\r\n\t\tvec4 eye \x3d view * model * vec4($position, 1.0);\r\n\t\tgl_Position \x3d proj * eye;\r\n\t\tdepth \x3d (-eye.z - nearFar[0]) / (nearFar[1] - nearFar[0]) ;\r\n]]\x3e\x3c/snippet\x3e\r\n\r\n\x3csnippet name\x3d"vsDepth"\x3e\x3c![CDATA[\r\n\t$vsDepthSrc\r\n\t}\r\n]]\x3e\x3c/snippet\x3e\r\n\r\n\x3csnippet name\x3d"vsDepthTextured"\x3e\x3c![CDATA[\r\n\tattribute vec2 $uv0;\r\n\tvarying vec2 vtc;\r\n\t$vsDepthSrc\r\n#ifndef FLIPV\r\n        vtc \x3d $uv0;\r\n#else\r\n        vtc \x3d vec2($uv0.x, 1.0-$uv0.y);\r\n#endif\r\n\t}\r\n]]\x3e\x3c/snippet\x3e\r\n\r\n\x3csnippet name\x3d"vsNormalSrc"\x3e\x3c![CDATA[\r\n\tuniform mat4 proj;\r\n\tuniform mat4 view;\r\n\tuniform mat4 model;\r\n\tuniform mat4 viewNormal;\r\n\tuniform mat4 modelNormal;\r\n\tattribute vec3 $position;\r\n\tattribute vec3 $normal;\r\n\tvarying vec3 vnormal;\r\n\r\n\tvoid main(void) {\r\n\t\tgl_Position \x3d proj * view * model * vec4($position, 1.0);\r\n\t\tvnormal \x3d normalize((viewNormal * modelNormal * vec4($normal, 1.0)).xyz);\r\n]]\x3e\x3c/snippet\x3e\r\n\r\n\x3csnippet name\x3d"vsNormal"\x3e\x3c![CDATA[\r\n\t$vsNormalSrc\r\n\t}\r\n]]\x3e\x3c/snippet\x3e\r\n\r\n\x3csnippet name\x3d"vsNormalTextured"\x3e\x3c![CDATA[\r\n\tattribute vec2 $uv0;\r\n\tvarying vec2 vtc;\r\n\t$vsNormalSrc\r\n#ifndef FLIPV\r\n\t\tvtc \x3d $uv0;\r\n#else\r\n        vtc \x3d vec2($uv0.x, 1.0-$uv0.y);\r\n#endif\r\n\t}\r\n]]\x3e\x3c/snippet\x3e\r\n\r\n\x3csnippet name\x3d"fsDepthSrc"\x3e\x3c![CDATA[\r\n\tvarying float depth;\r\n\r\n\tvoid main() {\r\n]]\x3e\x3c/snippet\x3e\r\n\r\n\x3csnippet name\x3d"fsDepth"\x3e\x3c![CDATA[\r\n\tprecision mediump float;\r\n\t$calcFragDepth\r\n\t$float2rgba\r\n\t$fsDepthSrc\r\n#ifndef BIAS_SHADOWMAP\r\n\t\tgl_FragColor \x3d float2rgba(depth);\r\n#else\r\n\t\tgl_FragColor \x3d float2rgba(calcFragDepth(depth));\r\n#endif\r\n\t}\r\n]]\x3e\x3c/snippet\x3e\r\n\r\n\x3csnippet name\x3d"fsDepthTextured"\x3e\x3c![CDATA[\r\n\tprecision mediump float;\r\n\r\n\tuniform sampler2D tex;\r\n\tvarying vec2 vtc;\r\n\t$calcFragDepth\r\n\t$float2rgba\r\n\r\n\t$fsDepthSrc\r\n\t\tif (texture2D(tex, vtc).a \x3c .33) discard;\r\n#ifndef BIAS_SHADOWMAP\r\n\t\tgl_FragColor \x3d float2rgba(depth);\r\n#else\r\n\t\tgl_FragColor \x3d float2rgba(calcFragDepth(depth));\r\n#endif\r\n\t}\r\n]]\x3e\x3c/snippet\x3e\r\n\r\n\x3csnippet name\x3d"fsNormal"\x3e\x3c![CDATA[\r\n\tprecision mediump float;\r\n\r\n\tvarying vec3 vnormal;\r\n\tvoid main() {\r\n\t\tvec3 normal \x3d normalize(vnormal);\r\n\t\tif (gl_FrontFacing \x3d\x3d false) normal \x3d -normal;\r\n\r\n#ifndef ALPHA_ZERO\r\n\t\tgl_FragColor \x3d vec4(vec3(.5) + .5 * normal, 1.0);\r\n#else\r\n\t\tgl_FragColor \x3d vec4(vec3(.5) + .5 * normal, 0.0);\r\n#endif\r\n\r\n\t}\r\n]]\x3e\x3c/snippet\x3e\r\n\r\n\x3csnippet name\x3d"fsNormalTextured"\x3e\x3c![CDATA[\r\n\tprecision mediump float;\r\n\r\n\tvarying vec3 vnormal;\r\n\tvarying vec2 vtc;\r\n\tuniform sampler2D tex;\r\n\tvoid main() {\r\n\t\tif (texture2D(tex, vtc).a \x3c .33) discard;\r\n\t\tvec3 normal \x3d normalize(vnormal);\r\n\t\tif (gl_FrontFacing \x3d\x3d false) normal \x3d -normal;\r\n#ifndef ALPHA_ZERO\r\n\t\tgl_FragColor \x3d vec4(vec3(.5) + .5 * normal, 1.0);\r\n#else\r\n\t\tgl_FragColor \x3d vec4(vec3(.5) + .5 * normal, 0.0);\r\n#endif\r\n\t}\r\n]]\x3e\x3c/snippet\x3e\r\n\r\n\x3c/snippets\x3e',
"url:dijit/templates/Dialog.html":'\x3cdiv class\x3d"dijitDialog" role\x3d"dialog" aria-labelledby\x3d"${id}_title"\x3e\r\n\t\x3cdiv data-dojo-attach-point\x3d"titleBar" class\x3d"dijitDialogTitleBar"\x3e\r\n\t\t\x3cspan data-dojo-attach-point\x3d"titleNode" class\x3d"dijitDialogTitle" id\x3d"${id}_title"\r\n\t\t\t\trole\x3d"heading" level\x3d"1"\x3e\x3c/span\x3e\r\n\t\t\x3cspan data-dojo-attach-point\x3d"closeButtonNode" class\x3d"dijitDialogCloseIcon" data-dojo-attach-event\x3d"ondijitclick: onCancel" title\x3d"${buttonCancel}" role\x3d"button" tabindex\x3d"-1"\x3e\r\n\t\t\t\x3cspan data-dojo-attach-point\x3d"closeText" class\x3d"closeText" title\x3d"${buttonCancel}"\x3ex\x3c/span\x3e\r\n\t\t\x3c/span\x3e\r\n\t\x3c/div\x3e\r\n\t\x3cdiv data-dojo-attach-point\x3d"containerNode" class\x3d"dijitDialogPaneContent"\x3e\x3c/div\x3e\r\n\t${!actionBarTemplate}\r\n\x3c/div\x3e\r\n\r\n',
"url:esri/views/3d/environment/materials/SimpleAtmosphereMaterial.xml":'\x3c?xml version\x3d"1.0" encoding\x3d"UTF-8"?\x3e\r\n\r\n\x3csnippets\x3e\r\n\r\n\x3csnippet name\x3d"vsSimpleAtmosphere"\x3e\x3c![CDATA[\r\n  uniform mat4 proj;\r\n  uniform mat4 view;\r\n\r\n#ifndef PANORAMIC\r\n\r\n  const float TWICEPI \x3d 2.0*3.14159265;\r\n  const float ATMOSPHERE_RIM_SEGMENTS \x3d 128.0;\r\n\r\n  uniform vec3 silCircleCenter;\r\n  uniform vec3 silCircleV1;\r\n  uniform vec3 silCircleV2;\r\n  uniform vec2 texV;\r\n\r\n#endif\r\n\r\n  uniform vec3 lightDirection;\r\n\r\n  attribute vec3 $position;\r\n  varying vec2 vtc;\r\n  varying float falloff;\r\n\r\n  void main(void) {\r\n\r\n#ifdef PANORAMIC\r\n\r\n    vec3 pos \x3d $position;\r\n    float ndotl \x3d lightDirection.z;\r\n    vtc \x3d vec2(0, $position.z+0.05);\r\n\r\n#else\r\n\r\n    float phi \x3d $position.x * (TWICEPI / ATMOSPHERE_RIM_SEGMENTS) + 1.0;\r\n    vec3 pos \x3d (sin(phi) * silCircleV1 + cos(phi) * silCircleV2 + silCircleCenter) * $position.y;\r\n    float ndotl \x3d dot(normalize(pos), lightDirection);\r\n\r\n    vtc.x \x3d $position.x / ATMOSPHERE_RIM_SEGMENTS;\r\n    vtc.y \x3d texV.x * (1.0 - $position.z) + texV.y * $position.z;\r\n\r\n#endif\r\n\r\n    falloff \x3d max(0.0, (smoothstep(-1.0, 0.8, ndotl + ndotl)));\r\n\r\n    gl_Position \x3d proj * view * vec4(pos, 1.0);\r\n    gl_Position.z \x3d gl_Position.w; // project atmosphere onto the far plane\r\n  }\r\n]]\x3e\x3c/snippet\x3e\r\n\r\n\x3csnippet name\x3d"fsSimpleAtmosphere"\x3e\x3c![CDATA[\r\n  precision mediump float;\r\n\r\n  uniform sampler2D tex;\r\n  uniform vec4 color;\r\n  varying vec2 vtc;\r\n  varying float falloff;\r\n\r\n  void main() {\r\n    vec4 texColor \x3d texture2D(tex, vtc);\r\n    gl_FragColor \x3d texColor * color * falloff;\r\n  }\r\n]]\x3e\x3c/snippet\x3e\r\n\r\n\x3c/snippets\x3e\r\n',
"url:esri/widgets/Zoom/templates/Zoom.html":'\x3cdiv data-dojo-attach-point\x3d"dap_container" class\x3d"${css.disabled}"\x3e\r\n  \x3cdiv role\x3d"button" tabindex\x3d"0" data-dojo-attach-point\x3d"dap_zoomIn"\r\n       class\x3d"${css.zoomIn} ${css.button} ${css.interactive}" title\x3d"${labels.zoomIn}"\x3e\r\n    \x3cspan aria-hidden\x3d"true" role\x3d"presentation"\r\n          class\x3d"${css.zoomInIcon}"\x3e\x3c/span\x3e\r\n    \x3cspan class\x3d"${css.iconText}"\x3e${labels.zoomIn}\x3c/span\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv role\x3d"button" tabindex\x3d"0" data-dojo-attach-point\x3d"dap_zoomOut"\r\n       class\x3d"${css.zoomOut} ${css.button} ${css.interactive}" title\x3d"${labels.zoomOut}"\x3e\r\n    \x3cspan aria-hidden\x3d"true" role\x3d"presentation"\r\n          class\x3d"${css.zoomOutIcon}"\x3e\x3c/span\x3e\r\n    \x3cspan class\x3d"${css.iconText}"\x3e${labels.zoomOut}\x3c/span\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:dijit/form/templates/TextBox.html":'\x3cdiv class\x3d"dijit dijitReset dijitInline dijitLeft" id\x3d"widget_${id}" role\x3d"presentation"\r\n\t\x3e\x3cdiv class\x3d"dijitReset dijitInputField dijitInputContainer"\r\n\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputInner" data-dojo-attach-point\x3d\'textbox,focusNode\' autocomplete\x3d"off"\r\n\t\t\t${!nameAttrSetting} type\x3d\'${type}\'\r\n\t/\x3e\x3c/div\r\n\x3e\x3c/div\x3e\r\n',"url:esri/views/3d/environment/materials/StarMaterial.xml":'\x3c?xml version\x3d"1.0" encoding\x3d"UTF-8"?\x3e\r\n\r\n\x3csnippets\x3e\r\n\r\n\x3csnippet name\x3d"vertexShaderStar"\x3e\x3c![CDATA[\r\n\tprecision mediump float;\r\n\tuniform mat4 proj;\r\n\tuniform mat4 view;\r\n\tuniform mat4 model;\r\n\tuniform vec4 viewport;\r\n\r\n\tattribute vec3 $position;\r\n\tattribute vec4 $color;\r\n  attribute float $size;\r\n\r\n\tvarying vec4 vcolor;\r\n\tvarying float vsize;\r\n\r\n\t$matchPixelCenter\r\n\r\n\tvoid main(void) {\r\n\t\tvec4 posProj \x3d proj * view * model*vec4($position*1.0e25,1.0);//move infinitely far away\r\n\t\tgl_Position \x3d matchPixelCenter(posProj, viewport.zw); //pixel align position\r\n    gl_Position.z \x3d gl_Position.w; // project atmosphere onto the far plane\r\n\t\tvcolor \x3d $color/1.2;\r\n\t\tvsize \x3d size*5.0;\r\n\t\tgl_PointSize \x3d vsize;\r\n\t}\r\n]]\x3e\x3c/snippet\x3e\r\n\r\n\x3csnippet name\x3d"fragmentShaderStar"\x3e\x3c![CDATA[\r\n\tprecision mediump float;\r\n\r\n\tvarying vec4 vcolor;\r\n\tvarying float vsize;\r\n\r\n\tvoid main() {\r\n\t\tfloat cap \x3d 0.7;\r\n\t\tfloat scale \x3d 1.0/cap;\r\n\t\tfloat helper \x3d clamp(length(abs(gl_PointCoord-vec2(0.5))),0.0,cap);\r\n\t\tfloat alpha \x3d clamp((cap-helper)*scale,0.0,1.0);\r\n\t\tfloat intensity \x3d alpha*alpha*alpha;\r\n\t\tif (vsize \x3c 3.0)\r\n\t\t\tintensity *\x3d 0.5;\r\n\t\tgl_FragColor \x3d vec4(1.0,1.0,1.0,intensity);\r\n\t\tgl_FragColor.xyz *\x3d vcolor.xyz;\r\n\t}\r\n]]\x3e\x3c/snippet\x3e\r\n\x3c/snippets\x3e\r\n',
"url:esri/views/3d/webgl-engine/materials/ColorMaterial.xml":'\x3c?xml version\x3d"1.0" encoding\x3d"UTF-8"?\x3e\r\n\r\n\x3csnippets\x3e\r\n\r\n\x3csnippet name\x3d"vertexShaderColorMaterial"\x3e\x3c![CDATA[\r\n\tuniform mat4 proj;\r\n\tuniform mat4 view;\r\n\tuniform mat4 model;\r\n\r\n\tattribute vec3 $position;\r\n\tattribute vec4 $color;\r\n\r\n\tvarying vec4 vColor; \r\n\r\n\tvoid main(void) {\r\n\t\tvColor \x3d $color * 0.003921568627451; // \x3d 1/255;\r\n\t\tgl_Position \x3d proj * view * vec4((model * vec4($position, 1.0)).xyz, 1.0);\r\n\t}\r\n]]\x3e\x3c/snippet\x3e\r\n\r\n\x3csnippet name\x3d"fragmentShaderColorMaterial"\x3e\x3c![CDATA[\r\n\tprecision mediump float;\r\n\r\n\tuniform vec4 eColor;\r\n\tvarying vec4 vColor;\r\n\r\n\tvoid main() {\r\n\t\tgl_FragColor \x3d vColor * eColor;\r\n\t}\r\n]]\x3e\x3c/snippet\x3e\r\n\x3c/snippets\x3e',
"url:esri/widgets/Popup/templates/Popup.html":'\x3cdiv class\x3d"${css.root}" role\x3d"presentation"\x3e\r\n  \x3c!-- Popup Container --\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"_containerNode" class\x3d"${css.container}"\x3e\r\n    \x3cdiv class\x3d"${css.shadow}"\x3e\r\n      \x3cdiv class\x3d"${css.main} ${css.background}"\x3e\r\n        \x3c!-- Popup Header --\x3e\r\n        \x3cdiv class\x3d"${css.header} ${css.clearfix}"\x3e\r\n          \x3ch1 data-dojo-attach-point\x3d"_titleNode" class\x3d"${css.title}"\x3e\x3c/h1\x3e\r\n          \x3cdiv class\x3d"${css.headerButtons}"\x3e\r\n            \x3cdiv role\x3d"button" tabindex\x3d"0" data-dojo-attach-point\x3d"_dockNode" class\x3d"${css.btn} ${css.dockBtn}"\x3e\r\n              \x3cspan aria-hidden\x3d"true" data-dojo-attach-point\x3d"_dockIconNode" class\x3d"${css.icon} ${css.dockIcon} ${css.dockIconRight}" title\x3d"${_i18n.dock}"\x3e\x3c/span\x3e\r\n              \x3cspan class\x3d"${css.iconText} ${css.dockIconText}"\x3e${_i18n.dock}\x3c/span\x3e\r\n              \x3cspan aria-hidden\x3d"true" class\x3d"${css.icon} ${css.undockIcon}" title\x3d"${_i18n.undock}"\x3e\x3c/span\x3e\r\n              \x3cspan class\x3d"${css.iconText} ${css.undockIconText}"\x3e${_i18n.undock}\x3c/span\x3e\r\n            \x3c/div\x3e\r\n            \x3cdiv role\x3d"button" tabindex\x3d"0" data-dojo-attach-point\x3d"_closeNode" class\x3d"${css.btn} ${css.close}"\x3e\r\n              \x3cspan aria-hidden\x3d"true" class\x3d"${css.icon} ${css.closeIcon}" title\x3d"${_i18n.close}"\x3e\x3c/span\x3e\r\n              \x3cspan class\x3d"${css.iconText}"\x3e${_i18n.close}\x3c/span\x3e\r\n            \x3c/div\x3e\r\n          \x3c/div\x3e\r\n        \x3c/div\x3e\r\n        \x3c!-- /Popup Header --\x3e\r\n        \x3c!-- Popup Content --\x3e\r\n        \x3cdiv class\x3d"${css.body}"\x3e\r\n          \x3cdiv class\x3d"${css.bodyContent}" data-dojo-attach-point\x3d"_bodyContentNode"\x3e\x3c/div\x3e\r\n        \x3c/div\x3e\r\n        \x3c!-- /Popup Content --\x3e\r\n        \x3c!-- Popup Footer --\x3e\r\n        \x3cdiv class\x3d"${css.footer} ${css.clearfix}"\x3e\r\n          \x3c!-- Popup Actions --\x3e\r\n          \x3cdiv data-dojo-attach-point\x3d"_actionsNode" class\x3d"${css.actions}"\x3e\x3c/div\x3e\r\n          \x3c!-- /Popup Actions --\x3e\r\n          \x3c!-- Popup Pagination --\x3e\r\n          \x3cdiv class\x3d"${css.pagination}"\x3e\r\n            \x3cdiv role\x3d"presentation" class\x3d"${css.loadingContainer}"\x3e\r\n              \x3cspan aria-hidden\x3d"true" class\x3d"${css.icon} ${css.loadingIcon}"\x3e\x3c/span\x3e\r\n              \x3cspan class\x3d"${css.iconText}"\x3e${_i18n.loading}\x3c/span\x3e\r\n            \x3c/div\x3e\r\n            \x3cdiv role\x3d"button" tabindex\x3d"0" data-dojo-attach-point\x3d"_previousNode" class\x3d"${css.btn} ${css.previous}"\x3e\r\n              \x3cspan aria-hidden\x3d"true" class\x3d"${css.icon} ${css.previousIcon}" title\x3d"${_i18n.previous}"\x3e\x3c/span\x3e\r\n              \x3cspan class\x3d"${css.iconText}"\x3e${_i18n.previous}\x3c/span\x3e\r\n            \x3c/div\x3e\r\n            \x3cdiv data-dojo-attach-point\x3d"_pageTextNode" class\x3d"${css.pageText}"\x3e\x3c/div\x3e\r\n            \x3cdiv role\x3d"button" tabindex\x3d"0" data-dojo-attach-point\x3d"_nextNode" class\x3d"${css.btn} ${css.next}"\x3e\r\n              \x3cspan aria-hidden\x3d"true" class\x3d"${css.icon} ${css.nextIcon}" title\x3d"${_i18n.next}"\x3e\x3c/span\x3e\r\n              \x3cspan class\x3d"${css.iconText}"\x3e${_i18n.next}\x3c/span\x3e\r\n            \x3c/div\x3e\r\n            \x3cdiv role\x3d"button" tabindex\x3d"0" data-dojo-attach-point\x3d"_pageMenuNode" class\x3d"${css.btn} ${css.pageMenuBtn}"\x3e\r\n              \x3cspan aria-hidden\x3d"true" class\x3d"${css.icon} ${css.pageMenuIcon}" title\x3d"${_i18n.menu}"\x3e\x3c/span\x3e\r\n              \x3cspan class\x3d"${css.iconText}"\x3e${_i18n.menu}\x3c/span\x3e\r\n            \x3c/div\x3e\r\n          \x3c/div\x3e\r\n          \x3c!-- /Popup Pagination --\x3e\r\n        \x3c/div\x3e\r\n        \x3c!-- /Popup Footer --\x3e\r\n      \x3c/div\x3e\r\n      \x3c!-- Popup Pointer --\x3e\r\n      \x3cdiv data-dojo-attach-point\x3d"_pointerNode" class\x3d"${css.pointer} ${css.background} ${css.shadow}"\x3e\x26nbsp;\x3c/div\x3e\r\n      \x3c!-- /Popup Pointer --\x3e\r\n    \x3c/div\x3e\r\n    \x3c!-- Popup Menu --\x3e\r\n    \x3cdiv class\x3d"${css.pageMenu}"\x3e\r\n      \x3cdiv class\x3d"${css.pageMenuHeader} ${css.clearfix}"\x3e\r\n        \x3cp data-dojo-attach-point\x3d"_pageMenuInfoNode" class\x3d"${css.pageMenuInfo}"\x3e\x3c/p\x3e\r\n        \x3cdiv class\x3d"${css.pageMenuActions}"\x3e\r\n          \x3cspan data-dojo-attach-point\x3d"_pageMenuCloseNode" aria-hidden\x3d"true" class\x3d"${css.icon} ${css.collapseIcon}" title\x3d"${_i18n.close}"\x3e\x3c/span\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"${css.pageMenuViewport}"\x3e\r\n        \x3ctable role\x3d"menu"\x3e\x3ctbody data-dojo-attach-point\x3d"_pageMenuItemsNode"\x3e\x3c/tbody\x3e\x3c/table\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"${css.pageMenuPointer}"\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3c!-- /Popup Menu --\x3e\r\n  \x3c/div\x3e\r\n  \x3c!-- /Popup Container --\x3e\r\n\x3c/div\x3e',
"url:dijit/form/templates/HorizontalSlider.html":'\x3ctable class\x3d"dijit dijitReset dijitSlider dijitSliderH" cellspacing\x3d"0" cellpadding\x3d"0" border\x3d"0" rules\x3d"none" data-dojo-attach-event\x3d"onkeydown:_onKeyDown, onkeyup:_onKeyUp"\r\n\trole\x3d"presentation"\r\n\t\x3e\x3ctr class\x3d"dijitReset"\r\n\t\t\x3e\x3ctd class\x3d"dijitReset" colspan\x3d"2"\x3e\x3c/td\r\n\t\t\x3e\x3ctd data-dojo-attach-point\x3d"topDecoration" class\x3d"dijitReset dijitSliderDecoration dijitSliderDecorationT dijitSliderDecorationH"\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset" colspan\x3d"2"\x3e\x3c/td\r\n\t\x3e\x3c/tr\r\n\t\x3e\x3ctr class\x3d"dijitReset"\r\n\t\t\x3e\x3ctd class\x3d"dijitReset dijitSliderButtonContainer dijitSliderButtonContainerH"\r\n\t\t\t\x3e\x3cdiv class\x3d"dijitSliderDecrementIconH" style\x3d"display:none" data-dojo-attach-point\x3d"decrementButton"\x3e\x3cspan class\x3d"dijitSliderButtonInner"\x3e-\x3c/span\x3e\x3c/div\r\n\t\t\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset"\r\n\t\t\t\x3e\x3cdiv class\x3d"dijitSliderBar dijitSliderBumper dijitSliderBumperH dijitSliderLeftBumper" data-dojo-attach-event\x3d"press:_onClkDecBumper"\x3e\x3c/div\r\n\t\t\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset"\r\n\t\t\t\x3e\x3cinput data-dojo-attach-point\x3d"valueNode" type\x3d"hidden" ${!nameAttrSetting}\r\n\t\t\t/\x3e\x3cdiv class\x3d"dijitReset dijitSliderBarContainerH" role\x3d"presentation" data-dojo-attach-point\x3d"sliderBarContainer"\r\n\t\t\t\t\x3e\x3cdiv role\x3d"presentation" data-dojo-attach-point\x3d"progressBar" class\x3d"dijitSliderBar dijitSliderBarH dijitSliderProgressBar dijitSliderProgressBarH" data-dojo-attach-event\x3d"press:_onBarClick"\r\n\t\t\t\t\t\x3e\x3cdiv class\x3d"dijitSliderMoveable dijitSliderMoveableH"\r\n\t\t\t\t\t\t\x3e\x3cdiv data-dojo-attach-point\x3d"sliderHandle,focusNode" class\x3d"dijitSliderImageHandle dijitSliderImageHandleH" data-dojo-attach-event\x3d"press:_onHandleClick" role\x3d"slider"\x3e\x3c/div\r\n\t\t\t\t\t\x3e\x3c/div\r\n\t\t\t\t\x3e\x3c/div\r\n\t\t\t\t\x3e\x3cdiv role\x3d"presentation" data-dojo-attach-point\x3d"remainingBar" class\x3d"dijitSliderBar dijitSliderBarH dijitSliderRemainingBar dijitSliderRemainingBarH" data-dojo-attach-event\x3d"press:_onBarClick"\x3e\x3c/div\r\n\t\t\t\x3e\x3c/div\r\n\t\t\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset"\r\n\t\t\t\x3e\x3cdiv class\x3d"dijitSliderBar dijitSliderBumper dijitSliderBumperH dijitSliderRightBumper" data-dojo-attach-event\x3d"press:_onClkIncBumper"\x3e\x3c/div\r\n\t\t\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset dijitSliderButtonContainer dijitSliderButtonContainerH"\r\n\t\t\t\x3e\x3cdiv class\x3d"dijitSliderIncrementIconH" style\x3d"display:none" data-dojo-attach-point\x3d"incrementButton"\x3e\x3cspan class\x3d"dijitSliderButtonInner"\x3e+\x3c/span\x3e\x3c/div\r\n\t\t\x3e\x3c/td\r\n\t\x3e\x3c/tr\r\n\t\x3e\x3ctr class\x3d"dijitReset"\r\n\t\t\x3e\x3ctd class\x3d"dijitReset" colspan\x3d"2"\x3e\x3c/td\r\n\t\t\x3e\x3ctd data-dojo-attach-point\x3d"containerNode,bottomDecoration" class\x3d"dijitReset dijitSliderDecoration dijitSliderDecorationB dijitSliderDecorationH"\x3e\x3c/td\r\n\t\t\x3e\x3ctd class\x3d"dijitReset" colspan\x3d"2"\x3e\x3c/td\r\n\t\x3e\x3c/tr\r\n\x3e\x3c/table\x3e\r\n',
"url:dijit/form/templates/CheckBox.html":'\x3cdiv class\x3d"dijit dijitReset dijitInline" role\x3d"presentation"\r\n\t\x3e\x3cinput\r\n\t \t${!nameAttrSetting} type\x3d"${type}" role\x3d"${type}" aria-checked\x3d"false" ${checkedAttrSetting}\r\n\t\tclass\x3d"dijitReset dijitCheckBoxInput"\r\n\t\tdata-dojo-attach-point\x3d"focusNode"\r\n\t \tdata-dojo-attach-event\x3d"ondijitclick:_onClick"\r\n/\x3e\x3c/div\x3e\r\n',"url:esri/views/3d/terrain/TerrainMaterial.xml":'\x3c?xml version\x3d"1.0" encoding\x3d"UTF-8"?\x3e\r\n\r\n\x3csnippets\x3e\r\n\r\n\x3csnippet name\x3d"vsTerrain"\x3e\x3c![CDATA[\r\n  precision mediump float;\r\n\r\n  uniform mat4 proj;\r\n  uniform mat4 view;\r\n  uniform vec3 origin;\r\n  uniform vec2 texOffset;\r\n  uniform float texScale;\r\n  uniform mat4 viewNormal;\r\n\r\n  attribute vec3 $position;\r\n  attribute vec2 $uv0;\r\n  varying vec2 vtc;\r\n  varying vec3 vpos;\r\n  varying vec3 vnormal;\r\n\r\n#if defined(WIREFRAME) || defined(TILE_BORDERS)\r\n  varying vec2 vuv;\r\n#endif\r\n\r\n#ifdef ATMOSPHERE\r\n  uniform vec3 lightDirection;\r\n  varying vec3 wpos;\r\n  varying vec3 wview;\r\n  varying vec3 wnormal;\r\n  varying vec3 wlight;\r\n#endif    \r\n\r\n#ifdef OVERLAY\r\n  uniform vec2 overlayTexOffset;\r\n  uniform float overlayTexScale;\r\n  varying vec2 vtcOverlay;\r\n#endif\r\n\r\n  void main(void) {\r\n    vpos \x3d $position;    \r\n\r\n#ifdef SPHERICAL\r\n    vnormal \x3d normalize(vpos + origin);\r\n#else\r\n    vnormal \x3d vec3(0, 0, 1); // WARNING: up-axis dependent code\r\n#endif\r\n    \r\n#ifdef ATMOSPHERE    \r\n    wpos \x3d (view * vec4(vpos, 1.0)).xyz;\r\n    wnormal \x3d (viewNormal * vec4(normalize(vpos+origin), 1.0)).xyz;\r\n    wlight \x3d (view  * vec4(normalize(lightDirection), 1.0)).xyz;\r\n#endif\r\n\r\n#if defined(WIREFRAME) || defined(TILE_BORDERS)\r\n    vuv \x3d $uv0;\r\n#endif\r\n\r\n    gl_Position \x3d proj * view * vec4(vpos, 1.0);\r\n    vtc \x3d $uv0*texScale + texOffset;\r\n\r\n#ifdef OVERLAY\r\n    vtcOverlay \x3d $uv0*overlayTexScale + overlayTexOffset;\r\n#endif\r\n  }\r\n]]\x3e\x3c/snippet\x3e\r\n\r\n\x3csnippet name\x3d"fsTerrainCommon"\x3e\x3c![CDATA[\r\n  uniform vec3 lightDirection;\r\n  uniform vec3 viewDirection;\r\n  uniform sampler2D depthTex;\r\n  uniform int shadowMapNum;\r\n  uniform vec4 shadowMapDistance;\r\n  uniform mat4 shadowMapMatrix[4];\r\n  uniform float depthHalfPixelSz;\r\n  uniform sampler2D ssaoTex;\r\n  uniform vec4 viewportPixelSz;\r\n  uniform sampler2D tex;\r\n  uniform float opacity;\r\n\r\n  varying vec3 vpos;\r\n  varying vec3 vnormal;\r\n  varying vec2 vtc;\r\n\r\n#if defined(WIREFRAME) || defined(TILE_BORDERS)\r\n  varying vec2 vuv;\r\n#endif\r\n\r\n#ifdef ATMOSPHERE\r\n  varying vec3 wpos;\r\n  varying vec3 wview;\r\n  varying vec3 wnormal;\r\n  varying vec3 wlight;\r\n#endif\r\n\r\n  const vec3 ambient \x3d vec3(0.2,0.2,0.2);\r\n  const vec3 diffuse \x3d vec3(0.8,0.8,0.8);\r\n  const float diffuseHardness \x3d 2.5;\r\n\r\n#ifdef OVERLAY\r\n  uniform sampler2D overlayTex;\r\n  uniform float overlayOpacity;\r\n  varying vec2 vtcOverlay;\r\n#endif\r\n\r\n  $evalShadow\r\n\r\n  float lum(vec3 c) {\r\n    float max \x3d max(max(c.r, c.g), c.b);\r\n    float min \x3d min(min(c.r, c.g), c.b);\r\n    return (min + max) * 0.5;\r\n  }\r\n\r\n#ifdef ATMOSPHERE\r\n  vec3 atmosphere(vec3 lightPos, vec3 normal, vec3 view) {\r\n    vec3 surfaceColor   \x3d vec3(0.0);\r\n    vec3 fuzzySpecColor \x3d vec3(1.0);\r\n    vec3 subColor       \x3d vec3(0.0);\r\n    float rollOff       \x3d 1.0;\r\n\r\n    vec3 Ln \x3d normalize(lightPos);\r\n    vec3 Nn \x3d normalize(normal);\r\n    vec3 Vn \x3d normalize(view);\r\n    vec3 Hn \x3d normalize(Vn + Ln);\r\n    \r\n    float ldn \x3d dot(Ln, Nn);\r\n    float diffComp \x3d max(0.0, ldn);\r\n    float vdn \x3d 1.0 - dot(Vn, Nn);\r\n    float ndv \x3d dot(Vn, Ln);\r\n    \r\n    vec3 diffContrib \x3d surfaceColor * diffComp;\r\n    float subLamb \x3d max(0.0, smoothstep(-rollOff, 1.0, ldn) - smoothstep(0.0, 1.0, ldn));     \r\n    \r\n    vec3 subContrib \x3d subLamb * subColor;\r\n    vec3 vecColor \x3d vec3(vdn);\r\n    \r\n    vec3 diffuseContrib \x3d (subContrib + diffContrib);\r\n    vec3 specularContrib \x3d (vecColor * fuzzySpecColor);    \r\n\r\n    return (diffContrib + specularContrib) * rollOff;\r\n  }\r\n#endif\r\n\r\n  void main() {\r\n    vec3 a \x3d ambient;\r\n\r\n    float shadow \x3d evalShadow(vpos, 1.0 / gl_FragCoord.w, depthTex, shadowMapNum, shadowMapDistance, shadowMapMatrix, depthHalfPixelSz);\r\n    float k \x3d smoothstep(0.0, 1.0, clamp(dot(vnormal, lightDirection)*diffuseHardness, 0.0, 1.0));\r\n    vec3 d \x3d (1.0 - shadow/1.8) * diffuse * k;\r\n\r\n\r\n    float ssao \x3d viewportPixelSz.w \x3c .0 ? 1.0 : texture2D(ssaoTex, (gl_FragCoord.xy - viewportPixelSz.xy) * viewportPixelSz.zw).a;\r\n    vec4 texVal \x3d texture2D(tex, vtc);\r\n    vec3 texCol \x3d texVal.rgb;\r\n    float texAlpha \x3d texVal.a;\r\n\r\n#ifdef OVERLAY\r\n    if ((vtcOverlay.x \x3e 0.0) \x26\x26 (vtcOverlay.y \x3e 0.0) \x26\x26 (vtcOverlay.x \x3c 1.0) \x26\x26 (vtcOverlay.y \x3c 1.0)) {\r\n      vec4 overlayTexCol \x3d texture2D(overlayTex, vtcOverlay);\r\n      overlayTexCol *\x3d overlayOpacity;\r\n      texCol \x3d texCol*(1.0-overlayTexCol.a) + overlayTexCol.rgb; // overlayTexCol has pre-multiplied alpha\r\n      texAlpha \x3d overlayTexCol.a + (1.0 - overlayTexCol.a) * texAlpha;\r\n    }\r\n#endif\r\n\r\n    vec3 atm \x3d vec3(0.0);\r\n#ifdef ATMOSPHERE  \r\n    float ndotl \x3d max(0.0, min(1.0, dot(normalize(vpos), normalize(lightDirection))));\r\n    atm \x3d atmosphere(wlight, wnormal, -viewDirection);\r\n    atm *\x3d max(0.0, min(1.0, (1.0-lum(texCol)*1.5))); //avoid atmosphere on bright base maps\r\n    atm *\x3d max(0.0, min(1.0, ndotl*2.0)); // avoid atmosphere on dark side of the globe\r\n#endif\r\n    vec3 color \x3d atm + texCol * (a + d) * ssao;\r\n    gl_FragColor \x3d vec4(color, texAlpha * opacity);\r\n\r\n  // closing } is missing here, it\'s in the shaders using this snippet below\r\n\r\n]]\x3e\x3c/snippet\x3e\r\n\r\n\x3csnippet name\x3d"fsTerrainWireframe"\x3e\x3c![CDATA[\r\n#ifdef GL_OES_standard_derivatives\r\n#extension GL_OES_standard_derivatives : enable\r\n#endif\r\n\r\n  precision mediump float;\r\n\r\n  struct WireframeSettings {\r\n    float width;\r\n    float falloff;\r\n    float subdivision;\r\n    vec4 color;\r\n    float wireOpacity;\r\n    float surfaceOpacity;\r\n    float near;\r\n    float far;\r\n  };\r\n\r\n  uniform WireframeSettings wireframe;\r\n\r\n    $fsTerrainCommon\r\n\r\n    vec2 dVuv;\r\n    vec2 vuvScaled \x3d vuv * wireframe.subdivision;\r\n    vec2 vuvMod \x3d fract(vuvScaled);\r\n\r\n#ifdef GL_OES_standard_derivatives\r\n    dVuv \x3d fwidth(vuvScaled);\r\n#else\r\n    // Something that reasonably works\r\n    dVuv \x3d vec2(0.05);\r\n#endif\r\n\r\n    vec2 edgeFactors \x3d smoothstep((wireframe.width - wireframe.falloff) * dVuv,\r\n                                  wireframe.width * dVuv, min(vuvMod, 1.0 - vuvMod));\r\n\r\n    float edgeFactor \x3d 1.0 - min(edgeFactors.x, edgeFactors.y);\r\n\r\n#ifdef WIREFRAME\r\n    gl_FragColor \x3d vec4(mix(gl_FragColor.rgb, wireframe.color.rgb, edgeFactor * wireframe.color.a),\r\n                        mix(wireframe.surfaceOpacity, wireframe.wireOpacity, edgeFactor));\r\n#endif\r\n\r\n\r\n#ifdef TILE_BORDERS\r\n    dVuv \x3d fwidth(vuv);\r\n    edgeFactors \x3d smoothstep((wireframe.width - wireframe.falloff) * dVuv,\r\n                              wireframe.width * dVuv, min(vuv, 1.0 - vuv));\r\n    edgeFactor \x3d 1.0 - min(edgeFactors.x, edgeFactors.y);\r\n\r\n    gl_FragColor \x3d mix(gl_FragColor, vec4(1.0, 0.0, 0.0, 1.0), edgeFactor);\r\n#endif\r\n  }\r\n]]\x3e\x3c/snippet\x3e\r\n\r\n\x3csnippet name\x3d"fsTerrain"\x3e\x3c![CDATA[\r\n  precision mediump float;\r\n\r\n    $fsTerrainCommon\r\n  }\r\n]]\x3e\x3c/snippet\x3e\r\n\r\n\x3csnippet name\x3d"vsTerrainNormal"\x3e\x3c![CDATA[\r\n  uniform vec3 origin;\r\n  uniform mat4 proj;\r\n  uniform mat4 view;\r\n  uniform mat4 viewNormal;\r\n  attribute vec3 $position;\r\n  varying vec3 vnormal;\r\n\r\n  void main(void) {\r\n#ifdef SPHERICAL\r\n    vec4 normal \x3d vec4(normalize($position + origin), 1.0);\r\n#else\r\n    vec4 normal \x3d vec4(0.0, 1.0, 0.0, 1.0);\r\n#endif\r\n\r\n    gl_Position \x3d proj * view * vec4($position, 1.0);\r\n    vnormal \x3d normalize((viewNormal * normal).xyz);\r\n  }\r\n]]\x3e\x3c/snippet\x3e\r\n\r\n\x3csnippet name\x3d"vsTerrainDepthOnly"\x3e\x3c![CDATA[\r\n  precision mediump float;\r\n\r\n  uniform mat4 proj;\r\n  uniform mat4 view;\r\n\r\n  attribute vec3 $position;\r\n\r\n  void main() {\r\n    gl_Position \x3d proj * view * vec4($position, 1.0);\r\n  }\r\n]]\x3e\x3c/snippet\x3e\r\n\r\n\x3csnippet name\x3d"fsTerrainDepthOnly"\x3e\x3c![CDATA[\r\n  precision mediump float;\r\n\r\n  void main() {\r\n  }\r\n]]\x3e\x3c/snippet\x3e\r\n\r\n\x3c/snippets\x3e\r\n',
"url:esri/views/3d/webgl-engine/materials/internal/SimpleGLMaterial.xml":'\x3c?xml version\x3d"1.0" encoding\x3d"UTF-8"?\x3e\r\n\r\n\x3csnippets\x3e\r\n\r\n\x3csnippet name\x3d"vertexShaderSimple"\x3e\x3c![CDATA[\r\n\tuniform mat4 proj;\r\n\tuniform mat4 view;\r\n\tuniform mat4 model;\r\n\tattribute vec3 $position;\r\n\r\n\tvoid main(void) {\r\n\t\tgl_Position \x3d proj * view * vec4((model * vec4($position, 1.0)).xyz, 1.0);\r\n\t}\r\n]]\x3e\x3c/snippet\x3e\r\n\r\n\x3csnippet name\x3d"fragmentShaderSimple"\x3e\x3c![CDATA[\r\n\tprecision mediump float;\r\n\r\n\tuniform vec4 color;\r\n\r\n\tvoid main() {\r\n\t\tgl_FragColor \x3d color;\r\n\t}\r\n]]\x3e\x3c/snippet\x3e\r\n\x3c/snippets\x3e',
"url:esri/widgets/Logo/templates/Logo.html":'\x3cdiv tabindex\x3d"0" role\x3d"link" aria-label\x3d"esri"\x3e\x3c/div\x3e\r\n',"url:dijit/form/templates/Button.html":'\x3cspan class\x3d"dijit dijitReset dijitInline" role\x3d"presentation"\r\n\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitButtonNode"\r\n\t\tdata-dojo-attach-event\x3d"ondijitclick:__onClick" role\x3d"presentation"\r\n\t\t\x3e\x3cspan class\x3d"dijitReset dijitStretch dijitButtonContents"\r\n\t\t\tdata-dojo-attach-point\x3d"titleNode,focusNode"\r\n\t\t\trole\x3d"button" aria-labelledby\x3d"${id}_label"\r\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitIcon" data-dojo-attach-point\x3d"iconNode"\x3e\x3c/span\r\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitToggleButtonIconChar"\x3e\x26#x25CF;\x3c/span\r\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitButtonText"\r\n\t\t\t\tid\x3d"${id}_label"\r\n\t\t\t\tdata-dojo-attach-point\x3d"containerNode"\r\n\t\t\t\x3e\x3c/span\r\n\t\t\x3e\x3c/span\r\n\t\x3e\x3c/span\r\n\t\x3e\x3cinput ${!nameAttrSetting} type\x3d"${type}" value\x3d"${value}" class\x3d"dijitOffScreen"\r\n\t\tdata-dojo-attach-event\x3d"onclick:_onClick"\r\n\t\ttabIndex\x3d"-1" role\x3d"presentation" aria-hidden\x3d"true" data-dojo-attach-point\x3d"valueNode"\r\n/\x3e\x3c/span\x3e\r\n',
"*now":function(b){b(['dojo/i18n!*preload*dojo/nls/dojo*["ar","ca","cs","da","de","el","en-gb","en-us","es-es","fi-fi","fr-fr","he-il","hu","it-it","ja-jp","ko-kr","nl-nl","nb","pl","pt-br","pt-pt","ru","sk","sl","sv","th","tr","zh-tw","zh-cn","ROOT"]'])},"*noref":1}});require.boot&&require.apply(null,require.boot);