// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/4.0beta2/esri/copyright.txt for details.
//>>built
define(["./earthUtils","./projectionUtils","../lib/glMatrix","../webgl-engine/lib/BufferVectorMath"],function(d,g,f,e){var l=f.vec3,h=e.Vec3Compact,m=d.earthRadius,k=[0,0,1];d=function(a){this.spatialRef=a};d.prototype.toRenderCoords=function(a,b,c){return"esri.geometry.Point"===a.declaredClass?g.pointToVector(a,b,this.spatialRef):g.vectorToVector(a,b,c,this.spatialRef)};d.prototype.fromRenderCoords=function(a,b,c){return"esri.geometry.Point"===b.declaredClass||"esri.SpatialReference"===b.declaredClass?
g.vectorToPoint(a,this.spatialRef,b,c):g.vectorToVector(a,this.spatialRef,b,c)};f=function(a){this.spatialRef=a=a||g.SphericalRenderSpatialReference};f.prototype=new d;f.prototype.getAltitude=function(a,b){return h.length(a,b||0)-m};f.prototype.setAltitude=function(a,b,c){c=c||0;a=(a+m)/h.length(b,c);h.scale(b,c,a)};f.prototype.setAltitudeOfTransformation=function(a,b){this.setAltitude(a,b,12)};f.prototype.worldUpAtPosition=function(a,b){l.normalize(a,b)};e=function(a){this.spatialRef=a;this.worldUp=
k};e.prototype=new d;e.prototype.getAltitude=function(a,b){return b?a[b+2]:a[2]};e.prototype.setAltitude=function(a,b,c){c?b[c+2]=a:b[2]=a};e.prototype.setAltitudeOfTransformation=function(a,b){this.setAltitude(a,b,12)};e.prototype.worldUpAtPosition=function(a,b){l.set(k,b)};e.worldUp=k;d.Spherical=f;d.Planar=e;return d});