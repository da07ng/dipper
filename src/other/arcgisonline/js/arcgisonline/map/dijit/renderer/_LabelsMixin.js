// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.15/esri/copyright.txt for details.
//>>built
define("arcgisonline/map/dijit/renderer/_LabelsMixin","dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/connect dojo/has dojo/dom dojo/dom-style dojo/dom-class dojo/string dojo/number esri/lang dojox/data/AndOrWriteStore".split(" "),function(k,l,g,m,n,p,q,r,e,c,s,h){return{pattern:"#,###,###,##0.######",updateLabels:function(a){var b;for(b=this.renderer.infos.length-1;0<=b;b--){var c=this.renderer.infos[b];c.label=this.getLabel(c,a,b)}},getLabel:function(a,b,f){var d="";esri.isDefined(b)&&
("percent-of-total"===this.renderer.normalizationType?0===b?d=(0<f?"\x3e ":"")+e.substitute(this.i18n.percentValue,{num:c.format(a.minValue,{pattern:this.pattern})})+" "+this.i18n.to+" "+e.substitute(this.i18n.percentValue,{num:c.format(a.maxValue,{pattern:this.pattern})}):1>b?(d=c.round(1/b),d=(0<f?"\x3e ":"")+e.substitute(this.i18n.percentValue,{num:c.format(c.round(a.minValue/b)/d,{pattern:this.pattern})})+" "+this.i18n.to+" "+e.substitute(this.i18n.percentValue,{num:c.format(c.round(a.maxValue/
b)/d,{pattern:this.pattern})})):d=(0<f?"\x3e ":"")+e.substitute(this.i18n.percentValue,{num:c.format(c.round(a.minValue/b)*b,{pattern:this.pattern})})+" "+this.i18n.to+" "+e.substitute(this.i18n.percentValue,{num:c.format(c.round(a.maxValue/b)*b,{pattern:this.pattern})}):0===b?d=(0<f?"\x3e ":"")+c.format(a.minValue,{pattern:this.pattern})+" "+this.i18n.to+" "+c.format(a.maxValue,{pattern:this.pattern}):1>b?(d=c.round(1/b),d=(0<f?"\x3e ":"")+c.format(c.round(a.minValue/b)/d,{pattern:this.pattern})+
" "+this.i18n.to+" "+c.format(c.round(a.maxValue/b)/d,{pattern:this.pattern})):d=(0<f?"\x3e ":"")+c.format(c.round(a.minValue/b)*b,{pattern:this.pattern})+" "+this.i18n.to+" "+c.format(c.round(a.maxValue/b)*b,{pattern:this.pattern}));return d},buildPrecisionsStore:function(){var a=[];a.push({name:this.i18n.selectAnOptions,type:"select"});a.push({name:this.i18n.none,type:"none"});var b=0;g.forEach(this.renderer.infos,function(a){b=Math.max(b,this.getPrecision(a.minValue));b=Math.max(b,this.getPrecision(a.maxValue))},
this);var c=Math.abs(this.renderer.infos[0].minValue-this.renderer.infos[this.renderer.infos.length-1].maxValue);1E7<c?(a.push({name:"1000000",type:"1000000"}),a.push({name:"100000",type:"100000"}),a.push({name:"10000",type:"10000"}),a.push({name:"1000",type:"1000"}),a.push({name:"100",type:"100"}),a.push({name:"10",type:"10"}),0<b&&a.push({name:"1",type:"1"}),1<b&&a.push({name:"0.1",type:"0.1"}),2<b&&a.push({name:"0.01",type:"0.01"})):1E6<c?(a.push({name:"100000",type:"100000"}),a.push({name:"10000",
type:"10000"}),a.push({name:"1000",type:"1000"}),a.push({name:"100",type:"100"}),a.push({name:"10",type:"10"}),0<b&&a.push({name:"1",type:"1"}),1<b&&a.push({name:"0.1",type:"0.1"}),2<b&&a.push({name:"0.01",type:"0.01"})):1E5<c?(a.push({name:"10000",type:"10000"}),a.push({name:"1000",type:"1000"}),a.push({name:"100",type:"100"}),a.push({name:"10",type:"10"}),0<b&&a.push({name:"1",type:"1"}),1<b&&a.push({name:"0.1",type:"0.1"}),2<b&&a.push({name:"0.01",type:"0.01"})):1E4<c?(a.push({name:"1000",type:"1000"}),
a.push({name:"100",type:"100"}),a.push({name:"10",type:"10"}),0<b&&a.push({name:"1",type:"1"}),1<b&&a.push({name:"0.1",type:"0.1"}),2<b&&a.push({name:"0.01",type:"0.01"})):1E3<c?(a.push({name:"100",type:"100"}),a.push({name:"10",type:"10"}),0<b&&a.push({name:"1",type:"1"}),1<b&&a.push({name:"0.1",type:"0.1"}),2<b&&a.push({name:"0.01",type:"0.01"}),3<b&&a.push({name:"0.001",type:"0.001"})):100<c?(a.push({name:"10",type:"10"}),0<b&&a.push({name:"1",type:"1"}),1<b&&a.push({name:"0.1",type:"0.1"}),2<
b&&a.push({name:"0.01",type:"0.01"}),3<b&&a.push({name:"0.001",type:"0.001"}),4<b&&a.push({name:"0.0001",type:"0.0001"}),5<b&&a.push({name:"0.00001",type:"0.00001"})):10<c?(0<b&&a.push({name:"1",type:"1"}),1<b&&a.push({name:"0.1",type:"0.1"}),2<b&&a.push({name:"0.01",type:"0.01"}),3<b&&a.push({name:"0.001",type:"0.001"}),4<b&&a.push({name:"0.0001",type:"0.0001"}),5<b&&a.push({name:"0.00001",type:"0.00001"}),6<b&&a.push({name:"0.000001",type:"0.000001"})):1<c?(1<b&&a.push({name:"0.1",type:"0.1"}),
2<b&&a.push({name:"0.01",type:"0.01"}),3<b&&a.push({name:"0.001",type:"0.001"}),4<b&&a.push({name:"0.0001",type:"0.0001"}),5<b&&a.push({name:"0.00001",type:"0.00001"}),6<b&&a.push({name:"0.000001",type:"0.000001"})):0.1<c?(2<b&&a.push({name:"0.01",type:"0.01"}),3<b&&a.push({name:"0.001",type:"0.001"}),4<b&&a.push({name:"0.0001",type:"0.0001"}),5<b&&a.push({name:"0.00001",type:"0.00001"}),6<b&&a.push({name:"0.000001",type:"0.000001"})):0.01<c&&(3<b&&a.push({name:"0.001",type:"0.001"}),4<b&&a.push({name:"0.0001",
type:"0.0001"}),5<b&&a.push({name:"0.00001",type:"0.00001"}),6<b&&a.push({name:"0.000001",type:"0.000001"}));return new h({data:{label:"name",identifier:"type",items:a}})},formatNumber:function(a){return c.format(a,{pattern:this.pattern})},getPrecision:function(a){for(var b=1;Math.round(a*b)/b!==a;)b*=10;return Math.log(b)/Math.LN10}}});