// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.15/esri/copyright.txt for details.
//>>built
define("arcgisonline/map/leftPanel",["dijit","dojo","dojox","dojo/require!arcgisonline/map/main"],function(a,c,p){c.provide("arcgisonline.map.leftPanel");c.require("arcgisonline.map.main");arcgisonline.map.leftPanel={leftPanelWidth:230,leftPanelDefaultWidth:0,lastLeftPanel:"none",hideLeftContentPanel:function(){var e=arcgisonline.map.leftPanel.getLeftContentPanelStack();"directionsStack"==arcgisonline.map.leftPanel.getLeftContentPanelStack()&&arcgisonline.map.main.beforeDirectionsPanel&&"none"!==
arcgisonline.map.main.beforeDirectionsPanel||"editStack"==arcgisonline.map.leftPanel.getLeftContentPanelStack()&&arcgisonline.map.main.beforeEditPanel&&"none"!==arcgisonline.map.main.beforeEditPanel?(arcgisonline.map.leftPanel.lastLeftPanel=arcgisonline.map.leftPanel.getLeftContentPanelStack(),"directionsStack"==arcgisonline.map.leftPanel.getLeftContentPanelStack()?(a.byId(arcgisonline.map.main.beforeDirectionsPanel)?leftPanel.sc.selectChild(a.byId(arcgisonline.map.main.beforeDirectionsPanel)):leftPanel.showStack(arcgisonline.map.main.beforeDirectionsPanel),
arcgisonline.map.main.beforeDirectionsPanel=null):"editStack"==arcgisonline.map.leftPanel.getLeftContentPanelStack()&&(a.byId(arcgisonline.map.main.beforeEditPanel)?leftPanel.sc.selectChild(a.byId(arcgisonline.map.main.beforeEditPanel)):leftPanel.showStack(arcgisonline.map.main.beforeEditPanel),arcgisonline.map.main.beforeEditPanel=null),"contentStack"==arcgisonline.map.leftPanel.getLeftContentPanelStack()||"aboutStack"==arcgisonline.map.leftPanel.getLeftContentPanelStack()||"legendStack"==arcgisonline.map.leftPanel.getLeftContentPanelStack()?
a.byId("webmap-details").set("checked",!0):"addContentStack"==arcgisonline.map.leftPanel.getLeftContentPanelStack()?a.byId("webmap-add").set("checked",!0):"editStack"==arcgisonline.map.leftPanel.getLeftContentPanelStack()&&a.byId("webmap-edit").set("checked",!0),arcgisonline.map.leftPanel.showLeftContentPanel(),setTimeout(function(){a.byId("webmap-directions").set("checked",!1)},100)):(arcgisonline.map.main.beforeDirectionsPanel=null,arcgisonline.map.main.beforeEditPanel=null,arcgisonline.map.leftPanel.leftPanelWidth=
c.style(c.byId("leftDiv"),"width"),0==arcgisonline.map.leftPanel.leftPanelWidth&&(arcgisonline.map.leftPanel.leftPanelWidth=arcgisonline.map.leftPanel.leftPanelDefaultWidth),c.style(a.byId("webmap-viewer").getSplitter("leading").domNode,"width","0px"),c.style(c.byId("leftDiv"),"width","0px"),a.byId("main-content").resize(),setTimeout(function(){a.byId("webmap-details").set("checked",!1);a.byId("webmap-add").set("checked",!1);a.byId("webmap-edit").set("checked",!1);a.byId("webmap-directions").set("checked",
!1);a.byId("webmap-analysis").set("checked",!1)},100),arcgisonline.map.main.map&&arcgisonline.map.edit.stopEdit(),arcgisonline.map.geocodeReview.geocodeMatchWidget&&arcgisonline.map.geocodeReview.geocodeMatchWidget.pauseMapEvents(),arcgisonline.map.main.map&&arcgisonline.map.main.map.activeDirectionsWidget&&arcgisonline.map.main.map.activeDirectionsWidget.deactivate(),c.publish("onChangeLeftPanel",[e,null]),arcgisonline.map.leftPanel.lastLeftPanel="none")},showLeftContentPanel:function(e){if(arcgisonline.map.leftPanel.lastLeftPanel&&
-1<arcgisonline.map.leftPanel.lastLeftPanel.indexOf("renderer")){var b=a.byId("rendererPanel");b&&!b.properClose&&b.externalCancel()}0===arcgisonline.map.leftPanel.leftPanelDefaultWidth&&arcgisonline.map.leftPanel.calculateLeftPanelDefaultWidth();!esri.isDefined(e)&&0==c.style(c.byId("leftDiv"),"width")&&(e=arcgisonline.map.leftPanel.leftPanelWidth);esri.isDefined(e)&&(c.style(c.byId("leftDiv"),"width",e+"px"),c.style(a.byId("webmap-viewer").getSplitter("leading").domNode,"width","4px"));a.byId("main-content").resize();
setTimeout(function(){"contentStack"==arcgisonline.map.leftPanel.getLeftContentPanelStack()||"aboutStack"==arcgisonline.map.leftPanel.getLeftContentPanelStack()||"legendStack"==arcgisonline.map.leftPanel.getLeftContentPanelStack()?(a.byId("webmap-add").set("checked",!1),a.byId("webmap-edit").set("checked",!1),a.byId("webmap-directions").set("checked",!1),a.byId("webmap-analysis").set("checked",!1)):"addContentStack"==arcgisonline.map.leftPanel.getLeftContentPanelStack()?(a.byId("webmap-details").set("checked",
!1),a.byId("webmap-edit").set("checked",!1),a.byId("webmap-directions").set("checked",!1),a.byId("webmap-analysis").set("checked",!1)):"directionsStack"==arcgisonline.map.leftPanel.getLeftContentPanelStack()?(a.byId("webmap-details").set("checked",!1),a.byId("webmap-edit").set("checked",!1),a.byId("webmap-add").set("checked",!1),a.byId("webmap-analysis").set("checked",!1)):"editStack"==arcgisonline.map.leftPanel.getLeftContentPanelStack()?(a.byId("webmap-details").set("checked",!1),a.byId("webmap-add").set("checked",
!1),a.byId("webmap-directions").set("checked",!1),a.byId("webmap-analysis").set("checked",!1)):(a.byId("webmap-details").set("checked",!1),a.byId("webmap-add").set("checked",!1),a.byId("webmap-edit").set("checked",!1),a.byId("webmap-directions").set("checked",!1))},100);"editStack"==arcgisonline.map.leftPanel.getLeftContentPanelStack()?arcgisonline.map.edit.activateEdit():arcgisonline.map.edit.stopEdit();"geocodeStack"===arcgisonline.map.leftPanel.getLeftContentPanelStack()&&arcgisonline.map.geocodeReview.geocodeMatchWidget?
arcgisonline.map.geocodeReview.geocodeMatchWidget.resumeMapEvents():arcgisonline.map.geocodeReview.geocodeMatchWidget&&arcgisonline.map.geocodeReview.geocodeMatchWidget.pauseMapEvents();"directionsStack"==arcgisonline.map.leftPanel.getLeftContentPanelStack()&&arcgisonline.map.main.map&&arcgisonline.map.main.map.activeDirectionsWidget?arcgisonline.map.main.map.activeDirectionsWidget.activate():arcgisonline.map.main.map&&arcgisonline.map.main.map.activeDirectionsWidget&&arcgisonline.map.main.map.activeDirectionsWidget.deactivate();
c.publish("onChangeLeftPanel",[arcgisonline.map.leftPanel.lastLeftPanel,arcgisonline.map.leftPanel.getLeftContentPanelStack()])},checkLeftPanelButtonLabels:function(){var e=arcgisonline.map.leftPanel.getLeftContentPanelStack(),b=c.style(c.byId("leftDiv"),"width"),f=65;"contentStack"==e?(a.byId("webmap-details-content-about").set("label",esri.i18nBundle.viewer.main.aboutBtn+"\x26nbsp;"),a.byId("webmap-details-content").set("label",esri.i18nBundle.viewer.main.mapContentBtn+"\x26nbsp;"),a.byId("webmap-details-content-legend").set("label",
esri.i18nBundle.viewer.main.legendBtn+"\x26nbsp;"),f+=c.coords(c.byId("webmap-details-content-about")).w,f+=c.coords(c.byId("webmap-details-content")).w,f+=c.coords(c.byId("webmap-details-content-legend")).w,b<f&&(a.byId("webmap-details-content-about").set("label",""),a.byId("webmap-details-content").set("label",""),a.byId("webmap-details-content-legend").set("label",""))):"aboutStack"==e?(a.byId("webmap-details-about").set("label",esri.i18nBundle.viewer.main.aboutBtn+"\x26nbsp;"),a.byId("webmap-details-about-content").set("label",
esri.i18nBundle.viewer.main.mapContentBtn+"\x26nbsp;"),a.byId("webmap-details-about-legend").set("label",esri.i18nBundle.viewer.main.legendBtn+"\x26nbsp;"),f+=c.coords(c.byId("webmap-details-about")).w,f+=c.coords(c.byId("webmap-details-about-content")).w,f+=c.coords(c.byId("webmap-details-about-legend")).w,b<f&&(a.byId("webmap-details-about").set("label",""),a.byId("webmap-details-about-content").set("label",""),a.byId("webmap-details-about-legend").set("label",""))):"legendStack"==e&&(a.byId("webmap-details-legend-about").set("label",
esri.i18nBundle.viewer.main.aboutBtn+"\x26nbsp;"),a.byId("webmap-details-legend-content").set("label",esri.i18nBundle.viewer.main.mapContentBtn+"\x26nbsp;"),a.byId("webmap-details-legend").set("label",esri.i18nBundle.viewer.main.legendBtn+"\x26nbsp;"),f+=c.coords(c.byId("webmap-details-legend-about")).w,f+=c.coords(c.byId("webmap-details-legend-content")).w,f+=c.coords(c.byId("webmap-details-legend")).w,b<f&&(a.byId("webmap-details-legend-about").set("label",""),a.byId("webmap-details-legend-content").set("label",
""),a.byId("webmap-details-legend").set("label","")))},openLeftAboutPanel:function(e,b){"aboutStack"==arcgisonline.map.leftPanel.getLeftContentPanelStack()?arcgisonline.map.leftPanel.hideLeftContentPanel():(leftPanel&&leftPanel.showStack("aboutStack",b),arcgisonline.map.leftPanel.showLeftContentPanel(),e||a.byId("webmap-details").set("checked",!0))},openLeftDetailsPanel:function(){"contentStack"==arcgisonline.map.leftPanel.getLeftContentPanelStack()||"aboutStack"==arcgisonline.map.leftPanel.getLeftContentPanelStack()||
"legendStack"==arcgisonline.map.leftPanel.getLeftContentPanelStack()?arcgisonline.map.leftPanel.hideLeftContentPanel():(leftPanel?leftPanel.showStack(leftPanel.lastDetailsStackId):arcgisonline.map.leftPanel.openLeftAboutPanel(),arcgisonline.map.leftPanel.showLeftContentPanel())},openLeftAnalysisPanel:function(e){"analysisStack"!=arcgisonline.map.leftPanel.getLeftContentPanelStack()&&(leftPanel&&leftPanel.showStack("analysisStack",e),arcgisonline.map.leftPanel.showLeftContentPanel())},openAnalysisToolPanel:function(e){"toolStack"!=
arcgisonline.map.leftPanel.getLeftContentPanelStack()&&(leftPanel&&leftPanel.showStack("toolStack",e),arcgisonline.map.leftPanel.showLeftContentPanel())},openLeftAddContentPanel:function(e){"addContentStack"!=arcgisonline.map.leftPanel.getLeftContentPanelStack()&&(leftPanel&&leftPanel.showStack("addContentStack"),arcgisonline.map.leftPanel.showLeftContentPanel(),e||a.byId("webmap-add").set("checked",!0))},openLeftTOCPanel:function(e){"contentStack"==arcgisonline.map.leftPanel.getLeftContentPanelStack()?
arcgisonline.map.leftPanel.hideLeftContentPanel():(leftPanel&&leftPanel.showStack("contentStack"),arcgisonline.map.leftPanel.showLeftContentPanel(),e||a.byId("webmap-details").set("checked",!0))},openLeftLegendPanel:function(e){"legendStack"==arcgisonline.map.leftPanel.getLeftContentPanelStack()?arcgisonline.map.leftPanel.hideLeftContentPanel():(leftPanel&&leftPanel.showStack("legendStack"),arcgisonline.map.leftPanel.showLeftContentPanel(),e||a.byId("webmap-details").set("checked",!0))},openLeftEditPanel:function(e,
b){"editStack"==arcgisonline.map.leftPanel.getLeftContentPanelStack()?arcgisonline.map.leftPanel.hideLeftContentPanel():(arcgisonline.map.main.hideDropdowns(),"directionsStack"===arcgisonline.map.leftPanel.getLeftContentPanelStack()&&arcgisonline.map.main.beforeDirectionsPanel?arcgisonline.map.main.beforeEditPanel=arcgisonline.map.main.beforeDirectionsPanel:"geocodeStack"===arcgisonline.map.leftPanel.getLeftContentPanelStack()||"analysisStack"===arcgisonline.map.leftPanel.getLeftContentPanelStack()||
"toolStack"===arcgisonline.map.leftPanel.getLeftContentPanelStack()?arcgisonline.map.main.beforeEditPanel="contentStack":arcgisonline.map.main.beforeEditPanel=arcgisonline.map.leftPanel.getLeftContentPanelStack(),leftPanel&&leftPanel.showStack("editStack",b),arcgisonline.map.leftPanel.showLeftContentPanel(),e||a.byId("webmap-edit").set("checked",!0))},openLeftGeocodePanel:function(e,b){"geocodeStack"==arcgisonline.map.leftPanel.getLeftContentPanelStack()?arcgisonline.map.leftPanel.hideLeftContentPanel():
(leftPanel&&leftPanel.showStack("geocodeStack",b),arcgisonline.map.leftPanel.showLeftContentPanel())},openLeftPopupPanel:function(e,b){if(leftPanel){var a=!0,c=function(c,m){a&&(a=!1,leftPanel.showStack("popupStack",{layerId:e,subLayerId:b,mapLayer:d,layerInfo:c,thematicGroupLayerIds:m?m.thematicGroupLayerIds:null}))},d=arcgisonline.map.main.getParameterListById(e),k=null;if(arcgisonline.map.featColl.isFeatureCollection(d)||d.layer instanceof esri.layers.CSVLayer)if(d.layer)k=d.layer.toJson().layerDefinition;
else{var h=d.layers;d.tables&&(h=h.concat(d.tables));for(var g=0;g<h.length;g++){var l=h[g];g==b&&(k=l.toJson().layerDefinition)}}else if("esri.layers.GeoRSSLayer"==d.layer.declaredClass){h=d.layer.getFeatureLayers();for(g=0;g<h.length;g++)l=h[g],g==b&&(k=l.toJson().layerDefinition)}else if("esri.layers.FeatureLayer"==d.layer.declaredClass||"esri.layers.StreamLayer"==d.layer.declaredClass||this._isImageServiceLayer(d.layer))k=d.serviceInfo;else if("esri.layers.ArcGISTiledMapServiceLayer"==d.layer.declaredClass)arcgisonline.map.main.getLayerInfoForQuery(d,
b,null).then(function(e){e=!1;if(d.queryLayersInfo)for(var a=0;a<d.queryLayersInfo.layers.length;a++){if(d.queryLayersInfo.layers[a].id===b){c(d.queryLayersInfo.layers[a]);e=!0;break}}else if(d.itemLayers)for(a=0;a<d.itemLayers.length;a++)if(d.itemLayers[a].id===b&&d.itemLayers[a].layerUrl&&d.itemLayers[a]._layerInfo){c(d.itemLayers[a]._layerInfo);e=!0;break}if(!e&&d.layersInfo)for(a=0;a<d.layersInfo.layers.length;a++)if((d.layersInfo.layers[a].tileSvcLayerId||0===d.layersInfo.layers[a].tileSvcLayerId)&&
d.layersInfo.layers[a].tileSvcLayerId===b){c(d.layersInfo.layers[a]);break}else if(d.layersInfo.layers[a].id===b){-1<d.layersInfo.layers[a].capabilities.toLowerCase().indexOf("query")&&c(d.layersInfo.layers[a]);break}});else if(arcgisonline.map.main.hasDynamicLayers(d))if(-1==b){l=d.thematicGroup.layerIds[0];for(g=0;g<d.layer.dynamicLayerInfos.length;g++)if(l==d.layer.dynamicLayerInfos[g].id){c(d.layer.dynamicLayerInfos[g],{thematicGroupLayerIds:d.thematicGroup.layerIds});break}}else for(g=0;g<d.layer.dynamicLayerInfos.length;g++){if(d.layer.dynamicLayerInfos[g].id===
b){c(d.layer.dynamicLayerInfos[g]);break}}else arcgisonline.map.main.getLayerInfoForQuery(d,b,null).then(function(a){for(a=0;a<d.layersInfo.layers.length;a++)if(d.layersInfo.layers[a].id===b){c(d.layersInfo.layers[a]);break}});k&&c(k)}arcgisonline.map.leftPanel.showLeftContentPanel()},openLeftRendererPanel:function(a,b,c,n,d,k,h){"rendererStack"==arcgisonline.map.leftPanel.getLeftContentPanelStack()||"vectorFieldRendererStack"==arcgisonline.map.leftPanel.getLeftContentPanelStack()?arcgisonline.map.leftPanel.hideLeftContentPanel():
(leftPanel&&(a=arcgisonline.map.main.getParameterListById(a),a.layer&&"esri.layers.ArcGISImageServiceVectorLayer"===a.layer.declaredClass?leftPanel.showStack("vectorFieldRendererStack",{mapLayer:a}):leftPanel.showStack("rendererStack",{subLayerId:b,mapLayer:a,showGallery:c,selfServiceRenderer:n,noSimple:d,showField:k,style:h})),arcgisonline.map.leftPanel.showLeftContentPanel())},openLeftRendererLabelsPanel:function(a,b){"rendererLabelsStack"==arcgisonline.map.leftPanel.getLeftContentPanelStack()?
arcgisonline.map.leftPanel.hideLeftContentPanel():(leftPanel&&leftPanel.showStack("rendererLabelsStack",{mapLayer:a,subLayerId:b}),arcgisonline.map.leftPanel.showLeftContentPanel())},openLeftDirectionsPanel:function(e,b){if((!b||!b.geocodeResult&&!b.feature)&&"directionsStack"==arcgisonline.map.leftPanel.getLeftContentPanelStack())arcgisonline.map.leftPanel.hideLeftContentPanel();else{arcgisonline.map.main.hideDropdowns();var f=arcgisonline.map.leftPanel.getLeftContentPanelStack();"geocodeStack"===
f||"analysisStack"===f||"toolStack"===f?arcgisonline.map.main.beforeDirectionsPanel="contentStack":"directionsStack"!==arcgisonline.map.leftPanel.getLeftContentPanelStack()&&(arcgisonline.map.main.beforeDirectionsPanel=arcgisonline.map.leftPanel.getLeftContentPanelStack());leftPanel&&leftPanel.showStack("directionsStack",b);"directionsStack"!==f&&(arcgisonline.map.leftPanel.showLeftContentPanel(),c.publish("onChangeLeftPanel",[f,"directionsStack"]));e||a.byId("webmap-directions").set("checked",!0)}},
openLeftMosaicRulePanel:function(a){"mosaicRuleStack"==arcgisonline.map.leftPanel.getLeftContentPanelStack()?arcgisonline.map.leftPanel.hideLeftContentPanel():(leftPanel&&leftPanel.showStack("mosaicRuleStack",{mapLayer:a}),arcgisonline.map.leftPanel.showLeftContentPanel())},openLeftRenderingRulePanel:function(a){"renderingRuleStack"==arcgisonline.map.leftPanel.getLeftContentPanelStack()?arcgisonline.map.leftPanel.hideLeftContentPanel():(leftPanel&&leftPanel.showStack("renderingRuleStack",{mapLayer:a}),
arcgisonline.map.leftPanel.showLeftContentPanel())},openLeftMultidimensionalFilterPanel:function(a){"multidimensionalFilterStack"==arcgisonline.map.leftPanel.getLeftContentPanelStack()?arcgisonline.map.leftPanel.hideLeftContentPanel():(leftPanel&&leftPanel.showStack("multidimensionalFilterStack",{mapLayer:a}),arcgisonline.map.leftPanel.showLeftContentPanel())},deleteAboutStack:function(){leftPanel&&leftPanel.deleteAboutStack()},recreateAboutStack:function(){leftPanel&&leftPanel.recreateAboutStack()},
getLeftContentPanelStack:function(){var a="none";c.byId("leftDiv")&&0<parseInt(c.style(c.byId("leftDiv"),"width"))&&leftPanel&&(a=leftPanel.visibleStack);return a},calculateLeftPanelDefaultWidth:function(){arcgisonline.map.leftPanel.leftPanelDefaultWidth=Math.max((window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth||600)/4.5,230);arcgisonline.map.leftPanel.leftPanelWidth=arcgisonline.map.leftPanel.leftPanelDefaultWidth;0<c.style(c.byId("leftDiv"),"width")&&c.style(c.byId("leftDiv"),
"width",arcgisonline.map.leftPanel.leftPanelWidth+"px")},initSettings:function(){var a=arcgisonline.sharing.util.getUser(),b=arcgisonline.sharing.util.urlToObject(document.URL);b.query=b.query||{};var f=b.query.useExisting?c.cookie("ESRI_Webmap"):!1;f||delete b.query.useExisting;b.query.webmap||f||arcgisonline.map.main.hasMapOnly()?arcgisonline.map.leftPanel.hideLeftContentPanel():b.query.url||b.query.urls||b.query.basemapUrl||b.query.featurecollection?arcgisonline.map.leftPanel.openLeftAboutPanel():
!a&&esriGeowConfig.self.urlKey&&esri.isEmpty(b.query)&&!f?arcgisonline.map.leftPanel.openLeftAboutPanel():b.query.review||arcgisonline.map.leftPanel.openLeftAboutPanel()},mapLoadedSettings:function(){var e=arcgisonline.sharing.util.urlToObject(document.URL);e.query=e.query||{};e.query.useExisting?arcgisonline.map.storage.getMapCookie(function(b){if(b){arcgisonline.map.main.mapHasChanged=b.c;if(b.p)if("none"==b.p)arcgisonline.map.leftPanel.hideLeftContentPanel();else if("popupStack"==b.p)leftPanel&&
b.pi?arcgisonline.map.leftPanel.openLeftPopupPanel(b.pi.layerId,b.pi.subLayerId):arcgisonline.map.leftPanel.hideLeftContentPanel();else{if(leftPanel){if("rendererStack"==b.p||"popupStack"==b.p||"analysisStack"==b.p||"rendererSimpleStack"==b.p||"rendererUniqueValuesStack"==b.p||"rendererColorStack"==b.p||"rendererSizeStack"==b.p||"rendererHeatStack"==b.p||"geocodeStack"==b.p||"directionsStack"==b.p||"toolStack"==b.p)b.p="contentStack";arcgisonline.map.leftPanel.getLeftContentPanelStack()!==b.p&&leftPanel.showStack(b.p)}arcgisonline.map.leftPanel.showLeftContentPanel(b.pw);
"aboutStack"==b.p||"contentStack"==b.p||"legendStack"==b.p?a.byId("webmap-details").set("checked",!0):"addContentStack"==b.p?(a.byId("addContentPanel").rebuildList(b.pt,b.pu,b.px,b.pe),a.byId("webmap-add").set("checked",!0)):"editStack"==b.p?a.byId("webmap-edit").set("checked",!0):"directionsStack"==b.p&&a.byId("webmap-directions").set("checked",!0)}b.s&&arcgisonline.sharing.util.getUser()&&arcgisonline.map.storage.saveWebMapClick(b.s)}else arcgisonline.map.leftPanel.mapLoadedSettings_NoWebmap()}):
arcgisonline.map.leftPanel.mapLoadedSettings_NoWebmap()},mapLoadedSettings_NoWebmap:function(){var a=arcgisonline.sharing.util.urlToObject(document.URL);a.query=a.query||{};""!==arcgisonline.map.leftPanel.getLeftContentPanelStack()&&"aboutStack"!==arcgisonline.map.leftPanel.getLeftContentPanelStack()||(a.query.webmap&&arcgisonline.map.save_open.webMapInfo?(a=arcgisonline.sharing.util.getUser())&&arcgisonline.map.save_open.webMapInfo.owner===a.email?"contentStack"!=arcgisonline.map.leftPanel.getLeftContentPanelStack()&&
arcgisonline.map.leftPanel.openLeftTOCPanel():arcgisonline.map.leftPanel.openLeftLegendPanel():(a.query.layers||a.query.services||a.query.url||a.query.urls||a.query.basemapUrl||a.query.wms||a.query.kml||a.query.tile||a.query.vectorTile||a.query.georss||a.query.csv)&&"contentStack"!=arcgisonline.map.leftPanel.getLeftContentPanelStack()&&arcgisonline.map.leftPanel.openLeftTOCPanel())},_isImageServiceLayer:function(a){return a instanceof esri.layers.ArcGISImageServiceLayer||a instanceof esri.layers.ArcGISImageServiceVectorLayer}}});