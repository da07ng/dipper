// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.15/esri/copyright.txt for details.
//>>built
require({cache:{"url:arcgisonline/sharing/dijit/templates/CustomRoles.html":'\x3cdiv class\x3d"${baseClass} widgetContent"\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"_description"\x3e\r\n    \x3cp\x3e\x3cspan data-dojo-attach-point\x3d"_rolesDesc"\x3e\x3c/span\x3e\x3c/p\x3e\r\n    \x3cp\x3e${i18n.rolesDescNote}\x3c/p\x3e\r\n    \x3c!--\x3cp\x3e\x3cspan data-dojo-attach-point\x3d"_docDesc"\x3e\x3c/span\x3e\x3c/p\x3e--\x3e\r\n\r\n    \x3cdiv data-dojo-attach-point\x3d"_defaultRoleUI"\x3e\r\n      \x3clabel for\x3d"defaultRoleNewMembers" class\x3d"buttonLineHeight"\x3e${i18n.defaultRole}\x3c/label\x3e\r\n      \x3cdiv id\x3d"defaultRoleNewMembers" class\x3d"gallerySelect" data-dojo-attach-point\x3d"_defaultRoleSelect"\r\n        data-dojo-type\x3d"dijit/form/FilteringSelect" data-dojo-props\x3d"fetchProperties:{sort:[{attribute:\'name\',descending:false}]},trim:true"\r\n        data-dojo-attach-event\x3d"onChange:onDefaultRoleChanged" style\x3d"display:inline-block;"\x3e\x3c/div\x3e\r\n      \x3cdiv class\x3d"calcite tertiary small" data-dojo-attach-point\x3d"_defaultRoleSaveBtn"\r\n           data-dojo-type\x3d"dijit/form/Button" data-dojo-attach-event\x3d"onClick:onSaveDefaultRole"\x3e${i18n.saveDefaultRole}\x3c/div\x3e\r\n      \x3cbr\x3e\x3cbr\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv\x3e\r\n    \x3ctable style\x3d"width:100%;"\x3e\r\n      \x3ctbody\x3e\r\n        \x3ctr\x3e\r\n          \x3ctd class\x3d"titleColumn" data-dojo-attach-point\x3d"_titleColumn"\x3e\x3cspan data-dojo-attach-point\x3d"_thumbnail"\x3e\x3c/span\x3e\x3c/td\x3e\r\n          \x3ctd class\x3d"valignTop"\x3e\r\n            \x3cbutton data-dojo-attach-point\x3d"_createRole" data-dojo-type\x3d"dijit/form/Button"\r\n                data-dojo-attach-event\x3d"onClick:onCreateRole" class\x3d"calcite tertiary small"\x3e${i18n.createRole}\x3c/button\x3e\r\n            \x3cbutton data-dojo-attach-point\x3d"_assignRoles" data-dojo-type\x3d"dijit/form/Button"\r\n                    data-dojo-attach-event\x3d"onClick:onAssignRoles" class\x3d"calcite tertiary small"\x3e${i18n.assignRoles}\x3c/button\x3e\r\n            \x3cdiv id\x3d"role-display" data-dojo-attach-point\x3d"_roleDisplay" data-dojo-type\x3d"dijit/layout/ContentPane" style\x3d"margin-top:1em;"\x3e\x3c/div\x3e\r\n            \x3cdiv id\x3d"role-edit" data-dojo-attach-point\x3d"_roleEdit" data-dojo-type\x3d"dijit/layout/ContentPane"\x3e\r\n              \x3cdiv data-dojo-attach-point\x3d"_editContainer" style\x3d"margin-top:1em;"\x3e\r\n                \x3clabel for\x3d"role-edit-select"\x3e${i18n.roleLabel}\x3c/label\x3e\r\n                \x3cdiv id\x3d"role-edit-select" data-dojo-attach-point\x3d"_roleEditSelect"\r\n                     data-dojo-type\x3d"arcgisonline/sharing/dijit/ComboBox"\r\n                     data-dojo-attach-event\x3d"onChange:onRoleEditSelectChange"\r\n                     class\x3d"gallerySelect" style\x3d"display:inline-block;"\x3e\x3c/div\x3e\r\n              \x3c/div\x3e\r\n\r\n              \x3cdiv data-dojo-attach-point\x3d"_roleMetaDataContainer" style\x3d"margin-top:1em;"\x3e\r\n                \x3clabel for\x3d"role-name"\x3e${i18n.roleNameLabel}\x3c/label\x3e\r\n                \x3cdiv id\x3d"role-name" data-dojo-type\x3d"dijit/form/TextBox"\r\n                     data-dojo-attach-event\x3d"onChange:onRoleNameChange,onKeyDown:onRoleNameKeyDown"\r\n                     data-dojo-attach-point\x3d"_roleName"\x3e\x3c/div\x3e\r\n                \x3cbr/\x3e\x3cbr/\x3e\r\n                \x3clabel for\x3d"role-desc"\x3e${i18n.descriptionLabel}\x3c/label\x3e\r\n                \x3cdiv id\x3d"role-desc" data-dojo-type\x3d"dijit/form/TextBox"\r\n                     data-dojo-attach-event\x3d"onChange:onRoleDescChange,onKeyDown:onRoleDescKeyDown"\r\n                     data-dojo-attach-point\x3d"_roleDesc" style\x3d"width:30em;"\x3e\x3c/div\x3e\r\n              \x3c/div\x3e\r\n\r\n              \x3cdiv data-dojo-attach-point\x3d"_createContainer" style\x3d"margin-top:1em;"\x3e\r\n                \x3clabel for\x3d"role-template-select"\x3e${i18n.templateSelectLabel}\x3c/label\x3e\r\n                \x3cdiv id\x3d"role-template-select" data-dojo-attach-point\x3d"_roleTemplateSelect"\r\n                     data-dojo-type\x3d"arcgisonline/sharing/dijit/ComboBox"\r\n                     data-dojo-attach-event\x3d"onChange:onRoleTemplateSelectChange"\r\n                     class\x3d"gallerySelect" style\x3d"display:inline-block;"\x3e\x3c/div\x3e\r\n              \x3c/div\x3e\r\n\r\n              \x3cdiv data-dojo-attach-point\x3d"_privilegeContainer" style\x3d"margin-top:1em;"\x3e\r\n                \x3cdiv class\x3d"esriFloatLeading" style\x3d"vertical-align:text-top;"\x3e\r\n                  \x3cdiv data-dojo-attach-point\x3d"_togglePrivileges" data-dojo-type\x3d"dijit/form/Button"\r\n                       data-dojo-attach-event\x3d"onClick:onToggleAll" class\x3d"calcite tertiary small"\x3e${i18n.toggleAllOnLabel}\x3c/div\x3e\r\n                  \x3cdiv data-dojo-attach-point\x3d"_expandAll" data-dojo-type\x3d"dijit/form/Button"\r\n                       data-dojo-attach-event\x3d"onClick:onExpandAll" class\x3d"calcite tertiary small"\x3e${i18n.expandAllLabel}\x3c/div\x3e\r\n                  \x3cdiv data-dojo-attach-point\x3d"_contractAll" data-dojo-type\x3d"dijit/form/Button"\r\n                       data-dojo-attach-event\x3d"onClick:onContractAll" class\x3d"calcite tertiary small"\x3e${i18n.contractAllLabel}\x3c/div\x3e\r\n                \x3c/div\x3e\r\n                \x3cdiv class\x3d"esriFloatTrailing esriTrailingMargin05" style\x3d"vertical-align: text-top;" data-dojo-attach-point\x3d"_saveContainerTop"\x3e\r\n                  \x3cdiv data-dojo-attach-point\x3d"_saveRoleTop" data-dojo-type\x3d"dijit/form/Button"\r\n                       data-dojo-attach-event\x3d"onClick:onSaveRole" class\x3d"calcite blue small"\x3e${i18n.saveRoleLabel}\x3c/div\x3e\r\n                  \x3cdiv data-dojo-attach-point\x3d"_discardEditsTop" data-dojo-type\x3d"dijit/form/Button"\r\n                       data-dojo-attach-event\x3d"onClick:onDiscardEdits" class\x3d"calcite transparent small"\x3e${i18n.discardEditsLabel}\x3c/div\x3e\r\n                \x3c/div\x3e\r\n                \x3cbr style\x3d"clear:both;"/\x3e\r\n                \x3cdiv style\x3d"margin-top:2em;"\x3e\r\n                  \x3c!--houses each of the groups, which will be float left to allow them to fit the responsive width--\x3e\r\n                  \x3clabel\x3e\x3cstrong\x3e${i18n.generalLabel}\x3c/strong\x3e\x3c/label\x3e\x3cbr/\x3e\r\n                  \x3cdiv class\x3d"privGroup esriFloatLeading"\x3e\r\n                    \x3cdiv\x3e\r\n                      \x3cspan id\x3d"groups-expcon" data-dojo-attach-event\x3d"onClick:expconGroup" class\x3d"expcon"\x3e${i18n.expand}\x3c/span\x3e\r\n                      \x3cdiv id\x3d"groups-toggle" data-dojo-attach-point\x3d"_groupsToggle"\r\n                           data-dojo-type\x3d"dojox/form/TriStateCheckBox"\r\n                           data-dojo-attach-event\x3d"onClick:onGroupsToggle" class\x3d"vertAlignTextTop"\x3e\x3c/div\x3e\r\n                      \x3clabel for\x3d"groups-toggle" id\x3d"groups-title"\x3e${i18n.groups.title}\x3c/label\x3e\r\n                    \x3c/div\x3e\r\n                    \x3cdiv id\x3d"groups-privs" class\x3d"privGroupPrivs"\x3e\r\n                      \x3cdiv id\x3d"groups-cancreate" data-dojo-attach-point\x3d"_canCreateGroups" data-dojo-type\x3d"dijit/form/CheckBox"\r\n                           data-dojo-attach-event\x3d"onClick:onCheckBoxClick"\x3e\x3c/div\x3e\r\n                      \x3clabel for\x3d"groups-cancreate" id\x3d"groups-cancreate-label"\x3e${i18n.groups.canCreate}\x3c/label\x3e\x3cbr/\x3e\r\n                      \x3cdiv id\x3d"groups-canjoinint" data-dojo-attach-point\x3d"_canJoinIntGroups" data-dojo-type\x3d"dijit/form/CheckBox"\r\n                           data-dojo-attach-event\x3d"onClick:onCheckBoxClick"\x3e\x3c/div\x3e\r\n                      \x3clabel for\x3d"groups-canjoinint" id\x3d"groups-canjoinint-label"\x3e${i18n.groups.canJoinInt}\x3c/label\x3e\x3cbr/\x3e\r\n                      \x3cspan id\x3d"groups-canjoinext-span" data-dojo-attach-point\x3d"_canJoinExtGroupsSpan"\x3e\r\n                        \x3cdiv id\x3d"groups-canjoinext" data-dojo-attach-point\x3d"_canJoinExtGroups" data-dojo-type\x3d"dijit/form/CheckBox"\r\n                             data-dojo-attach-event\x3d"onClick:onCheckBoxClick"\x3e\x3c/div\x3e\r\n                        \x3clabel for\x3d"groups-canjoinext" id\x3d"groups-canjoinext-label"\x3e${i18n.groups.canJoinExt}\x3c/label\x3e\x3cbr/\x3e\r\n                      \x3c/span\x3e\r\n                    \x3c/div\x3e\r\n                  \x3c/div\x3e\r\n                  \x3cdiv class\x3d"privGroup esriFloatLeading"\x3e\r\n                    \x3cdiv\x3e\r\n                      \x3cspan id\x3d"items-expcon" data-dojo-attach-event\x3d"onClick:expconGroup" class\x3d"expcon"\x3e${i18n.expand}\x3c/span\x3e\r\n                      \x3cdiv id\x3d"items-toggle" data-dojo-attach-point\x3d"_itemsToggle"\r\n                           data-dojo-type\x3d"dojox/form/TriStateCheckBox"\r\n                           data-dojo-attach-event\x3d"onClick:onItemsToggle" class\x3d"vertAlignTextTop"\x3e\x3c/div\x3e\r\n                      \x3clabel for\x3d"items-toggle" id\x3d"items-title"\x3e${i18n.items.title}\x3c/label\x3e\r\n                    \x3c/div\x3e\r\n                    \x3cdiv id\x3d"items-privs" class\x3d"privGroupPrivs"\x3e\r\n                      \x3cdiv id\x3d"items-cancreate" data-dojo-attach-point\x3d"_canCreateItem" data-dojo-type\x3d"dijit/form/CheckBox"\r\n                           data-dojo-attach-event\x3d"onClick:onCheckBoxClick"\x3e\x3c/div\x3e\r\n                      \x3clabel for\x3d"items-cancreate" id\x3d"items-cancreate-label"\x3e${i18n.items.canCreate}\x3c/label\x3e\x3cbr/\x3e\r\n                      \x3cdiv id\x3d"items-canpublishfeatures" data-dojo-attach-point\x3d"_canPublishFeatures" data-dojo-type\x3d"dijit/form/CheckBox"\r\n                           data-dojo-attach-event\x3d"onClick:onCheckBoxClick"\x3e\x3c/div\x3e\r\n                      \x3clabel for\x3d"items-canpublishfeatures" id\x3d"items-canpublishfeatures-label"\x3e${i18n.items.canPublishFeatures}\x3c/label\x3e\x3cbr/\x3e\r\n                      \x3cdiv id\x3d"items-canpublishtiles" data-dojo-attach-point\x3d"_canPublishTiles" data-dojo-type\x3d"dijit/form/CheckBox"\r\n                           data-dojo-attach-event\x3d"onClick:onCheckBoxClick"\x3e\x3c/div\x3e\r\n                      \x3clabel for\x3d"items-canpublishtiles" id\x3d"items-canpublishtiles-label"\x3e${i18n.items.canPublishTiles}\x3c/label\x3e\x3cbr/\x3e\r\n                      \x3cspan id\x3d"items-canpublishscenes-span" class\x3d"display_none" data-dojo-attach-point\x3d"_canPublishScenesSpan"\x3e\r\n                        \x3cdiv id\x3d"items-canpublishscenes" data-dojo-attach-point\x3d"_canPublishScenes" data-dojo-type\x3d"dijit/form/CheckBox"\r\n                             data-dojo-attach-event\x3d"onClick:onCheckBoxClick"\x3e\x3c/div\x3e\r\n                        \x3clabel for\x3d"items-canpublishscenes" id\x3d"items-canpublishscenes-label"\x3e${i18n.items.canPublishScenes}\x3c/label\x3e\x3cbr/\x3e\r\n                      \x3c/span\x3e\r\n                    \x3c/div\x3e\r\n                  \x3c/div\x3e\r\n                  \x3cdiv class\x3d"privGroup esriFloatLeading"\x3e\r\n                    \x3cdiv\x3e\r\n                      \x3cspan id\x3d"itemshare-expcon" data-dojo-attach-event\x3d"onClick:expconGroup" class\x3d"expcon"\x3e${i18n.expand}\x3c/span\x3e\r\n                      \x3cdiv id\x3d"itemshare-toggle" data-dojo-attach-point\x3d"_itemShareToggle"\r\n                           data-dojo-type\x3d"dojox/form/TriStateCheckBox"\r\n                           data-dojo-attach-event\x3d"onClick:onItemShareToggle" class\x3d"vertAlignTextTop"\x3e\x3c/div\x3e\r\n                      \x3clabel for\x3d"itemshare-toggle" id\x3d"itemshare-title"\x3e${i18n.itemSharing.title}\x3c/label\x3e\r\n                    \x3c/div\x3e\r\n                    \x3cdiv id\x3d"itemshare-privs" class\x3d"privGroupPrivs"\x3e\r\n                      \x3cdiv id\x3d"itemshare-cansharegroups" data-dojo-attach-point\x3d"_canShareItemToGroups" data-dojo-type\x3d"dijit/form/CheckBox"\r\n                           data-dojo-attach-event\x3d"onClick:onCheckBoxClick"\x3e\x3c/div\x3e\r\n                      \x3clabel for\x3d"itemshare-cansharegroups" id\x3d"itemshare-cansharegroups-label"\x3e${i18n.itemSharing.canShareGroups}\x3c/label\x3e\x3cbr/\x3e\r\n                      \x3cdiv id\x3d"itemshare-canshareorg" data-dojo-attach-point\x3d"_canShareItemToOrg" data-dojo-type\x3d"dijit/form/CheckBox"\r\n                           data-dojo-attach-event\x3d"onClick:onCheckBoxClick"\x3e\x3c/div\x3e\r\n                      \x3clabel for\x3d"itemshare-canshareorg" id\x3d"itemshare-canshareorg-label"\x3e\x3cspan data-dojo-attach-point\x3d"_canShareItemToOrgLabel"\x3e\x3c/span\x3e\x3c/label\x3e\x3cbr/\x3e\r\n                      \x3cdiv id\x3d"itemshare-cansharepublic" data-dojo-attach-point\x3d"_canShareItemToPublic" data-dojo-type\x3d"dijit/form/CheckBox"\r\n                           data-dojo-attach-event\x3d"onClick:onCheckBoxClick"\x3e\x3c/div\x3e\r\n                      \x3clabel for\x3d"itemshare-cansharepublic" id\x3d"itemshare-cansharepublic-label"\x3e${i18n.itemSharing.canSharePublic}\x3c/label\x3e\x3cbr/\x3e\r\n                      \x3cdiv id\x3d"groupshare-canshareorg" data-dojo-attach-point\x3d"_canShareGroupToOrg" data-dojo-type\x3d"dijit/form/CheckBox"\r\n                           data-dojo-attach-event\x3d"onClick:onCheckBoxClick"\x3e\x3c/div\x3e\r\n                      \x3clabel for\x3d"groupshare-canshareorg" id\x3d"groupshare-canshareorg-label"\x3e\x3cspan data-dojo-attach-point\x3d"_canShareGroupToOrgLabel"\x3e\x3c/span\x3e\x3c/label\x3e\x3cbr/\x3e\r\n                      \x3cdiv id\x3d"groupshare-cansharepublic" data-dojo-attach-point\x3d"_canShareGroupToPublic" data-dojo-type\x3d"dijit/form/CheckBox"\r\n                           data-dojo-attach-event\x3d"onClick:onCheckBoxClick"\x3e\x3c/div\x3e\r\n                      \x3clabel for\x3d"groupshare-cansharepublic" id\x3d"groupshare-cansharepublic-label"\x3e${i18n.groupSharing.canSharePublic}\x3c/label\x3e\x3cbr/\x3e\r\n                      \x3cdiv id\x3d"opendata-candesignate" data-dojo-attach-point\x3d"_canDesignateGroupOpen" data-dojo-type\x3d"dijit/form/CheckBox"\r\n                           data-dojo-attach-event\x3d"onClick:onCheckBoxClick"\x3e\x3c/div\x3e\r\n                      \x3clabel for\x3d"opendata-candesignate" id\x3d"opendata-candesignate-label" data-dojo-attach-point\x3d"_canDesignateGroupOpenLabel"\x3e${i18n.openData.canDesignate}\x3c/label\x3e\x3cbr/\x3e\r\n                    \x3c/div\x3e\r\n                  \x3c/div\x3e\r\n                  \x3cdiv data-dojo-attach-point\x3d"_geoservicesGroupContainer" class\x3d"privGroup esriFloatLeading"\x3e\r\n                    \x3cdiv\x3e\r\n                      \x3cspan id\x3d"geoservices-expcon" data-dojo-attach-event\x3d"onClick:expconGroup" class\x3d"expcon"\x3e[-]\x3c/span\x3e\r\n                      \x3cdiv id\x3d"geoservices-toggle" data-dojo-attach-point\x3d"_geoservicesToggle"\r\n                           data-dojo-type\x3d"dojox/form/TriStateCheckBox"\r\n                           data-dojo-attach-event\x3d"onClick:onGeoservicesToggle" class\x3d"vertAlignTextTop"\x3e\x3c/div\x3e\r\n                      \x3clabel for\x3d"geoservices-toggle" id\x3d"geoservices-title" data-dojo-attach-point\x3d"_geoservicesTitle"\x3e${i18n.geoservices.title}\x3c/label\x3e\r\n                    \x3c/div\x3e\r\n                    \x3cdiv id\x3d"geoservices-privs" class\x3d"privGroupPrivs"\x3e\r\n                      \x3cdiv id\x3d"geoservices-geocoding" data-dojo-attach-point\x3d"_canUseGeocoding" data-dojo-type\x3d"dijit/form/CheckBox"\r\n                           data-dojo-attach-event\x3d"onClick:onCheckBoxClick"\x3e\x3c/div\x3e\r\n                      \x3clabel for\x3d"geoservices-geocoding" id\x3d"geoservices-geocoding-label"\x3e${i18n.geoservices.canUseGeocoding}\x3c/label\x3e\x3cbr\x3e\r\n                      \x3cdiv id\x3d"geoservices-networkanalysis" data-dojo-attach-point\x3d"_canUseNA" data-dojo-type\x3d"dijit/form/CheckBox"\r\n                           data-dojo-attach-event\x3d"onClick:onCheckBoxClick"\x3e\x3c/div\x3e\r\n                      \x3clabel for\x3d"geoservices-networkanalysis" id\x3d"geoservices-networkanalysis-label"\x3e${i18n.geoservices.canUseNA}\x3c/label\x3e\x3cbr\x3e\r\n                      \x3cdiv id\x3d"geoservices-spatialanalysis" data-dojo-attach-point\x3d"_canUseSA" data-dojo-type\x3d"dijit/form/CheckBox"\r\n                           data-dojo-attach-event\x3d"onClick:onCheckBoxClick"\x3e\x3c/div\x3e\r\n                      \x3clabel for\x3d"geoservices-spatialanalysis" id\x3d"geoservices-spatialanalysis-label"\x3e${i18n.geoservices.canUseSA}\x3c/label\x3e\x3cbr\x3e\r\n                      \x3cdiv id\x3d"geoservices-geoenrichment" data-dojo-attach-point\x3d"_canUseGeoenrichment" data-dojo-type\x3d"dijit/form/CheckBox"\r\n                           data-dojo-attach-event\x3d"onClick:onCheckBoxClick"\x3e\x3c/div\x3e\r\n                      \x3clabel for\x3d"geoservices-geoenrichment" id\x3d"geoservices-geoenrichment-label"\x3e${i18n.geoservices.canUseGeoenrichment}\x3c/label\x3e\x3cbr\x3e\r\n                      \x3c!--\x3cdiv id\x3d"geoservices-geotriggers" data-dojo-attach-point\x3d"_canUseGeotriggers" data-dojo-type\x3d"dijit/form/CheckBox"--\x3e\r\n                           \x3c!--data-dojo-attach-event\x3d"onClick:onGeoservicesGroupClick"\x3e\x3c/div\x3e--\x3e\r\n                      \x3c!--\x3clabel for\x3d"geoservices-geotriggers" id\x3d"geoservices-geotriggers-label"\x3e${i18n.geoservices.canUseGeotriggers}\x3c/label\x3e\x3cbr\x3e--\x3e\r\n                      \x3cspan data-dojo-attach-point\x3d"_canUseDemographicsSpan"\x3e\r\n                        \x3cdiv id\x3d"geoservices-demographics" data-dojo-attach-point\x3d"_canUseDemographics" data-dojo-type\x3d"dijit/form/CheckBox"\r\n                             data-dojo-attach-event\x3d"onClick:onCheckBoxClick"\x3e\x3c/div\x3e\r\n                        \x3clabel for\x3d"geoservices-demographics" id\x3d"geoservices-demographics-label"\x3e${i18n.geoservices.canUseDemographics}\x3c/label\x3e\x3cbr\x3e\r\n                      \x3c/span\x3e\r\n                      \x3cdiv id\x3d"geoservices-elevation" data-dojo-attach-point\x3d"_canUseElevation" data-dojo-type\x3d"dijit/form/CheckBox"\r\n                           data-dojo-attach-event\x3d"onClick:onCheckBoxClick"\x3e\x3c/div\x3e\r\n                      \x3clabel for\x3d"geoservices-elevation" id\x3d"geoservices-elevation-label"\x3e${i18n.geoservices.canUseElevation}\x3c/label\x3e\x3cbr\x3e\r\n                    \x3c/div\x3e\r\n                  \x3c/div\x3e\r\n                  \x3cdiv class\x3d"privGroup esriFloatLeading" data-dojo-attach-point\x3d"_featuresGroupContainer"\x3e\r\n                    \x3cdiv\x3e\r\n                      \x3cspan id\x3d"features-expcon" data-dojo-attach-event\x3d"onClick:expconGroup" class\x3d"expcon"\x3e${i18n.expand}\x3c/span\x3e\r\n                      \x3cdiv id\x3d"features-toggle" data-dojo-attach-point\x3d"_featuresToggle"\r\n                           data-dojo-type\x3d"dojox/form/TriStateCheckBox"\r\n                           data-dojo-attach-event\x3d"onClick:onFeaturesToggle" class\x3d"vertAlignTextTop"\x3e\x3c/div\x3e\r\n                      \x3clabel for\x3d"features-toggle" id\x3d"features-title"\x3e${i18n.features.title}\x3c/label\x3e\r\n                    \x3c/div\x3e\r\n                    \x3cdiv id\x3d"features-privs" class\x3d"privGroupPrivs smallPrivs"\x3e\r\n                      \x3cdiv id\x3d"features-canedit" data-dojo-attach-point\x3d"_canEditFeatures" data-dojo-type\x3d"dijit/form/CheckBox"\r\n                           data-dojo-attach-event\x3d"onClick:onCheckBoxClick"\x3e\x3c/div\x3e\r\n                      \x3clabel for\x3d"features-canedit" id\x3d"features-canedit-label"\x3e${i18n.features.canEdit}\x3c/label\x3e\x3cbr/\x3e\r\n                      \x3cdiv id\x3d"features-canmanage" data-dojo-attach-point\x3d"_canManageFeatures" data-dojo-type\x3d"dijit/form/CheckBox"\r\n                           data-dojo-attach-event\x3d"onClick:onCheckBoxClick"\x3e\x3c/div\x3e\r\n                      \x3clabel for\x3d"features-canmanage" id\x3d"features-canmanage-label"\x3e${i18n.features.canManage}\x3c/label\x3e\x3cbr/\x3e\r\n                      \x3c!--\x3cdiv id\x3d"features-canadmin" data-dojo-attach-point\x3d"_canAdminFeatures" data-dojo-type\x3d"dijit/form/CheckBox"--\x3e\r\n                           \x3c!--data-dojo-attach-event\x3d"onClick:onCheckBoxClick"\x3e\x3c/div\x3e--\x3e\r\n                      \x3c!--\x3clabel for\x3d"features-canadmin" id\x3d"features-canadmin-label"\x3e${i18n.features.canAdmin}\x3c/label\x3e\x3cbr/\x3e--\x3e\r\n                      \x3c!--\x3cdiv id\x3d"features-cansync" data-dojo-attach-point\x3d"_canSyncFeatures" data-dojo-type\x3d"dijit/form/CheckBox"--\x3e\r\n                           \x3c!--data-dojo-attach-event\x3d"onClick:onFeaturesGroupClick"\x3e\x3c/div\x3e--\x3e\r\n                      \x3c!--\x3clabel for\x3d"features-cansync" id\x3d"features-cansync-label"\x3e${i18n.features.canSync}\x3c/label\x3e\x3cbr/\x3e--\x3e\r\n                      \x3c!--\x3cdiv id\x3d"features-canexport" data-dojo-attach-point\x3d"_canExportFeatures" data-dojo-type\x3d"dijit/form/CheckBox"--\x3e\r\n                           \x3c!--data-dojo-attach-event\x3d"onClick:onFeaturesGroupClick"\x3e\x3c/div\x3e--\x3e\r\n                      \x3c!--\x3clabel for\x3d"features-canexport" id\x3d"features-canexport-label"\x3e${i18n.features.canExport}\x3c/label\x3e\x3cbr/\x3e--\x3e\r\n                    \x3c/div\x3e\r\n                  \x3c/div\x3e\r\n                  \x3cdiv data-dojo-attach-point\x3d"_openDataGroupContainer" class\x3d"privGroup esriFloatLeading"\x3e\r\n                    \x3cdiv\x3e\r\n                      \x3cspan id\x3d"opendata-expcon" data-dojo-attach-event\x3d"onClick:expconGroup" class\x3d"expcon"\x3e${i18n.expand}\x3c/span\x3e\r\n                      \x3cdiv id\x3d"opendata-toggle" data-dojo-attach-point\x3d"_openDataToggle"\r\n                           data-dojo-type\x3d"dojox/form/TriStateCheckBox"\r\n                           data-dojo-attach-event\x3d"onClick:onOpenDataToggle" class\x3d"vertAlignTextTop"\x3e\x3c/div\x3e\r\n                      \x3clabel for\x3d"opendata-toggle" id\x3d"opendata-title"\x3e${i18n.openData.title}\x3c/label\x3e\r\n                    \x3c/div\x3e\r\n                    \x3cdiv id\x3d"opendata-privs" class\x3d"privGroupPrivs smallPrivs"\x3e\r\n                      \x3cdiv id\x3d"opendata-canadmin" data-dojo-attach-point\x3d"_canAdminOpenData" data-dojo-type\x3d"dijit/form/CheckBox"\r\n                           data-dojo-attach-event\x3d"onClick:onCheckBoxClick"\x3e\x3c/div\x3e\r\n                      \x3clabel for\x3d"opendata-canadmin" id\x3d"opendata-canadmin-label"\x3e${i18n.openData.canAdmin}\x3c/label\x3e\x3cbr/\x3e\r\n                    \x3c/div\x3e\r\n                  \x3c/div\x3e\r\n                  \x3cbr style\x3d"clear:both"/\x3e\x3cbr/\x3e\r\n                  \x3clabel\x3e\x3cstrong\x3e${i18n.adminLabel}\x3c/strong\x3e\x3c/label\x3e\x3cbr/\x3e\r\n                  \x3cdiv class\x3d"privGroup esriFloatLeading"\x3e\r\n                    \x3cdiv\x3e\r\n                      \x3cspan id\x3d"useradmin-expcon" data-dojo-attach-event\x3d"onClick:expconGroup" class\x3d"expcon"\x3e${i18n.expand}\x3c/span\x3e\r\n                      \x3cdiv id\x3d"useradmin-toggle" data-dojo-attach-point\x3d"_userAdminToggle"\r\n                           data-dojo-type\x3d"dojox/form/TriStateCheckBox"\r\n                           data-dojo-attach-event\x3d"onClick:onUserAdminToggle" class\x3d"vertAlignTextTop"\x3e\x3c/div\x3e\r\n                      \x3clabel for\x3d"useradmin-toggle" id\x3d"useradmin-title"\x3e${i18n.userAdmin.title}\x3c/label\x3e\r\n                    \x3c/div\x3e\r\n                    \x3cdiv id\x3d"useradmin-privs" class\x3d"privGroupPrivs"\x3e\r\n                      \x3cdiv id\x3d"useradmin-canview" data-dojo-attach-point\x3d"_canViewUsers" data-dojo-type\x3d"dijit/form/CheckBox"\r\n                           data-dojo-attach-event\x3d"onClick:onCheckBoxClick"\x3e\x3c/div\x3e\r\n                      \x3clabel for\x3d"useradmin-canview" id\x3d"useradmin-canview-label"\x3e${i18n.userAdmin.canView}\x3c/label\x3e\x3cbr/\x3e\r\n                      \x3cdiv id\x3d"useradmin-canupdate" data-dojo-attach-point\x3d"_canUpdateUsers" data-dojo-type\x3d"dijit/form/CheckBox"\r\n                           data-dojo-attach-event\x3d"onClick:onCheckBoxClick"\x3e\x3c/div\x3e\r\n                      \x3clabel for\x3d"useradmin-canupdate" id\x3d"useradmin-canupdate-label"\x3e${i18n.userAdmin.canUpdate}\x3c/label\x3e\x3cbr/\x3e\r\n                      \x3cdiv id\x3d"useradmin-candelete" data-dojo-attach-point\x3d"_canDeleteUsers" data-dojo-type\x3d"dijit/form/CheckBox"\r\n                           data-dojo-attach-event\x3d"onClick:onCheckBoxClick"\x3e\x3c/div\x3e\r\n                      \x3clabel for\x3d"useradmin-candelete" id\x3d"useradmin-candelete-label"\x3e${i18n.userAdmin.canDelete}\x3c/label\x3e\x3cbr/\x3e\r\n                      \x3cspan id\x3d"useradmin-caninvite-span" data-dojo-attach-point\x3d"_canInviteUsersSpan"\x3e\r\n                        \x3cdiv id\x3d"useradmin-caninvite" data-dojo-attach-point\x3d"_canInviteUsers" data-dojo-type\x3d"dijit/form/CheckBox"\r\n                             data-dojo-attach-event\x3d"onClick:onCheckBoxClick"\x3e\x3c/div\x3e\r\n                        \x3clabel for\x3d"useradmin-caninvite" id\x3d"useradmin-caninvite-label"\x3e${i18n.userAdmin.canInvite}\x3c/label\x3e\x3cbr/\x3e\r\n                      \x3c/span\x3e\r\n                      \x3cdiv id\x3d"useradmin-candisable" data-dojo-attach-point\x3d"_canDisableUsers" data-dojo-type\x3d"dijit/form/CheckBox"\r\n                           data-dojo-attach-event\x3d"onClick:onCheckBoxClick"\x3e\x3c/div\x3e\r\n                      \x3clabel for\x3d"useradmin-candisable" id\x3d"useradmin-candisable-label"\x3e${i18n.userAdmin.canDisable}\x3c/label\x3e\x3cbr/\x3e\r\n                      \x3cdiv id\x3d"useradmin-canchangeroles" data-dojo-attach-point\x3d"_canChangeRoles" data-dojo-type\x3d"dijit/form/CheckBox"\r\n                           data-dojo-attach-event\x3d"onClick:onCheckBoxClick"\x3e\x3c/div\x3e\r\n                      \x3clabel for\x3d"useradmin-canchangeroles" id\x3d"useradmin-canchangeroles-label"\x3e${i18n.userAdmin.canChangeRoles}\x3c/label\x3e\x3cbr/\x3e\r\n                      \x3cdiv id\x3d"useradmin-canmanagelicenses" data-dojo-attach-point\x3d"_canManageLicenses" data-dojo-type\x3d"dijit/form/CheckBox"\r\n                           data-dojo-attach-event\x3d"onClick:onCheckBoxClick"\x3e\x3c/div\x3e\r\n                      \x3clabel for\x3d"useradmin-canmanagelicenses" id\x3d"useradmin-canmanagelicenses-label"\x3e${i18n.userAdmin.canManageLicenses}\x3c/label\x3e\x3cbr/\x3e\r\n                      \x3c!--\x3cdiv id\x3d"useradmin-canresetpwd" data-dojo-attach-point\x3d"_canResetPwds" data-dojo-type\x3d"dijit/form/CheckBox"--\x3e\r\n                      \x3c!--data-dojo-attach-event\x3d"onClick:onUserAdminGroupClick"\x3e\x3c/div\x3e--\x3e\r\n                      \x3c!--\x3clabel for\x3d"useradmin-canresetpwd" id\x3d"useradmin-canresetpwd-label"\x3e${i18n.userAdmin.canResetPwd}\x3c/label\x3e--\x3e\r\n                    \x3c/div\x3e\r\n                  \x3c/div\x3e\r\n                  \x3cdiv class\x3d"privGroup esriFloatLeading"\x3e\r\n                    \x3cdiv\x3e\r\n                      \x3cspan id\x3d"groupadmin-expcon" data-dojo-attach-event\x3d"onClick:expconGroup" class\x3d"expcon"\x3e${i18n.expand}\x3c/span\x3e\r\n                      \x3cdiv id\x3d"groupadmin-toggle" data-dojo-attach-point\x3d"_groupAdminToggle"\r\n                           data-dojo-type\x3d"dojox/form/TriStateCheckBox"\r\n                           data-dojo-attach-event\x3d"onClick:onGroupAdminToggle" class\x3d"vertAlignTextTop"\x3e\x3c/div\x3e\r\n                      \x3clabel for\x3d"groupadmin-toggle" id\x3d"groupadmin-title"\x3e${i18n.groupAdmin.title}\x3c/label\x3e\r\n                    \x3c/div\x3e\r\n                    \x3cdiv id\x3d"groupadmin-privs" class\x3d"privGroupPrivs"\x3e\r\n                      \x3cdiv id\x3d"groupadmin-canview" data-dojo-attach-point\x3d"_canViewGroups" data-dojo-type\x3d"dijit/form/CheckBox"\r\n                           data-dojo-attach-event\x3d"onClick:onCheckBoxClick"\x3e\x3c/div\x3e\r\n                      \x3clabel for\x3d"groupadmin-canview" id\x3d"groupadmin-canview-label"\x3e${i18n.groupAdmin.canView}\x3c/label\x3e\x3cbr/\x3e\r\n                      \x3cdiv id\x3d"groupadmin-canupdate" data-dojo-attach-point\x3d"_canUpdateGroups" data-dojo-type\x3d"dijit/form/CheckBox"\r\n                           data-dojo-attach-event\x3d"onClick:onCheckBoxClick"\x3e\x3c/div\x3e\r\n                      \x3clabel for\x3d"groupadmin-canupdate" id\x3d"groupadmin-canupdate-label"\x3e${i18n.groupAdmin.canUpdate}\x3c/label\x3e\x3cbr/\x3e\r\n                      \x3cdiv id\x3d"groupadmin-candelete" data-dojo-attach-point\x3d"_canDeleteGroups" data-dojo-type\x3d"dijit/form/CheckBox"\r\n                           data-dojo-attach-event\x3d"onClick:onCheckBoxClick"\x3e\x3c/div\x3e\r\n                      \x3clabel for\x3d"groupadmin-candelete" id\x3d"groupadmin-candelete-label"\x3e${i18n.groupAdmin.canDelete}\x3c/label\x3e\x3cbr/\x3e\r\n                      \x3cdiv id\x3d"groupadmin-canreassign" data-dojo-attach-point\x3d"_canReassignGroups" data-dojo-type\x3d"dijit/form/CheckBox"\r\n                           data-dojo-attach-event\x3d"onClick:onCheckBoxClick"\x3e\x3c/div\x3e\r\n                      \x3clabel for\x3d"groupadmin-canreassign" id\x3d"groupadmin-canreassign-label"\x3e${i18n.groupAdmin.canReassign}\x3c/label\x3e\x3cbr/\x3e\r\n                      \x3cdiv id\x3d"groupadmin-canassign" data-dojo-attach-point\x3d"_canAssignUsers" data-dojo-type\x3d"dijit/form/CheckBox"\r\n                           data-dojo-attach-event\x3d"onClick:onCheckBoxClick"\x3e\x3c/div\x3e\r\n                      \x3clabel for\x3d"groupadmin-canassign" id\x3d"groupadmin-canassign-label"\x3e${i18n.groupAdmin.canAssign}\x3c/label\x3e\x3cbr/\x3e\r\n                      \x3cspan id\x3d"groupadmin-canlink-span"  class\x3d"display_none" data-dojo-attach-point\x3d"_canLinkEnterpriseSpan"\x3e\r\n                        \x3cdiv id\x3d"groupadmin-canlink" data-dojo-attach-point\x3d"_canLinkEnterprise" data-dojo-type\x3d"dijit/form/CheckBox"\r\n                             data-dojo-attach-event\x3d"onClick:onCheckBoxClick"\x3e\x3c/div\x3e\r\n                        \x3clabel for\x3d"groupadmin-canlink" id\x3d"groupadmin-canlink-label"\x3e${i18n.groupAdmin.canLink}\x3c/label\x3e\x3cbr/\x3e\r\n                      \x3c/span\x3e\r\n                    \x3c/div\x3e\r\n                  \x3c/div\x3e\r\n                  \x3cdiv class\x3d"privGroup esriFloatLeading"\x3e\r\n                    \x3cdiv\x3e\r\n                      \x3cspan id\x3d"itemadmin-expcon" data-dojo-attach-event\x3d"onClick:expconGroup" class\x3d"expcon"\x3e${i18n.expand}\x3c/span\x3e\r\n                      \x3cdiv id\x3d"itemadmin-toggle" data-dojo-attach-point\x3d"_itemAdminToggle"\r\n                           data-dojo-type\x3d"dojox/form/TriStateCheckBox"\r\n                           data-dojo-attach-event\x3d"onClick:onItemAdminToggle" class\x3d"vertAlignTextTop"\x3e\x3c/div\x3e\r\n                      \x3clabel for\x3d"itemadmin-toggle" id\x3d"itemadmin-title"\x3e${i18n.itemAdmin.title}\x3c/label\x3e\r\n                    \x3c/div\x3e\r\n                    \x3cdiv id\x3d"itemadmin-privs" class\x3d"privGroupPrivs"\x3e\r\n                      \x3cdiv id\x3d"itemadmin-canview" data-dojo-attach-point\x3d"_canViewItems" data-dojo-type\x3d"dijit/form/CheckBox"\r\n                           data-dojo-attach-event\x3d"onClick:onCheckBoxClick"\x3e\x3c/div\x3e\r\n                      \x3clabel for\x3d"itemadmin-canview" id\x3d"itemadmin-canview-label"\x3e${i18n.itemAdmin.canView}\x3c/label\x3e\x3cbr/\x3e\r\n                      \x3cdiv id\x3d"itemadmin-canupdate" data-dojo-attach-point\x3d"_canUpdateItems" data-dojo-type\x3d"dijit/form/CheckBox"\r\n                           data-dojo-attach-event\x3d"onClick:onCheckBoxClick"\x3e\x3c/div\x3e\r\n                      \x3clabel for\x3d"itemadmin-canupdate" id\x3d"itemadmin-canupdate-label"\x3e${i18n.itemAdmin.canUpdate}\x3c/label\x3e\x3cbr/\x3e\r\n                      \x3cdiv id\x3d"itemadmin-candelete" data-dojo-attach-point\x3d"_canDeleteItems" data-dojo-type\x3d"dijit/form/CheckBox"\r\n                           data-dojo-attach-event\x3d"onClick:onCheckBoxClick"\x3e\x3c/div\x3e\r\n                      \x3clabel for\x3d"itemadmin-candelete" id\x3d"itemadmin-candelete-label"\x3e${i18n.itemAdmin.canDelete}\x3c/label\x3e\x3cbr/\x3e\r\n                      \x3cdiv id\x3d"itemadmin-canreassign" data-dojo-attach-point\x3d"_canReassignItems" data-dojo-type\x3d"dijit/form/CheckBox"\r\n                           data-dojo-attach-event\x3d"onClick:onCheckBoxClick"\x3e\x3c/div\x3e\r\n                      \x3clabel for\x3d"itemadmin-canreassign" id\x3d"itemadmin-canreassign-label"\x3e${i18n.itemAdmin.canReassign}\x3c/label\x3e\x3cbr/\x3e\r\n                      \x3c!--\x3cdiv id\x3d"itemadmin-canedit" data-dojo-attach-point\x3d"_canEditOrgData" data-dojo-type\x3d"dijit/form/CheckBox"--\x3e\r\n                      \x3c!--data-dojo-attach-event\x3d"onClick:onItemAdminGroupClick"\x3e\x3c/div\x3e--\x3e\r\n                      \x3c!--\x3clabel for\x3d"itemadmin-canedit" id\x3d"itemadmin-canedit-label"\x3e${i18n.itemAdmin.canEdit}\x3c/label\x3e\x3cbr/\x3e--\x3e\r\n                    \x3c/div\x3e\r\n                  \x3c/div\x3e\r\n                  \x3cdiv data-dojo-attach-point\x3d"_marketplaceGroupContainer" class\x3d"privGroup esriFloatLeading"\x3e\r\n                    \x3cdiv\x3e\r\n                      \x3cspan id\x3d"marketplace-expcon" data-dojo-attach-event\x3d"onClick:expconGroup" class\x3d"expcon"\x3e${i18n.expand}\x3c/span\x3e\r\n                      \x3cdiv id\x3d"marketplace-toggle" data-dojo-attach-point\x3d"_marketplaceToggle"\r\n                           data-dojo-type\x3d"dojox/form/TriStateCheckBox"\r\n                           data-dojo-attach-event\x3d"onClick:onMarketplaceToggle" class\x3d"vertAlignTextTop"\x3e\x3c/div\x3e\r\n                      \x3clabel for\x3d"marketplace-toggle" id\x3d"marketplace-title"\x3e${i18n.marketplace.title}\x3c/label\x3e\r\n                    \x3c/div\x3e\r\n                    \x3cdiv id\x3d"marketplace-privs" class\x3d"privGroupPrivs"\x3e\r\n                      \x3cspan style\x3d"display:none;"\x3e\r\n                      \x3cdiv id\x3d"marketplace-canadmin" data-dojo-attach-point\x3d"_canAdminMarketplace" data-dojo-type\x3d"dijit/form/CheckBox"\r\n                           data-dojo-attach-event\x3d"onClick:onCheckBoxClick"\x3e\x3c/div\x3e\r\n                      \x3clabel for\x3d"marketplace-canadmin" id\x3d"marketplace-canadmin-label"\x3e${i18n.marketplace.canAdmin}\x3c/label\x3e\x3cbr/\x3e\r\n                      \x3c/span\x3e\r\n                      \x3cdiv id\x3d"marketplace-canpurchase" data-dojo-attach-point\x3d"_canPurchaseMarketplace" data-dojo-type\x3d"dijit/form/CheckBox"\r\n                           data-dojo-attach-event\x3d"onClick:onCheckBoxClick"\x3e\x3c/div\x3e\r\n                      \x3clabel for\x3d"marketplace-canpurchase" id\x3d"marketplace-canpurchase-label"\x3e${i18n.marketplace.canPurchase}\x3c/label\x3e\x3cbr/\x3e\r\n                      \x3cdiv id\x3d"marketplace-cantrial" data-dojo-attach-point\x3d"_canTrialMarketplace" data-dojo-type\x3d"dijit/form/CheckBox"\r\n                           data-dojo-attach-event\x3d"onClick:onCheckBoxClick"\x3e\x3c/div\x3e\r\n                      \x3clabel for\x3d"marketplace-cantrial" id\x3d"marketplace-cantrial-label"\x3e${i18n.marketplace.canTrial}\x3c/label\x3e\x3cbr/\x3e\r\n                    \x3c/div\x3e\r\n                  \x3c/div\x3e\r\n                \x3c/div\x3e\r\n              \x3c/div\x3e\r\n              \x3cbr style\x3d"clear:both;"/\x3e\x3cbr/\x3e\r\n              \x3cdiv class\x3d"esriFloatTrailing esriTrailingMargin05" data-dojo-attach-point\x3d"_saveContainerBottom"\x3e\r\n                \x3cdiv data-dojo-attach-point\x3d"_saveRoleBottom" data-dojo-type\x3d"dijit/form/Button"\r\n                     data-dojo-attach-event\x3d"onClick:onSaveRole" class\x3d"calcite blue small"\x3e${i18n.saveRoleLabel}\x3c/div\x3e\r\n                \x3cdiv data-dojo-attach-point\x3d"_discardEditsBottom" data-dojo-type\x3d"dijit/form/Button"\r\n                     data-dojo-attach-event\x3d"onClick:onDiscardEdits" class\x3d"calcite transparent small"\x3e${i18n.discardEditsLabel}\x3c/div\x3e\r\n              \x3c/div\x3e\r\n            \x3c/div\x3e\r\n          \x3c/td\x3e\r\n        \x3c/tr\x3e\r\n      \x3c/tbody\x3e\r\n    \x3c/table\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n'}});
define("arcgisonline/sharing/dijit/CustomRoles","require dojo/_base/array dojo/_base/lang dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/dom-style dojo/i18n dojo/keys dojo/mouse dojo/on dojo/json dojo/topic dojo/store/Memory dojo/Deferred dojo/DeferredList dojo/promise/all esri/lang arcgisonline/sharing/util arcgisonline/sharing/dijit/dialog/BatchAssignRolesDlg arcgisonline/sharing/dijit/dialog/GeneralDlg arcgisonline/sharing/dijit/dialog/DeleteWarningDlg arcgisonline/sharing/dijit/ComboBox arcgisonline/sharing/dijit/Role arcgisonline/sharing/dijit/Grid arcgisonline/sharing/geow/Roles arcgisonline/sharing/geow/Account dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/registry dijit/popup dijit/Dialog dijit/Tooltip dijit/TooltipDialog dijit/form/Button dijit/form/TextBox dijit/form/CheckBox dijit/form/FilteringSelect dojox/form/TriStateCheckBox dijit/layout/ContentPane dijit/layout/StackContainer dojo/text!arcgisonline/sharing/dijit/templates/CustomRoles.html".split(" "),
function(C,g,l,x,h,p,q,m,t,R,y,S,u,D,E,z,v,A,F,c,n,G,H,I,T,w,J,K,L,M,N,O,s,U,P,V,W,X,Y,Z,$,aa,ba,ca,Q){var B=x(z,{query:function(a,b){if(b){var d=b&&b.sort&&b.sort[0]||{attribute:"name",descending:!1};"name"===d.attribute&&(b.sort=function(a,b){var c=a[d.attribute],k=b[d.attribute];return c!==k?!!d.descending===(null===c||c.toLowerCase()>(k&&k.toLowerCase()))?-1:1:0})}return this.inherited(arguments)}});return x([M,N,O],{declaredClass:"arcgisonline.sharing.dijit.CustomRoles",basePath:C.toUrl("arcgisonline/sharing/dijit"),
templateString:Q,baseClass:"esriAGOCustomRoles",_privilegeGroupList:"useradmin groupadmin itemadmin marketplace groups items itemshare geoservices features opendata".split(" "),_privilegeGroupListPortal:"useradmin groupadmin itemadmin groups items itemshare opendata".split(" "),_templateRoles:null,_currentRoles:null,_coreRoles:[],_coreRoleIds:"org_admin org_publisher org_user account_admin account_publisher account_user".split(" "),_isResetting:!1,_tooltips:[],_rowsPerPage:10,_maxRequestNum:100,_tooltipDialogOrient:["after-centered",
"before-centered","below","above"],_dependencyCheckEnabled:!0,_currentSecurityConfig:{},_currentDefaultRole:"org_user",_defaultSystemRole:"org_user",_orgUserRole:"org_user",_orgPublisherRole:"org_publisher",_orgAdminRole:"org_admin",_accountUserRole:"account_user",_accountPublisherRole:"account_publisher",_accountAdminRole:"account_admin",postMixInProperties:function(){this.inherited(arguments);this.i18n={};l.mixin(this.i18n,dojo.i18n.getLocalization("arcgisonline","arcgisonline").common);l.mixin(this.i18n,
dojo.i18n.getLocalization("arcgisonline","arcgisonline").customRoles)},postCreate:function(){this.inherited(arguments);this._rolesAPI=new K;this._errorDlg=H.prototype.statics.getInstance();this._batchAssignRolesDlg=G.prototype.statics.getInstance();E.subscribe("roles-change",l.hitch(this,function(){console.log("received roles-change trigger");this.reset();this.refresh()}))},startup:function(){this.inherited(arguments);this._initUI()},refresh:function(){this._grid&&this._grid._started&&(this._grid._grid.resize(),
this._grid._grid.refresh())},reset:function(){this._isResetting=!0;this._currentRoles=this._currentRole=this._mode=null;this._coreRoles=[{id:this._orgAdminRole,name:this.i18n.templates.admin},{id:this._orgPublisherRole,name:this.i18n.templates.publisher,isTemplate:!0,privileges:"features:user:edit portal:publisher:publishFeatures portal:publisher:publishTiles portal:user:createGroup portal:user:createItem portal:user:joinGroup portal:user:joinNonOrgGroup portal:user:shareGroupToOrg portal:user:shareGroupToPublic portal:user:shareToGroup portal:user:shareToOrg portal:user:shareToPublic premium:user:geocode premium:user:networkanalysis premium:user:geoenrichment premium:user:demographics premium:user:elevation premium:user:spatialanalysis".split(" ")},
{id:this._orgUserRole,name:this.i18n.templates.user,isTemplate:!0,privileges:"features:user:edit portal:user:createGroup portal:user:createItem portal:user:joinGroup portal:user:joinNonOrgGroup portal:user:shareGroupToOrg portal:user:shareGroupToPublic portal:user:shareToGroup portal:user:shareToOrg portal:user:shareToPublic premium:user:geocode premium:user:networkanalysis premium:user:geoenrichment premium:user:demographics premium:user:elevation premium:user:spatialanalysis".split(" ")}];esriGeowConfig.sceneViewerEnabled&&
this._isPortal&&this._coreRoles[1].privileges.push("portal:publisher:publishScenes");this._showContainer(this._description);this._showContainer(this._titleColumn);this._hideContainer(this._roleEdit);this._showContainer(this._roleDisplay.domNode);this._hideContainer(this._roleMetaDataContainer);this._hideContainer(this._createContainer);this._hideContainer(this._editContainer);this._hideContainer(this._privilegeContainer);this._hidePrivilegeGroups();this.onContractAll();this._hideContainer(this._saveContainerTop);
this._hideContainer(this._saveContainerBottom);this._setAllPrivileges(!1);this._showButton(this._createRole);this._showButton(this._assignRoles);this._configureVisibilities();this._resetRoleInputs()},onSaveDefaultRole:function(a){a&&a.preventDefault();var b=this;a=esriGeowConfig.baseUrl.substring(0,esriGeowConfig.baseUrl.indexOf("/home"))+"/portaladmin/security/config/update";var d=b._currentDefaultRole,e=b._defaultRoleSelect.get("value"),c={securityConfig:null};e===b._orgUserRole&&(e=b._accountUserRole);
e===b._orgPublisherRole&&(e=b._accountPublisherRole);b._currentSecurityConfig.defaultRoleForUser=e;b._currentDefaultRole=b._normalizeRoleId(e);c.securityConfig=D.stringify(b._currentSecurityConfig);n.request({url:a,content:c},{usePost:!0}).then(function(){b._errorDlg.show({title:b.i18n.defaultRoleUpdated,message:b.i18n.defaultRoleUpdatedMsg});b.onDefaultRoleChanged()},function(a){console.log("Unable to save the updated defaultRoleForUser to the security configuration.",a);b._currentSecurityConfig.defaultRoleForUser=
d;b._currentDefaultRole=d;b._defaultRoleSelect.set("value",d);b.onDefaultRoleChanged();b._errorDlg.show({title:b.i18n.errorTitle,message:b.i18n.errors.cantSaveDefaultRole})})},onDefaultRoleChanged:function(){var a=this._defaultRoleSelect.get("value");t.set(this._defaultRoleSaveBtn.domNode,"display",this._currentDefaultRole===a?"none":"")},onAssignRoles:function(){this._batchAssignRolesDlg.show(this._currentRoles)},onCreateRole:function(){this._mode="create";this._hideButton(this._createRole);this._hideButton(this._assignRoles);
this._hideContainer(this._description);this._hideContainer(this._titleColumn);this._hideContainer(this._editContainer);this._hideContainer(this._roleDisplay.domNode);this._saveRoleTop.set("disabled",!0);this._saveRoleBottom.set("disabled",!0);this._showContainer(this._roleMetaDataContainer);this._showContainer(this._createContainer);this._showContainer(this._saveContainerTop);this._showContainer(this._saveContainerBottom);this._showContainer(this._roleEdit);this.onExpandAll();this._setCurrentGridPage()},
onEditRole:function(){this._mode="edit";this._hideButton(this._createRole);this._hideButton(this._assignRoles);this._hideContainer(this._description);this._hideContainer(this._titleColumn);this._hideContainer(this._createContainer);this._hideContainer(this._roleMetaDataContainer);this._hideContainer(this._roleDisplay.domNode);this._showContainer(this._editContainer);this._showContainer(this._saveContainerTop);this._showContainer(this._saveContainerBottom);this._hideButton(this._saveRoleTop);this._hideButton(this._saveRoleBottom);
this._showContainer(this._roleEdit);this.onExpandAll()},onDeleteRole:function(){this._mode="delete";this._hideButton(this._createRole);this._hideButton(this._assignRoles);this._hideContainer(this._createContainer);this._hideContainer(this._roleMetaDataContainer);this._hideContainer(this._editContainer);this._hideContainer(this._roleDisplay.domNode);this._showContainer(this._roleEdit)},onDeleteSelectedRole:function(a){var b=this;if(c.isDefined(a)&&0<a.length){var d=b._customRoleStore.query({name:a});
0<d.length&&b._rolesAPI.deleteRole(d[0].id).then(function(d){c.isDefined(d)&&!c.isDefined(d.code)?(b._errorDlg.show({title:b.i18n.notice,message:c.substitute({name:a},b.i18n.messages.deleteSuccess)}),b.reset()):c.isDefined(d)&&esrLang.isDefined(d.code)&&(c.isDefined(d.messageCode)&&"ORG_1046"===d.messageCode?b._errorDlg.show({title:b.i18n.errorTitle,message:c.substitute({name:a},b.i18n.errors.roleInUse)}):(console.log("error deleting role",d),b._errorDlg.show({title:b.i18n.errorTitle,message:c.substitute({name:a},
b.i18n.errors.cantDeleteRole)})))},function(d){console.log("unexpected error path",d);c.isDefined(d.messageCode)&&"ORG_1046"===d.messageCode?b._errorDlg.show({title:b.i18n.errorTitle,message:c.substitute({name:a},b.i18n.errors.roleInUse)}):b._errorDlg.show({title:b.i18n.errorTitle,message:c.substitute({name:a},b.i18n.errors.cantDeleteRole)})})}else b._errorDlg.show({title:b.i18n.errorTitle,message:b.i18n.errors.selectRoleToDelete})},onRoleNameChange:function(){c.isDefined(this._currentRole)&&(this._currentRole.name=
this._roleName.get("value"))},onRoleNameKeyDown:function(a){a.keyCode==y.ENTER&&(a.preventDefault(),this.onRoleNameChange())},onRoleDescChange:function(){c.isDefined(this._currentRole)&&(this._currentRole.description=this._roleDesc.get("value"))},onRoleDescKeyDown:function(a){a.keyCode==y.ENTER&&(a.preventDefault(),this.onRoleDescChange())},onRoleTemplateSelectChange:function(a){var b=this;!b._isResetting&&(c.isDefined(a)&&0<a.length)&&(a=b._templateRoleStore.query({name:a}),b._currentRole=new w({id:"custom-role-"+
(new Date).getTime(),name:b._roleName.get("value"),description:b._roleDesc.get("value")}),c.isDefined(a)&&c.isDefined(a[0])&&(a=a[0],c.isDefined(a.isTemplate)&&!0===a.isTemplate?(b._currentRole.setPrivileges(a.privileges),b._readPrivileges(b._currentRole)):b._rolesAPI.getPrivileges(a.id).then(function(a){c.isDefined(a)&&c.isDefined(a.privileges)&&(b._currentRole.setPrivileges(a.privileges),b._readPrivileges(b._currentRole))})),b._saveRoleTop.set("disabled",!1),b._saveRoleBottom.set("disabled",!1),
b._showContainer(b._privilegeContainer))},onRoleEditSelectChange:function(a){var b=this;!b._isResetting&&(c.isDefined(a)&&0<a.length)&&(b._hideContainer(b._editContainer),a=b._customRoleStore.query({name:a}),c.isDefined(a)&&c.isDefined(a[0])&&(a=a[0],b._currentRole=new w({id:a.id,name:a.name,description:a.description}),b._rolesAPI.getPrivileges(a.id).then(function(a){c.isDefined(a)&&c.isDefined(a.privileges)&&(b._currentRole.setPrivileges(a.privileges),b._roleName.set("value",b._currentRole.name),
b._roleDesc.set("value",b._currentRole.description),b._readPrivileges(b._currentRole))})),b._saveRoleTop.set("disabled",!1),b._saveRoleBottom.set("disabled",!1),b._showButton(b._saveRoleTop),b._showButton(b._saveRoleBottom),b._showContainer(b._roleMetaDataContainer),b._showContainer(b._privilegeContainer))},_validates:function(){var a=!0,b=!c.isDefined(this._currentRole.name)||0===this._currentRole.name.length,d=!c.isDefined(this._currentRole.description)||0===this._currentRole.description.length;
b||d?(b&&d?this._errorDlg.show({title:this.i18n.errorTitle,message:this.i18n.errors.roleMetadataRequired}):b?this._errorDlg.show({title:this.i18n.errorTitle,message:this.i18n.errors.roleNameRequired}):d&&this._errorDlg.show({title:this.i18n.errorTitle,message:this.i18n.errors.roleDescriptionRequired}),a=!1):c.isDefined(this._currentRole.name)&&128<this._currentRole.name.length?(this._errorDlg.show({title:this.i18n.errorTitle,message:this.i18n.errors.roleNameTooLong}),a=!1):c.isDefined(this._currentRole.name)&&
this._containsBadCharacters(this._currentRole.name)?(this._errorDlg.show({title:this.i18n.errorTitle,message:this.i18n.errors.roleNameBadChars}),a=!1):c.isDefined(this._currentRole.description)&&250<this._currentRole.description.length?(this._errorDlg.show({title:this.i18n.errorTitle,message:this.i18n.errors.roleDescTooLong}),a=!1):c.isDefined(this._currentRole.description)&&this._containsBadCharacters(this._currentRole.description)&&(this._errorDlg.show({title:this.i18n.errorTitle,message:this.i18n.errors.roleDescriptionBadChars}),
a=!1);return a},_containsBadCharacters:function(a){var b=["\x3c","\x3e"],d=!1,c;for(c=0;c<b.length;c++)if(-1<a.indexOf(b[c])){d=!0;break}return d},onSaveRole:function(){var a=this;a._saveRoleTop.set("disabled",!0);a._saveRoleBottom.set("disabled",!0);a._currentRole.name=n.stripHTML(l.trim(a._roleName.get("value")));a._currentRole.description=n.stripHTML(l.trim(a._roleDesc.get("value")));a._writePrivileges(a._currentRole);a._validates()?"create"===a._mode?g.some(a._currentRoles,function(b){b=c.isDefined(b.name)?
l.trim(b.name.toLowerCase()):"";var d=c.isDefined(a._currentRole.name)?l.trim(a._currentRole.name.toLowerCase()):"";return b===d})||a._matchesCoreRole(a._currentRole.name)?(a._errorDlg.show({title:a.i18n.errorTitle,message:a.i18n.errors.roleNameUnique}),a._saveRoleTop.set("disabled",!1),a._saveRoleBottom.set("disabled",!1)):a._rolesAPI.createRole(a._currentRole.name,a._currentRole.description).then(function(b){c.isDefined(b)&&!c.isDefined(b.code)&&c.isDefined(b.id)?a._rolesAPI.setPrivileges(b.id,
a._currentRole.stringifyPrivileges()).then(function(b){c.isDefined(b)&&!c.isDefined(b.code)?(a._errorDlg.show({title:a.i18n.notice,message:c.substitute({name:a._currentRole.name},a.i18n.messages.createSuccess)}),a._saveRoleTop.set("disabled",!1),a._saveRoleBottom.set("disabled",!1),a.reset()):(console.log("error setting privileges",b),a._errorDlg.show({title:a.i18n.errorTitle,message:c.substitute({name:a._currentRole.name},a.i18n.errors.cantSetRolePrivileges)}),a._saveRoleTop.set("disabled",!1),a._saveRoleBottom.set("disabled",
!1))},function(b){console.log("error setting privileges",b);a._errorDlg.show({title:a.i18n.errorTitle,message:c.substitute({name:a._currentRole.name},a.i18n.errors.cantSetRolePrivileges)});a._saveRoleTop.set("disabled",!1);a._saveRoleBottom.set("disabled",!1)}):(console.log("error creating role",b),a._errorDlg.show({title:a.i18n.errorTitle,message:c.substitute({name:a._currentRole.name},a.i18n.errors.cantCreateRole)}),a._saveRoleTop.set("disabled",!1),a._saveRoleBottom.set("disabled",!1))},function(b){console.log("error creating role",
b);a._errorDlg.show({title:a.i18n.errorTitle,message:c.substitute({name:a._currentRole.name},a.i18n.errors.cantCreateRole)});a._saveRoleTop.set("disabled",!1);a._saveRoleBottom.set("disabled",!1)}):"edit"===a._mode?a._matchesCoreRole(a._currentRole.name)?(a._errorDlg.show({title:a.i18n.errorTitle,message:a.i18n.errors.roleNameUnique}),a._saveRoleTop.set("disabled",!1),a._saveRoleBottom.set("disabled",!1)):a._rolesAPI.updateRole(a._currentRole.id,a._currentRole.name,a._currentRole.description).then(function(b){c.isDefined(b)&&
!c.isDefined(b.code)?a._rolesAPI.setPrivileges(a._currentRole.id,a._currentRole.stringifyPrivileges()).then(function(b){c.isDefined(b)&&!c.isDefined(b.code)?(a._errorDlg.show({title:a.i18n.notice,message:c.substitute({name:a._currentRole.name},a.i18n.messages.editSuccess)}),a._saveRoleTop.set("disabled",!1),a._saveRoleBottom.set("disabled",!1),a.reset()):(console.log("error setting privileges",b),a._errorDlg.show({title:a.i18n.errorTitle,message:c.substitute({name:a._currentRole.name},a.i18n.errors.cantSetRolePrivileges)}),
a._saveRoleTop.set("disabled",!1),a._saveRoleBottom.set("disabled",!1))},function(b){console.log("error setting privileges",b);a._errorDlg.show({title:a.i18n.errorTitle,message:c.substitute({name:a._currentRole.name},a.i18n.errors.cantSetRolePrivileges)});a._saveRoleTop.set("disabled",!1);a._saveRoleBottom.set("disabled",!1)}):(console.log("error editing role",b),a._errorDlg.show({title:a.i18n.errorTitle,message:c.substitute({name:a._currentRole.name},a.i18n.errors.cantEditRole)}),a._saveRoleTop.set("disabled",
!1),a._saveRoleBottom.set("disabled",!1))},function(b){console.log("error editing role",b);a._errorDlg.show({title:a.i18n.errorTitle,message:c.substitute({name:a._currentRole.name},a.i18n.errors.cantEditRole)});a._saveRoleTop.set("disabled",!1);a._saveRoleBottom.set("disabled",!1)}):(a._saveRoleTop.set("disabled",!1),a._saveRoleBottom.set("disabled",!1)):(a._saveRoleTop.set("disabled",!1),a._saveRoleBottom.set("disabled",!1))},onDiscardEdits:function(){this.reset()},onToggleAll:function(){var a=!this._allPrivilegesChecked();
this._dependencyCheckEnabled=!1;this._setAllPrivileges(a);this._dependencyCheckEnabled=!0},onExpandAll:function(){this._showPrivilegeGroups();this._hideButton(this._expandAll);this._showButton(this._contractAll)},onContractAll:function(){this._hidePrivilegeGroups();this._hideButton(this._contractAll);this._showButton(this._expandAll)},onUserAdminToggle:function(a){a=this._normalizeTriStateClick(this._userAdminToggle);this._canInviteUsers.set("checked",a);this._canDisableUsers.set("checked",a);this._canViewUsers.set("checked",
a);this._canUpdateUsers.set("checked",a);this._canDeleteUsers.set("checked",a);this._canChangeRoles.set("checked",a);this._canManageLicenses.set("checked",a);this._dependencyCheckEnabled&&(this._checkCheckBoxDependencies(this._canInviteUsers),this._checkCheckBoxDependencies(this._canDisableUsers),this._checkCheckBoxDependencies(this._canViewUsers),this._checkCheckBoxDependencies(this._canUpdateUsers),this._checkCheckBoxDependencies(this._canDeleteUsers),this._checkCheckBoxDependencies(this._canChangeRoles),
this._checkCheckBoxDependencies(this._canManageLicenses));this._checkPrivilegeGroupsChecked()},onGroupAdminToggle:function(a){a=this._normalizeTriStateClick(this._groupAdminToggle);this._canViewGroups.set("checked",a);this._canUpdateGroups.set("checked",a);this._canDeleteGroups.set("checked",a);this._canReassignGroups.set("checked",a);this._canAssignUsers.set("checked",a);this._isPortal&&(this._canLinkEnterprise.set("checked",a),this._dependencyCheckEnabled&&this._checkCheckBoxDependencies(this._canLinkEnterprise));
this._dependencyCheckEnabled&&(this._checkCheckBoxDependencies(this._canViewGroups),this._checkCheckBoxDependencies(this._canUpdateGroups),this._checkCheckBoxDependencies(this._canDeleteGroups),this._checkCheckBoxDependencies(this._canReassignGroups),this._checkCheckBoxDependencies(this._canAssignUsers));this._checkPrivilegeGroupsChecked()},onItemAdminToggle:function(a){a=this._normalizeTriStateClick(this._itemAdminToggle);this._canViewItems.set("checked",a);this._canUpdateItems.set("checked",a);
this._canDeleteItems.set("checked",a);this._canReassignItems.set("checked",a);this._dependencyCheckEnabled&&(this._checkCheckBoxDependencies(this._canViewItems),this._checkCheckBoxDependencies(this._canUpdateItems),this._checkCheckBoxDependencies(this._canDeleteItems),this._checkCheckBoxDependencies(this._canReassignItems));this._checkPrivilegeGroupsChecked()},onMarketplaceToggle:function(a){a=this._normalizeTriStateClick(this._marketplaceToggle);this._canPurchaseMarketplace.set("checked",a);this._canTrialMarketplace.set("checked",
a);this._dependencyCheckEnabled&&(this._checkCheckBoxDependencies(this._canPurchaseMarketplace),this._checkCheckBoxDependencies(this._canTrialMarketplace));this._checkPrivilegeGroupsChecked()},onGroupsToggle:function(a){a=this._normalizeTriStateClick(this._groupsToggle);this._canCreateGroups.set("checked",a);this._canJoinIntGroups.set("checked",a);this._canJoinExtGroups.set("checked",a);this._dependencyCheckEnabled&&(this._checkCheckBoxDependencies(this._canCreateGroups),this._checkCheckBoxDependencies(this._canJoinIntGroups),
this._checkCheckBoxDependencies(this._canJoinExtGroups));this._checkPrivilegeGroupsChecked()},onItemsToggle:function(a){a=this._normalizeTriStateClick(this._itemsToggle);this._canCreateItem.set("checked",a);this._canPublishFeatures.set("checked",a);this._canPublishTiles.set("checked",a);esriGeowConfig.sceneViewerEnabled&&this._isPortal&&(this._canPublishScenes.set("checked",a),this._dependencyCheckEnabled&&this._checkCheckBoxDependencies(this._canPublishScenes));this._dependencyCheckEnabled&&(this._checkCheckBoxDependencies(this._canCreateItem),
this._checkCheckBoxDependencies(this._canPublishFeatures),this._checkCheckBoxDependencies(this._canPublishTiles));this._checkPrivilegeGroupsChecked()},onItemShareToggle:function(a){a=this._normalizeTriStateClick(this._itemShareToggle);this._canShareItemToGroups.set("checked",a);this._canShareItemToOrg.set("checked",a);this._canShareItemToPublic.set("checked",a);this._canShareGroupToOrg.set("checked",a);this._canShareGroupToPublic.set("checked",a);this._canDesignateGroupOpen.set("checked",a);this._dependencyCheckEnabled&&
(this._checkCheckBoxDependencies(this._canShareItemToGroups),this._checkCheckBoxDependencies(this._canShareItemToOrg),this._checkCheckBoxDependencies(this._canShareItemToPublic),this._checkCheckBoxDependencies(this._canShareGroupToOrg),this._checkCheckBoxDependencies(this._canShareGroupToPublic),this._checkCheckBoxDependencies(this._canDesignateGroupOpen));this._checkPrivilegeGroupsChecked()},onGeoservicesToggle:function(a){a=this._normalizeTriStateClick(this._geoservicesToggle);this._canUseGeocoding.set("checked",
a);this._canUseNA.set("checked",a);this._canUseSA.set("checked",a);this._canUseGeoenrichment.set("checked",a);this._isPortal||this._canUseDemographics.set("checked",a);this._canUseElevation.set("checked",a);this._dependencyCheckEnabled&&(this._checkCheckBoxDependencies(this._canUseGeocoding),this._checkCheckBoxDependencies(this._canUseNA),this._checkCheckBoxDependencies(this._canUseSA),this._checkCheckBoxDependencies(this._canUseGeoenrichment),this._isPortal||this._checkCheckBoxDependencies(this._canUseDemographics),
this._checkCheckBoxDependencies(this._canUseElevation));this._checkPrivilegeGroupsChecked()},onFeaturesToggle:function(a){a=this._normalizeTriStateClick(this._featuresToggle);this._canEditFeatures.set("checked",a);this._canManageFeatures.set("checked",a);this._dependencyCheckEnabled&&(this._checkCheckBoxDependencies(this._canEditFeatures),this._checkCheckBoxDependencies(this._canManageFeatures));this._checkPrivilegeGroupsChecked()},onOpenDataToggle:function(a){a=this._normalizeTriStateClick(this._openDataToggle);
this._canAdminOpenData.set("checked",a);this._dependencyCheckEnabled&&this._checkCheckBoxDependencies(this._canAdminOpenData);this._checkPrivilegeGroupsChecked()},expconGroup:function(a){(a=a&&a.target?a.target.id:null)&&(-1<a.indexOf("groups-")?this._togglePrivilegeGroup("groups"):-1<a.indexOf("items-")?this._togglePrivilegeGroup("items"):-1<a.indexOf("itemshare-")?this._togglePrivilegeGroup("itemshare"):-1<a.indexOf("geoservices-")?this._togglePrivilegeGroup("geoservices"):-1<a.indexOf("features-")?
this._togglePrivilegeGroup("features"):-1<a.indexOf("opendata-")?this._togglePrivilegeGroup("opendata"):-1<a.indexOf("useradmin-")?this._togglePrivilegeGroup("useradmin"):-1<a.indexOf("groupadmin-")?this._togglePrivilegeGroup("groupadmin"):-1<a.indexOf("itemadmin-")?this._togglePrivilegeGroup("itemadmin"):-1<a.indexOf("marketplace-")&&this._togglePrivilegeGroup("marketplace"))},onCheckBoxClick:function(a){this._checkDependencies(a);this._checkGroupToggle(a);this._checkPrivilegeGroupsChecked()},_checkGroupToggle:function(a){(a=
a&&a.target?a.target.id:null)&&(-1<a.indexOf("groups-")?this._checkGroupsToggle():-1<a.indexOf("items-")?this._checkItemsToggle():-1<a.indexOf("itemshare-")||-1<a.indexOf("groupshare-")||-1<a.indexOf("opendata-candesignate")?this._checkItemShareToggle():-1<a.indexOf("geoservices-")?this._checkGeoservicesToggle():-1<a.indexOf("features-")?this._checkFeaturesToggle():-1<a.indexOf("opendata-")?this._checkOpenDataToggle():-1<a.indexOf("useradmin-")?this._checkUserAdminToggle():-1<a.indexOf("groupadmin-")?
this._checkGroupAdminToggle():-1<a.indexOf("itemadmin-")?this._checkItemAdminToggle():-1<a.indexOf("marketplace-")&&this._checkMarketplaceToggle())},_readPrivileges:function(a){a=a.privilegeObj;this._canInviteUsers.set("checked",a.portal.admin.inviteUsers);this._canDisableUsers.set("checked",a.portal.admin.disableUsers);this._canViewUsers.set("checked",a.portal.admin.viewUsers);this._canUpdateUsers.set("checked",a.portal.admin.updateUsers);this._canDeleteUsers.set("checked",a.portal.admin.deleteUsers);
this._canChangeRoles.set("checked",a.portal.admin.changeUserRoles);this._canManageLicenses.set("checked",a.portal.admin.manageLicenses);this._canViewGroups.set("checked",a.portal.admin.viewGroups);this._canUpdateGroups.set("checked",a.portal.admin.updateGroups);this._canDeleteGroups.set("checked",a.portal.admin.deleteGroups);this._canReassignGroups.set("checked",a.portal.admin.reassignGroups);this._canAssignUsers.set("checked",a.portal.admin.assignToGroups);this._canLinkEnterprise.set("checked",a.portal.admin.manageEnterpriseGroups);
this._canViewItems.set("checked",a.portal.admin.viewItems);this._canUpdateItems.set("checked",a.portal.admin.updateItems);this._canDeleteItems.set("checked",a.portal.admin.deleteItems);this._canReassignItems.set("checked",a.portal.admin.reassignItems);this._canPublishFeatures.set("checked",a.portal.publisher.publishFeatures);this._canPublishTiles.set("checked",a.portal.publisher.publishTiles);this._canPublishScenes.set("checked",a.portal.publisher.publishScenes);this._canCreateGroups.set("checked",
a.portal.user.createGroup);this._canJoinIntGroups.set("checked",a.portal.user.joinGroup);this._canJoinExtGroups.set("checked",a.portal.user.joinNonOrgGroup);this._canShareGroupToOrg.set("checked",a.portal.user.shareGroupToOrg);this._canShareGroupToPublic.set("checked",a.portal.user.shareGroupToPublic);this._canCreateItem.set("checked",a.portal.user.createItem);this._canShareItemToGroups.set("checked",a.portal.user.shareToGroup);this._canShareItemToOrg.set("checked",a.portal.user.shareToOrg);this._canShareItemToPublic.set("checked",
a.portal.user.shareToPublic);this._canEditFeatures.set("checked",a.features.user.edit);this._canManageFeatures.set("checked",a.features.user.fullEdit);this._canAdminOpenData.set("checked",a.opendata.user.openDataAdmin);this._canDesignateGroupOpen.set("checked",a.opendata.user.designateGroup);this._canUseGeocoding.set("checked",a.premium.user.geocode);this._canUseNA.set("checked",a.premium.user.networkanalysis);this._canUseSA.set("checked",a.premium.user.spatialanalysis);this._canUseGeoenrichment.set("checked",
a.premium.user.geoenrichment);this._canUseDemographics.set("checked",a.premium.user.demographics);this._canUseElevation.set("checked",a.premium.user.elevation);this._canPurchaseMarketplace.set("checked",a.marketplace.admin.purchase);this._canTrialMarketplace.set("checked",a.marketplace.admin.startTrial);this._checkUserAdminToggle();this._checkGroupAdminToggle();this._checkItemAdminToggle();this._checkMarketplaceToggle();this._checkGroupsToggle();this._checkItemsToggle();this._checkItemShareToggle();
this._checkGeoservicesToggle();this._checkFeaturesToggle();this._checkOpenDataToggle();this._checkPrivilegeGroupsChecked()},_writePrivileges:function(a){a=a.privilegeObj;a.portal.admin.inviteUsers=this._canInviteUsers.get("checked");a.portal.admin.disableUsers=this._canDisableUsers.get("checked");a.portal.admin.viewUsers=this._canViewUsers.get("checked");a.portal.admin.updateUsers=this._canUpdateUsers.get("checked");a.portal.admin.deleteUsers=this._canDeleteUsers.get("checked");a.portal.admin.changeUserRoles=
this._canChangeRoles.get("checked");a.portal.admin.manageLicenses=this._canManageLicenses.get("checked");a.portal.admin.viewGroups=this._canViewGroups.get("checked");a.portal.admin.updateGroups=this._canUpdateGroups.get("checked");a.portal.admin.deleteGroups=this._canDeleteGroups.get("checked");a.portal.admin.reassignGroups=this._canReassignGroups.get("checked");a.portal.admin.assignToGroups=this._canAssignUsers.get("checked");a.portal.admin.manageEnterpriseGroups=this._canLinkEnterprise.get("checked");
a.portal.admin.viewItems=this._canViewItems.get("checked");a.portal.admin.updateItems=this._canUpdateItems.get("checked");a.portal.admin.deleteItems=this._canDeleteItems.get("checked");a.portal.admin.reassignItems=this._canReassignItems.get("checked");a.portal.publisher.publishFeatures=this._canPublishFeatures.get("checked");a.portal.publisher.publishTiles=this._canPublishTiles.get("checked");a.portal.publisher.publishScenes=this._canPublishScenes.get("checked");a.portal.user.createGroup=this._canCreateGroups.get("checked");
a.portal.user.joinGroup=this._canJoinIntGroups.get("checked");a.portal.user.joinNonOrgGroup=this._canJoinExtGroups.get("checked");a.portal.user.shareGroupToOrg=this._canShareGroupToOrg.get("checked");a.portal.user.shareGroupToPublic=this._canShareGroupToPublic.get("checked");a.portal.user.createItem=this._canCreateItem.get("checked");a.portal.user.shareToGroup=this._canShareItemToGroups.get("checked");a.portal.user.shareToOrg=this._canShareItemToOrg.get("checked");a.portal.user.shareToPublic=this._canShareItemToPublic.get("checked");
a.features.user.edit=this._canEditFeatures.get("checked");a.features.user.fullEdit=this._canManageFeatures.get("checked");a.opendata.user.openDataAdmin=this._canAdminOpenData.get("checked");a.opendata.user.designateGroup=this._canDesignateGroupOpen.get("checked");a.premium.user.geocode=this._canUseGeocoding.get("checked");a.premium.user.networkanalysis=this._canUseNA.get("checked");a.premium.user.spatialanalysis=this._canUseSA.get("checked");a.premium.user.geoenrichment=this._canUseGeoenrichment.get("checked");
a.premium.user.demographics=this._canUseDemographics.get("checked");a.premium.user.elevation=this._canUseElevation.get("checked");a.marketplace.admin.purchase=this._canPurchaseMarketplace.get("checked");a.marketplace.admin.startTrial=this._canTrialMarketplace.get("checked")},_resetTemplateRoleStore:function(){var a=this;if(c.isDefined(a._templateRoleStore)){var b=a._templateRoleStore.query();g.forEach(b,function(b){a._templateRoleStore.remove(b.id)})}else a._templateRoleStore=new z({data:[]});g.forEach(a._templateRoles,
function(b){a._templateRoleStore.put(b)})},_resetCustomRoleStore:function(){var a=this;if(c.isDefined(a._customRoleStore)){var b=a._customRoleStore.query();g.forEach(b,function(b){a._customRoleStore.remove(b.id)})}else a._customRoleStore=new B({data:[]});a._createGrid()},_resetDefaultRoleStore:function(){var a=this;p.set(a._defaultRoleSaveBtn.domNode,"display","none");if(c.isDefined(a._defaultRoleStore)){var b=a._defaultRoleStore.query();g.forEach(b,function(b){a._defaultRoleStore.remove(b.id)})}else a._defaultRoleStore=
new B({data:[]})},_resetRoleInputs:function(){var a=this;a._resetTemplateRoleStore();a._resetCustomRoleStore();a._resetDefaultRoleStore();a._roleName.set("value","");a._roleDesc.set("value","");a._roleTemplateSelect.set("store",a._templateRoleStore);a._roleTemplateSelect.set("value","");a._roleEditSelect.set("store",a._customRoleStore);a._roleEditSelect.set("value","");a._defaultRoleSelect.set("store",a._defaultRoleStore);a._currentRoles=[].concat(a._coreRoles);a._rolesAPI.getRoles(1,a._maxRequestNum).then(function(b){b&&
b.roles&&(a._currentRoles=a._currentRoles.concat(b.roles),a._retrieveRemainingRoles(b.roles.length,b.nextStart,b.total).then(function(){a._isPortal?(a._filterOutAdminRoles(),a._aggregateMemberCount().then(function(){a._setRoleStores()},function(b){a._setRoleStores()})):a._aggregateMemberCount().then(function(){a._setRoleStores()},function(b){a._setRoleStores()})}))});a._isResetting=!1},_retrieveRemainingRoles:function(a,b,c){var e=this,f=new v;if(0<b){a=Math.ceil((c-a)/e._maxRequestNum);c=[];for(var r=
0;r<a;r++)c.push(e._rolesAPI.getRoles(b+r*e._maxRequestNum,e._maxRequestNum));(new A(c)).then(function(a){g.forEach(a,function(a){a[1]&&a[1].roles&&(e._currentRoles=e._currentRoles.concat(a[1].roles))});f.resolve()},function(a){f.resolve()})}else f.resolve();return f},_retrieveAllRolePrivileges:function(){var a=this,b=new v,c=[],e=[a._orgAdminRole,a._orgPublisherRole,a._orgUserRole];g.forEach(a._currentRoles,function(b){-1===g.indexOf(e,b.id)&&c.push(a._rolesAPI.getPrivileges(b.id))});(new A(c)).then(function(c){g.forEach(c,
function(b){for(var c=0;c<a._currentRoles.length;c++)if(a._currentRoles[c].id===b[1].id){a._currentRoles[c].privileges=b[1].privileges;break}});b.resolve()},function(a){b.resolve()});return b},_filterOutAdminRoles:function(){var a=this,b=[],c=[a._orgAdminRole,a._orgPublisherRole,a._orgUserRole],e;g.forEach(a._currentRoles,function(e){-1===g.indexOf(c,e.id)?b.push(l.clone(e)):e.id!==a._orgAdminRole&&-1<g.indexOf(c,e.id)&&b.push(l.clone(e))});for(e=0;e<b.length;e++)a._defaultRoleStore.put(b[e])},_aggregateMemberCount:function(){var a=
this,b=new v,c=[],e,f,r;a._roleCount={};a._retrieveUsers(1,a._maxRequestNum).then(function(k){if(k&&k.users){a._allUsers=k.users;e=k.total-k.users.length;f=Math.ceil(e/a._maxRequestNum);for(r=0;r<f;r++)c.push(a._retrieveUsers(k.nextStart+r*a._maxRequestNum,a._maxRequestNum));F(c).then(function(c){g.forEach(c,function(b){b&&b.users&&(a._allUsers=a._allUsers.concat(b.users))});g.forEach(a._allUsers,function(b){b&&b.role&&(a._roleCount[b.role]=a._roleCount[b.role]?a._roleCount[b.role]+1:1)});b.resolve()},
function(a){b.resolve()})}else b.resolve()},function(a){b.resolve()});return b},_setRoleStores:function(){var a=this,b=a._grid.on("dgrid-refresh-complete",function(c){a._currentGridPage&&(c.grid._currentPage!==a._currentGridPage&&a._currentGridPage<=Math.ceil(a._currentRoles.length/a._rowsPerPage))&&(a._grid._grid.gotoPage(a._currentGridPage),a._currentGridPage=null);b.remove()}),d,e;g.forEach(a._currentRoles,function(b){b.members=b&&b.id&&c.isDefined(a._roleCount[b.id])?a._roleCount[b.id]:0;b.title=
b&&b.name&&c.isDefined(b.name)?b.name.toLowerCase():"";"org_admin"!==b.id&&a._templateRoleStore.put(b);a._customRoleStore.put(b)});a._grid.refresh();a._isPortal&&a._retrieveDefaultRoleId().then(function(b){a._currentDefaultRole=a._normalizeRoleId(b);for(b=0;b<a._currentRoles.length;b++)if(a._currentRoles[b].id===a._currentDefaultRole){d=!1;e=a._defaultRoleStore.query();for(var c=0;c<e.length;c++)if(e[c].id===a._currentDefaultRole){d=!0;break}d||a._defaultRoleStore.put(l.clone(a._currentRoles[b]));
a._defaultRoleSelect.set("value",a._currentDefaultRole);break}})},_normalizeRoleId:function(a){return a===this._accountUserRole?this._orgUserRole:a===this._accountPublisherRole?this._orgPublisherRole:a===this._accountAdminRole?this._orgAdminRole:a},_retrieveDefaultRoleId:function(){var a=this,b=new v,c=esriGeowConfig.baseUrl.substring(0,esriGeowConfig.baseUrl.indexOf("/home"))+"/portaladmin/security/config";n.request({url:c}).then(function(c){a._currentSecurityConfig=c;a._currentDefaultRole=c&&c.defaultRoleForUser?
c.defaultRoleForUser:a._defaultSystemRole;a._defaultRoleId=c&&c.defaultRoleForUser?c.defaultRoleForUser:a._defaultSystemRole;b.resolve(a._defaultRoleId)},function(c){console.log("Unable to retrieve portal system config property defaultRoleForUser. Defaulting to 'org_user'.",c);a._currentSecurityConfig={};a._defaultRoleId=a._defaultSystemRole;b.resolve(a._defaultRoleId)});return b},_retrieveUsers:function(a,b){return n.request({url:esriGeowConfig.restBaseUrl+"portals/self/users",content:{start:a,num:b}})},
_enableRoleButtons:function(a){this._createRole.set("disabled",!a);this._assignRoles.set("disabled",!a)},_determineTriStateValue:function(a,b){return a===b?!0:0===a?!1:"mixed"},_matchesCoreRole:function(a){a=a?l.trim(a.toLowerCase()):"";return a===this.i18n.templates.admin.toLowerCase()||"administrator"===a||a===this.i18n.templates.publisher.toLowerCase()||"publisher"===a||a===this.i18n.templates.user.toLowerCase()||"user"===a},_checkUserAdminToggle:function(){var a=0,b=7;this._isPortal?b=6:this._canInviteUsers.get("checked")&&
a++;this._canDisableUsers.get("checked")&&a++;this._canViewUsers.get("checked")&&a++;this._canUpdateUsers.get("checked")&&a++;this._canDeleteUsers.get("checked")&&a++;this._canChangeRoles.get("checked")&&a++;this._canManageLicenses.get("checked")&&a++;this._userAdminToggle.set("checked",this._determineTriStateValue(a,b))},_checkGroupAdminToggle:function(){var a=0,b=5;this._isPortal&&(b=6,this._canLinkEnterprise.get("checked")&&a++);this._canViewGroups.get("checked")&&a++;this._canUpdateGroups.get("checked")&&
a++;this._canDeleteGroups.get("checked")&&a++;this._canReassignGroups.get("checked")&&a++;this._canAssignUsers.get("checked")&&a++;this._groupAdminToggle.set("checked",this._determineTriStateValue(a,b))},_checkItemAdminToggle:function(){var a=0;this._canViewItems.get("checked")&&a++;this._canUpdateItems.get("checked")&&a++;this._canDeleteItems.get("checked")&&a++;this._canReassignItems.get("checked")&&a++;this._itemAdminToggle.set("checked",this._determineTriStateValue(a,4))},_checkMarketplaceToggle:function(){var a=
0;this._canPurchaseMarketplace.get("checked")&&a++;this._canTrialMarketplace.get("checked")&&a++;this._marketplaceToggle.set("checked",this._determineTriStateValue(a,2))},_checkGroupsToggle:function(){var a=0,b=3;this._isPortal?b=2:this._canJoinExtGroups.get("checked")&&a++;this._canCreateGroups.get("checked")&&a++;this._canJoinIntGroups.get("checked")&&a++;this._groupsToggle.set("checked",this._determineTriStateValue(a,b))},_checkItemsToggle:function(){var a=0,b=3;esriGeowConfig.sceneViewerEnabled&&
this._isPortal&&(b=4,this._canPublishScenes.get("checked")&&a++);this._canCreateItem.get("checked")&&a++;this._canPublishFeatures.get("checked")&&a++;this._canPublishTiles.get("checked")&&a++;this._itemsToggle.set("checked",this._determineTriStateValue(a,b))},_checkItemShareToggle:function(){var a=0;this._canShareItemToGroups.get("checked")&&a++;this._canShareItemToOrg.get("checked")&&a++;this._canShareItemToPublic.get("checked")&&a++;this._canShareGroupToOrg.get("checked")&&a++;this._canShareGroupToPublic.get("checked")&&
a++;this._canDesignateGroupOpen.get("checked")&&a++;this._itemShareToggle.set("checked",this._determineTriStateValue(a,6))},_checkGeoservicesToggle:function(){var a=0,b=this._isPortal?5:6;this._canUseGeocoding.get("checked")&&a++;this._canUseNA.get("checked")&&a++;this._canUseSA.get("checked")&&a++;this._canUseGeoenrichment.get("checked")&&a++;this._isPortal||this._canUseDemographics.get("checked")&&a++;this._canUseElevation.get("checked")&&a++;this._geoservicesToggle.set("checked",this._determineTriStateValue(a,
b))},_checkFeaturesToggle:function(){var a=0;this._canEditFeatures.get("checked")&&a++;this._canManageFeatures.get("checked")&&a++;this._featuresToggle.set("checked",this._determineTriStateValue(a,2))},_checkOpenDataToggle:function(){var a=0;this._canAdminOpenData.get("checked")&&a++;this._openDataToggle.set("checked",this._determineTriStateValue(a,1))},_configureVisibilities:function(){this._isPortal&&(this._hideContainer(this._canJoinExtGroupsSpan),this._hideContainer(this._canInviteUsersSpan),
this._showContainer(this._canLinkEnterpriseSpan));esriGeowConfig.sceneViewerEnabled&&this._isPortal&&this._showContainer(this._canPublishScenesSpan);this._configureGeoservicesVisibility();this._configureOpenDataVisibility();this._configureMarketplaceVisibility();this._configureFeaturesVisibility()},_configureGeoservicesVisibility:function(){this._showContainer(this._geoservicesGroupContainer);this._isPortal&&this._hideContainer(this._canUseDemographicsSpan)},_configureOpenDataVisibility:function(){esriGeowConfig.openDataConfigEnabled&&
esriGeowConfig.self&&esriGeowConfig.self.portalProperties&&esriGeowConfig.self.portalProperties.openData&&!0===esriGeowConfig.self.portalProperties.openData.enabled?(this._showContainer(this._canDesignateGroupOpen.domNode),this._showContainer(this._canDesignateGroupOpenLabel),this._showContainer(this._openDataGroupContainer)):(this._hideContainer(this._canDesignateGroupOpen.domNode),this._hideContainer(this._canDesignateGroupOpenLabel),this._hideContainer(this._openDataGroupContainer))},_configureMarketplaceVisibility:function(){this._isPortal?
this._hideContainer(this._marketplaceGroupContainer):this._showContainer(this._marketplaceGroupContainer)},_configureFeaturesVisibility:function(){this._isPortal?this._hideContainer(this._featuresGroupContainer):this._showContainer(this._featuresGroupContainer)},_normalizeTriStateClick:function(a){"mixed"===a.get("checked")&&a.set("checked",!0);return a.get("checked")},_showContainer:function(a){q.remove(a,"display_none")},_hideContainer:function(a){q.add(a,"display_none")},_showButton:function(a){t.set(a.domNode,
"display","")},_hideButton:function(a){t.set(a.domNode,"display","none")},_togglePrivilegeGroup:function(a){q.toggle(h.byId(a+"-privs"),"display_none");p.get(h.byId(a+"-expcon"),"innerHTML")===this.i18n.expand?p.set(h.byId(a+"-expcon"),"innerHTML",this.i18n.contract):p.set(h.byId(a+"-expcon"),"innerHTML",this.i18n.expand);this._checkPrivilegeGroupsExpcon();this._checkPrivilegeGroupsChecked()},_checkPrivilegeGroupsChecked:function(){this._allPrivilegesChecked()?this._togglePrivileges.set("label",this.i18n.toggleAllOffLabel):
this._togglePrivileges.set("label",this.i18n.toggleAllOnLabel)},_allPrivilegesChecked:function(){return this._isPortal?g.every(this._privilegeGroupListPortal,function(a){return!0===s.byId(a+"-toggle").get("checked")}):g.every(this._privilegeGroupList,function(a){return!0===s.byId(a+"-toggle").get("checked")})},_setAllPrivileges:function(a){this._userAdminToggle.set("checked",a);this._groupAdminToggle.set("checked",a);this._itemAdminToggle.set("checked",a);this._groupsToggle.set("checked",a);this._itemsToggle.set("checked",
a);this._itemShareToggle.set("checked",a);this._openDataToggle.set("checked",a);this._geoservicesToggle.set("checked",a);this._isPortal||(this._marketplaceToggle.set("checked",a),this._featuresToggle.set("checked",a),this.onMarketplaceToggle(),this.onFeaturesToggle());this.onGeoservicesToggle();this.onUserAdminToggle();this.onGroupAdminToggle();this.onItemAdminToggle();this.onGroupsToggle();this.onItemsToggle();this.onItemShareToggle();this.onOpenDataToggle();this._checkPrivilegeGroupsChecked()},
_checkPrivilegeGroupsExpcon:function(){this._allPrivilegeGroupsExpanded()?(this._hideButton(this._expandAll),this._showButton(this._contractAll)):(this._hideButton(this._contractAll),this._showButton(this._expandAll))},_allPrivilegeGroupsExpanded:function(){var a=this;return g.every(a._privilegeGroupList,function(b){return p.get(h.byId(b+"-expcon"),"innerHTML")===a.i18n.contract})},_showPrivilegeGroups:function(){var a=this;g.forEach(a._privilegeGroupList,function(b){a._showPrivilegeGroup(b)})},_hidePrivilegeGroups:function(){var a=
this;g.forEach(a._privilegeGroupList,function(b){a._hidePrivilegeGroup(b)})},_showPrivilegeGroup:function(a){h.byId(a+"-privs")&&(q.remove(h.byId(a+"-privs"),"display_none"),p.set(h.byId(a+"-expcon"),"innerHTML",this.i18n.contract))},_hidePrivilegeGroup:function(a){h.byId(a+"-privs")&&(q.add(h.byId(a+"-privs"),"display_none"),p.set(h.byId(a+"-expcon"),"innerHTML",this.i18n.expand))},_isCreateMode:function(){return c.isDefined(this._mode)&&"create"===this._mode},_isEditMode:function(){return c.isDefined(this._mode)&&
"edit"===this._mode},_initLocaleFixes:function(){var a=n.getUser();("nl"===a.culture||"de"===a.culture)&&q.add(h.byId("itemshare-privs"),"tallGroupPrivs");this._isPortal&&p.set(this._geoservicesTitle,"innerHTML",this.i18n.geoservices.titlePortal)},_initUI:function(){var a=this;L.getSelf(function(){a._isPortal=n.isPortal();a._initLocaleFixes();a._initTooltips();a._initTemplateRoles();a._initPrivilegeDependencies();var b=c.substitute({type:a._getLocalizedTenantType()},a.i18n.rolesDesc),d=c.substitute({type:a._getLocalizedTenantType()},
a.i18n.groupSharing.canShareOrg),e=c.substitute({type:a._getLocalizedTenantType()},a.i18n.itemSharing.canShareOrg);m.create("img",{src:n.relativeToExplicitUrl("js/arcgisonline/sharing/dijit/css/images/thumb-custom-roles.png")},a._thumbnail);p.set(a._rolesDesc,"innerHTML",b);p.set(a._canShareGroupToOrgLabel,"innerHTML",d);p.set(a._canShareItemToOrgLabel,"innerHTML",e);t.set(a._defaultRoleUI,"display",a._isPortal?"":"none");a.reset()})},_createGrid:function(){this._grid||(this._grid=new J({id:"rolesGrid",
region:"center",columns:this._createGridColumns(),noDataMessage:"",showLoadingMessage:!0,showHeader:!0,rowsPerPage:this._rowsPerPage,pagingLinks:!0,selectionMode:"none",store:this._customRoleStore},m.create("div",null,h.byId("role-display"))),this._grid.startup())},_createGridColumns:function(){var a=this;return{name:{label:a.i18n.grid.roleName,sortable:!0,formatter:function(a){return'\x3cspan class\x3d"esriContentTypeName"\x3e'+a+"\x3c/span\x3e"}},members:{label:a.i18n.grid.members,sortable:!0,formatter:function(a){return'\x3cspan class\x3d"esriContentTypeName"\x3e'+
a+"\x3c/span\x3e"}},actions:{label:" ",sortable:!1,renderCell:function(b,d,e){var f=a.i18n.editRole,r=n.relativeToExplicitUrl("js/arcgisonline/css/images/edit.png"),k=a.i18n.deleteRole,h=n.relativeToExplicitUrl("images/delete_20x20.png");e=n.relativeToExplicitUrl("js/arcgisonline/css/images/info.png");var l=a.i18n.roleInfo;d=m.create("span");e=m.create("img",{src:e,title:l,alt:l},d);-1===g.indexOf(a._coreRoleIds,b.id)?(f=m.create("img",{src:r,title:f,alt:f},d),k=m.create("img",{src:h,title:k,alt:k},
d),m.create("text",{innerHTML:"\x26nbsp;\x26nbsp;\x26nbsp;"},f,"before"),m.create("text",{innerHTML:"\x26nbsp;\x26nbsp;\x26nbsp;"},k,"before"),u(f,"click",function(c){a._setCurrentGridPage();a.onEditRole();a.onRoleEditSelectChange(b.name)}),u(k,"click",function(d){I.prototype.statics.getInstance().showMsgTitleButton(c.substitute({role:b.name},a.i18n.reallyDeleteRole),a.i18n.deleteLabel,a.i18n.deleteLabel,function(){a._setCurrentGridPage();a.onDeleteSelectedRole(b.name)});q.remove(s.byId("button_delete-warning-submit").domNode,
"orange");q.add(s.byId("button_delete-warning-submit").domNode,"caution")}),u(e,"click",function(c){var d='\x3cdiv class\x3d"roleSummary"\x3e\x3cstrong\x3e'+a.i18n.descriptionLabel+"\x3c/strong\x3e\x3cp\x3e"+b.description+"\x3c/p\x3e",e=!1,f=!1;a._rolesAPI.getPrivileges(b.id).then(function(c){d+="\x3cstrong\x3e"+a.i18n.rolePrivilegesLabel+"\x3c/strong\x3e";if(c.privileges&&0<c.privileges.length){d+='\x3cdiv class\x3d"roleSummaryList"\x3e\x3cul class\x3d"privlist"\x3e';var h=a._summarizeRole(b.id,
c.privileges);g.forEach(h,function(a){d+="\x3cli\x3e"+a+"\x3c/li\x3e"});d+="\x3c/ul\x3e\x3c/div\x3e"}else d+="\x3cp\x3e\x3cem\x3e"+a.i18n.noneGranted+"\x3c/em\x3e\x3c/p\x3e";e=g.some(c.privileges,function(a){return-1<a.indexOf(":admin:")});f=g.some(c.privileges,function(a){return-1<a.indexOf(":publisher:")});e?d+="\x3cp\x3e\x3cem\x3e"+a.i18n.containsAdmin+"\x3c/em\x3e\x3c/p\x3e":f&&(d+="\x3cp\x3e\x3cem\x3e"+a.i18n.containsPublisher+"\x3c/em\x3e\x3c/p\x3e");d+="\x3c/div\x3e";a._tooltipDialog.set("title",
b.name);a._tooltipDialog.set("content",d);a._tooltipDialog.show();a._tooltipDialog.focus()})})):(h=n.relativeToExplicitUrl("images/transparent.gif"),k=m.create("img",{src:h,title:"",alt:"",width:"16px",height:"16px"},d),h=m.create("img",{src:h,title:"",alt:"",width:"16px",height:"16px"},d),m.create("text",{innerHTML:"\x26nbsp;\x26nbsp;\x26nbsp;"},k,"before"),m.create("text",{innerHTML:"\x26nbsp;\x26nbsp;\x26nbsp;"},h,"before"),u(e,"click",function(d){d='\x3cdiv class\x3d"roleSummary"\x3e\x3cstrong\x3e'+
a.i18n.descriptionLabel+"\x3c/strong\x3e\x3cbr/\x3e";var e=a._getLocalizedTenantType();d="org_admin"===b.id||"account_admin"===b.id?d+("\x3cp\x3e"+c.substitute({type:e},a.i18n.adminDescription)+"\x3c/p\x3e"):"org_publisher"===b.id||"account_publisher"===b.id?d+("\x3cp\x3e"+a.i18n.publisherDescription+"\x3c/p\x3e"):d+("\x3cp\x3e"+a.i18n.userDescription+"\x3c/p\x3e");d+="\x3cp\x3e"+a.i18n.coreRole+"\x3c/p\x3e\x3c/div\x3e";a._tooltipDialog.set("title",b.name);a._tooltipDialog.set("content",d);a._tooltipDialog.show();
a._tooltipDialog.focus()}));return d}}}},_summarizeRole:function(a,b){var d=[],e=new w({id:a}),f=this._getLocalizedTenantType(),g=esriGeowConfig.openDataConfigEnabled&&esriGeowConfig.self&&esriGeowConfig.self.portalProperties&&esriGeowConfig.self.portalProperties.openData&&!0===esriGeowConfig.self.portalProperties.openData.enabled;e.setPrivileges(b);e=e.privilegeObj;e.portal.user.createGroup&&d.push(this.i18n.groups.canCreateSum);e.portal.user.joinGroup&&d.push(c.substitute({type:f},this.i18n.groups.canJoinIntSum));
e.portal.user.joinNonOrgGroup&&d.push(this.i18n.groups.canJoinExt);e.portal.user.createItem&&d.push(this.i18n.items.canCreateSum);e.portal.publisher.publishFeatures&&d.push(this.i18n.items.canPublishFeatures);e.portal.publisher.publishTiles&&d.push(this.i18n.items.canPublishTiles);this._isPortal&&e.portal.publisher.publishScenes&&d.push(this.i18n.items.canPublishScenes);e.portal.user.shareToGroup&&d.push(this.i18n.itemSharing.canShareGroupsSum);e.portal.user.shareToOrg&&d.push(c.substitute({type:f},
this.i18n.itemSharing.canShareOrgSum));e.portal.user.shareToPublic&&d.push(this.i18n.itemSharing.canSharePublicSum);e.portal.user.shareGroupToOrg&&d.push(c.substitute({type:f},this.i18n.groupSharing.canShareOrg));e.portal.user.shareGroupToPublic&&d.push(this.i18n.groupSharing.canSharePublic);g&&e.opendata.user.openDataAdmin&&d.push(this.i18n.openData.canAdmin);e.premium.user.geocode&&d.push(this.i18n.geoservices.canUseGeocoding);e.premium.user.networkanalysis&&d.push(this.i18n.geoservices.canUseNA);
e.premium.user.spatialanalysis&&d.push(this.i18n.geoservices.canUseSA);e.premium.user.geoenrichment&&d.push(this.i18n.geoservices.canUseGeoenrichment);e.premium.user.demographics&&d.push(this.i18n.geoservices.canUseDemographics);e.premium.user.elevation&&d.push(this.i18n.geoservices.canUseElevation);this._isPortal||(e.features.user.edit&&d.push(this.i18n.features.canEditSum),e.features.user.fullEdit&&d.push(this.i18n.features.canManageSum));g&&e.opendata.user.designateGroup&&d.push(this.i18n.openData.canDesignate);
e.portal.admin.viewUsers&&d.push(c.substitute({type:f},this.i18n.userAdmin.canViewSum));e.portal.admin.updateUsers&&d.push(c.substitute({type:f},this.i18n.userAdmin.canUpdateSum));e.portal.admin.deleteUsers&&d.push(c.substitute({type:f},this.i18n.userAdmin.canDeleteSum));e.portal.admin.inviteUsers&&d.push(c.substitute({type:f},this.i18n.userAdmin.canInviteSum));e.portal.admin.disableUsers&&d.push(c.substitute({type:f},this.i18n.userAdmin.canDisableSum));e.portal.admin.changeUserRoles&&d.push(c.substitute({type:f},
this.i18n.userAdmin.canChangeRolesSum));e.portal.admin.manageLicenses&&d.push(c.substitute({type:f},this.i18n.userAdmin.canManageLicensesSum));e.portal.admin.viewGroups&&d.push(c.substitute({type:f},this.i18n.groupAdmin.canViewSum));e.portal.admin.updateGroups&&d.push(c.substitute({type:f},this.i18n.groupAdmin.canUpdateSum));e.portal.admin.deleteGroups&&d.push(c.substitute({type:f},this.i18n.groupAdmin.canDeleteSum));e.portal.admin.reassignGroups&&d.push(c.substitute({type:f},this.i18n.groupAdmin.canReassignSum));
e.portal.admin.assignToGroups&&d.push(c.substitute({type:f},this.i18n.groupAdmin.canAssignSum));this._isPortal&&e.portal.admin.manageEnterpriseGroups&&d.push(this.i18n.groupAdmin.canLink);e.portal.admin.viewItems&&d.push(c.substitute({type:f},this.i18n.itemAdmin.canViewSum));e.portal.admin.updateItems&&d.push(c.substitute({type:f},this.i18n.itemAdmin.canUpdateSum));e.portal.admin.deleteItems&&d.push(c.substitute({type:f},this.i18n.itemAdmin.canDeleteSum));e.portal.admin.reassignItems&&d.push(c.substitute({type:f},
this.i18n.itemAdmin.canReassignSum));this._isPortal||(e.marketplace.admin.manage&&d.push(this.i18n.marketplace.canAdminSum),e.marketplace.admin.purchase&&d.push(this.i18n.marketplace.canPurchaseSum),e.marketplace.admin.startTrial&&d.push(this.i18n.marketplace.canTrialSum));return d},_setCurrentGridPage:function(){this._currentGridPage=this._grid&&this._grid._grid?this._grid._grid._currentPage:1},_initPrivilegeDependencies:function(){this._privilegeDependencies={"items-canpublishfeatures":[this._canCreateItem],
"items-canpublishtiles":[this._canCreateItem],"items-canpublishscenes":[this._canCreateItem,this._canPublishFeatures],"useradmin-canupdate":[this._canViewUsers],"useradmin-caninvite":[this._canViewUsers],"groupadmin-canview":[this._canViewUsers],"groupadmin-canupdate":[this._canViewUsers,this._canViewGroups,this._canCreateGroups],"groupadmin-candelete":[this._canViewUsers,this._canViewGroups,this._canCreateGroups],"groupadmin-canreassign":[this._canViewUsers,this._canViewGroups],"groupadmin-canassign":[this._canViewUsers,
this._canViewGroups],"itemadmin-canview":[this._canViewUsers],"itemadmin-canupdate":[this._canViewUsers,this._canViewItems,this._canCreateItem],"itemadmin-candelete":[this._canViewUsers,this._canViewItems,this._canCreateItem],"itemadmin-canreassign":[this._canViewUsers,this._canViewItems],"geoservices-networkanalysis":[this._canCreateItem,this._canPublishFeatures],"geoservices-spatialanalysis":[this._canCreateItem,this._canPublishFeatures],"geoservices-geoenrichment":[this._canCreateItem,this._canPublishFeatures],
"geoservices-demographics":[this._canCreateItem,this._canPublishFeatures],"geoservices-elevation":[this._canCreateItem,this._canPublishFeatures],"marketplace-canpurchase":[this._canTrialMarketplace,this._canCreateGroups,this._canJoinIntGroups,this._canShareItemToGroups],"marketplace-cantrial":[this._canCreateGroups,this._canJoinIntGroups,this._canShareItemToGroups],"features-canmanage":[this._canEditFeatures]};this._isPortal&&(delete this._privilegeDependencies["marketplace-canpurchase"],delete this._privilegeDependencies["marketplace-cantrial"],
delete this._privilegeDependencies["features-canmanage"]);this._privilegeDependents={"items-cancreate":[this._canPublishFeatures,this._canPublishTiles,this._canPublishScenes,this._canUseNA,this._canUseSA,this._canUseGeoenrichment,this._canUseDemographics,this._canUseElevation,this._canUpdateItems,this._canDeleteItems],"useradmin-canview":[this._canUpdateUsers,this._canInviteUsers,this._canViewGroups,this._canUpdateGroups,this._canDeleteGroups,this._canReassignGroups,this._canAssignUsers,this._canViewItems,
this._canUpdateItems,this._canDeleteItems,this._canReassignItems],"groupadmin-canview":[this._canUpdateGroups,this._canDeleteGroups,this._canReassignGroups,this._canAssignUsers],"itemadmin-canview":[this._canUpdateItems,this._canDeleteItems,this._canReassignItems],"items-canpublishfeatures":[this._canUseNA,this._canUseSA,this._canUseGeoenrichment,this._canUseDemographics,this._canUseElevation],"marketplace-cantrial":[this._canPurchaseMarketplace],"groups-cancreate":[this._canTrialMarketplace,this._canPurchaseMarketplace,
this._canUpdateGroups,this._canDeleteGroups],"groups-canjoinint":[this._canTrialMarketplace,this._canPurchaseMarketplace],"itemshare-cansharegroups":[this._canTrialMarketplace,this._canPurchaseMarketplace],"features-canedit":[this._canManageFeatures]};this._isPortal&&(this._privilegeDependents["items-cancreate"]=[this._canPublishFeatures,this._canPublishTiles,this._canPublishScenes,this._canUseNA,this._canUseSA,this._canUseGeoenrichment,this._canUseElevation,this._canUpdateItems,this._canDeleteItems],
this._privilegeDependents["items-canpublishfeatures"]=[this._canUseNA,this._canUseSA,this._canUseGeoenrichment,this._canUseElevation],delete this._privilegeDependents["marketplace-cantrial"],delete this._privilegeDependents["groups-cancreate"],delete this._privilegeDependents["groups-canjoinint"],delete this._privilegeDependents["itemshare-cansharegroups"],delete this._privilegeDependents["features-canedit"])},_checkCheckBoxDependencies:function(a){var b;a&&a.get("checked")?(b=this._privilegeDependencies[a.get("id")])&&
0<b.length&&g.forEach(b,function(a){a.set("checked",!0)}):a&&!a.get("checked")&&(b=this._privilegeDependents[a.get("id")])&&0<b.length&&g.some(b,function(a){return a.get("checked")})&&a.set("checked",!0)},_checkDependencies:function(a){var b;if(a&&a.target&&(b=s.byId(a.target.id))&&b.get("checked"))(a=this._privilegeDependencies[a.target.id])&&0<a.length&&g.forEach(a,function(a){a.set("checked",!0)})},_initTemplateRoles:function(){this._templateRoles=[];this._templateRoles.push({id:"viewer_template",
isTemplate:!0,name:this.i18n.templates.viewer,privileges:["portal:user:joinGroup"]});this._isPortal||(this._templateRoles.push({id:"editor_template",isTemplate:!0,name:this.i18n.templates.editor,privileges:["portal:user:joinGroup","features:user:edit"]}),this._templateRoles.push({id:"curator_template",isTemplate:!0,name:this.i18n.templates.curator,privileges:["portal:user:joinGroup","features:user:edit","features:user:fullEdit"]}));this._templateRoles.push({id:"analyst_template",isTemplate:!0,name:this.i18n.templates.analyst,
privileges:"portal:user:joinGroup portal:user:joinNonOrgGroup portal:user:createItem portal:user:storeFiles portal:publisher:publishFeatures portal:user:shareToGroup portal:user:shareToOrg features:user:edit premium:user:geocode premium:user:networkanalysis premium:user:geoenrichment premium:user:demographics premium:user:elevation premium:user:spatialanalysis".split(" ")});this._templateRoles.push({id:"author_template",isTemplate:!0,name:this.i18n.templates.author,privileges:"portal:user:createGroup portal:user:joinGroup portal:user:joinNonOrgGroup portal:user:createItem portal:user:storeFiles portal:publisher:publishFeatures portal:publisher:publishTiles portal:user:shareToGroup portal:user:shareToOrg features:user:edit premium:user:geocode premium:user:networkanalysis premium:user:spatialanalysis".split(" ")});
this._templateRoles.push({id:"student_template",isTemplate:!0,name:this.i18n.templates.student,privileges:"portal:user:createGroup portal:user:joinGroup portal:user:joinNonOrgGroup portal:user:createItem portal:user:storeFiles portal:publisher:publishFeatures portal:user:shareToPublic portal:user:shareToGroup portal:user:shareToOrg features:user:edit premium:user:geocode premium:user:networkanalysis premium:user:geoenrichment premium:user:demographics premium:user:elevation premium:user:spatialanalysis".split(" ")})},
_initTooltips:function(){var a=this._getLocalizedTenantType(),b=c.substitute({type:a},this.i18n.userAdmin.titleTooltip),d=c.substitute({type:a},this.i18n.userAdmin.canInviteTooltip),e=c.substitute({type:a},this.i18n.userAdmin.canDisableTooltip),f=c.substitute({type:a},this.i18n.userAdmin.canViewTooltip),g=c.substitute({type:a},this.i18n.userAdmin.canUpdateTooltip),h=c.substitute({type:a},this.i18n.userAdmin.canDeleteTooltip),l=c.substitute({type:a},this.i18n.userAdmin.canChangeRolesTooltip),m=c.substitute({type:a},
this.i18n.userAdmin.canManageLicensesTooltip),n=c.substitute({type:a},this.i18n.groupAdmin.titleTooltip),p=c.substitute({type:a},this.i18n.groupAdmin.canViewTooltip),q=c.substitute({type:a},this.i18n.groupAdmin.canUpdateTooltip),s=c.substitute({type:a},this.i18n.groupAdmin.canDeleteTooltip),t=c.substitute({type:a},this.i18n.groupAdmin.canReassignTooltip),u=c.substitute({type:a},this.i18n.groupAdmin.canAssignTooltip),v=c.substitute({type:a},this.i18n.itemAdmin.titleTooltip),w=c.substitute({type:a},
this.i18n.itemAdmin.canViewTooltip),x=c.substitute({type:a},this.i18n.itemAdmin.canUpdateTooltip),y=c.substitute({type:a},this.i18n.itemAdmin.canDeleteTooltip),z=c.substitute({type:a},this.i18n.itemAdmin.canReassignTooltip),A=c.substitute({type:a},this.i18n.groups.titleTooltip),B=c.substitute({type:a},this.i18n.groups.canCreateTooltip),C=c.substitute({type:a},this.i18n.groups.canJoinIntTooltip),D=c.substitute({type:a},this.i18n.groups.canJoinExtTooltip),E=c.substitute({type:a},this.i18n.groupSharing.canShareOrgTooltip),
a=c.substitute({type:a},this.i18n.itemSharing.canShareOrgTooltip);this._tooltipDialog=new P({id:"roleSummaryDialog",style:{width:"315px",maxWidth:"315px",outline:"none"},content:""});this._tooltips.push(this._createTooltip("useradmin-title",b));this._tooltips.push(this._createTooltip("useradmin-caninvite-label",d));this._tooltips.push(this._createTooltip("useradmin-candisable-label",e));this._tooltips.push(this._createTooltip("useradmin-canview-label",f));this._tooltips.push(this._createTooltip("useradmin-canupdate-label",
g));this._tooltips.push(this._createTooltip("useradmin-candelete-label",h));this._tooltips.push(this._createTooltip("useradmin-canchangeroles-label",l));this._tooltips.push(this._createTooltip("useradmin-canmanagelicenses-label",m));this._tooltips.push(this._createTooltip("groupadmin-title",n));this._tooltips.push(this._createTooltip("groupadmin-canview-label",p));this._tooltips.push(this._createTooltip("groupadmin-canupdate-label",q));this._tooltips.push(this._createTooltip("groupadmin-candelete-label",
s));this._tooltips.push(this._createTooltip("groupadmin-canreassign-label",t));this._tooltips.push(this._createTooltip("groupadmin-canassign-label",u));this._tooltips.push(this._createTooltip("groupadmin-canlink-label",this.i18n.groupAdmin.canLinkTooltip));this._tooltips.push(this._createTooltip("itemadmin-title",v));this._tooltips.push(this._createTooltip("itemadmin-canview-label",w));this._tooltips.push(this._createTooltip("itemadmin-canupdate-label",x));this._tooltips.push(this._createTooltip("itemadmin-candelete-label",
y));this._tooltips.push(this._createTooltip("itemadmin-canreassign-label",z));this._tooltips.push(this._createTooltip("marketplace-title",this.i18n.marketplace.titleTooltip));this._tooltips.push(this._createTooltip("marketplace-canadmin-label",this.i18n.marketplace.canAdminTooltip));this._tooltips.push(this._createTooltip("marketplace-canpurchase-label",this.i18n.marketplace.canPurchaseTooltip));this._tooltips.push(this._createTooltip("marketplace-cantrial-label",this.i18n.marketplace.canTrialTooltip));
this._tooltips.push(this._createTooltip("groups-title",A));this._tooltips.push(this._createTooltip("groups-cancreate-label",B));this._tooltips.push(this._createTooltip("groups-canjoinint-label",C));this._tooltips.push(this._createTooltip("groups-canjoinext-label",D));this._tooltips.push(this._createTooltip("groupshare-title",this.i18n.groupSharing.titleTooltip));this._tooltips.push(this._createTooltip("groupshare-canshareorg-label",E));this._tooltips.push(this._createTooltip("groupshare-cansharepublic-label",
this.i18n.groupSharing.canSharePublicTooltip));this._tooltips.push(this._createTooltip("items-title",this.i18n.items.titleTooltip));this._tooltips.push(this._createTooltip("items-cancreate-label",this.i18n.items.canCreateTooltip));this._tooltips.push(this._createTooltip("items-canupload-label",this.i18n.items.canUploadTooltip));this._tooltips.push(this._createTooltip("items-canpublishfeatures-label",this.i18n.items.canPublishFeaturesTooltip));this._tooltips.push(this._createTooltip("items-canpublishtiles-label",
this.i18n.items.canPublishTilesTooltip));esriGeowConfig.sceneViewerEnabled&&this._isPortal&&this._tooltips.push(this._createTooltip("items-canpublishscenes-label",this.i18n.items.canPublishScenesTooltip));this._tooltips.push(this._createTooltip("itemshare-title",this.i18n.itemSharing.titleTooltip));this._tooltips.push(this._createTooltip("itemshare-cansharegroups-label",this.i18n.itemSharing.canShareGroupsTooltip));this._tooltips.push(this._createTooltip("itemshare-canshareorg-label",a));this._tooltips.push(this._createTooltip("itemshare-cansharepublic-label",
this.i18n.itemSharing.canSharePublicTooltip));this._tooltips.push(this._createTooltip("geoservices-title",this.i18n.geoservices.titleTooltip));this._tooltips.push(this._createTooltip("geoservices-geocoding-label",this.i18n.geoservices.canUseGeocodingTooltip));this._tooltips.push(this._createTooltip("geoservices-networkanalysis-label",this.i18n.geoservices.canUseNATooltip));this._tooltips.push(this._createTooltip("geoservices-spatialanalysis-label",this.i18n.geoservices.canUseSATooltip));this._tooltips.push(this._createTooltip("geoservices-geoenrichment-label",
this.i18n.geoservices.canUseGeoenrichmentTooltip));this._tooltips.push(this._createTooltip("geoservices-demographics-label",this.i18n.geoservices.canUseDemographicsTooltip));this._tooltips.push(this._createTooltip("geoservices-elevation-label",this.i18n.geoservices.canUseElevationTooltip));this._tooltips.push(this._createTooltip("features-title",this.i18n.features.titleTooltip));this._tooltips.push(this._createTooltip("features-canedit-label",this.i18n.features.canEditTooltip));this._tooltips.push(this._createTooltip("features-canmanage-label",
this.i18n.features.canManageTooltip));this._tooltips.push(this._createTooltip("opendata-title",this.i18n.openData.titleTooltip));this._tooltips.push(this._createTooltip("opendata-canadmin-label",this.i18n.openData.canAdminTooltip));this._tooltips.push(this._createTooltip("opendata-candesignate-label",this.i18n.openData.canDesignateTooltip))},_createTooltip:function(a,b,c,e){c=esri.isDefined(c)?c:200;e=esri.isDefined(e)?e:300;return new dijit.Tooltip({label:'\x3cdiv style\x3d"max-width:'+e+'px;"\x3e'+
b+"\x3c/div\x3e",connectId:[a],id:"tooltip_"+a,showDelay:c})},_getLocalizedTenantType:function(){return this._isPortal?this.i18n.portalType:this.i18n.organizationType}})});