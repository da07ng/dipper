// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.15/esri/copyright.txt for details.
//>>built
define("arcgisonline/map/dijit/AddContent",["dijit","dojo","dojox","dojo/require!dijit/_Widget,dijit/_Templated,dijit/Menu,dijit/form/CheckBox,dijit/form/Button,dijit/form/TextBox,dijit/form/ValidationTextBox,dijit/layout/BorderContainer,dijit/layout/ContentPane,arcgisonline/sharing/dijit/HelpManager,arcgisonline/sharing/dijit/ArcGISOnlineServicesGrid,arcgisonline/sharing/dijit/ArcGISServerServicesGrid,arcgisonline/sharing/dijit/GoogleServicesGrid,arcgisonline/sharing/geow/Community,arcgisonline/sharing/util,arcgisonline/sharing/dijit/dialog/GeneralDlg"],
function(f,a,l){a.provide("arcgisonline.map.dijit.AddContent");a.require("dijit._Widget");a.require("dijit._Templated");a.require("dijit.Menu");a.require("dijit.form.CheckBox");a.require("dijit.form.Button");a.require("dijit.form.TextBox");a.require("dijit.form.ValidationTextBox");a.require("dijit.layout.BorderContainer");a.require("dijit.layout.ContentPane");a.require("arcgisonline.sharing.dijit.HelpManager");a.require("arcgisonline.sharing.dijit.ArcGISOnlineServicesGrid");a.require("arcgisonline.sharing.dijit.ArcGISServerServicesGrid");
a.require("arcgisonline.sharing.dijit.GoogleServicesGrid");a.require("arcgisonline.sharing.geow.Community");a.require("arcgisonline.sharing.util");a.require("arcgisonline.sharing.dijit.dialog.GeneralDlg");a.declare("arcgisonline.map.dijit.AddContent",[f._Widget,f._Templated],{widgetsInTemplate:!0,templateString:'\x3cdiv dojoType\x3d"dijit.layout.BorderContainer" region\x3d"top" style\x3d"height:100%;"\x3e  \r\n    \x3cdiv id\x3d"addContent-main-top" class\x3d"panel panel_left" dojoType\x3d"dijit.layout.ContentPane" region\x3d"top"\x3e\r\n        \x3cdiv id\x3d"addContent-main-top-title"\x3e\r\n          \x3cdiv class\x3d"esriFloatTrailing" style\x3d"display:inline;"\x3e\r\n            \x3ca href\x3d"JavaScript:void(0);" dojoAttachPoint\x3d"_closeBtn" title\x3d"${i18n.close}" class\x3d"panel panel_close panel_collapse"\x3e\x3c/a\x3e\r\n          \x3c/div\x3e\r\n  \t      \x3cdiv id\x3d"addContentTitle" class\x3d"esriFloatLeading panel_title" style\x3d"font-weight:bold;"\x3e${i18n.addContentPanelTitle}\x3c/div\x3e\r\n          \x3cdiv style\x3d"clear:both; height:1px;"\x3e\x3c/div\x3e\x3c!-- border-bottom: #333 thin solid; --\x3e          \r\n        \x3c/div\x3e\r\n        \x3cdiv id\x3d"addContent-main-top-input" style\x3d"padding-top:10px;"\x3e\r\n            \x3ctable cellpadding\x3d"0" cellspacing\x3d"0"\x3e\r\n                \x3ctr class\x3d"row rowOdd row1"\x3e\r\n                    \x3ctd id\x3d"col1" nowrap\x3e            \r\n                        \x3clabel\x3e${i18n.findLabel}\x3c/label\x3e\r\n                    \x3c/td\x3e\r\n                    \x3ctd id\x3d"col2"\x3e\x26nbsp;\r\n                    \x3c/td\x3e\r\n                    \x3ctd id\x3d"col3" width\x3d"100%" nowrap\x3e            \r\n                        \x3cspan dojoAttachPoint\x3d"addContentSearchText" id\x3d"addContentSearchText" dojotype\x3d"dijit.form.TextBox" trim\x3d"true" style\x3d"line-height:normal;"\x3e\x3c/span\x3e\r\n                    \x3c/td\x3e\r\n                    \x3ctd id\x3d"col4"\x3e            \r\n                        \x3cbutton dojotype\x3d"dijit.form.Button" type\x3d"button" class\x3d"calcite green tiny" dojoAttachPoint\x3d"addContentSearchText_go" id\x3d"addContentSearchText-go"\x3e\r\n                            \x3cspan\x3e${i18n.go}\x3c/span\x3e\r\n                        \x3c/button\x3e   \r\n                    \x3c/td\x3e\r\n                \x3c/tr\x3e\r\n                \x3ctr class\x3d"row rowEven row2"\x3e\r\n                    \x3ctd nowrap\x3e\r\n                        \x3clabel\x3e${i18n.inLabel}\x3c/label\x3e\r\n                    \x3c/td\x3e\r\n                    \x3ctd\x3e\x26nbsp;\r\n                    \x3c/td\x3e\r\n                    \x3ctd\x3e\r\n                        \x3cselect dojoType\x3d"dijit.form.ComboBox" class\x3d"arrowSpaceLarge dijitComboBoxNonEditable" dojoAttachPoint\x3d"addContentSearchFrom" id\x3d"addContentSearchFrom"\x3e\r\n                        \x3c/select\x3e                            \r\n                    \x3c/td\x3e\r\n                    \x3ctd\x3e\x26nbsp;\r\n                    \x3c/td\x3e\r\n                \x3c/tr\x3e\r\n                \x3ctr id\x3d"addContentSearchURLTableRow" class\x3d"row rowOdd rowHidden" style\x3d"display:none;"\x3e\r\n                    \x3ctd\x3e\r\n                        \x3clabel\x3e${i18n.urlLabel}\x3c/label\x3e\r\n                    \x3c/td\x3e\r\n                    \x3ctd\x3e\x26nbsp;\r\n                    \x3c/td\x3e\r\n                    \x3ctd\x3e\r\n                        \x3cspan dojoAttachPoint\x3d"addContentSearchURL" id\x3d"addContentSearchURL" dojotype\x3d"dijit.form.ValidationTextBox" trim\x3d"true" style\x3d"line-height:normal;" dir\x3d"ltr"\x3e\x3c/span\x3e\r\n                    \x3c/td\x3e\r\n                    \x3ctd\x3e\x26nbsp;\r\n                    \x3c/td\x3e\r\n                \x3c/tr\x3e\r\n                \x3ctr id\x3d"addContentWithinMapTableRow" class\x3d"row rowEven" nowrap\x3d"nowrap"\x3e\r\n                    \x3ctd style\x3d"padding-top:2px;"\x3e\r\n                      \x3cinput dojoAttachPoint\x3d"addContentWithinMapCheck" id\x3d"addContent-within-map" dojotype\x3d"dijit.form.CheckBox" checked\x3d"true" type\x3d"checkbox" /\x3e\r\n                    \x3c/td\x3e\r\n                    \x3ctd\x3e\x26nbsp;\r\n                    \x3c/td\x3e\r\n                    \x3ctd colspan\x3d"2" valign\x3d"bottom"\x3e\r\n                      \x3clabel for\x3d"addContent-within-map"\x3e${i18n.withinMapArea}\x3c/label\x3e\r\n                    \x3c/td\x3e\r\n                \x3c/tr\x3e\r\n            \x3c/table\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv id\x3d"addContentResultCountDiv" style\x3d"padding:5px 0 0 0;font-weight:bold;"\x3e \r\n        \x3c/div\x3e\r\n    \x3c/div\x3e \r\n    \x3c!-- we make the padding with a table, otherwise dojo doesn\'t calculate the grid size properly --\x3e\r\n    \x3ctable id\x3d"addContent-main-center-table" cellpadding\x3d"0" cellspacing\x3d"0"\x3e\r\n    \x3ctr\x3e\x3ctd colspan\x3d"3" height\x3d"3"\x3e\x3c/td\x3e\x3c/tr\x3e\r\n    \x3ctr\x3e\r\n        \x3ctd width\x3d"3"\x3e\x3cdiv style\x3d"width:3px;"/\x3e\x3c/td\x3e\r\n        \x3ctd style\x3d"border:1px solid #999;"\x3e \r\n        \x3cdiv id\x3d"addContent-main-center" dojoType\x3d"dijit.layout.BorderContainer" region\x3d"center" design\x3d"headline" jsid\x3d"container" gutters\x3d"false" preventcache\x3d\'true\' usecache\x3d\'false\' cachecontent\x3d\'false\'\x3e\r\n            \x3cdiv dojotype\x3d"dijit.layout.ContentPane" region\x3d"top" style\x3d"top: 0px; left: 0px; right: 0px;"\x3e\r\n                \x3cdiv dojoType\x3d"arcgisonline.sharing.dijit.ArcGISOnlineServicesGrid" region\x3d"center" jsid\x3d"arcGISOnlineServicesGrid" id\x3d"arcGISOnlineServicesGrid"\x3e\x3c/div\x3e\r\n            \x3c/div\x3e\r\n        \x3c/div\x3e\r\n        \x3c/td\x3e\r\n        \x3ctd width\x3d"3"\x3e\x3cdiv style\x3d"width:3px;"/\x3e\x3c/td\x3e\r\n    \x3c/tr\x3e\r\n    \x3c/table\x3e\r\n   \r\n    \x3cdiv id\x3d"addContentClose" style\x3d"padding-top:5px;"\x3e\r\n    \t\x3ccenter\x3e \r\n    \t\t\x3cbutton dojotype\x3d"dijit.form.Button" type\x3d"button" id\x3d"addContent-close" class\x3d"calcite blue" onclick\x3d"JavaScript:arcgisonline.map.leftPanel.openLeftTOCPanel();"\x3e\x3cspan\x3e${i18n.doneAddingLayersBtn}\x3c/span\x3e\x3c/button\x3e\r\n        \x3c/center\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv id\x3d"addContentFooter" dojoType\x3d"dijit.layout.ContentPane" region\x3d"bottom" style\x3d"height:40px; padding: 5px 5px 0 5px; display:none;"\x3e \r\n      \x3cdiv id\x3d"addContentSiteFooter" class\x3d"footer" dojotype\x3d"arcgisonline.sharing.dijit.SiteFooterMap" style\x3d"white-space:normal;"\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n\r\n\x3c/div\x3e\r\n',
i18n:null,container:null,currentSearchType:null,defaultUrlTextArcGISServer:null,defaultSearchText:null,arcgisServerServicesGrid:null,arcGISOnlineMyContentServicesGrid:null,arcGISOnlineMyOrganizationServicesGrid:null,arcGISOnlineMyFavoritesServicesGrid:null,arcGISOnlineDemogGroupServicesGrid:null,googleServicesGrid:null,groupsGrid:{},activeGrid:null,queryExecuted:!1,addContentSearchFromLoaded:!1,permissionSearchFilter:"",constructor:function(a,c){null!=a&&a.containerNode&&(this.container=a.containerNode)},
postMixInProperties:function(){this.inherited(arguments);this.i18n=a.i18n.getLocalization("arcgisonline","arcgisonline").common;a.mixin(this.i18n,a.i18n.getLocalization("arcgisonline","arcgisonline").generalDlg);a.mixin(this.i18n,a.i18n.getLocalization("arcgisonline","arcgisonline").addContentPanel);this.currentSearchType="";this.defaultUrlTextArcGISServer=this.i18n.gisServerSample;this.defaultSearchText=this.i18n.keywordSample},postCreate:function(){this.container.addChild(f.byId("addContentPanel"));
isEmbedded||a.style(a.byId("addContentFooter"),"display","");this.loadConnections();this.addContentSearchFrom.textbox.readOnly=!0;a.style(this.addContentSearchFrom.textbox,"cursor","pointer");this.addContentSearchFrom.textbox.onclick=a.hitch(this,function(){this.addContentSearchFrom.loadDropDown()});var b=esri.isDefined(esriGeowConfig.isMultiTenant)&&!1===esriGeowConfig.isMultiTenant,c=0,d=arcgisonline.sharing.util.getUser(),e=new a.data.ItemFileWriteStore({data:{identifier:"id",items:[]}});b||(d&&
d.accountId?e.newItem({name:this.i18n.myOrg,id:"0"}):(esriGeowConfig.self.name&&e.newItem({name:esriGeowConfig.self.name,id:"0"}),c++,e.newItem({name:esriGeowConfig.portalName?esriGeowConfig.portalName:this.i18n.arcgisOnline,id:"1"})),c++);esriGeowConfig.webSearchEnabled&&!1!==esriGeowConfig.self.canSearchPublic&&(e.newItem({name:this.i18n.web,id:"2"}),c++);e.newItem({name:this.i18n.gisServer,id:"3"});c++;d&&d.accountId&&(!1!==esriGeowConfig.self.canSearchPublic&&(e.newItem({name:esriGeowConfig.portalName?
esriGeowConfig.portalName:this.i18n.arcgisOnline,id:"4"}),c++),esriGeowConfig.self.isPortal||(e.newItem({name:this.i18n.esriDemogLayers,id:"5"}),c++));d?(e.newItem({name:"  ",id:"6"}),esriGeowConfig.self.user&&esriGeowConfig.self.user.favGroupId&&e.newItem({name:this.i18n.myFavorites,id:"7"}),e.newItem({name:this.i18n.myContent,id:"8"}),arcgisonline.sharing.geow.Community.getUserGroups(a.hitch(this,function(b,c){var d=[];a.forEach(b.groups,function(a,c){75<a.title.length&&(a.title=a.title.substring(0,
72)+"...",b.groups[c].title=a.title);for(var e=!1,f=0;f<d.length;f++)if(d[f].title==a.title){d[f].count+=1;e=[];e.title=a.title;e.id=a.id;e.owner=a.owner;e.count=d[f].count;d[d.length]=e;e=!0;break}e||(e=[],e.title=a.title,e.id=a.id,e.owner=a.owner,e.count=1,d[d.length]=e)},this);d.sort(function(a,b){var c=a.title.toLowerCase(),d=b.title.toLowerCase();return c==d?0:c<d?-1:1});for(var f=0;f<d.length;f++)1==d[f].count?e.newItem({name:d[f].title+" "+this.i18n.group,id:d[f].id}):e.newItem({name:d[f].title+
" "+this.i18n.group+" ("+d[f].owner+")",id:d[f].id});this.addContentSearchFromLoaded=!0}))):this.addContentSearchFromLoaded=!0;this.addContentSearchFrom.set("store",e);d&&d.accountId&&!b?this.addContentSearchFrom.set("value",this.i18n.myOrg):!b&&esriGeowConfig.self.name?this.addContentSearchFrom.set("value",esriGeowConfig.self.name):this.addContentSearchFrom.set("value",esriGeowConfig.portalName?esriGeowConfig.portalName:this.i18n.arcgisOnline);d&&a.connect(this.addContentSearchFrom,"loadDropDown",
a.hitch(this,function(){var b=setInterval(a.hitch(this,function(){1==c?(a.addClass(a.byId("addContentSearchFrom_popup1"),"addContentHorizontalBarOptionItem"),a.addClass(a.byId("addContentSearchFrom_popup0"),"addContentBeforeHorizontalBarOptionItem"),clearInterval(b)):2==c?(a.addClass(a.byId("addContentSearchFrom_popup2"),"addContentHorizontalBarOptionItem"),a.addClass(a.byId("addContentSearchFrom_popup1"),"addContentBeforeHorizontalBarOptionItem"),clearInterval(b)):3===c?(a.addClass(a.byId("addContentSearchFrom_popup3"),
"addContentHorizontalBarOptionItem"),a.addClass(a.byId("addContentSearchFrom_popup2"),"addContentBeforeHorizontalBarOptionItem"),clearInterval(b)):4==c?(a.addClass(a.byId("addContentSearchFrom_popup4"),"addContentHorizontalBarOptionItem"),a.addClass(a.byId("addContentSearchFrom_popup3"),"addContentBeforeHorizontalBarOptionItem"),clearInterval(b)):5==c&&(a.addClass(a.byId("addContentSearchFrom_popup5"),"addContentHorizontalBarOptionItem"),a.addClass(a.byId("addContentSearchFrom_popup4"),"addContentBeforeHorizontalBarOptionItem"),
clearInterval(b))}),200)}));arcgisonline.map.role.isAllowed("add_require_credits")||(this.permissionSearchFilter=' -typekeywords:"Requires Credits"');arcgisonline.map.role.isAllowed("add_require_subscription")||(this.permissionSearchFilter+=' -typekeywords:"Requires Subscription"');this.addContentSearchText.set("value",this.defaultSearchText);a.style(this.addContentSearchText.domNode,"color","#999999");esriGeowConfig.isRightToLeft&&a.safeMixin(this.addContentSearchURL,{displayMessage:function(a){a&&
this.focused?f.Tooltip.show(a,this.domNode,this.tooltipPosition,!1,"ltr"):f.Tooltip.hide(this.domNode)}});this.addContentSearchURL.promptMessage=this.defaultUrlTextArcGISServer.replace(/</g,"\x26lt;").replace(/>/g,"\x26gt;")},getChildren:function(){return this.containerNode?this.myDijitFindWidgets(this.containerNode):[]},myDijitFindWidgets:function(b){function c(b){if(9>a.isIE&&b.children||b.childNodes){b=9>a.isIE?b.children:b.childNodes;for(var h=0,k;k=b[h++];)if(1==k.nodeType){var g=k.getAttribute("widgetId");
g?(k=f.byId(g),d.push(k)):c(k)}}}var d=[];c(b);return d},loadConnections:function(){a.connect(f.byId("leftContentPanel"),"resize",this,"adjustHeight");this.newSearchTypeHandler=a.connect(this.addContentSearchFrom,"onChange",this,"newSearchType");a.connect(this.addContentSearchText_go,"onClick",a.hitch(this,"doSearch","go"));a.connect(f.byId("addContentSearchText"),"onKeyPress",this,"onKeyPress");a.connect(f.byId("addContentSearchURL"),"onKeyPress",this,"onKeyPress");a.connect(this.addContentSearchURL,
"onFocus",this,"focusUrl");a.connect(f.byId("addContentSearchText"),"onFocus",this,"focusSearchText");a.connect(this.addContentWithinMapCheck,"onChange",this,"doSearch","go");a.subscribe("gridCount",a.hitch(this,"onResultCount"));a.connect(this._closeBtn,"onclick",this,"onClose")},onClose:function(a){a.preventDefault();arcgisonline.map.leftPanel.openLeftTOCPanel()},onResultCount:function(b,c){if(this.activeGrid===this.googleServicesGrid&&"Google"===c||this.activeGrid===this.arcgisServerServicesGrid&&
"GIS"===c||this.activeGrid!==this.googleServicesGrid&&this.activeGrid!==this.arcgisServerServicesGrid&&"ArcGIS.com"===c)this.activeGrid==this.googleServicesGrid&&64<b?a.byId("addContentResultCountDiv").innerHTML="64 "+this.i18n.results:a.byId("addContentResultCountDiv").innerHTML=b+" "+(1==b?this.i18n.result:this.i18n.results),this.activeGrid.lastResultCount=b;this.adjustHeight()},onKeyPress:function(b){b.keyCode==a.keys.ENTER&&this.doSearch("key")},newSearchType:function(b){if("  "==b)this.newSearchType(this.currentSearchType),
this.addContentSearchFrom.set("value",this.currentSearchType);else{this.activeGrid&&this.activeGrid.disconnectHandlers();var c=this.addContentSearchText.get("value");c===this.defaultSearchText&&(c="");var d=this.addContentWithinMapCheck.attr("checked"),e=arcgisonline.map.main.map.extent;if(b==(esriGeowConfig.portalName?esriGeowConfig.portalName:this.i18n.arcgisOnline))arcGISOnlineServicesGrid.queryAdd=this.permissionSearchFilter,this.currentSearchType!=b&&(this.currentSearchType=b,this.onSelected(),
a.style(a.byId("addContentSearchURLTableRow"),"display","none"),a.style(a.byId("addContentWithinMapTableRow"),"display",""),this.hideGridsExcept("arcGISOnlineServicesNode"),a.style(a.byId("arcGISOnlineServicesNode"),"display","block"),a.byId("addContentResultCountDiv").innerHTML="",c!==arcGISOnlineServicesGrid.lastQueryString||d!==arcGISOnlineServicesGrid.lastWithinMapAreaCheck||d&&a.toJson(e)!==a.toJson(arcGISOnlineServicesGrid.lastMapExtent)?arcGISOnlineServicesGrid.newSearch(c,d):a.byId("addContentResultCountDiv").innerHTML=
-1<arcGISOnlineServicesGrid.lastResultCount?arcGISOnlineServicesGrid.lastResultCount+" "+(1==arcGISOnlineServicesGrid.lastResultCount?this.i18n.result:this.i18n.results):"",this.queryExecuted=null==arcGISOnlineServicesGrid.searchGrid.store?!1:!0),this.activeGrid=arcGISOnlineServicesGrid;else if(b==this.i18n.web)this.currentSearchType!=b&&(this.currentSearchType=b,a.style(a.byId("addContentSearchURLTableRow"),"display","none"),a.style(a.byId("addContentWithinMapTableRow"),"display","none"),this.hideGridsExcept("googleServicesNode"),
a.byId("addContentResultCountDiv").innerHTML="",this.googleServicesGrid?(this.onSelected(),a.style(a.byId("googleServicesNode"),"display","block"),c!==this.googleServicesGrid.lastQueryString?c.length?this.googleServicesGrid.newSearch(c):this.googleServicesGrid.clear():64<=this.googleServicesGrid.lastResultCount?a.byId("addContentResultCountDiv").innerHTML="64 "+this.i18n.results:a.byId("addContentResultCountDiv").innerHTML=-1<this.googleServicesGrid.lastResultCount?this.googleServicesGrid.lastResultCount+
" "+(1==this.googleServicesGrid.lastResultCount?this.i18n.result:this.i18n.results):"",this.queryExecuted=this.googleServicesGrid.searchGrid&&null==this.googleServicesGrid.searchGrid.store?!1:!0):(a.byId("addContentResultCountDiv").innerHTML="",d=a.style(a.byId("addContent-main-center"),"width")-8,this.googleServicesGrid=new arcgisonline.sharing.dijit.GoogleServicesGrid({w:d}),this.queryExecuted=!1,""!==c&&this.googleServicesGrid.newSearch(c))),this.activeGrid=this.googleServicesGrid;else if(b==this.i18n.gisServer)this.currentSearchType!=
b&&(this.currentSearchType=b,a.style(a.byId("addContentSearchURLTableRow"),"display",""),a.style(a.byId("addContentWithinMapTableRow"),"display","none"),this.hideGridsExcept("arcgisServerServicesNode"),a.byId("addContentResultCountDiv").innerHTML="",this.arcgisServerServicesGrid?(this.onSelected(),a.style(a.byId("arcgisServerServicesNode"),"display","block"),this.arcgisServerServicesGrid.url!=this.defaultUrlTextArcGISServer&&this.addContentSearchURL.set("value",this.arcgisServerServicesGrid.url),
this.arcgisServerServicesGrid.url.length||(this.addContentSearchURL.set("value",this.defaultUrlTextArcGISServer),a.style(this.addContentSearchURL.domNode,"color","#999999")),c!==this.arcgisServerServicesGrid.lastQueryString&&(this.arcgisServerServicesGrid.url.length?this.arcgisServerServicesGrid.newSearch(c):(this.arcgisServerServicesGrid.lastQueryString="",this.arcgisServerServicesGrid.lastResultCount=-1,this.arcgisServerServicesGrid.emptyStore())),a.byId("addContentResultCountDiv").innerHTML=-1<
this.arcgisServerServicesGrid.lastResultCount?this.arcgisServerServicesGrid.lastResultCount+" "+(1==this.arcgisServerServicesGrid.lastResultCount?this.i18n.result:this.i18n.results):"",this.queryExecuted=null==this.arcgisServerServicesGrid.grid.store?!1:!0):(this.addContentSearchURL.set("value",this.defaultUrlTextArcGISServer),a.style(this.addContentSearchURL.domNode,"color","#999999"),a.byId("addContentResultCountDiv").innerHTML="",d=a.style(a.byId("addContent-main-center"),"width")-8,this.arcgisServerServicesGrid=
new arcgisonline.sharing.dijit.ArcGISServerServicesGrid({w:d}),this.queryExecuted=!1,a.subscribe("ArcGISServerServicesSearchSuccess",a.hitch(this,function(a){this.addContentSearchURL.set("value",a)})))),this.activeGrid=this.arcgisServerServicesGrid;else if(b==this.i18n.myContent||" "==b||"  "==b)this.currentSearchType!=this.i18n.myContent&&(this.currentSearchType=this.i18n.myContent,a.style(a.byId("addContentSearchURLTableRow"),"display","none"),a.style(a.byId("addContentWithinMapTableRow"),"display",
""),this.hideGridsExcept("arcGISOnlineMyContentServicesNode"),a.byId("addContentResultCountDiv").innerHTML="",this.arcGISOnlineMyContentServicesGrid?(this.onSelected(),a.style(a.byId("arcGISOnlineMyContentServicesNode"),"display","block"),(c!==this.arcGISOnlineMyContentServicesGrid.lastQueryString||d!==this.arcGISOnlineMyContentServicesGrid.lastWithinMapAreaCheck||d&&a.toJson(e)===a.toJson(this.arcGISOnlineMyContentServicesGrid.lastMapExtent))&&this.arcGISOnlineMyContentServicesGrid.newSearch(c,d),
a.byId("addContentResultCountDiv").innerHTML=-1<this.arcGISOnlineMyContentServicesGrid.lastResultCount?this.arcGISOnlineMyContentServicesGrid.lastResultCount+" "+(1==this.arcGISOnlineMyContentServicesGrid.lastResultCount?this.i18n.result:this.i18n.results):"",this.queryExecuted=null==this.arcGISOnlineMyContentServicesGrid.searchGrid.store?!1:!0):(a.byId("addContentResultCountDiv").innerHTML="",d=a.style(a.byId("addContent-main-center"),"width")-8,e=arcgisonline.sharing.util.getUser(),this.arcGISOnlineMyContentServicesGrid=
new arcgisonline.sharing.dijit.ArcGISOnlineServicesGrid({search:c.length?c:null,id:"arcGISOnlineMyContentServicesGrid",w:d,gridId:"arcGISOnlineMyContentServicesNode",queryAdd:"owner:"+e.email+this.permissionSearchFilter,executeQueryOnStartup:!0}),this.queryExecuted=!0)),this.activeGrid=this.arcGISOnlineMyContentServicesGrid;else if(b==this.i18n.myFavorites)this.currentSearchType!=this.i18n.myFavorites&&(this.currentSearchType=this.i18n.myFavorites,a.style(a.byId("addContentSearchURLTableRow"),"display",
"none"),a.style(a.byId("addContentWithinMapTableRow"),"display",""),this.hideGridsExcept("arcGISOnlineMyFavoritesServicesNode"),a.byId("addContentResultCountDiv").innerHTML="",this.arcGISOnlineMyFavoritesServicesGrid?(this.onSelected(),a.style(a.byId("arcGISOnlineMyFavoritesServicesNode"),"display","block"),(c!==this.arcGISOnlineMyFavoritesServicesGrid.lastQueryString||d!==this.arcGISOnlineMyFavoritesServicesGrid.lastWithinMapAreaCheck||d&&a.toJson(e)===a.toJson(this.arcGISOnlineMyFavoritesServicesGrid.lastMapExtent))&&
this.arcGISOnlineMyFavoritesServicesGrid.newSearch(c,d),a.byId("addContentResultCountDiv").innerHTML=-1<this.arcGISOnlineMyFavoritesServicesGrid.lastResultCount?this.arcGISOnlineMyFavoritesServicesGrid.lastResultCount+" "+(1==this.arcGISOnlineMyFavoritesServicesGrid.lastResultCount?this.i18n.result:this.i18n.results):"",this.queryExecuted=null==this.arcGISOnlineMyFavoritesServicesGrid.searchGrid.store?!1:!0):(a.byId("addContentResultCountDiv").innerHTML="",d=a.style(a.byId("addContent-main-center"),
"width")-8,e=arcgisonline.sharing.util.getUser(),this.arcGISOnlineMyFavoritesServicesGrid=new arcgisonline.sharing.dijit.ArcGISOnlineServicesGrid({search:c.length?c:null,id:"arcGISOnlineMyFavoritesServicesGrid",w:d,gridId:"arcGISOnlineMyFavoritesServicesNode",queryAdd:"group:"+esriGeowConfig.self.user.favGroupId+this.permissionSearchFilter,executeQueryOnStartup:!0}),this.queryExecuted=!0)),this.activeGrid=this.arcGISOnlineMyFavoritesServicesGrid;else if((b==this.i18n.myOrg||b===esriGeowConfig.self.name)&&
"singletenant"!==esriGeowConfig.self.portalMode)this.currentSearchType!=this.i18n.myOrg&&(this.currentSearchType=this.i18n.myOrg,a.style(a.byId("addContentSearchURLTableRow"),"display","none"),a.style(a.byId("addContentWithinMapTableRow"),"display",""),this.hideGridsExcept("arcGISOnlineMyOrganizationServicesNode"),a.byId("addContentResultCountDiv").innerHTML="",this.arcGISOnlineMyOrganizationServicesGrid?(this.onSelected(),a.style(a.byId("arcGISOnlineMyOrganizationServicesNode"),"display","block"),
(c!==this.arcGISOnlineMyOrganizationServicesGrid.lastQueryString||d!==this.arcGISOnlineMyOrganizationServicesGrid.lastWithinMapAreaCheck||d&&a.toJson(e)===a.toJson(this.arcGISOnlineMyOrganizationServicesGrid.lastMapExtent))&&this.arcGISOnlineMyOrganizationServicesGrid.newSearch(c,d),a.byId("addContentResultCountDiv").innerHTML=-1<this.arcGISOnlineMyOrganizationServicesGrid.lastResultCount?this.arcGISOnlineMyOrganizationServicesGrid.lastResultCount+" "+(1==this.arcGISOnlineMyOrganizationServicesGrid.lastResultCount?
this.i18n.result:this.i18n.results):"",this.queryExecuted=null==this.arcGISOnlineMyOrganizationServicesGrid.searchGrid.store?!1:!0):(a.byId("addContentResultCountDiv").innerHTML="",d=a.style(a.byId("addContent-main-center"),"width")-8,e=arcgisonline.sharing.util.getUser(),e=arcgisonline.sharing.util.getUser(),this.arcGISOnlineMyOrganizationServicesGrid=new arcgisonline.sharing.dijit.ArcGISOnlineServicesGrid({search:c.length?c:null,id:"arcGISOnlineMyOrganizationServicesGrid",w:d,gridId:"arcGISOnlineMyOrganizationServicesNode",
queryAdd:"orgid:"+(e?e.accountId:esriGeowConfig.self.id)+this.permissionSearchFilter,executeQueryOnStartup:!0}),this.queryExecuted=!1)),this.activeGrid=this.arcGISOnlineMyOrganizationServicesGrid;else if(b==this.i18n.esriDemogLayers)this.currentSearchType!=b&&(this.currentSearchType=b,a.style(a.byId("addContentSearchURLTableRow"),"display","none"),a.style(a.byId("addContentWithinMapTableRow"),"display",""),this.hideGridsExcept("arcGISOnlineDemogGroupServicesNode"),a.byId("addContentResultCountDiv").innerHTML=
"",this.arcGISOnlineDemogGroupServicesGrid?(this.onSelected(),a.style(a.byId("arcGISOnlineDemogGroupServicesNode"),"display","block"),(c!==this.arcGISOnlineDemogGroupServicesGrid.lastQueryString||d!==this.arcGISOnlineDemogGroupServicesGrid.lastWithinMapAreaCheck||d&&a.toJson(e)===a.toJson(this.arcGISOnlineDemogGroupServicesGrid.lastMapExtent))&&this.arcGISOnlineDemogGroupServicesGrid.newSearch(c,d),a.byId("addContentResultCountDiv").innerHTML=-1<this.arcGISOnlineDemogGroupServicesGrid.lastResultCount?
this.arcGISOnlineDemogGroupServicesGrid.lastResultCount+" "+(1==this.arcGISOnlineDemogGroupServicesGrid.lastResultCount?this.i18n.result:this.i18n.results):"",this.queryExecuted=null==this.arcGISOnlineDemogGroupServicesGrid.searchGrid.store?!1:!0):arcgisonline.sharing.util.getJson(esriGeowConfig.restBaseUrl+'community/groups?q\x3d(title:"Featured Maps And Apps" AND owner:esri)').then(a.hitch(this,function(b){if(b.results&&b.results.length){var d="(",e="";a.forEach(b.results,function(a){d+=e+"group:"+
a.id;e=" OR "});d+=")";a.byId("addContentResultCountDiv").innerHTML="";b=a.style(a.byId("addContent-main-center"),"width")-8;arcgisonline.sharing.util.getUser();arcgisonline.sharing.util.getUser();this.arcGISOnlineDemogGroupServicesGrid=new arcgisonline.sharing.dijit.ArcGISOnlineServicesGrid({search:c.length?c:null,id:"arcGISOnlineDemogGroupServicesGrid",w:b,gridId:"arcGISOnlineDemogGroupServicesNode",queryAdd:d+this.permissionSearchFilter,executeQueryOnStartup:!0});this.queryExecuted=!0;this.adjustHeight();
this.activeGrid=this.arcGISOnlineDemogGroupServicesGrid}}),function(a){console.log("Esri Deomgraphics Group, '(title:\"Featured Maps And Apps\" AND owner:esri)', could not be found.")}));else if(-1<b.indexOf(" "+this.i18n.group)){var f=this.addContentSearchFrom.item;if(this.currentSearchType!=b||null==f){null==f&&this.addContentSearchFrom.store.fetch({query:{},onComplete:a.hitch(this,function(a){for(var c=0;c<a.length;c++)if(this.addContentSearchFrom.store.getValue(a[c],"name")==b){f=a[c];break}})});
this.currentSearchType=b;a.style(a.byId("addContentSearchURLTableRow"),"display","none");a.style(a.byId("addContentWithinMapTableRow"),"display","");var k=this.addContentSearchFrom.store.getValue(f,"id"),g="id"+k;this.hideGridsExcept(g+"Node");a.byId("addContentResultCountDiv").innerHTML="";this.groupsGrid[g+"Grid"]?(this.onSelected(),a.style(a.byId(g+"Node"),"display","block"),(c!==this.groupsGrid[g+"Grid"].lastQueryString||d!==this.groupsGrid[g+"Grid"].lastWithinMapAreaCheck||d&&a.toJson(e)===a.toJson(this.groupsGrid[g+
"Grid"].lastMapExtent))&&this.groupsGrid[g+"Grid"].newSearch(c,d),a.byId("addContentResultCountDiv").innerHTML=-1<this.groupsGrid[g+"Grid"].lastResultCount?this.groupsGrid[g+"Grid"].lastResultCount+" "+(1==this.groupsGrid[g+"Grid"].lastResultCount?this.i18n.result:this.i18n.results):"",this.queryExecuted=null==this.groupsGrid[g+"Grid"].searchGrid.store?!1:!0):(e=arcgisonline.sharing.util.getUser(),a.byId("addContentResultCountDiv").innerHTML="",d=a.style(a.byId("addContent-main-center"),"width")-
8,this.groupsGrid[g+"Grid"]=new arcgisonline.sharing.dijit.ArcGISOnlineServicesGrid({search:c.length?c:null,id:g+"Grid",w:d,gridId:g+"Node",queryAdd:"group:"+k+this.permissionSearchFilter,executeQueryOnStartup:!0}),this.queryExecuted=!0)}this.activeGrid=this.groupsGrid[g+"Grid"]}this.adjustHeight()}},doSearch:function(b){var c=this.addContentSearchText.get("value");c==this.defaultSearchText&&(c="");var d=this.addContentWithinMapCheck.attr("checked");a.byId("addContentResultCountDiv").innerHTML="";
if(this.currentSearchType==(esriGeowConfig.portalName?esriGeowConfig.portalName:this.i18n.arcgisOnline))arcGISOnlineServicesGrid.newSearch(c,d);else if(this.currentSearchType==this.i18n.web)this.googleServicesGrid.newSearch(c);else if(this.currentSearchType==this.i18n.gisServer)("go"===b||"key"===b)&&this.displaySecurityText(),this.addContentSearchURL.get("value")!=this.defaultUrlTextArcGISServer&&(c=this.arcgisServerServicesGrid.getServices(this.addContentSearchURL.get("value"),c),0==this.addContentSearchURL.get("value").length?
(this.addContentSearchURL.set("value",this.defaultUrlTextArcGISServer),a.style(this.addContentSearchURL.domNode,"color","#999999")):this.addContentSearchURL.set("value",c));else if(this.currentSearchType==this.i18n.myContent)this.arcGISOnlineMyContentServicesGrid.newSearch(c,d);else if(this.currentSearchType==this.i18n.myFavorites)this.arcGISOnlineMyFavoritesServicesGrid.newSearch(c,d);else if(this.currentSearchType==this.i18n.myOrg)this.arcGISOnlineMyOrganizationServicesGrid.newSearch(c,d);else if(this.currentSearchType==
this.i18n.esriDemogLayers)this.arcGISOnlineDemogGroupServicesGrid.newSearch(c,d);else if(-1<this.currentSearchType.indexOf(" "+this.i18n.group)){var e=this.addContentSearchFrom.item;if(null==e){var f=this.currentSearchType;this.addContentSearchFrom.store.fetch({query:{},onComplete:a.hitch(this,function(a){for(var b=0;b<a.length;b++)if(this.addContentSearchFrom.store.getValue(a[b],"name")==f){e=a[b];break}})})}b="id"+this.addContentSearchFrom.store.getValue(e,"id");this.groupsGrid[b+"Grid"].newSearch(c,
d)}this.queryExecuted=!0},exploreArcGISServer:function(b){this.addContentSearchFrom.set("value",this.i18n.gisServer);if(!this.arcgisServerServicesGrid){this.addContentSearchText.set("value",this.defaultSearchText);a.style(this.addContentSearchText.domNode,"color","#999999");this.addContentSearchURL.set("value",this.defaultUrlTextArcGISServer);a.style(this.addContentSearchURL.domNode,"color","#999999");var c=a.style(a.byId("addContent-main-center"),"width")-8;this.arcgisServerServicesGrid=new arcgisonline.sharing.dijit.ArcGISServerServicesGrid({w:c})}this.addContentSearchURL.set("value",
b);a.style(this.addContentSearchURL.domNode,"color","#444444");this.arcgisServerServicesGrid.getServices(b,"")},rebuildList:function(b,c,d,e){if(this.addContentSearchFromLoaded){var h=!1;this.addContentSearchFrom.store.fetch({query:{},onComplete:a.hitch(this,function(a){for(var c=0;c<a.length;c++)if(this.addContentSearchFrom.store.getValue(a[c],"name")==b){h=!0;break}})});h||(b=esriGeowConfig.portalName?esriGeowConfig.portalName:this.i18n.arcgisOnline,d=c="",e=!1);this.addContentSearchFrom.set("value",
b);f.byId("addContentPanel").newSearchType(b);0<c.length&&c!=this.defaultUrlTextArcGISServer&&(this.addContentSearchURL.set("value",c),a.style(this.addContentSearchURL.domNode,"color","#444444"));0==d.length?(this.addContentSearchText.set("value",this.defaultSearchText),a.style(this.addContentSearchText.domNode,"color","#999999")):d!=this.defaultSearchText&&(this.addContentSearchText.set("value",d),a.style(this.addContentSearchText.domNode,"color","#444444"));e&&this.doSearch("rebuild")}else setTimeout(function(){f.byId("addContentPanel").rebuildList(b,
c,d,e)},2E3)},onClear:function(b){b=this.addContentWithinMapCheck.attr("checked");this.addContentSearchText.set("value",this.defaultSearchText);a.style(this.addContentSearchText.domNode,"color","#999999");if(this.currentSearchType!=(esriGeowConfig.portalName?esriGeowConfig.portalName:this.i18n.arcgisOnline))arcGISOnlineServicesGrid.newSearch("",b);else if(this.currentSearchType!=this.i18n.web)this.googleServicesGrid&&this.googleServicesGrid.newSearch("");else if(this.currentSearchType!=this.i18n.myContent)this.arcGISOnlineMyContentServicesGrid&&
this.arcGISOnlineMyContentServicesGrid.newSearch("",b);else if(this.currentSearchType!=this.i18n.myFavorites)this.arcGISOnlineMyFavoritesServicesGrid&&this.arcGISOnlineMyFavoritesServicesGrid.newSearch("",b);else if(this.currentSearchType!=this.i18n.myOrg)this.arcGISOnlineMyOrganizationServicesGrid&&this.arcGISOnlineMyOrganizationServicesGrid.newSearch("",b);else if(this.currentSearchType!=this.i18n.esriDemogLayers)this.arcGISOnlineDemogGroupServicesGrid&&this.arcGISOnlineDemogGroupServicesGrid.newSearch("",
b);else if(-1<this.currentSearchType.indexOf(" "+this.i18n.group)){var c="id"+this.addContentSearchFrom.store.getValue(this.addContentSearchFrom.item,"id");this.groupsGrid[c+"Grid"]&&this.groupsGrid[c+"Grid"].newSearch("",b)}},hideGridsExcept:function(b){"arcGISOnlineServicesNode"!=b&&(arcGISOnlineServicesGrid.hideTooltip(),a.style(a.byId("arcGISOnlineServicesNode"),"display","none"));"googleServicesNode"!=b&&a.byId("googleServicesNode")&&(this.googleServicesGrid&&this.googleServicesGrid.hideTooltip(),
a.style(a.byId("googleServicesNode"),"display","none"));"arcgisServerServicesNode"!=b&&a.byId("arcgisServerServicesNode")&&(this.arcgisServerServicesGrid&&this.arcgisServerServicesGrid.hideTooltip(),a.style(a.byId("arcgisServerServicesNode"),"display","none"));"arcGISOnlineMyContentServicesNode"!=b&&a.byId("arcGISOnlineMyContentServicesNode")&&(this.arcGISOnlineMyContentServicesGrid&&this.arcGISOnlineMyContentServicesGrid.hideTooltip(),a.style(a.byId("arcGISOnlineMyContentServicesNode"),"display",
"none"));"arcGISOnlineMyFavoritesServicesNode"!=b&&a.byId("arcGISOnlineMyFavoritesServicesNode")&&(this.arcGISOnlineMyFavoritesServicesGrid&&this.arcGISOnlineMyFavoritesServicesGrid.hideTooltip(),a.style(a.byId("arcGISOnlineMyFavoritesServicesNode"),"display","none"));"arcGISOnlineMyOrganizationServicesNode"!=b&&a.byId("arcGISOnlineMyOrganizationServicesNode")&&(this.arcGISOnlineMyOrganizationServicesGrid&&this.arcGISOnlineMyOrganizationServicesGrid.hideTooltip(),a.style(a.byId("arcGISOnlineMyOrganizationServicesNode"),
"display","none"));"arcGISOnlineDemogGroupServicesNode"!=b&&a.byId("arcGISOnlineDemogGroupServicesNode")&&(this.arcGISOnlineDemogGroupServicesGrid&&this.arcGISOnlineDemogGroupServicesGrid.hideTooltip(),a.style(a.byId("arcGISOnlineDemogGroupServicesNode"),"display","none"));for(var c in this.groupsGrid){var d=c.substring(0,c.length-4),e=d+"Node";b!=e&&a.byId(e)&&(this.groupsGrid[d+"Grid"]&&this.groupsGrid[d+"Grid"].hideTooltip(),a.style(a.byId(e),"display","none"))}},adjustHeight:function(b){if(!("undefined"==
typeof leftPanel||"addContentStack"!=leftPanel.visibleStack)){b=a.coords(a.byId("leftContentStackContainer")).h;var c=a.coords(a.byId("addContent-main-top-input")),c=c.t+c.h+10;a.style(a.byId("addContent-main-top"),"height",c+"px");var d=a.coords(a.byId("addContentSiteFooter_links")).h+15,e=d+a.coords(a.byId("addContentClose")).h;a.style(a.byId("addContentFooter"),"height",d+"px");b=b-c-e-14;if(0<b){a.style(a.byId("addContent-main-center"),"height",b+"px");a.byId("arcGISOnlineServicesNode")&&a.style(a.byId("arcGISOnlineServicesNode"),
"height",b+"px");a.byId("arcgisServerServicesNode")&&a.style(a.byId("arcgisServerServicesNode"),"height",b+"px");a.byId("googleServicesNode")&&a.style(a.byId("googleServicesNode"),"height",b+"px");a.byId("arcGISOnlineMyContentServicesNode")&&a.style(a.byId("arcGISOnlineMyContentServicesNode"),"height",b+"px");a.byId("arcGISOnlineMyFavoritesServicesNode")&&a.style(a.byId("arcGISOnlineMyFavoritesServicesNode"),"height",b+"px");a.byId("arcGISOnlineMyOrganizationServicesNode")&&a.style(a.byId("arcGISOnlineMyOrganizationServicesNode"),
"height",b+"px");a.byId("arcGISOnlineDemogGroupServicesNode")&&a.style(a.byId("arcGISOnlineDemogGroupServicesNode"),"height",b+"px");for(var h in this.groupsGrid)a.style(a.byId(h.substring(0,h.length-4)+"Node"),"height",b+"px")}b=a.coords(a.byId("leftContentStackContainer")).w;a.style(a.byId("addContent-main-center-table"),"width",b+"px");b-=8;if(0<b){a.style(a.byId("addContent-main-center"),"width",b+"px");a.byId("arcGISOnlineServicesNode")&&a.style(a.byId("arcGISOnlineServicesNode"),"width",b+"px");
a.byId("arcgisServerServicesNode")&&a.style(a.byId("arcgisServerServicesNode"),"width",b+"px");a.byId("googleServicesNode")&&a.style(a.byId("googleServicesNode"),"width",b+"px");a.byId("arcGISOnlineMyContentServicesNode")&&a.style(a.byId("arcGISOnlineMyContentServicesNode"),"width",b+"px");a.byId("arcGISOnlineMyFavoritesServicesNode")&&a.style(a.byId("arcGISOnlineMyFavoritesServicesNode"),"width",b+"px");a.byId("arcGISOnlineMyOrganizationServicesNode")&&a.style(a.byId("arcGISOnlineMyOrganizationServicesNode"),
"width",b+"px");a.byId("arcGISOnlineDemogGroupServicesNode")&&a.style(a.byId("arcGISOnlineDemogGroupServicesNode"),"width",b+"px");for(h in this.groupsGrid)a.style(a.byId(h.substring(0,h.length-4)+"Node"),"width",b+"px");c=a.style(a.byId("col1"),"width");d=a.style(a.byId("col2"),"width");e=a.style(a.byId("col4"),"width");a.style(a.byId("widget_addContentSearchText"),"width",b-(c+d+e+6)+"px");a.style(a.byId("widget_addContentSearchURL"),"width",b-(c+d+e+6)+"px");a.style(a.byId("widget_addContentSearchFrom"),
"width",b-(c+d+e+4)+"px")}f.byId("arcGISOnlineServicesNode")&&(arcGISOnlineServicesGrid.hideTooltip(),f.byId("arcGISOnlineServicesNode").resize());f.byId("arcgisServerServicesNode")&&(this.arcgisServerServicesGrid&&this.arcgisServerServicesGrid.hideTooltip(),f.byId("arcgisServerServicesNode").resize());f.byId("googleServicesNode")&&(this.googleServicesGrid&&this.googleServicesGrid.hideTooltip(),f.byId("googleServicesNode").resize());f.byId("arcGISOnlineMyContentServicesNode")&&(this.arcGISOnlineMyContentServicesGrid&&
this.arcGISOnlineMyContentServicesGrid.hideTooltip(),f.byId("arcGISOnlineMyContentServicesNode").resize());f.byId("arcGISOnlineMyFavoritesServicesNode")&&(this.arcGISOnlineMyFavoritesServicesGrid&&this.arcGISOnlineMyFavoritesServicesGrid.hideTooltip(),f.byId("arcGISOnlineMyFavoritesServicesNode").resize());f.byId("arcGISOnlineMyOrganizationServicesNode")&&(this.arcGISOnlineMyOrganizationServicesGrid&&this.arcGISOnlineMyOrganizationServicesGrid.hideTooltip(),f.byId("arcGISOnlineMyOrganizationServicesNode").resize());
f.byId("arcGISOnlineDemogGroupServicesNode")&&(this.arcGISOnlineDemogGroupServicesGrid&&this.arcGISOnlineDemogGroupServicesGrid.hideTooltip(),f.byId("arcGISOnlineDemogGroupServicesNode").resize());for(h in this.groupsGrid)b=h.substring(0,h.length-4),this.groupsGrid[b+"Grid"]&&this.groupsGrid[b+"Grid"].hideTooltip(),f.byId(b+"Node").resize()}},focusUrl:function(b){this.addContentSearchURL.get("value")==this.defaultUrlTextArcGISServer&&(this.addContentSearchURL.set("value",""),a.style(this.addContentSearchURL.domNode,
"color","#444444"))},focusSearchText:function(b){this.addContentSearchText.get("value")==this.defaultSearchText&&(this.addContentSearchText.set("value",""),a.style(this.addContentSearchText.domNode,"color","#444444"))},clearLists:function(){arcGISOnlineServicesGrid.clearList();this.googleServicesGrid&&this.googleServicesGrid.clearList();this.arcgisServerServicesGrid&&this.arcgisServerServicesGrid.clearList();this.arcGISOnlineMyContentServicesGrid&&this.arcGISOnlineMyContentServicesGrid.clearList();
this.arcGISOnlineMyFavoritesServicesGrid&&this.arcGISOnlineMyFavoritesServicesGrid.clearList();this.arcGISOnlineMyOrganizationServicesGrid&&this.arcGISOnlineMyOrganizationServicesGrid.clearList();this.arcGISOnlineDemogGroupServicesGrid&&this.arcGISOnlineDemogGroupServicesGrid.clearList();if(this.groupsGrid)for(var a in this.groupsGrid){var c=a.substring(0,a.length-4);this.groupsGrid[c+"Grid"]&&this.groupsGrid[c+"Grid"].clearList()}},onSelected:function(){var a=this.addContentWithinMapCheck.attr("checked");
if(this.currentSearchType==(esriGeowConfig.portalName?esriGeowConfig.portalName:this.i18n.arcgisOnline))arcGISOnlineServicesGrid.runLastQuery(a);else if(this.currentSearchType==this.i18n.web)this.googleServicesGrid.runLastQuery();else if(this.currentSearchType==this.i18n.gisServer)this.arcgisServerServicesGrid.runLastQuery();else if(this.currentSearchType==this.i18n.myContent||" "==this.currentSearchType||"  "==this.currentSearchType)this.arcGISOnlineMyContentServicesGrid.runLastQuery(a);else if(this.currentSearchType==
this.i18n.myFavorites)this.arcGISOnlineMyFavoritesServicesGrid.runLastQuery(a);else if(this.currentSearchType==this.i18n.myOrg)this.arcGISOnlineMyOrganizationServicesGrid.runLastQuery(a);else if(this.currentSearchType==this.i18n.esriDemogLayers)this.arcGISOnlineDemogGroupServicesGrid.runLastQuery(a);else if(-1<this.currentSearchType.indexOf(" "+this.i18n.group)){var c=this.addContentSearchFrom.item;c&&(c="id"+this.addContentSearchFrom.store.getValue(c,"id"),this.groupsGrid[c+"Grid"].runLastQuery(a))}},
displaySecurityText:function(){esriGeowConfig.addContentSecurityText&&0<esriGeowConfig.addContentSecurityText.length&&arcgisonline.sharing.dijit.dialog.GeneralDlg.prototype.statics.getInstance().show({title:this.i18n.error.securityTitle,message:esriGeowConfig.addContentSecurityText})}})});