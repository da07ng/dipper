// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.15/esri/copyright.txt for details.
//>>built
define("arcgisonline/sharing/dijit/TextMenu",["dijit","dojo","dojox","dojo/require!arcgisonline/sharing/util"],function(c,a,d){a.provide("arcgisonline.sharing.dijit.TextMenu");a.require("arcgisonline.sharing.util");a.declare("arcgisonline.sharing.dijit.TextMenu",[c._Widget],{_util:arcgisonline.sharing.util,textMenuItems:[{label:"No menu items",href:"#",iconClass:null}],labelNode:null,triggerNode:null,menu:null,handlers:[],constructor:function(b){a.mixin(this,b)},postCreate:function(){this.menu=(new c.Menu({})).placeAt(a.body());
a.addClass(this.menu.domNode,"esriTextMenu");c.popup.moveOffScreen(this.menu.domNode);null!==this.textMenuItems&&this._renderItems(this.textMenuItems);a.style(this.triggerNode,"cursor","hand");a.style(this.triggerNode,"cursor","pointer");this.handlers.push(a.connect(this.triggerNode,"onclick",this,this.show));a.connect(this.menu,"onMouseLeave",a.hitch(this,function(){this.hide()}))},show:function(b){b.preventDefault();c.popup.open({popup:this.menu,around:this.labelNode,orient:{BL:"TL",BR:"TR",TL:"BL",
TR:"BR"},onExecute:a.hitch(this,this.hide),onCancel:a.hitch(this,this.hide)});this.menu.focus()},hide:function(){c.popup.close(this.menu)},destroy:function(){this.hide();a.forEach(this.handlers,function(b){a.disconnect(b)});a.forEach(a.query(".esriTextMenuItem"),function(a){c.byNode(a).destroy()},this);this.menu.destroy();this.inherited(arguments)},_renderItems:function(b){a.forEach(b,function(b){b=new c.MenuItem(b);a.addClass(b.domNode,"esriTextMenuItem");this.menu.addChild(b)},this)}})});