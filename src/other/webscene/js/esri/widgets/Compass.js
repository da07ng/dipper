// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/4.0beta2/esri/copyright.txt for details.
//>>built
require({cache:{"url:esri/widgets/Compass/templates/Compass.html":'\x3cdiv title\x3d"${_i18n.reset}"\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"dap_indicator" class\x3d"${css.indicator}"\x3e\r\n    \x3csvg class\x3d"${css.compass}" xmlns\x3d"http://www.w3.org/2000/svg" xmlns:xlink\x3d"http://www.w3.org/1999/xlink" version\x3d"1.1" x\x3d"0px" y\x3d"0px" viewBox\x3d"0 0 30 30" xml:space\x3d"preserve" enable-background\x3d"new 0 0 30 30" aria-labelledby\x3d"title" aria-describedby\x3d"desc" role\x3d"img"\x3e\r\n      \x3ctitle\x3e${_i18n.title}\x3c/title\x3e\r\n      \x3cdesc\x3e${_i18n.rotationDescription}\x3c/desc\x3e\r\n      \x3cpath class\x3d"${css.compassStyle}" d\x3d"M15 3.2C8.48 3.2 3.2 8.48 3.2 15S8.48 26.8 15 26.8 26.8 21.52 26.8 15 21.52 3.2 15 3.2zM15 25.7C9.1 25.7 4.3 20.9 4.3 15 4.3 9.44 8.57 4.86 14 4.35V11h2V4.35c5.43 0.51 9.7 5.09 9.7 10.65C25.7 20.9 20.9 25.7 15 25.7z" /\x3e\r\n    \x3c/svg\x3e\r\n    \x3csvg class\x3d"${css.compassNorth}" xmlns\x3d"http://www.w3.org/2000/svg" xmlns:xlink\x3d"http://www.w3.org/1999/xlink" version\x3d"1.1" x\x3d"0" y\x3d"0" viewBox\x3d"0 0 30 30" xml:space\x3d"preserve" enable-background\x3d"new 0 0 30 30" aria-labelledby\x3d"title" aria-describedby\x3d"desc" role\x3d"img"\x3e\r\n      \x3ctitle\x3e${_i18n.title}\x3c/title\x3e\r\n      \x3cdesc\x3e${_i18n.compassDescription}\x3c/desc\x3e\r\n      \x3cpath class\x3d"${css.compassStyle}" d\x3d"M15 3l-4.79 11.46c-0.13 0.35-0.13 0.73 0 1.08L15 27l4.79-11.46c0.13-0.35 0.13-0.73 0-1.08L15 3zM11.3 16h7.4L15 25.2 11.3 16z" /\x3e\r\n    \x3c/svg\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e'}});
define("../core/watchUtils ./Widget dijit/_TemplatedMixin dijit/a11yclick dojo/dom-attr dojo/dom-class dojo/dom-style dojo/i18n!../nls/jsapi dojo/text!./Compass/templates/Compass.html".split(" "),function(c,f,g,h,e,d,k,l,m){return f.createSubclass([g],{declaredClass:"esri.widgets.Compass",baseClass:"esri-compass",templateString:m,css:{disabled:"esri-disabled",indicator:"esri-indicator",interactive:"esri-interactive",isWebMercator:"esri-compass-is-web-mercator",compass:"esri-compass-icon",compassNorth:"esri-compass-icon-north",
compassStyle:"esri-compass-style"},constructor:function(){this._handleClick=this._handleClick.bind(this);this._updateForCamera=this._updateForCamera.bind(this);this._updateForRotation=this._updateForRotation.bind(this);this._checkSpatialReference=this._checkSpatialReference.bind(this);this._handleReadyChange=this._handleReadyChange.bind(this);this._i18n=l.widgets.compass},postCreate:function(){this.inherited(arguments);this.on(h,this._handleClick)},_rotationWatcher:null,_srWatcher:null,view:null,
_setViewAttr:function(a){this._set("view",a);this._wireUp(a)},_wireUp:function(a){this._removeWatcher(this._srWatcher,this._rotationWatcher,this._readyWatcher);a?(this._srWatcher=c.init(a,"map.spatialReference",this._checkSpatialReference),this._rotationWatcher="2d"===a.type?c.init(a,"rotation",this._updateForRotation):c.init(a,"camera",this._updateForCamera),this._readyWatcher=c.init(a,"ready",this._handleReadyChange),this.own(this._srWatcher,this._rotationWatcher,this._readyWatcher)):d.add(this.domNode,
this.css.disabled)},_removeWatcher:function(){Array.prototype.slice.call(arguments).forEach(function(a){a&&a.remove()})},_checkSpatialReference:function(a){a=a&&(a.isWebMercator()||4326===a.wkid);d.toggle(this.dap_indicator,this.css.isWebMercator,a)},_applyRotation:function(a){var b="";"x"in a&&(b+="rotateX("+a.x+"deg)");"y"in a&&(b+="rotateY("+a.y+"deg)");"z"in a&&(b+="rotateZ("+a.z+"deg)");k.set(this.dap_indicator,{transform:b,mozTransform:b,webkitTransform:b,oTransform:b,msTransform:b})},_updateForRotation:function(a){void 0===
a||null===a||this._applyRotation({z:a})},_updateForCamera:function(a){a&&this._applyRotation({y:0,z:-a.heading})},_handleClick:function(){var a=this.view;a&&a.ready&&("2d"===a.type?a.animateTo({rotation:0}):a.animateTo({heading:0,tilt:0}))},_handleReadyChange:function(a){d.toggle(this.domNode,this.css.disabled,!a);d.toggle(this.domNode,this.css.interactive,a);a?e.set(this.domNode,"tabindex",0):e.remove(this.domNode,"tabindex")}})});