// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/4.0beta2/esri/copyright.txt for details.
//>>built
define("dojo/_base/lang dojo/has dojo/on dojo/dom-style esri/core/Accessor esri/core/Scheduler".split(" "),function(B,P,Q,h,R,S){var G=0,H=0,I=0,J=0,C=0,D=0,K=0,L=0,w=0,x=0;P("opera");var T=function(){if("classList"in document.createElement("_"))return function(a){return a.classList.toString()};var b=String.prototype.trim||function(){return this.replace(/^\s+|\s+$/g,"")};return function(a){a=b.call(a.getAttribute("class")||"");return(a?a.split(/\s+/):[]).join(" ")}}();return R.createSubclass({declaredClass:"esri.views.DOMContainer",
classMetadata:{properties:{container:{},size:{copy:function(b,a){b[0]=a[0];b[1]=a[1]}},heightResizeMode:{readOnly:!0},widthResizeMode:{readOnly:!0},resizing:{},suspended:{}},computed:{width:["size"],height:["size"]}},constructor:function(b){var a=this._measureInfo={task:null,count:0,freq:0.016,time:0.75,classList:null},d=null;this.watch("container",function(b,h,e,l){d&&(d.remove(),d=null,a.freq=0.016,a.time=0.75,a.count=0);a.task&&(a.task.remove(),a.task=null);b&&(d=Q(window,"resize",function(){a.freq=
0.016;a.time=0.75;a.count=0}.bind(l)),a.task=S.addFrameTask({prepare:l._measure.bind(l)}))})},getDefaults:function(){return B.mixin(this.inherited(arguments),{size:[0,0],position:[0,0]})},destroy:function(){this.container=null},_measureInfo:null,size:null,_sizeSetter:function(b,a){a||(a=[0,0]);a[0]=b[0];a[1]=b[1];return a},position:null,_positionSetter:function(b,a){a||(a=[0,0]);a[0]=b[0];a[1]=b[1];return a},height:0,_heightGetter:function(b){return this.size[1]},_heightSetter:function(b,a){var d=
this.container;b=b?"string"===typeof b?-1<b.indexOf("px")?h.toPixelValue(d,b):"auto":h.toPixelValue(d,b):"auto";if("auto"===b)return d&&(d.style.height=""),this._accessorProps.set("heightResizeMode","auto"),this._measureInfo.freq=0.016,a;this._accessorProps.set("heightResizeMode","user-defined");this._measureInfo.freq=0.016;d&&(d.style.height=b+"px");return b},heightResizeMode:"auto",resizing:!1,suspended:!0,width:0,_widthGetter:function(b){return this.size[0]},_widthSetter:function(b,a){var d=this.container;
b=b?"string"===typeof b?-1<b.indexOf("px")?h.toPixelValue(d,b):"auto":h.toPixelValue(d,b):"auto";if("auto"===b)return d&&(d.style.width=""),this._accessorProps.set("widthResizeMode","auto"),this._measureInfo.freq=0.016,a;this._accessorProps.set("widthResizeMode","user-defined");this._measureInfo.freq=0.016;d&&(d.style.width=b+"px");return b},widthResizeMode:"auto",pageToContainer:function(b,a,d){var h=this.position;b-=h[0];a-=h[1];d?(d[0]=b,d[1]=a):d=[b,a];return d},_measure:function(){var b=[0,0];
return function(a,d,y,E){a=this._measureInfo;a.time+=d;if(!(a.time<a.freq)){a.time=0;var e=this.container;d=this.root;y=this.surface;var l=this.size,z=this.position;E=!1;var n=h.toPixelValue,f=0,c=0,m=0,p=0,A=l[0],l=l[1],B=z[0],z=z[1],q="auto"===this.heightResizeMode,r="auto"===this.widthResizeMode,u=e&&(!A||!l||q||r),F=null==e;if(e){var v=T(e),k=h.getComputedStyle(e),c=k,f=e.clientWidth,g=h.toPixelValue,m=g(e,c.paddingLeft),p=g(e,c.paddingTop),s=g(e,c.paddingRight),g=g(e,c.paddingBottom);I=m+s;J=
p+g;g=h.toPixelValue;m="none"!=c.borderLeftStyle?g(e,c.borderLeftWidth):0;p="none"!=c.borderTopStyle?g(e,c.borderTopWidth):0;s="none"!=c.borderRightStyle?g(e,c.borderRightWidth):0;c="none"!=c.borderBottomStyle?g(e,c.borderBottomWidth):0;C=m+s;D=p+c;c=e.ownerDocument||window.document;c=c.parentWindow||c.defaultView;m=e.getBoundingClientRect();G=m.left+c.pageXOffset;H=m.top+c.pageYOffset;f?(c=e.clientHeight,C=D=0):(f=e.offsetWidth,c=e.offsetHeight);K=G;L=H;w=f-I-C;x=c-J-D;0>w&&(w=0);0>x&&(x=0);c=r?
w:this.width;f=q?x:this.height;m=K;p=L;v===a.classList&&(0!==c&&(r=!1),0!==f&&(q=!1));a.classList=v;!c&&!f&&(u=!1,F=!0)}if(u){var u=n(e,k.minWidth),g=n(e,k.minHeight),v=n(e,k.maxWidth),M=n(e,k.maxHeight),N=e.ownerDocument||window.document,s=N.body,t=s.getBoundingClientRect();if(q){var q=t.top+(t.bottom-t.height),O=n(e,k.marginTop)+n(e,k.marginBottom),f=N.documentElement.clientHeight-s.clientHeight+(f||d.clientHeight)-q-O;0<g&&(f=Math.max(f,g));f=0<M?Math.min(f,M):Math.min(f,window.innerHeight-q-O)}r&&
(r=t.left+(t.right-t.width),k=n(e,k.marginLeft)+n(e,k.marginRight),c=document.documentElement.clientWidth-s.clientWidth+(c||d.clientWidth)-r-k,0<u&&(c=Math.max(c,u)),c=0<v?Math.min(c,v):Math.min(c,window.innerWidth-r-k))}c=0>c?0:c;f=0>f?0:f;c&&f&&(c!==A||f!==l)?(b[0]=c,b[1]=f,this._accessorProps.set("size",b),E=!0,a.count=0,a.freq=0.016):c===A&&f===l&&(a.count++,a.count=0,a.freq=Math.min(0.75,2*a.freq),0.512<=a.freq&&(this.resizing=!1));if(m!==B||p!==z)b[0]=m,b[1]=p,this._accessorProps.set("position",
b);E&&(this.resizing=!0,d&&y&&(d.style.width=y.style.width=c+"px",d.style.height=y.style.height=f+"px"),this.emit("resize",{oldWidth:A,oldHeight:l,width:c,height:f}));this.suspended!==F&&(this.suspended=F)}}}()})});