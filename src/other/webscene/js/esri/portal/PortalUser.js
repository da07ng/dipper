// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/4.0beta2/esri/copyright.txt for details.
//>>built
define("./PortalFolder ./PortalGroup ./PortalItem ./support/portalResult ./support/PortalUtil ../core/declare dojo/_base/lang".split(" "),function(f,g,e,b,d,h,c){return h([],{declaredClass:"esri.arcgis.PortalUser",portal:null,constructor:function(a){c.mixin(this,a);this.url=(this.portal&&this.portal.portalUrl)+"community/users/"+this.username;this.userContentUrl=(this.portal&&this.portal.portalUrl)+"content/users/"+this.username;this.thumbnailUrl=this.portal.portalUtil.formatUrl(this.url+"/info/"+
this.thumbnail);this.modified=this.modified?new Date(this.modified):null;this.created=this.created?new Date(this.created):null},getGroups:function(){return b(this.portal.portalUtil.request(this.url).then(c.hitch(this,function(a){return d.resultsToTypedArray(g,{portal:this.portal},a.groups)})))},getNotifications:function(){return this.portal.portalUtil.requestToTypedArray(this.url+"/notifications",null,null,null,{portal:this.portal})},getGroupInvitations:function(){return this.portal.portalUtil.requestToTypedArray(this.url+
"/invitations",null,null,null,{portal:this.portal})},getTags:function(){return this.portal.portalUtil.requestToTypedArray(this.url+"/tags",null,null,null,{portal:this.portal})},getFolders:function(){return b(this.getContent().then(function(a){return a.folders}))},getItems:function(a){return b(this.getContent(a).then(function(a){return a.items}))},getItem:function(a){return this.portal.portalUtil.request(this.portal.portalUrl+"content/items/"+a).then(c.hitch(this,function(a){return new e(c.mixin(a,
{portal:this.portal}))}))},getContent:function(a){var b=this.url.replace("community","content")+(a?"/"+a:"");return this.portal.portalUtil.request(b).then(c.hitch(this,function(b){b.folders=d.resultsToTypedArray(f,{portal:this.portal},b.folders);b.items=d.resultsToTypedArray(e,{portal:this.portal,folderId:a},b.items);return b}))}})});