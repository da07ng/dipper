// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.15/esri/copyright.txt for details.
//>>built
define("arcgisonline/map/dijit/About",["dijit","dojo","dojox","dojo/require!dijit/form/CheckBox,dijit/_Widget,dijit/_Templated,arcgisonline/sharing/util,arcgisonline/sharing/dijit/dialog/OpenPresentationDlg,arcgisonline/coachmarks/tours"],function(f,b,g){b.provide("arcgisonline.map.dijit.About");b.require("dijit.form.CheckBox");b.require("dijit._Widget");b.require("dijit._Templated");b.require("arcgisonline.sharing.util");b.require("arcgisonline.sharing.dijit.dialog.OpenPresentationDlg");b.require("arcgisonline.coachmarks.tours");
b.declare("arcgisonline.map.dijit.About",[f._Widget,f._Templated],{widgetsInTemplate:!0,templateString:'\x3cdiv dojoType\x3d"dijit.layout.BorderContainer" region\x3d"top"\x3e \r\n\r\n    \x3cdiv id\x3d"aboutContentHeader" class\x3d"panel panel_left" dojoType\x3d"dijit.layout.ContentPane" region\x3d"top"\x3e\r\n    \t\x3cdiv id\x3d"aboutContentButtons" class\x3d"viewerPanelButtons"\x3e\r\n        \t\x3cdiv class\x3d"esriFloatLeading"\x3e\r\n           \t \t\x3cbutton dojotype\x3d"dijit.form.ToggleButton" id\x3d"webmap-details-about" iconclass\x3d"esriDetailsAboutIcon" title\x3d"${i18n.about}"\x3e\x3c/button\x3e\r\n            \t\x3cbutton dojotype\x3d"dijit.form.Button" type\x3d"button" id\x3d"webmap-details-about-content" iconclass\x3d"esriDetailsContentsIcon" title\x3d"${i18n.showContents}"\x3e\x3c/button\x3e\r\n            \t\x3cbutton dojotype\x3d"dijit.form.Button" type\x3d"button" id\x3d"webmap-details-about-legend" iconclass\x3d"esriDetailsLegendIcon" title\x3d"${i18n.showLegend}"\x3e\x3c/button\x3e\r\n            \x3c/div\x3e\r\n\t        \x3cdiv class\x3d"esriFloatTrailing" style\x3d"display:inline; padding-top:5px;"\x3e\x3ca href\x3d"JavaScript:void(0);" dojoAttachPoint\x3d"_closeBtn" title\x3d"${i18n.close}" class\x3d"panel panel_close panel_collapse"\x3e\x3cimg src\x3d"images/close.gif" border\x3d"0"/\x3e\x3c/A\x3e\x3c/div\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv id\x3d"aboutContentTitle" class\x3d"panelSubHeader panel_title panel_subtitle"\x3e\x3c/div\x3e\r\n        \x3c!-- style\x3d"border-bottom: #333 thin solid;"--\x3e\r\n    \x3c/div\x3e\r\n\r\n    \x3cdiv id\x3d"about-center" dojoType\x3d"dijit.layout.BorderContainer" region\x3d"center"\x3e\r\n\r\n        \x3cdiv id\x3d"aboutContentPane" dojoType\x3d"dijit.layout.ContentPane" region\x3d"center" style\x3d"overflow-x:hidden;overflow-y:auto;"\x3e\r\n            \x3cdiv id\x3d"about-main"\x3e\r\n            \x3c/div\x3e\r\n            \x3cdiv id\x3d"about-chooseTour" style\x3d"display:none;"\x3e\r\n              \x3cdiv class\x3d"about-tour-header-msg"\x3e \r\n                \x3cspan\x3e${i18n.coachMarksTours.message}\x3c/span\x3e\r\n              \x3c/div\x3e\r\n              \x3cbr/\x3e\r\n              \r\n              \x3ca class\x3d"about-tour startTour1" href\x3d"JavaScript:void(0)" dojoAttachEvent\x3d"onClick:startTour1"\x3e\r\n                \x3cdiv class\x3d"icon-bg"\x3e\x3cspan class\x3d"tour-icon" id\x3d"map-icon"\x3e\x3c/span\x3e\x3c/div\x3e\r\n                \x3cdiv class\x3d"info-box"\x3e\r\n                  \x3cdiv class\x3d"about-tour-title"\x3e${i18n.coachMarksTours.makeMap}\x3c/div\x3e\r\n                  \x3cdiv class\x3d"about-tour-start"\x3e\x3cspan class\x3d"arrow-left"\x3e\x3c/span\x3e${i18n.coachMarksTours.start}\x3cspan class\x3d"arrow-right"\x3e\x3c/span\x3e\x3c/div\x3e\r\n                \x3c/div\x3e\r\n              \x3c/a\x3e\r\n             \r\n              \x3ca class\x3d"about-tour startTour2" href\x3d"JavaScript:void(0)" dojoAttachEvent\x3d"onClick:startTour2"\x3e\r\n                \x3cdiv class\x3d"icon-bg"\x3e\x3cspan class\x3d"tour-icon" id\x3d"mark-icon"\x3e\x3c/span\x3e\x3c/div\x3e\r\n                \x3cdiv class\x3d"info-box"\x3e\r\n                  \x3cdiv class\x3d"about-tour-title"\x3e${i18n.coachMarksTours.styleMap}\x3c/div\x3e\r\n                  \x3cdiv class\x3d"about-tour-start"\x3e\x3cspan class\x3d"arrow-left"\x3e\x3c/span\x3e${i18n.coachMarksTours.start}\x3cspan class\x3d"arrow-right"\x3e\x3c/span\x3e\x3c/div\x3e\r\n                \x3c/div\x3e\r\n              \x3c/a\x3e\r\n              \r\n              \x3ca class\x3d"about-tour startTour4" href\x3d"JavaScript:void(0)" dojoAttachEvent\x3d"onClick:startTour4"\x3e\r\n                \x3cdiv class\x3d"icon-bg"\x3e\x3cspan class\x3d"tour-icon" id\x3d"compass-icon"\x3e\x3c/span\x3e\x3c/div\x3e\r\n                \x3cdiv class\x3d"info-box"\x3e\r\n                  \x3cdiv class\x3d"about-tour-title"\x3e${i18n.coachMarksTours.readyToUseLayers}\x3c/div\x3e\r\n                  \x3cdiv class\x3d"about-tour-start"\x3e\x3cspan class\x3d"arrow-left"\x3e\x3c/span\x3e${i18n.coachMarksTours.start}\x3cspan class\x3d"arrow-right"\x3e\x3c/span\x3e\x3c/div\x3e\r\n                \x3c/div\x3e\r\n              \x3c/a\x3e\r\n                 \r\n              \x3cbr/\x3e\r\n            \x3c/div\x3e\r\n        \x3c/div\x3e\r\n\r\n        \x3cdiv id\x3d"about-takeTour" dojoType\x3d"dijit.layout.ContentPane" region\x3d"bottom" style\x3d"display:none;padding-bottom:5px;"\x3e\r\n          \x3cdiv align\x3d\'center\'\x3e\r\n            \x3cbutton dojotype\x3d"dijit.form.Button" type\x3d"button" class\x3d"calcite orange" dojoAttachEvent\x3d"onClick:showTakeATour"\x3e\x3cspan\x3e${i18n.takeATourBtn}\x3c/span\x3e\x3c/button\x3e\r\n          \x3c/div\x3e        \r\n        \x3c/div\x3e\r\n\r\n    \x3c/div\x3e\r\n   \r\n    \x3cdiv id\x3d"aboutContentFooter" dojoType\x3d"dijit.layout.ContentPane" region\x3d"bottom" style\x3d"height:40px; padding: 0 5px 0 5px; display:none;"\x3e \r\n      \x3cdiv class\x3d"footer" id\x3d"aboutSiteFooter" dojotype\x3d"arcgisonline.sharing.dijit.SiteFooterMap" style\x3d"white-space:normal;"\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n\r\n\x3c/div\x3e',
i18n:null,container:null,lastTitle:null,_util:arcgisonline.sharing.util,constructor:function(b,a){null!=b&&b.containerNode&&(this.container=b.containerNode)},postMixInProperties:function(){this.inherited(arguments);this.i18n=b.i18n.getLocalization("arcgisonline","arcgisonline").common;b.mixin(this.i18n,b.i18n.getLocalization("arcgisonline","arcgisonline").aboutPanel)},postCreate:function(){this.container.addChild(f.byId("aboutPanel"));isEmbedded||b.style(b.byId("aboutContentFooter"),"display","");
this.loadConnections()},loadConnections:function(){b.connect(f.byId("leftContentPanel"),"resize",this,"adjustHeight");b.connect(f.byId("webmap-details-about-content"),"onClick",this,"openContentStack");b.connect(f.byId("webmap-details-about-legend"),"onClick",this,"openLegendStack");b.connect(this._closeBtn,"onclick",this,"onClose");f.byId("webmap-details-about").set("checked",!0)},onClose:function(b){b.preventDefault();arcgisonline.map.leftPanel.hideLeftContentPanel()},loadContent:function(c){if(arcgisonline.map.role.isAllowed("coachMarks")&&
arcgisonline.map.main.isMapFullyLoaded)if(this._createTakeATour(),c)this.showTakeATour();else{c=arcgisonline.sharing.util.urlToObject(document.URL);c.query=c.query||{};var a=c.query.useExisting?b.cookie("ESRI_Webmap"):!1;a||delete c.query.useExisting;a?arcgisonline.map.storage.getMapCookie(b.hitch(this,function(a){!a||!a.operationalLayers||!a.operationalLayers.length?this.showTakeATour():this.showDefaultView()})):arcgisonline.map.save_open.webMapInfo||arcgisonline.map.save_open.itemCard||!esri.isEmpty(c.query)?
this.showDefaultView():this.showTakeATour()}arcgisonline.map.save_open.webMapInfo?this.loadWebMapInfo():arcgisonline.map.save_open.itemCard?this.loadServiceInfo():this.loadDefaultInfo();setTimeout(function(){f.byId("aboutPanel")&&f.byId("aboutPanel").adjustHeight()},100)},loadWebMapInfo:function(){var c=arcgisonline.map.save_open.webMapItemCard;null==c?arcgisonline.sharing.util.getJson(esriGeowConfig.restBaseUrl+"content/items/"+arcgisonline.map.save_open.webMapInfo.id,b.hitch(this,function(a,b){arcgisonline.map.save_open.webMapItemCard=
a;arcgisonline.map.main.setTitle(a.title);arcgisonline.map.save_open.webMapInfo.title=a.title;this.loadWebMapInfo_Part2(a)}),b.hitch(this,function(a,b){arcgisonline.map.save_open.webMapInfo=null;arcgisonline.map.main.setDefaultTitle();this.loadDefaultInfo()})):this.loadWebMapInfo_Part2(c)},loadWebMapInfo_Part2:function(c){if(b.byId("about-main")&&b.byId("aboutContentTitle")){this.isTakeATourVisible()?this.lastTitle=c.title:b.byId("aboutContentTitle").innerHTML=c.title;b.byId("about-main").innerHTML=
"";var a=arcgisonline.sharing.dijit.views.item.map(c);b.place(a,"about-main","first");a=b.create("div",{});b.create("br",null,a);var d=b.create("span",{"class":"esriItemLinks mapPanelLinks"},a);if(!isEmbedded||!isEmbedded.hideExternalLinks)b.create("a",{href:esriGeowConfig.baseUrl+"item.html?id\x3d"+c.id,target:"_blank",innerHTML:this.i18n.moreDetails},d),b.create("br",null,a),b.create("br",null,a);b.create("div",{id:"about-main-presentation"},a);!isEmbedded&&arcgisonline.map.role.isAllowed("about_makeOwnMap")&&
(b.create("span",{"class":"panelSubHeader",innerHTML:this.i18n.makeOwnMap},a),b.create("br",null,a),b.create("a",{href:"Javascript:leftPanel.showStack('addContentStack')",innerHTML:this.i18n.addToMap},b.create("span",{"class":"esriItemLinks mapPanelLinks"},a)),b.create("br",null,a),b.create("a",{href:"Javascript:arcgisonline.map.main.openNewMap();",innerHTML:this.i18n.makeNewMap},b.create("span",{"class":"esriItemLinks mapPanelLinks"},a)));b.create("br",null,a);b.create("br",null,a);b.place(a,"about-main",
"last");isEmbedded||(arcgisonline.map.save_open.openedWebMap?this.showPresentationLink({webMap:arcgisonline.map.save_open.openedWebMap,itemCard:c}):b.subscribe("onWebmapRead",b.hitch(this,function(a){this.showPresentationLink({webMap:a,itemCard:c})})));this.adjustHeight()}},showPresentationLink:function(c){var a=arcgisonline.sharing.util.getUser();if(c.webMap){var d=!1;c.webMap.presentation&&(c.webMap.presentation.slides&&0<c.webMap.presentation.slides.length)&&(d=!0);var e=!1;a&&c.itemCard.owner===
a.email&&(e=!0);d?(a=b.byId("about-main-presentation"),d=b.create("span",{"class":"esriItemLinks mapPanelLinks"},a),e?(c=window.location.protocol+"//"+window.location.host+arcgisonline.sharing.util.getHomeAppContext()+"/apps/presentation/index.html?webmap\x3d"+c.itemCard.id+"\x26builder",e=b.create("a",{href:"JavaScript:void(0)",innerHTML:this.i18n.editPresentation},d),b.connect(e,"onclick",b.hitch(this,function(a,b){b&&b.preventDefault();!0==arcgisonline.map.main.mapHasChanged?arcgisonline.sharing.dijit.dialog.OpenPresentationDlg.prototype.statics.getInstance().show(a):
window.location=a},c))):(c=window.location.protocol+"//"+window.location.host+arcgisonline.sharing.util.getHomeAppContext()+"/apps/presentation/index.html?webmap\x3d"+c.itemCard.id,e=b.create("a",{href:"JavaScript:void(0)",innerHTML:this.i18n.viewPresentation},d),b.connect(e,"onclick",b.hitch(this,function(a,b){b&&b.preventDefault();window.open(a)},c))),b.create("br",null,a),b.create("br",null,a)):arcgisonline.map.role.isAllowed("about_savePresentation")&&e&&(a=b.byId("about-main-presentation"),d=
b.create("span",{"class":"esriItemLinks mapPanelLinks"},a),c=window.location.protocol+"//"+window.location.host+arcgisonline.sharing.util.getHomeAppContext()+"/apps/presentation/index.html?webmap\x3d"+c.itemCard.id+"\x26builder",e=b.create("a",{href:"JavaScript:void(0)",innerHTML:this.i18n.createPresentation},d,"only"),b.connect(e,"onclick",b.hitch(this,function(a,b){b&&b.preventDefault();!0==arcgisonline.map.main.mapHasChanged?arcgisonline.sharing.dijit.dialog.OpenPresentationDlg.prototype.statics.getInstance().show(a):
window.location=a},c)),b.create("br",null,a),b.create("br",null,a))}},loadServiceInfo:function(){var c=arcgisonline.map.save_open.itemCard;b.byId("aboutContentTitle").innerHTML=c.title;var a=arcgisonline.sharing.dijit.views.item.map(c);b.place(a,"about-main","first");var a=b.create("div",{style:"margin-top: 5px;"}),d=b.create("span",{"class":"esriItemLinks mapPanelLinks",style:"line-height:2em;"},a);b.create("a",{href:esriGeowConfig.baseUrl+"item.html?id\x3d"+c.id,target:"_blank",innerHTML:this.i18n.moreDetails},
d);b.create("br",null,a);b.create("br",null,a);if("Feature Collection"!==c.type&&arcgisonline.sharing.util.couldHaveArcGISDesktop()&&!arcgisonline.sharing.util.isHostedServiceItem(c))if(c.url&&-1<c.url.indexOf("/MapServer")){b.create("span",{"class":"panelSubHeader",innerHTML:this.i18n.openServiceIn},a);b.create("br",null,a);var d=c.url+"?f\x3dlyr\x26v\x3d9.3",e=this.i18n.arcGIS;if(-1<b.indexOf(c.typeKeywords,"Hosted Service")&&arcgisonline.sharing.util.portalSupportsHostedServices())d=arcgisonline.sharing.util.getPItemPath(c);
else if(!arcgisonline.sharing.util.isPortal()&&arcgisonline.sharing.util.onAGOLFederatedServer(c.url)||arcgisonline.sharing.util.isPortal()&&arcgisonline.sharing.util.onFederatedServer(c.url))d=arcgisonline.sharing.util.getPItemPath(c);b.create("a",{href:d,innerHTML:e},b.create("span",{"class":"esriItemLinks mapPanelLinks"},a));b.create("br",null,a);b.create("br",null,a)}else if(c.url&&-1<c.url.indexOf("/ImageServer")){b.create("span",{"class":"panelSubHeader",innerHTML:this.i18n.openServiceIn},a);
b.create("br",null,a);d=c.url+"?f\x3dlyr";e=this.i18n.arcGIS;if(!arcgisonline.sharing.util.isPortal()&&arcgisonline.sharing.util.onAGOLFederatedServer(c.url)||arcgisonline.sharing.util.isPortal()&&arcgisonline.sharing.util.onFederatedServer(c.url))d=arcgisonline.sharing.util.getPItemPath(c);b.create("a",{href:d,innerHTML:e},b.create("span",{"class":"esriItemLinks mapPanelLinks"},a));b.create("br",null,a);b.create("br",null,a)}arcgisonline.map.role.isAllowed("about_makeOwnMap")&&(b.create("span",{"class":"panelSubHeader",
innerHTML:this.i18n.makeOwnMap},a),b.create("br",null,a),b.create("a",{href:"Javascript:leftPanel.showStack('addContentStack')",innerHTML:this.i18n.addToMap},b.create("span",{"class":"esriItemLinks mapPanelLinks"},a)),b.create("br",null,a),b.create("a",{href:"Javascript:arcgisonline.map.main.openNewMap();",innerHTML:this.i18n.makeNewMap},b.create("span",{"class":"esriItemLinks mapPanelLinks"},a)));b.create("br",null,a);b.create("br",null,a);b.place(a,"about-main","last")},loadDefaultInfo:function(){var c=
esriGeowConfig.helpBase;esriGeowConfig.helpMap&&esriGeowConfig.helpMap["120000468"]&&(c+=esriGeowConfig.helpMap["120000468"]);if(arcgisonline.map.role.isAllowed("about_makeOwnMap"))""==b.style(b.byId("about-main"),"display")?b.byId("aboutContentTitle").innerHTML=this.i18n.makeOwnMap:this.lastTitle=this.i18n.makeOwnMap,a="\x3cspan\x3e"+this.i18n.aboutMsg.header+"\x3c/span\x3e",a=a+"\x3cbr/\x3e\x3cbr/\x3e"+("\x3cspan class\x3d'panelSubHeader'\x3e"+this.i18n.aboutMsg.step1+"\x3c/span\x3e"),a+="\x3cbr/\x3e",
a+="\x3cdiv style\x3d'margin-left:18px;margin-top:4px;'\x3e",a+=this.i18n.aboutMsg.step1Msg,a+="\x3c/div\x3e",a+="\x3cbr/\x3e\x3cbr/\x3e",a+="\x3cspan class\x3d'panelSubHeader'\x3e"+this.i18n.aboutMsg.step2+"\x3c/span\x3e",a+="\x3cbr/\x3e",a+="\x3cdiv style\x3d'margin-left:18px;margin-top:4px;'\x3e",a+=b.string.substitute(this.i18n.aboutMsg.step2Msg,{basemap_image:"\x3cimg src\x3d'images/Basemap16.png' border\x3d'0' style\x3d'vertical-align:bottom;'/\x3e",add_image:"\x3cimg src\x3d'images/AddContent16.png' border\x3d'0' style\x3d'vertical-align:bottom;'/\x3e"}),
a+="\x3c/div\x3e",a+="\x3cbr/\x3e\x3cbr/\x3e",a+="\x3cspan class\x3d'panelSubHeader'\x3e"+this.i18n.aboutMsg.step3+"\x3c/span\x3e",a+="\x3cbr/\x3e",a+="\x3cdiv style\x3d'margin-left:18px;margin-top:4px;'\x3e",a+="\x3cimg src\x3d'images/AddContent16.png' border\x3d'0' style\x3d'vertical-align:bottom;'/\x3e "+this.i18n.aboutMsg.step3Msg+"\x3cbr/\x3e\x3cbr/\x3e",a+=b.string.substitute(this.i18n.aboutMsg.step3Msg2,{popup_link_start:"\x3cimg class\x3d'iconEnablePopup' border\x3d'0' style\x3d'vertical-align:bottom;'/\x3e\x3cspan class\x3d'esriItemLinks'\x3e\x3cA href\x3d'"+
c+"' target\x3d'_blank'\x3e",popup_link_end:"\x3c/A\x3e\x3c/span\x3e"}),a+="\x3c/div\x3e",a+="\x3cbr/\x3e\x3cbr/\x3e",a+="\x3cspan class\x3d'panelSubHeader'\x3e"+this.i18n.aboutMsg.step4+"\x3c/span\x3e",a+="\x3cbr/\x3e",a+="\x3cdiv style\x3d'margin-left:18px;margin-top:4px;'\x3e",a+=this.i18n.aboutMsg.step4Msg,a+="\x3c/div\x3e",a+="\x3cbr/\x3e",b.byId("about-main").innerHTML=a;else{b.byId("aboutContentTitle").innerHTML=this.i18n.aboutMsgViewerRole.title;var a="";arcgisonline.sharing.util.getUser()?
(a+="\x3cspan\x3e"+this.i18n.aboutMsgViewerRole.text3+"\x3c/span\x3e",a+="\x3cbr/\x3e\x3cbr/\x3e",a+="\x3cdiv align\x3d'center'\x3e ",a+='  \x3cbutton dojotype\x3d"dijit.form.Button" type\x3d"button" class\x3d"calcite blue" onclick\x3d"JavaScript:window.location\x3desriGeowConfig.baseUrl+\'gallery.html\';"\x3e\x3cspan\x3e'+this.i18n.aboutMsgViewerRole.button3Label+"\x3c/span\x3e\x3c/button\x3e"):(esriGeowConfig.self.isPortal?(a+="\x3cspan\x3e"+b.string.substitute(this.i18n.aboutMsgViewerRole.text1_portal,
{orgName:esriGeowConfig.self.name||"Esri"})+"\x3c/span\x3e",a+="\x3cbr/\x3e\x3cbr/\x3e",a+="\x3cdiv align\x3d'center'\x3e ",a+='  \x3cbutton dojotype\x3d"dijit.form.Button" type\x3d"button" class\x3d"calcite blue" onclick\x3d"JavaScript:arcgisonline.map.main.signIn()"\x3e\x3cspan\x3e'+this.i18n.aboutMsgViewerRole.button1Label+"\x3c/span\x3e\x3c/button\x3e",a+="\x3c/div\x3e",a+="\x3cbr/\x3e\x3cbr/\x3e"):(a+="\x3cspan\x3e"+b.string.substitute(this.i18n.aboutMsgViewerRole.text1,{orgName:esriGeowConfig.self.name||
"Esri"})+"\x3c/span\x3e",a+="\x3cbr/\x3e\x3cbr/\x3e",a+="\x3cdiv align\x3d'center'\x3e ",a+='  \x3cbutton dojotype\x3d"dijit.form.Button" type\x3d"button" class\x3d"calcite blue" onclick\x3d"JavaScript:arcgisonline.map.main.signIn()"\x3e\x3cspan\x3e'+this.i18n.aboutMsgViewerRole.button1Label+"\x3c/span\x3e\x3c/button\x3e",a+="\x3c/div\x3e",a+="\x3cbr/\x3e\x3cbr/\x3e",esriGeowConfig.self.urlKey||(a+="\x3cspan\x3e"+this.i18n.aboutMsgViewerRole.text2+"\x3c/span\x3e",a+="\x3cbr/\x3e\x3cbr/\x3e",a+="\x3cdiv align\x3d'center'\x3e ",
a+='  \x3cbutton dojotype\x3d"dijit.form.Button" type\x3d"button" class\x3d"calcite orange" onclick\x3d"JavaScript:window.location\x3desriGeowConfig.baseUrl+\'../features/free-trial.html?origin\x3darcgis\';"\x3e\x3cspan\x3e'+this.i18n.aboutMsgViewerRole.button2Label+"\x3c/span\x3e\x3c/button\x3e",a+="\x3c/div\x3e",a+="\x3cbr/\x3e\x3cbr/\x3e")),a+="\x3cspan\x3e"+this.i18n.aboutMsgViewerRole.text3+"\x3c/span\x3e",a+="\x3cbr/\x3e\x3cbr/\x3e",a+="\x3cdiv align\x3d'center'\x3e ",a+='  \x3cbutton dojotype\x3d"dijit.form.Button" type\x3d"button" class\x3d"calcite light" onclick\x3d"JavaScript:window.location\x3desriGeowConfig.baseUrl+\'gallery.html\';"\x3e\x3cspan\x3e'+
this.i18n.aboutMsgViewerRole.button3Label+"\x3c/span\x3e\x3c/button\x3e");a+="\x3c/div\x3e";a+="\x3cbr/\x3e\x3cbr/\x3e";b.byId("about-main").innerHTML=a;b.parser.parse(b.byId("about-main"))}},_createTakeATour:function(){arcgisonline.map.role.isAllowed("coachMarks_makeMap")||b.style(b.query(".startTour1")[0],"display","none");arcgisonline.map.role.isAllowed("coachMarks_styleMap")||b.style(b.query(".startTour2")[0],"display","none");arcgisonline.map.role.isAllowed("coachMarks_readyToUseLayers")||b.style(b.query(".startTour4")[0],
"display","none")},showTakeATour:function(){b.style(b.byId("about-main"),"display","none");b.style(b.byId("about-takeTour"),"display","none");b.style(b.byId("about-chooseTour"),"display","");this.lastTitle=b.byId("aboutContentTitle").innerHTML;b.byId("aboutContentTitle").innerHTML=this.i18n.coachMarksTours.title;this.adjustHeight()},showDefaultView:function(){b.style(b.byId("about-main"),"display","");!isEmbedded&&(arcgisonline.map.role.isAllowed("coachMarks")&&arcgisonline.map.main.isMapFullyLoaded)&&
b.style(b.byId("about-takeTour"),"display","");b.style(b.byId("about-chooseTour"),"display","none");this.lastTitle&&(b.byId("aboutContentTitle").innerHTML=this.lastTitle);this.adjustHeight()},isTakeATourVisible:function(c){return b.byId("about-chooseTour")&&"none"!==b.style(b.byId("about-chooseTour"),"display")?!0:!1},startTour1:function(b){b&&b.preventDefault();this.startTour(1)},startTour2:function(b){b&&b.preventDefault();this.startTour(2)},startTour4:function(b){b&&b.preventDefault();this.startTour(4)},
startTour:function(b){arcgisonline.coachmarks.tours.startTour(b)},openContentStack:function(){leftPanel.showStack("contentStack")},openLegendStack:function(){leftPanel.showStack("legendStack")},adjustHeight:function(c){if(!("undefined"==typeof leftPanel||"aboutStack"!=leftPanel.visibleStack)){c=b.coords(b.byId("leftPanelDiv")).h;var a=b.coords(b.byId("aboutContentHeader")).h,d=b.coords(b.byId("about-takeTour")).h,e=b.coords(b.byId("aboutSiteFooter_links")).h+10;b.style(b.byId("aboutContentFooter"),
"height",e+"px");b.style(b.byId("about-center"),"height",c-(a+e)+"px");b.style(b.byId("aboutContentPane"),"height",c-(a+e+d)+"px");f.byId("about-center").resize()}}})});