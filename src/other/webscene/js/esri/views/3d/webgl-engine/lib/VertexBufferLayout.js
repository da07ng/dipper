// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/4.0beta2/esri/copyright.txt for details.
//>>built
define(["./Util","./webglConstants"],function(r,a){var p=r.assert,d=r.VertexAttrConstants,s=function(b){switch(b){case a.FLOAT:return 4;case a.BYTE:case a.UNSIGNED_BYTE:return 1;default:return 2}},b=function(b,c,d){var g=0,k={};(function(){var h,q=b.length;p(c.length===q);if(d)p(d.length===q);else{d=Array(b.length);for(h=0;h<d.length;h++)d[h]=a.FLOAT}for(h=0;h<q;h++){var l={offset:g,size:c[h],type:d[h]};p(0===l.size*s(d[h])%4,"attribute byte length must be a multiple of 4");g+=c[h]*s(d[h])/4;k[b[h]]=
l}})();this.getStride=function(){return g};this.getAttributes=function(){return k};this.hasAttribute=function(b){return b in k};this.enableVertexAttribArrays=function(a,d,l){for(var c=0;c<b.length;++c){var e=b[c],f=k[e],e=d.getAttribLocation(e);if(-1<e)if(16===f.size)for(f=0;4>f;f++)a.enableVertexAttribArray(e+f),l&&l.vertexAttribDivisorANGLE(e+f,1);else a.enableVertexAttribArray(e),l&&l.vertexAttribDivisorANGLE(e,1)}};this.disableVertexAttribArrays=function(a,d,c){for(var g=0;g<b.length;++g){var e=
b[g],f=k[e],e=d.getAttribLocation(e);if(-1<e)if(16===f.size)for(f=0;4>f;f++)a.disableVertexAttribArray(e+f),c&&c.vertexAttribDivisorANGLE(e+f,0);else a.disableVertexAttribArray(e),c&&c.vertexAttribDivisorANGLE(e,0)}};this.setVertexAttribPointers=function(a,c){for(var d=0;d<b.length;++d){var n=b[d],e=k[n],f=e.size,m=4*e.offset,e=e.type,n=c.getAttribLocation(n);if(-1<n)if(16===f)for(f=0;4>f;f++)a.vertexAttribPointer(n+f,4,e,!1,4*g,m+16*f);else a.vertexAttribPointer(n,f,e,!1,4*g,m)}}},c=d.POSITION,g=
d.NORMAL,k=d.UV0,m=d.COLOR,d=d.REGION;b.Defaults={Pos:new b([c],[3]),Pos2:new b([c],[2]),PosNorm:new b([c,g],[3,3]),PosTex:new b([c,k],[3,2]),PosColor:new b([c,m],[3,4],[a.FLOAT,a.UNSIGNED_BYTE]),Pos2Tex:new b([c,k],[2,2]),PosNormTex:new b([c,g,k],[3,3,2]),PosNormCol:new b([c,g,m],[3,3,4],[a.FLOAT,a.FLOAT,a.UNSIGNED_BYTE]),PosNormTexCol:new b([c,g,k,m],[3,3,2,4],[a.FLOAT,a.FLOAT,a.FLOAT,a.UNSIGNED_BYTE]),PosNormTexRegion:new b([c,g,k,d],[3,3,2,4],[a.FLOAT,a.FLOAT,a.FLOAT,a.UNSIGNED_SHORT]),PosNormTexRegionCol:new b([c,
g,k,d,m],[3,3,2,4,4],[a.FLOAT,a.FLOAT,a.FLOAT,a.UNSIGNED_SHORT,a.UNSIGNED_BYTE]),Model:new b(["model","modelNormal"],[16,16]),ModelCol:new b(["model","modelNormal","instanceColor"],[16,16,4])};return b});