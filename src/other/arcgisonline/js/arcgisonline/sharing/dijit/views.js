// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.15/esri/copyright.txt for details.
//>>built
define("arcgisonline/sharing/dijit/views",["dijit","dojo","dojox","dojo/require!arcgisonline/sharing/dijit/TextMenu,arcgisonline/sharing/util,arcgisonline/sharing/dijit/ProfilePopup"],function(m,b,n){b.provide("arcgisonline.sharing.dijit.views");b.require("arcgisonline.sharing.dijit.TextMenu");b.require("arcgisonline.sharing.util");b.require("arcgisonline.sharing.dijit.ProfilePopup");arcgisonline.sharing.dijit.views.item={detailClass:"itemDetail",thumbClass:"itemThumbnail",thumbContainerClass:"itemThumbnailContainer",
titleClass:"esriItemTitle",snippetClass:"esriItemSnippet",i18n:function(){if(this._i18n)return this._i18n;this._i18n=b.i18n.getLocalization("arcgisonline","arcgisonline").common;b.mixin(this._i18n,b.i18n.getLocalization("arcgisonline","arcgisonline").viewsWidget);b.mixin(this._i18n,{source:b.i18n.getLocalization("arcgisonline","arcgisonline").itemProperties.source});return this._i18n},_util:arcgisonline.sharing.util,small:function(a,g,c){var f=b.create,e=f("div",{"class":this.detailClass+" small"}),
d=this._util.getGalleryMainLinkInfo(a);g&&(g=f("div",{"class":this.thumbContainerClass},e),b.addClass(e,c),f("img",{src:this._getThumbnailUrl(a),"class":this.thumbClass},f("a",{href:d.href||"#",target:d.target,alt:d.tip,title:d.tip},g)));f("a",{href:"#",innerHTML:a.title},f("span",{"class":this.titleClass},e));c=this._util.getSnippet(a.snippet,a.description);f("span",{"class":this.snippetClass,innerHTML:c},e);a=arcgisonline.sharing.geow.Content.changeTypename(a)+arcgisonline.sharing.dijit.views.item.i18n().spaceBy+
"\x3cspan class\x3d'esriItemOwner'\x3e"+a.owner+"\x3c/span\x3e ("+this._util.toFullDateString(a.modified)+")";f("span",{innerHTML:a},e);return e},mediumFormat:function(a,b){return this.medium(b,!0,"left")},itemLinkInfo:function(a){var b=this._util.getGalleryMainLinkInfo(a);a=this._util.getItemDetailsLinkInfo(a);return{openLink:b,detailLink:a}},medium:function(a,g){var c=b.create,f=c("div",{"class":this.detailClass+" medium"});if(g.unshareHandler){var e=c("a",{href:"#",className:"unshare esriFloatTrailing",
style:{display:"none"}},f);c("img",{src:arcgisonline.sharing.util.relativeToExplicitUrl("images/delete_20x20.png"),alt:arcgisonline.sharing.dijit.views.item.i18n().removeItemFromGroup,title:arcgisonline.sharing.dijit.views.item.i18n().removeItemFromGroup},e);b.connect(e,"onclick",b.partial(g.unshareHandler,a.id,f))}var d=this.itemLinkInfo(a),e=d.openLink,d=d.detailLink;if(g.showThumb){var h=c("div",{"class":this.thumbContainerClass},f);b.addClass(f,g.align||"left");if(a.thumbnail&&0<a.thumbnail.length)var k=
c("img",{src:this._getThumbnailUrl(a),"class":this.thumbClass},c("a",{href:e.href||"#",target:e.target,alt:e.tip,title:e.tip},h));else k=this._util.relativeToExplicitUrl("images/web-thumbnail-error.png"),k="Web Mapping Application"==a.type?arcgisonline.sharing.util.getStaticImagesUrl()+"/webapp.png":"Mobile Application"==a.type?arcgisonline.sharing.util.getStaticImagesUrl()+"/mobileapp.png":"Workforce Project"==a.type?arcgisonline.sharing.util.getStaticImagesUrl()+"/workforceproject.png":"Image"===
a.type?arcgisonline.sharing.util.relativeToExplicitUrl("js/arcgisonline/sharing/dijit/css/images/image-thumb.png"):"Web Scene"===a.type||"Scene Service"===a.type?arcgisonline.sharing.util.getStaticImagesUrl()+"/scene.png":arcgisonline.sharing.util.getStaticImagesUrl()+"/desktopapp.png",k=c("img",{src:k,"class":this.thumbClass},c("a",{href:e.href||"#",target:e.target,alt:e.tip,title:e.tip},h));e.onclick&&b.connect(k,"onclick",e.onclick);c("br",null,h);h=c("span",{"class":"esriItemLinks"},h);k=this._util.getItemOpenLinkObjects(a);
if(0<k.length){var l=c("span",{innerHTML:e.label},c("a",{href:e.href||"#",target:e.target,alt:e.tip,title:e.tip,style:{marginRight:0}},h));e.onclick&&b.connect(l,"onclick",e.onclick);g.hideOpenMenu||(c("span",{innerHTML:"\x26nbsp;"},h),e=c("div",{innerHTML:"","class":"dijitReset dijitInline esriArrows",title:arcgisonline.sharing.dijit.views.item.i18n().moreOptions,alt:arcgisonline.sharing.dijit.views.item.i18n().moreOptions,style:{height:"11px",cursor:"pointer"}},h),new arcgisonline.sharing.dijit.TextMenu({triggerNode:e,
labelNode:l,textMenuItems:k}));c("span",{innerHTML:"\x26nbsp;\x26nbsp\x26nbsp;"},h)}null!==d&&c("span",{innerHTML:d.label},c("a",{href:d.link||"#",alt:d.tip,title:d.tip,target:d.target?d.target:""},h))}e=c("div",{"class":"itemTextContainer"},f);c("a",{href:d.link,innerHTML:a.title,alt:d.tip,title:d.tip},c("span",{"class":this.titleClass},e));d=this._util.getSnippet(a.snippet,a.description);c("span",{"class":this.snippetClass,innerHTML:d||""},e);d=c("div",null,e);(h=this._getTypeIcon(a))&&c("span",
{innerHTML:h},d);h="";h=arcgisonline.sharing.geow.Content.changeTypename(a)+arcgisonline.sharing.dijit.views.item.i18n().spaceBy;k=-1<b.indexOf(a.typeKeywords,"ArcGIS Server")||"Feature Collection"==a.type?arcgisonline.sharing.dijit.views.item.i18n().source+" ":"";c("span",{title:k+("GeoJson"===a.type?"GeoJSON":a.type),innerHTML:h,"class":"dim"},d);h=c("span",{"class":"esriItemAuthor"},d);h=c("a",{innerHTML:a.owner,"class":"linkNoHref",owner:a.owner,alt:arcgisonline.sharing.dijit.views.item.i18n().viewUserprofile,
title:arcgisonline.sharing.dijit.views.item.i18n().viewUserprofile},h);g.showProfilePopup?(b.connect(h,"onclick",this,function(a){var c=b.attr(a.currentTarget,"owner"),d=arcgisonline.sharing.dijit.ProfilePopup.prototype.statics.getInstance();null!==d&&b.hitch(d,d.showProfile,c,a.currentTarget).call()}),b.attr(h,{"class":"linkNoHref",owner:a.owner})):b.attr(h,"href",esriGeowConfig.baseUrl+"user.html?user\x3d"+a.owner);c("div",{innerHTML:"\x3cspan\x3e"+arcgisonline.sharing.dijit.views.item.i18n().lastModifiedTitle+
"\x3c/span\x3e\x3cspan\x3e"+this._util.toFullDateString(a.modified)+"\x3c/span\x3e","class":"dim esriLastModified"},d);(h=arcgisonline.sharing.geow.Content._getPremiumItemNode(a))&&b.place(h,b.create("div",{className:"dim esriPremiumContent"},d,"last"));d=b.create("span",{"class":"dojoxRating dijitInline"});9>b.isIE&&b.style(d,"zoom",0);h=b.create("ul",null,d);k=Math.round(a.avgRating);for(l=1;l<=k;l++)b.create("li",{"class":"dojoxRatingStar dijitInline dojoxRatingStarChecked"},h);for(;5>k;k++)b.create("li",
{"class":"dojoxRatingStar dijitInline Hover"},h);h=this._getMsgRatings(a);c=c("span",{innerHTML:h,"class":"dim"},e);b.place(d,c,"first");return f},map:function(a){var g=b.create,c=g("div",{"class":this.detailClass+" medium"}),f=g("div",{"class":"itemTextContainer"},c),e=this._util.getSnippet(a.snippet,a.description);g("span",{"class":this.snippetClass,innerHTML:e?this._util.htmlEncode(e):""},f);var e=g("span",null,f),d=this._getTypeIcon(a,!0);d&&g("span",{innerHTML:d},e);var d="",d=a.url&&-1<b.indexOf(a.typeKeywords,
"Hosted Service")&&(arcgisonline.sharing.util.isHostedServiceItem(a)||arcgisonline.sharing.util.portalSupportsHostedServices())?arcgisonline.sharing.geow.Content.changeTypename(a,!0)+arcgisonline.sharing.dijit.views.item.i18n().startBracket+arcgisonline.sharing.dijit.views.item.i18n().hostedService+arcgisonline.sharing.dijit.views.item.i18n().endBracket+arcgisonline.sharing.dijit.views.item.i18n().spaceBy:arcgisonline.sharing.geow.Content.changeTypename(a,!1)+arcgisonline.sharing.dijit.views.item.i18n().spaceBy,
h=-1<b.indexOf(a.typeKeywords,"ArcGIS Server")||"Feature Collection"==a.type?arcgisonline.sharing.dijit.views.item.i18n().source+" ":"";g("span",{title:h+("GeoJson"===a.type?"GeoJSON":a.type),innerHTML:d,"class":"dim"},e);d=g("span",{"class":"esriItemAuthor"},e);d=g("a",{innerHTML:a.owner,"class":"linkNoHref",owner:a.owner,alt:arcgisonline.sharing.dijit.views.item.i18n().viewUserprofile,title:arcgisonline.sharing.dijit.views.item.i18n().viewUserprofile},d);b.connect(d,"onclick",this,function(a){var c=
b.attr(a.currentTarget,"owner"),d=arcgisonline.sharing.dijit.ProfilePopup.prototype.statics.getInstance();null!==d&&(b.hitch(d,d.showProfile,c,a.currentTarget).call(),b.style(d.domNode,"zIndex","10"))});b.attr(d,{"class":"linkNoHref",owner:a.owner});g("div",{innerHTML:"\x3cbr/\x3e\x3cspan\x3e"+arcgisonline.sharing.dijit.views.item.i18n().lastModifiedTitle+"\x3c/span\x3e\x3cspan\x3e"+this._util.toFullDateString(a.modified)+"\x3c/span\x3e","class":"dim esriLastModified"},e);(d=arcgisonline.sharing.geow.Content._getPremiumItemNode(a))&&
b.place(d,b.create("div",{className:"dim esriPremiumContent"},e,"last"));e=b.create("span",{"class":"dojoxRating dijitInline"});9>b.isIE&&b.style(e,"zoom",0);for(var d=b.create("ul",null,e),h=Math.round(a.avgRating),k=1;k<=h;k++)b.create("li",{"class":"dojoxRatingStar dijitInline dojoxRatingStarChecked"},d);for(;5>h;h++)b.create("li",{"class":"dojoxRatingStar dijitInline Hover"},d);a=this._getMsgRatings(a);g=g("span",{innerHTML:a,"class":"dim"},f);b.place(e,g,"first");return c},_getMsgRatings:function(a){var g=
"",g=1===a.numRatings?g+b.string.substitute(arcgisonline.sharing.dijit.views.item.i18n().ratingMsg,{ratingcount:b.number.format(a.numRatings,{pattern:"#,###,###,##0"})}):g+b.string.substitute(arcgisonline.sharing.dijit.views.item.i18n().ratingsMsg,{ratingcount:b.number.format(a.numRatings,{pattern:"#,###,###,##0"})}),g=1===a.numComments?g+b.string.substitute(arcgisonline.sharing.dijit.views.item.i18n().commentMsg,{commentcount:b.number.format(a.numComments,{pattern:"#,###,###,##0"})}):g+b.string.substitute(arcgisonline.sharing.dijit.views.item.i18n().commentsMsg,
{commentcount:b.number.format(a.numComments,{pattern:"#,###,###,##0"})}),c=a.type,g="Explorer Map"===c||"Map Document"===c||"Globe Document"===c||"Scene Document"===c||"Layer Package"===c||"Map Package"===c||"Desktop Add In"===c||"Windows Mobile Package"===c||"Layer"===c||"Explorer Layer"===c||"Explorer Add In"===c||"Published Map"===c||"Desktop Application Template"===c||"Map Template"===c||"Geoprocessing Sample"===c||"Code Sample"===c?1===a.numViews?g+b.string.substitute(arcgisonline.sharing.dijit.views.item.i18n().downloadMsg,
{downloadcount:b.number.format(a.numViews,{pattern:"#,###,###,##0"})}):g+b.string.substitute(arcgisonline.sharing.dijit.views.item.i18n().downloadsMsg,{downloadcount:b.number.format(a.numViews,{pattern:"#,###,###,##0"})}):1===a.numViews?g+b.string.substitute(arcgisonline.sharing.dijit.views.item.i18n().viewMsg,{viewcount:b.number.format(a.numViews,{pattern:"#,###,###,##0"})}):g+b.string.substitute(arcgisonline.sharing.dijit.views.item.i18n().viewsMsg,{viewcount:b.number.format(a.numViews,{pattern:"#,###,###,##0"})});
return g=arcgisonline.sharing.dijit.views.item.i18n().startBracket+g+arcgisonline.sharing.dijit.views.item.i18n().endBracket},_getThumbnailUrl:function(a){var b=this._util.getToken(),b=b?"?token\x3d"+b:"";if(a.thumbnail)return esriGeowConfig.restBaseUrl+"content/items/"+a.id+"/info/"+a.thumbnail+b;b=this._util.relativeToExplicitUrl("images/web-thumbnail-error.png");return b="Web Mapping Application"==a.type?arcgisonline.sharing.util.getStaticImagesUrl()+"/webapp.png":"Mobile Application"==a.type?
arcgisonline.sharing.util.getStaticImagesUrl()+"/mobileapp.png":"Workforce Project"==a.type?arcgisonline.sharing.util.getStaticImagesUrl()+"/workforceproject.png":"Web Scene"==a.type||"Scene Service"===a.type?arcgisonline.sharing.util.getStaticImagesUrl()+"/scene.png":arcgisonline.sharing.util.getStaticImagesUrl()+"/desktopapp.png"},_getTypeIcon:function(a,g){var c=arcgisonline.sharing.geow.Content._getItemIconUrl(a,!0),f=(-1<b.indexOf(a.typeKeywords,"ArcGIS Server")||"Feature Collection"==a.type?
this.i18n().source+" ":"")+("GeoJson"===a.type?"GeoJSON":a.type),e="";c&&(e='\x3cimg src\x3d"'+c+'" alt\x3d"'+f+'" title\x3d"'+f+'" style\x3d"vertical-align:middle;"/\x3e\x26nbsp;');return e}};arcgisonline.sharing.dijit.views.group={_util:arcgisonline.sharing.util,detailClass:"itemDetail group",thumbClass:"groupThumbnail",thumbContainerClass:"itemThumbnailContainer",titleClass:"esriItemTitle",snippetClass:"esriItemSnippet",i18n:function(){if(this._i18n)return this._i18n;this._i18n=b.i18n.getLocalization("arcgisonline",
"arcgisonline").common;b.mixin(this._i18n,b.i18n.getLocalization("arcgisonline","arcgisonline").viewsWidget);return this._i18n},_getThumbnailUrl:function(a){var b=this._util.getToken();return esriGeowConfig.restBaseUrl+"community/groups/"+a.id+"/info/"+a.thumbnail+(b?"?token\x3d"+b:"")},small:function(a,g,c){var f=b.create,e=f("div",{"class":this.detailClass});b.addClass(e,"small");var d={target:"",href:"#"};g&&(g=f("div",{"class":this.thumbContainerClass},e),b.addClass(e,c||"left"),a.thumbnail&&
0<a.thumbnail.length?f("img",{src:this._getThumbnailUrl(a),"class":this.thumbClass},g):f("img",{src:this._util.relativeToExplicitUrl("images/group-no-image.png"),"class":this.thumbClass},g));f("a",{href:d.href,target:d.target,innerHTML:a.title,alt:d.tip,title:d.tip},f("span",{"class":this.titleClass},e));c=this._util.getSnippet(a.snippet,a.description);f("span",{"class":this.snippetClass,innerHTML:c},e);c=f("span",null,null);f("span",{innerHTML:"owned by ","class":"dim"},c);c=f("span",{"class":"esriItemAuthor"},
c);f("a",{innerHTML:a.owner,href:""},c);return e},medium:function(a,g){var c=b.create,f=c("div",{"class":this.detailClass+" medium"}),e=esriGeowConfig.baseUrl+"group.html?id\x3d"+a.id;arcgisonline.sharing.dijit.views.group.i18n();arcgisonline.sharing.dijit.views.group.i18n();if(g.showThumb){var d=c("div",{"class":this.thumbContainerClass},f);b.addClass(f,g.align||"left");if(g.groupsUser){var h=this._util.getUser();arcgisonline.sharing.geow.Community.getProfile(a.owner,b.hitch(this,function(b,f,g){!f.code&&
!f.message?"public"!==b.access&&(!f.orgId||f.orgId!==h.accountId)?c("img",{src:this._util.relativeToExplicitUrl("images/group-no-image.png"),"class":this.thumbClass},c("a",{href:e||"#",alt:arcgisonline.sharing.dijit.views.group.i18n().viewGroupDetails,title:arcgisonline.sharing.dijit.views.group.i18n().viewGroupDetails},d)):a.thumbnail&&0<a.thumbnail.length?c("img",{src:this._getThumbnailUrl(a),"class":this.thumbClass},c("a",{href:e||"#",alt:arcgisonline.sharing.dijit.views.group.i18n().viewGroupDetails,
title:arcgisonline.sharing.dijit.views.group.i18n().viewGroupDetails},d)):c("img",{src:this._util.relativeToExplicitUrl("images/group-no-image.png"),"class":this.thumbClass},c("a",{href:e||"#",alt:arcgisonline.sharing.dijit.views.group.i18n().viewGroupDetails,title:arcgisonline.sharing.dijit.views.group.i18n().viewGroupDetails},d)):c("img",{src:this._util.relativeToExplicitUrl("images/group-no-image.png"),"class":this.thumbClass},c("a",{href:e||"#",alt:arcgisonline.sharing.dijit.views.group.i18n().viewGroupDetails,
title:arcgisonline.sharing.dijit.views.group.i18n().viewGroupDetails},d))},a))}else a.thumbnail&&0<a.thumbnail.length?c("img",{src:this._getThumbnailUrl(a),"class":this.thumbClass},c("a",{href:e||"#",alt:arcgisonline.sharing.dijit.views.group.i18n().viewGroupDetails,title:arcgisonline.sharing.dijit.views.group.i18n().viewGroupDetails},d)):c("img",{src:this._util.relativeToExplicitUrl("images/group-no-image.png"),"class":this.thumbClass},c("a",{href:e||"#",alt:arcgisonline.sharing.dijit.views.group.i18n().viewGroupDetails,
title:arcgisonline.sharing.dijit.views.group.i18n().viewGroupDetails},d)),c("br",null,d),b.place(this._util.getGroupLinks(a),d)}var k=c("div",{"class":"itemTextContainer"},f);c("a",{href:e,innerHTML:a.title,alt:arcgisonline.sharing.dijit.views.group.i18n().viewGroupDetails,title:arcgisonline.sharing.dijit.views.group.i18n().viewGroupDetails},c("span",{"class":this.titleClass},k));var l=this._util.getSnippet(a.snippet,a.description);c("span",{"class":this.snippetClass,innerHTML:l||""},k);k=c("span",
null,k);c("span",{innerHTML:arcgisonline.sharing.dijit.views.group.i18n().createdBy,"class":"dim"},k);l=c("span",{"class":"esriItemAuthor"},k);l=c("a",{innerHTML:a.owner,alt:arcgisonline.sharing.dijit.views.group.i18n().viewUserprofile,title:arcgisonline.sharing.dijit.views.group.i18n().viewUserprofile},l);g.showProfilePopup?(b.connect(l,"onclick",this,function(a){var c=b.attr(a.currentTarget,"owner"),d=arcgisonline.sharing.dijit.ProfilePopup.prototype.statics.getInstance();null!==d&&b.hitch(d,d.showProfile,
c,a.currentTarget).call()}),b.attr(l,{"class":"linkNoHref",owner:a.owner})):b.attr(l,"href",esriGeowConfig.baseUrl+"user.html?user\x3d"+a.owner);l=a.created;c("span",{innerHTML:"\x26nbsp;"+arcgisonline.sharing.dijit.views.group.i18n().createdOn+"\x26nbsp;"+this._util.toFullDateString(l),"class":"dim"},k);return f}};arcgisonline.sharing.dijit.views.profile={_util:arcgisonline.sharing.util,detailClass:"itemDetail",thumbClass:"profileThumbnail",thumbContainerClass:"itemThumbnailContainer",titleClass:"esriItemTitle",
snippetClass:"esriItemSnippet",noDescriptionText:"",i18n:function(){if(this._i18n)return this._i18n;this._i18n=b.i18n.getLocalization("arcgisonline","arcgisonline").common;b.mixin(this._i18n,b.i18n.getLocalization("arcgisonline","arcgisonline").viewsWidget);return this._i18n},_getThumbnailUrl:function(a){var b=this._util.getToken();return esriGeowConfig.restBaseUrl+"community/users/"+a.username+"/info/"+a.thumbnail+(b?"?token\x3d"+b:"")},medium:function(a,g){arcgisonline.sharing.dijit.views.profile.noDescriptionText=
arcgisonline.sharing.dijit.views.profile.i18n().userPersonalInfoMsg;arcgisonline.sharing.dijit.views.profile.memberNoDescriptionText=arcgisonline.sharing.dijit.views.profile.i18n().memberPersonalInfoMsg;var c=arcgisonline.sharing.util.getUser(),f=b.create,e=f("div",{"class":this.detailClass});b.addClass(e,"medium");f("span",{"class":this.titleClass,innerHTML:a.fullName||a.username},e);if(c&&c.accountId&&a.accountId&&a.role&&c.accountId==a.accountId){var d="\x26nbsp;\x26nbsp;\x26nbsp;\x26nbsp;\x26nbsp;";
"account_publisher"===a.role?d+=arcgisonline.sharing.dijit.views.profile.i18n().publisher:"account_admin"===a.role?d+=arcgisonline.sharing.dijit.views.profile.i18n().administrator:"account_user"===a.role&&(d+=arcgisonline.sharing.dijit.views.profile.i18n().user);f("span",{innerHTML:d},f("strong",{},e))}g.showThumb&&(d=f("div",{"class":this.thumbContainerClass},e),b.addClass(e,g.align||"left"),a.thumbnail&&0<a.thumbnail.length?f("img",{src:this._getThumbnailUrl(a),"class":this.thumbClass},d):f("img",
{src:this._util.relativeToExplicitUrl("js/arcgisonline/css/images/no-user-thumb.jpg"),"class":this.thumbClass,style:"width:150px; height:150px;"},d));var d=f("div",{"class":this.snippetClass},f("span",{"class":"esriItemLinks"},e)),h=this._util.removeHTMLTags(a.description),k=c&&c.accountId&&a.orgId&&c.accountId===a.orgId?arcgisonline.sharing.dijit.views.profile.memberNoDescriptionText:arcgisonline.sharing.dijit.views.profile.noDescriptionText,h=0<h.length?a.description:k,h=this._util.linkifyText(h);
8>b.isIE&&(h="\x3cpre class\x3d'esriProfileDesc'\x3e"+h+"\x3c/pre\x3e");f("span",{innerHTML:h,style:"white-space:pre-wrap;"},d,"only");d=f("div",{style:{clear:"both"},"class":"profileLinks esriItemLinks esriFloatTrailing"},e);h=f("a",{href:"JavaScript:void(0);",innerHTML:arcgisonline.sharing.dijit.views.profile.i18n().profile},d);b.connect(h,"onclick",function(){-1<window.location.href.indexOf(esriGeowConfig.webmapViewerPath)&&arcgisonline.map.main.map&&arcgisonline.map.main.mapInitialized?arcgisonline.map.storage.saveMapInCookie(null,
!0,null,null,b.hitch(this,function(){window.location=esriGeowConfig.baseUrl+"user.html?user\x3d"+a.username})):window.location=esriGeowConfig.baseUrl+"user.html?user\x3d"+a.username});this._util.relativeToExplicitUrl("js/arcgisonline/css/images/transparent.gif");-1<window.location.href.indexOf(esriGeowConfig.webmapViewerPath)&&this._util.relativeToExplicitUrl("images/transparent.gif");var h=esriGeowConfig.userRole&&esriGeowConfig.userRole.isAdmin(),l=(k=esriGeowConfig.userRole&&esriGeowConfig.userRole.isCustom())&&
esriGeowConfig.userRole.canViewUsers()&&esriGeowConfig.userRole.canViewOrgItems();c&&(c.username===a.username?f("a",{href:esriGeowConfig.baseUrl+"content.html",innerHTML:arcgisonline.sharing.dijit.views.profile.i18n().manageItems},d):c.accountId&&c.role&&(a.orgId&&a.role&&(h||k&&l)&&c.accountId===a.orgId)&&f("a",{href:esriGeowConfig.baseUrl+"content.html?user\x3d"+a.username,innerHTML:arcgisonline.sharing.dijit.views.profile.i18n().manageItems},d));f("a",{href:esriGeowConfig.baseUrl+"search.html?q\x3downer:"+
a.username,innerHTML:arcgisonline.sharing.dijit.views.profile.i18n().items},d);f("a",{href:esriGeowConfig.baseUrl+"search.html?t\x3dgroups\x26q\x3downer:"+a.username,innerHTML:arcgisonline.sharing.dijit.views.profile.i18n().groups},d);f("div",{style:{clear:"both",width:"100%"}},e);return e}}});