// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/4.0beta2/esri/copyright.txt for details.
//>>built
define("../../core/Accessor ./Component dojo/_base/lang dojo/dom-class dojo/dom-construct dojo/dom-style".split(" "),function(m,f,g,h,e,k){var l={top:"inherit",bottom:"inherit",left:"inherit",right:"inherit"};return m.createSubclass({classMetadata:{properties:{computedPadding:{readOnly:!0,dependsOn:["padding","view.padding"]},height:{readOnly:!0,dependsOn:["_height","computedPadding"]},width:{readOnly:!0,dependsOn:["_width","computedPadding"]}}},declaredClass:"esri.views.ui.UI",css:{ui:"esri-ui",
corner:"esri-ui-corner",topLeft:"esri-ui-top-left",topRight:"esri-ui-top-right",bottomLeft:"esri-ui-bottom-left",bottomRight:"esri-ui-bottom-right"},constructor:function(){this._components=[];this._handles=[this.watch("padding, view, view.padding, container",this._paddingRelatedWatcher.bind(this))];this._initCorners()},getDefaults:function(){return g.mixin(this.inherited(arguments),{padding:l})},destroy:function(){this.container=null;this._components.forEach(function(a){a.destroy()});this._components.length=
0;this._handles.forEach(function(a){a.remove()});this._handles.length=0},_topLeft:null,_topRight:null,_bottomLeft:null,_bottomRight:null,_cornerLookup:null,_components:null,_handles:null,_viewHandle:null,container:null,_containerSetter:function(a,b){if(a===b)return a;a&&(h.add(a,this.css.ui),this._attachCorners(a),this._applyPadding());b&&(h.remove(b,this.css.ui),k.set(b,{top:"",bottom:"",left:"",right:""}),e.empty(b));return a},_computedPaddingGetter:function(a){a=a||{};var b=this.padding,c=this.view;
a.top=this._getSidePadding("top",b,c);a.bottom=this._getSidePadding("bottom",b,c);a.left=this._getSidePadding("left",b,c);a.right=this._getSidePadding("right",b,c);return a},_heightGetter:function(){var a=this._height||0;if(0===a)return a;var b=this.computedPadding;return Math.max(a-(b.top+b.bottom),0)},_paddingSetter:function(a){return"inherit"===a||"none"===a?{bottom:a,top:a,right:a,left:a}:g.mixin({},l,a)},_viewSetter:function(a,b){if(a===b)return a;this._viewHandle&&this._viewHandle.remove();
a&&(this._viewHandle=a.on("resize",function(a){this.resize(a.width,a.height)}.bind(this)),this._handles.push(this._viewHandle));return a},_widthGetter:function(){var a=this._width||0;if(0===a)return a;var b=this.computedPadding;return Math.max(a-(b.left+b.right),0)},add:function(a,b){if(a&&this._isValidPosition(b)){if(!a.isInstanceOf||!a.isInstanceOf(f))a=new f({node:a});this._place(a,this._cornerLookup[b],"bottom-right"===b?"first":"last");this._components.push(a)}},remove:function(a){a&&(a=this._components.indexOf(this.find(a)),
-1<a&&this._components.splice(a,1))},resize:function(a,b){this._width=a;this._height=b;this._applyPadding()},find:function(a){return!a?null:a.isInstanceOf&&a.isInstanceOf(f)?this._findByComponent(a):"string"===typeof a?this._findById(a):this._findByNode(a.domNode||a)},_attachCorners:function(a){e.place(this._topLeft,a);e.place(this._topRight,a);e.place(this._bottomLeft,a);e.place(this._bottomRight,a)},_initCorners:function(){var a,b,c,d;a=e.create("div",{className:this.css.topLeft+" "+this.css.corner});
b=e.create("div",{className:this.css.topRight+" "+this.css.corner});c=e.create("div",{className:this.css.bottomLeft+" "+this.css.corner});d=e.create("div",{className:this.css.bottomRight+" "+this.css.corner});this._topLeft=a;this._topRight=b;this._bottomLeft=c;this._bottomRight=d;this._cornerLookup={"top-left":a,"top-right":b,"bottom-left":c,"bottom-right":d}},_isValidPosition:function(a){return!!this._cornerLookup[a]},_place:function(a,b,c){a._widget?a._widget.placeAt(b,c):e.place(a.node,b,c)},_paddingRelatedWatcher:function(){this._applyPadding()},
_applyPadding:function(){var a=this.container,b;a&&(b=this.computedPadding,k.set(a,{top:this._toPxUnit(b.top),bottom:this._toPxUnit(b.bottom),left:this._toPxUnit(b.left),right:this._toPxUnit(b.right)}))},_toPxUnit:function(a){return 0<a?a+"px":a},_getSidePadding:function(a,b,c){c=c&&c.padding&&c.padding[a]||0;a=b[a];return"inherit"===a?c:0===a||"none"===a?0:a},_findByComponent:function(a){var b=null,c;this._components.some(function(d){(c=d===a)&&(b=d);return c});return b},_findById:function(a){var b=
null,c;this._components.some(function(d){(c=d.id===a)&&(b=d);return c});return b},_findByNode:function(a){var b=null,c;this._components.some(function(d){(c=d.node===a)&&(b=d);return c});return b}})});