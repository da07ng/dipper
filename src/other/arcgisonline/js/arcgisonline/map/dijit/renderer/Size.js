// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.15/esri/copyright.txt for details.
//>>built
require({cache:{"url:arcgisonline/map/dijit/renderer/templates/Size.html":'\x3cdiv data-dojo-type\x3d"dijit.layout.BorderContainer" region\x3d"top" style\x3d"height:100%; padding:5px;"\x3e\r\n  \x3cdiv id\x3d"rendererSizeTop" data-dojo-type\x3d"dijit.layout.ContentPane" class\x3d"panel panel_left" region\x3d"top" style\x3d"padding:2px;"\x3e\r\n    \x3cdiv id\x3d"rendererSizeHeader"\x3e\r\n      \x3cdiv class\x3d"esriFloatTrailing" style\x3d"display:inline;"\x3e\r\n        \x3ca href\x3d"JavaScript:void(0);" data-dojo-attach-point\x3d"_closeBtn" data-dojo-attach-event\x3d"onClick:_onCancel" title\x3d"${i18n.close}" class\x3d"panel panel_close panel_collapse"\x3e\x3c/a\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv id\x3d"rendererSizeTitle" class\x3d"esriFloatLeading panel_title"\x3e\r\n        ${i18n.rendererPanelTitle}\r\n      \x3c/div\x3e\r\n      \x3cdiv data-dojo-attach-point\x3d"_rendererSizeLayer" class\x3d"panel_title" style\x3d"clear:both;"\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv style\x3d"height:1px;"\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv style\x3d"margin: 2px 0 20px 0; padding:10px 0;"\x3e\r\n      \x3cdiv data-dojo-attach-point\x3d"_rendererSizeField" class\x3d"esriFloatLeading strong"\x3e\r\n      \x3c/div\x3e\r\n      \x3c!--\r\n      \x3cdiv data-dojo-attach-point\x3d"_rendererSizeAttribute" class\x3d"esriFloatTrailing"\x3e\r\n        \x3cbutton data-dojo-type\x3d"dijit.form.Button" type\x3d"button" data-dojo-attach-point\x3d"_rendererSizeChangeButton" class\x3d"calcite tiny" data-dojo-attach-event\x3d"onClick:_onChangeField"\x3e\x3cspan\x3e${i18n.change}\x3c/span\x3e\x3c/button\x3e\r\n      \x3c/div\x3e\r\n      --\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv id\x3d"renderer-size-content" data-dojo-type\x3d"dijit.layout.ContentPane" region\x3d"center" style\x3d"overflow-y:auto;padding:2px;"\x3e\r\n    \x3ctable\x3e\r\n      \x3ctbody\x3e\r\n        \x3ctr id\x3d"rendererSizeDividedBy"\x3e\r\n          \x3ctd nowrap\x3e\r\n            \x3cdiv class\x3d"firstColumnDiv"\x3e\r\n              \x3clabel class\x3d"firstColumnLabel"\x3e\r\n              ${i18n.dividedBy}\x26nbsp;\r\n              \x3c/label\x3e\r\n            \x3c/div\x3e\r\n          \x3c/td\x3e\r\n          \x3ctd\x3e\r\n            \x3cselect data-dojo-attach-point\x3d"_rendererSizeDividedByAttribute" data-dojo-attach-event\x3d"onChange:_onChangeDividedByAttribute" data-dojo-type\x3d"dijit.form.Select" maxHeight\x3d"150" sortByLabel\x3d"false"\x3e\r\n            \x3c/select\x3e\r\n          \x3c/td\x3e\r\n        \x3c/tr\x3e\r\n      \x3c/tbody\x3e\r\n    \x3c/table\x3e\r\n    \x3ctable style\x3d"width:100%;"\x3e\r\n      \x3ctbody\x3e\r\n        \x3ctr\x3e\r\n          \x3ctd height\x3d"271"\x3e\r\n            \x3cdiv data-dojo-attach-point\x3d"_rendererSizeSliderDiv"\x3e\r\n              \x3cdiv id\x3d"rendererSizeSlider"\x3e\r\n              \x3c/div\x3e\r\n            \x3c/div\x3e\r\n            \x3cdiv data-dojo-attach-point\x3d"_rendererSizeGridDiv" style\x3d"padding-top: 10px;"\x3e\r\n              \x3cdiv style\x3d"margin-bottom: 3px;"\x3e\r\n                \x3cspan class\x3d"small clickToEditMsg"\x3e${i18n.clickToEdit}\x3c/span\x3e\r\n              \x3c/div\x3e\r\n              \x3cdiv data-dojo-attach-point\x3d"_rendererSizeGridContainer" class\x3d"rendererSizeGridContainer" style\x3d"overflow-y: auto;overflow-x: none;"\x3e\r\n                \x3cdiv id\x3d"rendererSizeGrid"\x3e\r\n                \x3c/div\x3e\r\n              \x3c/div\x3e\r\n            \x3c/div\x3e\r\n          \x3c/td\x3e\r\n          \x3ctd nowrap class\x3d"toolsColumnTD" style\x3d"text-align:center; vertical-align:top; padding-top:20px;"\x3e\r\n            \x3cdiv data-dojo-attach-point\x3d"_rendererSizeSymbolsTitle" data-dojo-attach-event\x3d"onClick:_onClickSymbols" class\x3d"rightIcons"\x3e\r\n              \x3cdiv\x3e\r\n                \x3cdiv data-dojo-attach-point\x3d"_rendererSizeSymbol" style\x3d"padding:5px 0;"\x3e\x3c/div\x3e\r\n              \x3c/div\x3e\r\n              \x3cdiv\x3e\r\n                \x3cspan class\x3d"toolsLabel"\x3e${i18n.symbols}\x3c/span\x3e\r\n              \x3c/div\x3e\r\n            \x3c/div\x3e\r\n            \x3cdiv data-dojo-attach-point\x3d"_rendererSizeZoomTitle" data-dojo-attach-event\x3d"onClick:_onClickZoom" class\x3d"rightIcons" style\x3d"padding-top: 20px;"\x3e\r\n              \x3cdiv data-dojo-attach-point\x3d"_rendererSizeZoomIcon" class\x3d"zoomIcon"\x3e\r\n              \x3c/div\x3e\r\n              \x3cdiv style\x3d"padding-top: 5px;"\x3e\r\n                \x3cspan data-dojo-attach-point\x3d"_rendererSizeZoomLabel" class\x3d"toolsLabel"\x3e${i18n.zoomIn}\x3c/span\x3e\r\n              \x3c/div\x3e\r\n            \x3c/div\x3e\r\n            \x3cdiv data-dojo-attach-point\x3d"_rendererSizeLegendClassesTitle" data-dojo-attach-event\x3d"onClick:_onClickLegendClasses" class\x3d"rightIcons" style\x3d"padding-top: 20px;"\x3e\r\n              \x3cdiv data-dojo-attach-point\x3d"_rendererSizeLegendClassesIcon" class\x3d"legendClassesIcon"\x3e\r\n              \x3c/div\x3e\r\n              \x3cdiv style\x3d"padding-top: 5px;"\x3e\r\n                \x3cspan data-dojo-attach-point\x3d"_rendererSizeLegendClassesText" class\x3d"toolsLabel"\x3e${i18n.legend}\x3c/span\x3e\r\n              \x3c/div\x3e\r\n            \x3c/div\x3e\r\n            \x3cdiv data-dojo-attach-point\x3d"_rendererSizePolygonsTitle" data-dojo-attach-event\x3d"onClick:_onClickPolygons" class\x3d"rightIcons" style\x3d"padding-top: 15px;"\x3e\r\n              \x3cdiv\x3e\r\n                \x3cdiv data-dojo-attach-point\x3d"_rendererSizePolygonSymbol" style\x3d"padding:5px 0;"\x3e\x3c/div\x3e\r\n              \x3c/div\x3e\r\n              \x3cdiv\x3e\r\n                \x3cspan class\x3d"toolsLabel"\x3e${i18n.polygons}\x3c/span\x3e\r\n              \x3c/div\x3e\r\n            \x3c/div\x3e\r\n          \x3c/td\x3e\r\n        \x3c/tr\x3e\r\n      \x3c/tbody\x3e\r\n    \x3c/table\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"_estimatedValuesMsg" class\x3d"small estimateMsg"\x3e\r\n      ${i18n.estimatedValuesMsg}\r\n    \x3c/div\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"_zeroFeaturesMsg" class\x3d"small zeroFeaturesMsg"\x3e\r\n      ${i18n.zeroFeaturesMsg}\r\n    \x3c/div\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"_rendererSizeSymbolSize" class\x3d"rendererSizeSymbolSize" style\x3d"margin-top:20px;"\x3e\r\n      \x3cdiv data-dojo-attach-point\x3d"_rendererSizeSymbolSizeTitle" class\x3d"esriFloatLeading sectionTitle" \x3e\r\n        ${i18n.size}\r\n      \x3c/div\x3e\r\n      \x3c!--\r\n      \x3cdiv data-dojo-attach-point\x3d"_rendererSizeSuggest" data-dojo-attach-event\x3d"onClick:_onClickSizeSuggest" class\x3d"esriFloatTrailing suggestLabel"\x3e\r\n        \x26nbsp;${i18n.suggest}\x26nbsp;\r\n      \x3c/div\x3e\r\n      --\x3e\r\n      \x3cdiv class\x3d"esriFloatLeading" style\x3d"clear:both; padding: 5px 10px 17px 10px;"\x3e\r\n        \x3cdiv class\x3d"esriFloatLeading sizingTypes" style\x3d"clear:both;margin-top:5px;"\x3e\r\n          \x3cinput type\x3d"radio" data-dojo-type\x3d"dijit.form.RadioButton" data-dojo-attach-point\x3d"_rendererSizeAutomaticRadio" data-dojo-attach-event\x3d"onChange:_onChangeSizing" name\x3d"sizing"/\x3e\r\n          ${i18n.automaticSizing}\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"esriFloatLeading sizingTypes" style\x3d"clear:both; margin:7px 0 3px 0;"\x3e\r\n          \x3cinput type\x3d"radio" data-dojo-type\x3d"dijit.form.RadioButton" data-dojo-attach-point\x3d"_rendererSizeManualRadio" data-dojo-attach-event\x3d"onChange:_onChangeSizing" name\x3d"sizing"/\x3e\r\n          ${i18n.manualSizing}\r\n        \x3c/div\x3e\r\n        \x3cdiv style\x3d"clear:both;padding-top:5px" class\x3d"esriItemLinks sizingTypes2"\x3e\r\n          \x3cdiv class\x3d"esriFloatLeading esriTrailingMargin1" style\x3d"white-space: nowrap;"\x3e\r\n            \x3ctable cellpadding\x3d"0" cellspacing\x3d"0" style\x3d"padding-bottom:3px;"\x3e\r\n              \x3ctbody\x3e\r\n                \x3ctr\x3e\r\n                  \x3ctd nowrap\x3e\r\n                    \x3cspan data-dojo-attach-point\x3d"_rendererSizeMinPart1"\x3e\x3c/span\x3e\r\n                  \x3c/td\x3e\r\n                  \x3ctd\x3e\r\n                    \x3cinput data-dojo-attach-point\x3d"_rendererSizeMin" data-dojo-attach-event\x3d"onChange:_onChangeMin" intermediateChanges\x3d"true" data-dojo-type\x3d"dijit.form.NumberSpinner" value\x3d"4" smallDelta\x3d"1" constraints\x3d"{min:1,max:120,places:0}" style\x3d"width:40px; margin: 0 2px;" /\x3e\r\n                  \x3c/td\x3e\r\n                  \x3ctd nowrap\x3e\r\n                    \x3cspan data-dojo-attach-point\x3d"_rendererSizeMinPart2"\x3e\x3c/span\x3e\r\n                  \x3c/td\x3e\r\n                \x3c/tr\x3e\r\n              \x3c/tbody\x3e\r\n            \x3c/table\x3e\r\n          \x3c/div\x3e\r\n          \x3cdiv class\x3d"esriFloatLeading" style\x3d"white-space: nowrap;"\x3e\r\n            \x3ctable cellpadding\x3d"0" cellspacing\x3d"0"\x3e\r\n              \x3ctbody\x3e\r\n                \x3ctr\x3e\r\n                  \x3ctd nowrap\x3e\r\n                    \x3cspan data-dojo-attach-point\x3d"_rendererSizeMaxPart1"\x3e\x3c/span\x3e\r\n                  \x3c/td\x3e\r\n                  \x3ctd\x3e\r\n                    \x3cinput data-dojo-attach-point\x3d"_rendererSizeMax" data-dojo-attach-event\x3d"onChange:_onChangeMax" intermediateChanges\x3d"true" data-dojo-type\x3d"dijit.form.NumberSpinner" value\x3d"4" smallDelta\x3d"1" constraints\x3d"{min:1,max:120,places:0}" style\x3d"width:40px; margin: 0 2px;" /\x3e\r\n                  \x3c/td\x3e\r\n                  \x3ctd nowrap\x3e\r\n                    \x3cspan data-dojo-attach-point\x3d"_rendererSizeMaxPart2"\x3e\x3c/span\x3e\r\n                  \x3c/td\x3e\r\n                \x3c/tr\x3e\r\n              \x3c/tbody\x3e\r\n            \x3c/table\x3e\r\n          \x3c/div\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n\r\n\r\n    \x3c/div\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"_rendererSizeClassify" class\x3d"rendererSizeClassify" style\x3d"padding-top:3px; clear:both;"\x3e\r\n      \x3cdiv\x3e\r\n        \x3ctable cellspacing\x3d"0"\x3e\x3ctbody\x3e\x3ctr\x3e\x3ctd valign\x3d"top"\x3e\r\n          \x3cdiv data-dojo-attach-point\x3d"_rendererSizeClassifyCheckDiv"\x3e\r\n            \x3cinput data-dojo-attach-point\x3d"_rendererSizeClassifyCheck" data-dojo-attach-event\x3d"onChange:_onChangeClassify" data-dojo-type\x3d"dijit.form.CheckBox" checked\x3d"false" type\x3d"checkbox" /\x3e\r\n          \x3c/div\x3e\r\n        \x3c/td\x3e\x3ctd\x3e\r\n          \x3cdiv data-dojo-attach-point\x3d"_rendererSizeClassifyText"\x3e\r\n            ${i18n.classifyData}\r\n          \x3c/div\x3e\r\n        \x3c/td\x3e\x3c/tr\x3e\x3c/tbody\x3e\x3c/table\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv data-dojo-attach-point\x3d"_rendererSizeClassifyContent" class\x3d"esriLeadingMargin107" style\x3d"margin-top:3px;"\x3e\r\n        \x3cdiv style\x3d"margin-top:3px;"\x3e\r\n          \x3cspan data-dojo-attach-point\x3d"_rendererSizeClassifyMethodPart1"\x3e\x3c/span\x3e\r\n          \x3cdiv data-dojo-attach-point\x3d"_rendererSizeClassifyMethods" data-dojo-type\x3d"dijit.form.FilteringSelect" id\x3d"rendererSizeClassifyMethodDropdown" data-dojo-attach-event\x3d"onChange:_onChangeClassifyMethod" class\x3d"dijitComboBoxNonEditable" sortByLabel\x3d"false"\x3e\r\n          \x3c/div\x3e\r\n          \x3cspan data-dojo-attach-point\x3d"_rendererSizeClassifyMethodPart2"\x3e\x3c/span\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv data-dojo-attach-point\x3d"_rendererSizeClassifyClassesTitle" style\x3d"margin-top:3px;"\x3e\r\n          \x3cspan data-dojo-attach-point\x3d"_rendererSizeClassifyClassesPart1"\x3e\x3c/span\x3e\r\n          \x3cinput data-dojo-attach-point\x3d"_rendererSizeClassifyClasses" data-dojo-attach-event\x3d"onChange:_onChangeClassifyClasses" intermediateChanges\x3d"true" data-dojo-type\x3d"dijit.form.NumberSpinner" value\x3d"4" smallDelta\x3d"1" constraints\x3d"{min:1,max:10,places:0}" style\x3d"width:40px; margin: 0 5px;" /\x3e\r\n          \x3cspan data-dojo-attach-point\x3d"_rendererSizeClassifyClassesPart2"\x3e\x3c/span\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv data-dojo-attach-point\x3d"_rendererSizeClassifyStdDevIntervalTitle" style\x3d"margin-top:3px;"\x3e\r\n          \x3cspan data-dojo-attach-point\x3d"_rendererSizeClassifyStdDevIntervalPart1"\x3e\x3c/span\x3e\r\n          \x3cselect data-dojo-attach-point\x3d"_rendererSizeClassifyStdDevInterval" data-dojo-attach-event\x3d"onChange:_onChangeClassifyStdDevInterval" data-dojo-type\x3d"dijit.form.Select" style\x3d"width:50px;"\x3e\r\n          \x3c/select\x3e\r\n          \x3cspan data-dojo-attach-point\x3d"_rendererSizeClassifyStdDevIntervalPart2"\x3e\x3c/span\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv data-dojo-attach-point\x3d"rendererSizePrecision" style\x3d"margin-top: 3px;"\x3e\r\n          \x3ctable\x3e\r\n            \x3ctbody\x3e\r\n              \x3ctr\x3e\r\n                \x3ctd nowrap\x3e\r\n                  \x3cspan data-dojo-attach-point\x3d"_rendererSizePrecisionLabel"\x3e${i18n.roundClasses}\x3c/span\x3e\r\n                \x3c/td\x3e\r\n                \x3ctd\x3e\r\n                  \x3cselect data-dojo-attach-point\x3d"_rendererSizePrecision" data-dojo-attach-event\x3d"onChange:_onChangeSizePrecision" data-dojo-type\x3d"dijit.form.Select" maxHeight\x3d"150" sortByLabel\x3d"false" style\x3d"margin: 0 10px;"\x3e\r\n                  \x3c/select\x3e\r\n                \x3c/td\x3e\r\n              \x3c/tr\x3e\r\n            \x3c/tbody\x3e\r\n          \x3c/table\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv style\x3d"margin-top:5px;clear:both;"\x3e\r\n      \x3cdiv data-dojo-attach-point\x3d"_rendererSizeOtherCheckMsg" \x3e\r\n        \x3ctable cellspacing\x3d"0"\x3e\x3ctbody\x3e\x3ctr\x3e\x3ctd valign\x3d"top"\x3e\r\n          \x3cinput data-dojo-attach-point\x3d"_rendererSizeOtherCheck" data-dojo-attach-event\x3d"onChange:_onChangeOther" data-dojo-type\x3d"dijit.form.CheckBox" checked\x3d"false" type\x3d"checkbox" /\x3e\r\n        \x3c/td\x3e\x3ctd\x3e\r\n          \x3cspan data-dojo-attach-point\x3d"_rendererSizeOtherTxt"\x3e\r\n            ${i18n.drawOthers}\r\n          \x3c/span\x3e\r\n        \x3c/td\x3e\x3c/tr\x3e\x3c/tbody\x3e\x3c/table\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv data-dojo-attach-point\x3d"_rendererSizeOther" class\x3d"esriLeadingMargin107"\x3e\r\n        \x3ctable\x3e\x3ctbody\x3e\x3ctr\x3e\x3ctd\x3e\r\n          \x3cdiv data-dojo-attach-point\x3d"_rendererSizeOtherSymbolText"\x3e\r\n            ${i18n.symbolLabel}\r\n          \x3c/div\x3e\r\n        \x3c/td\x3e\x3ctd\x3e\r\n          \x3cdiv data-dojo-attach-point\x3d"_rendererSizeOtherSymbol" style\x3d"padding: 0 5px;"\x3e\x3c/div\x3e\r\n        \x3c/td\x3e\x3c/tr\x3e\x3c/tbody\x3e\x3c/table\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"_rendererSizeRotation" style\x3d"margin-top:5px;"\x3e\r\n      \x3cdiv\x3e\r\n        \x3ctable cellspacing\x3d"0"\x3e\x3ctbody\x3e\x3ctr\x3e\x3ctd valign\x3d"top"\x3e\r\n          \x3cinput data-dojo-attach-point\x3d"_rendererSizeRotationCheck" data-dojo-attach-event\x3d"onChange:_onChangeRotation" data-dojo-type\x3d"dijit.form.CheckBox" checked\x3d"false" type\x3d"checkbox" /\x3e\r\n        \x3c/td\x3e\x3ctd\x3e\r\n          \x3cdiv data-dojo-attach-point\x3d"_rendererSizeRotationText"\x3e\r\n            ${i18n.rotationMsg}\r\n          \x3c/div\x3e\r\n        \x3c/td\x3e\x3c/tr\x3e\x3c/tbody\x3e\x3c/table\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv data-dojo-attach-point\x3d"_rendererSizeRotationContent" class\x3d"esriLeadingMargin107" style\x3d"margin-top:3px;"\x3e\r\n        \x3cdiv style\x3d"margin-top:3px;"\x3e\r\n          \x3cselect data-dojo-attach-point\x3d"_rendererSizeRotationAttribute" data-dojo-attach-event\x3d"onChange:_onChangeRotationAttribute" data-dojo-type\x3d"dijit.form.Select" maxHeight\x3d"150" sortByLabel\x3d"false"\x3e\r\n          \x3c/select\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv style\x3d"margin-top:5px;"\x3e\r\n          \x3cinput type\x3d"radio" data-dojo-type\x3d"dijit.form.RadioButton" data-dojo-attach-point\x3d"_rendererSizeRotationClockwiseRadio" data-dojo-attach-event\x3d"onChange:_onChangeRotationDirection" data-dojo-props\x3d"checked:true" name\x3d"clockwise" /\x3e\r\n          ${i18n.clockwise}\r\n        \x3c/div\x3e\r\n        \x3cdiv style\x3d"margin-top:3px;"\x3e\r\n          \x3cinput type\x3d"radio" data-dojo-type\x3d"dijit.form.RadioButton" data-dojo-attach-point\x3d"_rendererSizeRotationCounterclockwiseRadio" data-dojo-attach-event\x3d"onChange:_onChangeRotationDirection" data-dojo-props\x3d"checked:false" name\x3d"clockwise" /\x3e\r\n          ${i18n.counterclockwise}\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv style\x3d"height:20px;"\x3e\x3c/div\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"_rendererSizeTransparency"\x3e\r\n      \x3cdiv data-dojo-attach-point\x3d"_rendererSizeTransparencyTitle" class\x3d"esriFloatLeading sectionTitle" \x3e\r\n        ${i18n.transparency}\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"esriFloatLeading" style\x3d"clear:both; padding: 5px 10px 20px 10px;"\x3e\r\n        \x3cdiv data-dojo-attach-point\x3d"_rendererSizeTransparencyOverallTitle" class\x3d"esriFloatLeading sectionSubTitle rendererSizeHasAttributeTransparency" \x3e\r\n          ${i18n.overallTransparency}\r\n        \x3c/div\x3e\r\n        \x3cdiv id\x3d"rendererSizeTransparencySliderDiv" class\x3d"esriLeadingPadding1" style\x3d"clear:both;"\x3e\r\n          \x3cdiv id\x3d"rendererSizeTransparencySliderInnerDiv" class\x3d"esriFloatLeading" style\x3d"padding: 6px 0 20px;"\x3e\r\n            \x3cdiv id\x3d"rendererSizeTransparencySlider"\x3e\r\n            \x3c/div\x3e\r\n          \x3c/div\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv data-dojo-attach-point\x3d"_rendererSizeTransparencyPerFeatureTitle" class\x3d"esriFloatLeading sectionSubTitle rendererSizeHasAttributeTransparency" style\x3d"clear:both;"\x3e\r\n          ${i18n.perFeaturesTransparency}\r\n        \x3c/div\x3e\r\n        \x3cdiv style\x3d"clear:both;margin-top:3px;" class\x3d"esriItemLinks rendererSizeHasAttributeTransparency esriLeadingPadding1"\x3e\r\n          \x3cspan data-dojo-attach-point\x3d"_rendererSizeAttributeTransparencyLabel_part1" class\x3d"esriLeadingMargin025"\x3e\x3c/span\x3e\r\n          \x3cA data-dojo-attach-point\x3d"_rendererSizeAttributeTransparencyLabel_part2" data-dojo-attach-event\x3d"onClick:_onClickAttributeTransparency" href\x3d"JavaScript:void(0);"\x3e\x3c/A\x3e\r\n          \x3cspan data-dojo-attach-point\x3d"_rendererSizeAttributeTransparencyLabel_part3"\x3e\x3c/span\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"_rendererSizeScale" style\x3d"clear:both;"\x3e\r\n      \x3cdiv data-dojo-attach-point\x3d"_rendererSizeScaleTitle" class\x3d"esriFloatLeading sectionTitle"\x3e\r\n        ${i18n.visibleRange}\r\n      \x3c/div\x3e\r\n      \x3cdiv data-dojo-attach-point\x3d"_rendererSizeScaleSuggest" data-dojo-attach-event\x3d"onClick:_onClickScaleSuggest" class\x3d"esriFloatTrailing suggestLabel"\x3e\r\n        \x26nbsp;${i18n.suggest}\x26nbsp;\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"esriFloatLeading" style\x3d"padding: 10px;"\x3e\r\n        \x3cdiv id\x3d"rendererSizeScaleSlider"\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv data-dojo-type\x3d"dijit.layout.ContentPane" region\x3d"bottom"\x3e\r\n\t\t\x3cdiv id\x3d"rendererSizeContentClose" data-dojo-type\x3d"dijit.layout.ContentPane" region\x3d"center" \x3e\r\n      \x3cbutton data-dojo-type\x3d"dijit.form.Button" type\x3d"button" class\x3d"calcite blue" data-dojo-attach-point\x3d"_doneChangingButton" data-dojo-attach-event\x3d"onClick:_onDone"\x3e\x3cspan\x3e${i18n.ok}\x3c/span\x3e\x3c/button\x3e\r\n      \x3cbutton data-dojo-type\x3d"dijit.form.Button" type\x3d"button" class\x3d"calcite transparent" data-dojo-attach-point\x3d"_doneChangingButton" data-dojo-attach-event\x3d"onClick:_onCancel"\x3e\x3cspan\x3e${i18n.cancel}\x3c/span\x3e\x3c/button\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv id\x3d"rendererSizeFooterDiv" data-dojo-type\x3d"dijit.layout.ContentPane" region\x3d"bottom" style\x3d"height:40px; padding: 0;"\x3e\r\n      \x3cdiv class\x3d"footer" id\x3d"rendererSizeFooter" data-dojo-type\x3d"arcgisonline.sharing.dijit.SiteFooterMap" style\x3d"white-space:normal;"\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e'}});
define("arcgisonline/map/dijit/renderer/Size","dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/connect dojo/_base/html dojo/string dojo/dom dojo/has dojo/topic dojo/query dojo/number dojo/aspect dojo/Deferred dojo/dom-class dojo/dom-style dojo/dom-construct dojox/html/entities dijit/registry dijit/Tooltip dijit/Dialog dojo/store/Memory dojo/data/ObjectStore esri/lang esri/styles/basic esri/symbols/jsonUtils esri/renderers/jsonUtils esri/styles/size arcgisonline/map/dijit/renderer/_SymbolsMixin arcgisonline/map/dijit/renderer/_SizeMixin arcgisonline/map/dijit/renderer/_OpacityMixin arcgisonline/map/dijit/renderer/_RendererMixin arcgisonline/map/dijit/renderer/_PrecisionMixin esri/renderers/SimpleRenderer esri/symbols/SimpleLineSymbol arcgisonline/map/dijit/renderer/AttributeTransparencyDlg arcgisonline/map/dijit/renderer/AttributeTransparency dojo/i18n!arcgisonline/nls/arcgisonline dijit/_Widget dijit/_Templated dojo/text!arcgisonline/map/dijit/renderer/templates/Size.html".split(" "),
function(p,c,q,k,m,r,n,u,P,g,A,B,C,f,b,Q,x,s,e,D,y,E,R,S,l,T,v,F,G,H,I,J,U,V,K,L,t,M,N,O){p=p([M,N],{declaredClass:"arcgisonline.map.dijit.renderer.Size",basePath:require.toUrl("arcgisonline/map/dijit/renderer"),baseClass:"esriAGORendererSize",widgetsInTemplate:!0,templateString:O,_rConnects:[],tooltips:[],i18n:null,disableAllEvents:!0,container:null,subLayerId:null,mapLayer:null,layer:null,renderer:null,symbol:null,sizeRendererGrid:null,origGalleryRenderer:null,isMultiAttributesRenderer:!1,constructor:function(a,
d){c.mixin(this,F);c.mixin(this,G);c.mixin(this,H);c.mixin(this,I);c.mixin(this,J);a&&(a.containerNode&&(this.container=a.containerNode),this.params=a.params,c.mixin(this,a.params),this._rConnects=[])},destroy:function(){this.destroyBusy();this.hideSymbolStyler();this.hideLegendPopup();this.sizeSlider&&this.sizeSlider.destroy();this.scaleSlider&&this.scaleSlider.destroy();this.transparencySlider&&this.transparencySlider.destroy();this.destroySizeRendererGrid();q.forEach(this.tooltips,function(a){a.destroy()});
q.forEach(this._rConnects,k.disconnect);delete this._rConnects;this.inherited(arguments)},postMixInProperties:function(){this.inherited(arguments);this.i18n=c.clone(t.common);c.mixin(this.i18n,t.rendererCommon);c.mixin(this.i18n,t.rendererSizePanel);c.mixin(this.i18n,t.rendererAttributeTransparencyDlg)},postCreate:function(){this.container.addChild(s.byId("rendererSizePanel"));this.loadConnections()},loadConnections:function(){this._rConnects.push(k.connect(s.byId("leftContentPanel"),"resize",this,
"adjustHeight"));this._rConnects.push(k.subscribe("onUpdateSize",c.hitch(this,"onUpdateInfo")));k.connect(this._rendererSizeOtherSymbol,"click",c.hitch(this,"onClickOtherSymbol","main"))},_onClose:function(a){a.preventDefault();this.hideBusy();delete this.mapLayer._scaleChanged;this.hideSymbolStyler();this.hideLegendPopup();this.dismissRendererChanges();arcgisonline.map.leftPanel.openLeftTOCPanel()},_onDone:function(a){a.preventDefault();this.hideBusy();this.hideSymbolStyler();this.hideLegendPopup();
this.isMultiAttributesRenderer?leftPanel.switchToMultiAttributesRendererStack(this.renderer):leftPanel.switchToRendererStack(this.renderer)},_onCancel:function(a){a.preventDefault();this.hideBusy();delete this.mapLayer._scaleChanged;this.hideSymbolStyler();this.hideLegendPopup();this.dismissRendererChanges(this.origGalleryRenderer);this.isMultiAttributesRenderer?leftPanel.switchToMultiAttributesRendererStack():leftPanel.switchToRendererStack()},_onChangeField:function(){leftPanel.switchToRendererStack()},
startup:function(){this.inherited(arguments);this._init()},_init:function(){this.origGalleryRenderer=this.buildCurrentRendererInfo();this.isMultiAttributesRenderer="colorsize"===this.getRendererStyle(this.renderer)||"uniquesize"===this.getRendererStyle(this.renderer)||"predominancesize"===this.getRendererStyle(this.renderer);this._rendererSizeLayer.innerHTML=x.encode(this.mapLayer.title.replace(/\_/g," "));-1!==this.subLayerId&&this.mapLayer.title!==this.layer.name&&(this._rendererSizeLayer.innerHTML+=
" - "+x.encode(this.layer.name.replace(/\_/g," ")));this._rendererSizeField.innerHTML=this.attributeItem.alias;b.set(this._estimatedValuesMsg,"display","none");b.set(this._zeroFeaturesMsg,"display","none");b.set(this._rendererSizeGridDiv,"display","none");this.scheme=null;var a=new y({data:[{label:""+A.format(0.5,{pattern:"0.##"}),id:0.5,value:0.5},{label:"1",id:1,value:1}]}),a=new E({objectStore:a});this._rendererSizeClassifyStdDevInterval.set("store",a);this._rendererSizeClassifyStdDevInterval.set("value",
1);this.hasDynamic?b.set(this._rendererSizeTransparency,"display","none"):this.transparencySlider=this.createTransparencySlider("rendererSizeTransparencySlider");this.createScaleSlider("rendererSizeScaleSlider").then(c.hitch(this,function(a){this.scaleSlider=a}));this.attributesStore.fetchItemByIdentity({identity:"_total_",onItem:c.hitch(this,function(a){a.alias=[r.substitute(this.i18n.total,{field:this.attributeItem.alias})]})});"esriGeometryPolygon"===this.geometryType?b.set(this._rendererSizePolygonsTitle,
"display",""):b.set(this._rendererSizePolygonsTitle,"display","none");a=this.i18n.minSizeInPixels.indexOf("${num}");this._rendererSizeMinPart1.innerHTML=this.i18n.minSizeInPixels.substring(0,a);this._rendererSizeMinPart2.innerHTML=this.i18n.minSizeInPixels.substring(a+6);a=this.i18n.maxSizeInPixels.indexOf("${num}");this._rendererSizeMaxPart1.innerHTML=this.i18n.maxSizeInPixels.substring(0,a);this._rendererSizeMaxPart2.innerHTML=this.i18n.maxSizeInPixels.substring(a+6);"esriGeometryPolyline"==this.geometryType?
(this._rendererSizeMin.set("constraints",{min:0,max:18,places:0}),this._rendererSizeMax.set("constraints",{min:0,max:18,places:0})):(this._rendererSizeMin.set("constraints",{min:1,max:120,places:0}),this._rendererSizeMax.set("constraints",{min:1,max:120,places:0}));this.hasDynamic&&(b.set(this._rendererSizeClassifyCheckDiv,"display","none"),f.add(this._rendererSizeClassifyText,"sectionTitle"),b.set(this._rendererSizeClassify,"paddingBottom","10px"));this._fillRendererSizeClassifications();a=this.i18n.classifyMethod.indexOf("${method}");
this._rendererSizeClassifyMethodPart1.innerHTML=this.i18n.classifyMethod.substring(0,a);this._rendererSizeClassifyMethodPart2.innerHTML=this.i18n.classifyMethod.substring(a+9);a=this.i18n.classifyClasses.indexOf("${num}");this._rendererSizeClassifyClassesPart1.innerHTML=this.i18n.classifyClasses.substring(0,a);this._rendererSizeClassifyClassesPart2.innerHTML=this.i18n.classifyClasses.substring(a+6);a=this.i18n.classifyStdDevIntervals.indexOf("${num}");this._rendererSizeClassifyStdDevIntervalPart1.innerHTML=
this.i18n.classifyStdDevIntervals.substring(0,a);this._rendererSizeClassifyStdDevIntervalPart2.innerHTML=this.i18n.classifyStdDevIntervals.substring(a+6);this.hasNumericField&&("esriGeometryPoint"===this.geometryType||"esriGeometryMultipoint"===this.geometryType)?(this._rendererSizeRotationAttribute.setStore(this.attributesStore,"",{query:"(type:'esriFieldTypeSingle' OR type:'esriFieldTypeDouble' OR type:'esriFieldTypeInteger' OR type:'esriFieldTypeSmallInteger') AND NOT name:'"+this.layer.objectIdField+
"'"}),b.set(this._rendererSizeRotation,"display","")):b.set(this._rendererSizeRotation,"display","none");if(!this.hasDynamic&&!this.isGeoRSS&&!this.isSL&&this.hasNumericField){var a=this.i18n.setFromField,d=a.indexOf("${field}");this._rendererSizeAttributeTransparencyLabel_part1.innerHTML=a.substring(0,d);this._rendererSizeAttributeTransparencyLabel_part3.innerHTML=a.substring(d+8);var h=this.getOpacityInfo();h?"function"==typeof h.field?this._rendererSizeAttributeTransparencyLabel_part2.innerHTML=
"predominant total":this.attributesStore.fetchItemByIdentity({identity:h.field,onItem:c.hitch(this,function(a){h.normalizationField?this.attributesStore.fetchItemByIdentity({identity:h.normalizationField,onItem:c.hitch(this,function(d){this._rendererSizeAttributeTransparencyLabel_part2.innerHTML=r.substitute(this.i18n.setFromFieldDividedBy,{field1:a.alias||a.name,field2:d.alias||d.name})})}):this._rendererSizeAttributeTransparencyLabel_part2.innerHTML=a.alias||a.name})}):this._rendererSizeAttributeTransparencyLabel_part2.innerHTML=
this.i18n.attributeValues}else g(".rendererSizeHasAttributeTransparency").forEach(function(a){b.set(a,"display","none")}),f.remove(n.byId("rendererSizeTransparencySliderDiv"),"esriLeadingPadding1");this.updateUIWithRenderer();setTimeout(c.hitch(this,function(){this.disableAllEvents=!1}),1E3);this.createTooltips();this.showLegendPopup()},updateUIWithRenderer:function(){this.authoringInfo=c.clone(this.renderer.authoringInfo);var a=!1;"size"===this.getRendererStyle(this.renderer)&&(this.renderer.normalizationTotal&&
"percent-of-total"===this.renderer.normalizationType)&&(a=!0);"classedSize"===this.getRendererStyle(this.renderer)?this._rendererSizeDividedByAttribute.setStore(this.attributesStore,this.i18n.none,{query:"(type:'esriFieldTypeSingle' OR type:'esriFieldTypeDouble' OR type:'esriFieldTypeInteger' OR type:'esriFieldTypeSmallInteger' OR type:'none'"+(a?" OR type:'total'":"")+") AND NOT name:'"+this.layer.objectIdField+"' AND NOT name:'"+this.attributeItem.name+"'"}):this._rendererSizeDividedByAttribute.setStore(this.attributesStore,
this.i18n.none,{query:"(type:'esriFieldTypeSingle' OR type:'esriFieldTypeDouble' OR type:'esriFieldTypeInteger' OR type:'esriFieldTypeSmallInteger' OR type:'none') AND NOT name:'"+this.layer.objectIdField+"' AND NOT name:'"+this.attributeItem.name+"'"});this.isMultiAttributesRenderer&&b.set(this._rendererSizeClassify,"display","none");if(a)this._rendererSizeDividedByAttribute.set("value","_total_");else if(("size"===this.getRendererStyle(this.renderer)||"classedSize"===this.getRendererStyle(this.renderer))&&
this.renderer.normalizationField&&"field"===this.renderer.normalizationType)this._rendererSizeDividedByAttribute.set("value",this.renderer.normalizationField);else if("colorsize"===this.getRendererStyle(this.renderer)||"uniquesize"===this.getRendererStyle(this.renderer))(a=this.getVisualVariableByType("sizeInfo",null,this.renderer.visualVariables))&&a.normalizationField&&this._rendererSizeDividedByAttribute.set("value",a.normalizationField);"esriGeometryPolygon"===this.geometryType&&(this.renderer.backgroundFillSymbol?
this.isSymbolTransparent(this.renderer.backgroundFillSymbol)?this.drawTransparentSymbol(this._rendererSizePolygonSymbol):(this.drawSymbol(this._rendererSizePolygonSymbol,this.renderer.backgroundFillSymbol,null,null,null,1),this.updateBackgroundForAlmostWhite(this.renderer.backgroundFillSymbol,this._rendererSizePolygonSymbol)):b.set(this._rendererSizePolygonsTitle,"display","none"));a=this.getSymbolFromClassedSizeRenderer(this.renderer);this.drawSymbol(this._rendererSizeSymbol,"simplelinesymbol"===
a.type?a:this.switchSizeKeepSymbol(a,28),null,null,null,1);this.renderer.defaultSymbol?(this.defaultInfo={defaultSymbol:this.renderer.defaultSymbol,defaultLabel:this.renderer.defaultLabel},b.set(this._rendererSizeOther,"display",""),this._rendererSizeOtherCheck.set("checked",!0)):(this.defaultInfo={defaultSymbol:this.getDefaultSymbol(this.geometryType),defaultLabel:this.i18n.other},b.set(this._rendererSizeOther,"display","none"),this._rendererSizeOtherCheck.set("checked",!1));this.isSymbolTransparent(this.defaultInfo.defaultSymbol)?
this.drawTransparentSymbol(this._rendererSizeOtherSymbol):(this.drawSymbol(this._rendererSizeOtherSymbol,this.defaultInfo.defaultSymbol,null,null,null,1),this.updateBackgroundForAlmostWhite(this.defaultInfo.defaultSymbol,this._rendererSizeOtherSymbol));!this.hasDynamic&&"esriGeometryPolygon"===this.geometryType&&("size"===this.getRendererStyle(this.renderer)||"colorsize"===this.getRendererStyle(this.renderer)||"uniquesize"===this.getRendererStyle(this.renderer))?("object"===typeof this.getVisualVariableByType("sizeInfo",
null,this.renderer.visualVariables).minSize?(this._rendererSizeAutomaticRadio.set("checked",!0),this.disableSizeInput()):(this._rendererSizeManualRadio.set("checked",!0),this.enableSizeInput()),g(".sizingTypes").forEach(function(a){b.set(a,"display","")}),g(".sizingTypes2").forEach(function(a){f.add(a,"esriLeadingMargin107")})):(g(".sizingTypes").forEach(function(a){b.set(a,"display","none")}),g(".sizingTypes2").forEach(function(a){f.remove(a,"esriLeadingMargin107")}));"classedSize"===this.getRendererStyle(this.renderer)?
(b.set(this._rendererSizeZoomTitle,"display","none"),this._rendererSizeMin.set("value",this.renderer.infos&&this.renderer.infos.length?this.getSymbolSize(this.renderer.infos[0].symbol):8),this._rendererSizeMax.set("value",this.renderer.infos&&this.renderer.infos.length?this.getSymbolSize(this.renderer.infos[this.renderer.infos.length-1].symbol):50),this._rendererSizeClassifyCheck.set("checked",!0),b.set(this._rendererSizeClassifyContent,"display",""),b.set(this._rendererSizeClassifyStdDevIntervalTitle,
"display","none"),b.set(this._rendererSizeLegendClassesTitle,"display",""),this._rendererSizeClassifyClasses.set("value",this.renderer.infos.length),this._rendererSizeOtherTxt.innerHTML=this.i18n.drawClassifiedOthers,this.renderer.authoringInfo?(this._rendererSizeClassifyMethods.set("value",this.getClassificationMethod(this.fromClassificationMethodConstant(this.renderer.authoringInfo.classificationMethod))),"esriClassifyStandardDeviation"===this.renderer.authoringInfo.classificationMethod?(this._rendererSizeClassifyStdDevInterval.set("value",
this.renderer.authoringInfo.standardDeviationInterval||1),b.set(this._rendererSizeClassifyStdDevIntervalTitle,"display",""),b.set(this._rendererSizeClassifyClassesTitle,"display","none")):this._rendererSizeClassifyClasses.set("value",this.renderer.infos.length)):this._rendererSizeClassifyClasses.set("value",this.renderer.infos.length)):(this._rendererSizeZoomLabel.innerHTML=this.i18n.zoomIn,b.set(this._rendererSizeZoomTitle,"display",""),a=this.getVisualVariableByType("sizeInfo",null,this.renderer.visualVariables),
this._rendererSizeMin.set("value","number"===typeof a.minSize?a.minSize:a.minSize.stops[1].size),this._rendererSizeMax.set("value","number"===typeof a.maxSize?a.maxSize:a.maxSize.stops[1].size),this._rendererSizeClassifyCheck.set("checked",!1),b.set(this._rendererSizeClassifyContent,"display","none"),b.set(this._rendererSizeLegendClassesTitle,"display","none"),this._rendererSizeOtherTxt.innerHTML=this.i18n.drawOthers);if(this.hasNumericField&&("esriGeometryPoint"==this.geometryType||"esriGeometryMultipoint"==
this.geometryType))a=this.renderer.rotationInfo||(this.renderer.latestObservationRenderer?this.renderer.latestObservationRenderer.rotationInfo:null),this._rendererSizeRotationCheck.set("checked",a?!0:!1),a&&a.field&&this.attributesStore.fetchItemByIdentity({identity:a.field,onItem:c.hitch(this,function(a){this._rendererSizeRotationAttribute.set("value",a.alias)})}),b.set(this._rendererSizeRotationContent,"display",a?"":"none");"classedSize"===this.getRendererStyle(this.renderer)?this.getParams().then(c.hitch(this,
function(a){9>u("ie")?setTimeout(c.hitch(this,function(){this.createClassedSizeInfoSlider(a).then(c.hitch(this,function(){this.hideBusy();this.adjustHeight()}),c.hitch(this,function(){this.hideBusy()}),c.hitch(this,function(a){this.showBusy("rendererSizeStack",a)}))}),1E3):this.createClassedSizeInfoSlider(a).then(c.hitch(this,function(){this.hideBusy();this.adjustHeight()}),c.hitch(this,function(){this.hideBusy()}),c.hitch(this,function(a){this.showBusy("rendererSizeStack",a)}))})):this.getParams().then(c.hitch(this,
function(a){9>u("ie")?setTimeout(c.hitch(this,function(){this.createSizeInfoSlider(a).then(c.hitch(this,function(){this.hideBusy();this.adjustHeight()}),c.hitch(this,function(){this.hideBusy()}),c.hitch(this,function(a){this.showBusy("rendererSizeStack",a)}))}),1E3):this.createSizeInfoSlider(a).then(c.hitch(this,function(){this.hideBusy();this.adjustHeight()}),c.hitch(this,function(){this.hideBusy()}),c.hitch(this,function(a){this.showBusy("rendererSizeStack",a)}))}))},wrapTooltipText:function(a){return"\x3cdiv class\x3d'rendererTooltip'\x3e"+
a+"\x3c/div\x3e"},createTooltips:function(){this.tooltips.push(new e({connectId:this._rendererSizeTransparencyTitle,label:this.wrapTooltipText(this.i18n.transparencyTooltip)}));this.tooltips.push(new e({connectId:this._rendererSizeTransparencyOverallTitle,label:this.wrapTooltipText(this.i18n.overallTransparencyTooltip)}));this.tooltips.push(new e({connectId:this._rendererSizeTransparencyPerFeatureTitle,label:this.wrapTooltipText(this.i18n.perFeaturesTransparencyTooltip)}));this.tooltips.push(new e({connectId:this._rendererSizeScaleTitle,
label:this.wrapTooltipText(this.i18n.visibleRangeTooltip)}));this.tooltips.push(new e({connectId:this._rendererSizeScaleSuggest,label:this.wrapTooltipText(this.i18n.suggestTooltip)}));this.tooltips.push(new e({connectId:this._rendererSizeRotationText,label:this.wrapTooltipText(this.i18n.rotateTooltip)}));this.tooltips.push(new e({connectId:this._rendererSizeRotationAttribute.domNode,label:this.wrapTooltipText(this.i18n.rotationFieldTooltip)}));this.tooltips.push(new e({connectId:this._rendererSizeClassifyText,
label:this.wrapTooltipText(this.i18n.classifyDataTooltip)}));this.tooltips.push(new e({connectId:this._rendererSizeClassifyMethods.domNode,label:this.wrapTooltipText(this.i18n.classifyMethodTooltip)}));this.tooltips.push(new e({connectId:this._rendererSizeClassifyClassesTitle,label:this.wrapTooltipText(r.substitute(this.i18n.numberOfClassesTooltip,{num:10}))}));this.tooltips.push(new e({connectId:this._rendererSizeSymbolsTitle,label:this.wrapTooltipText(this.i18n.symbolsTooltip)}));this.tooltips.push(new e({connectId:this._rendererSizeZoomTitle,
label:this.wrapTooltipText(this.i18n.zoomTooltip)}));this.legendClassesTooltip=new e({connectId:this._rendererSizeLegendClassesTitle,label:this.wrapTooltipText(this.i18n.legendTooltip)});this.tooltips.push(this.legendClassesTooltip);this.tooltips.push(new e({connectId:this._rendererSizePolygonsTitle,label:this.wrapTooltipText(this.i18n.polygonsTooltip)}));this.tooltips.push(new e({connectId:this._rendererSizeDividedByAttribute.domNode,label:this.wrapTooltipText(this.i18n.dividedByTooltip)}));"classedSize"===
this.getRendererStyle(this.renderer)?this.otherTooltip=new e({connectId:this._rendererSizeOtherTxt,label:this.wrapTooltipText(this.i18n.drawClassifiedOthersTooltip)}):this.otherTooltip=new e({connectId:this._rendererSizeOtherTxt,label:this.wrapTooltipText(this.i18n.drawOthersTooltip)});this.tooltips.push(this.otherTooltip);this.tooltips.push(new e({connectId:this._rendererSizeOtherSymbol,label:this.wrapTooltipText(this.i18n.otherSymbolTooltip)}));this.tooltips.push(new e({connectId:this._rendererSizeOtherSymbolText,
label:this.wrapTooltipText(this.i18n.otherSymbolTooltip)}))},_fillRendererSizeClassifications:function(){var a=function(a,c,b){return"\x3chtml\x3e\x3cbody\x3e\x3cdiv class\x3d'"+b+"_classificationTitle'\x3e"+a+"\x3c/div\x3e\x3cdiv class\x3d'"+b+"_classificationMsg'\x3e"+c+"\x3c/div\x3e\x3c/body\x3e\x3c/html\x3e"};this.classificationData=[];this.classificationData.push({name:this.i18n.classifyNaturalBreaks,key:"natural-breaks",label:a(this.i18n.classifyNaturalBreaks,this.i18n.classifyNaturalBreaksMsg,
this.baseClass)});this.classificationData.push({name:this.i18n.classifyEqualInterval,key:"equal-interval",label:a(this.i18n.classifyEqualInterval,this.i18n.classifyEqualIntervalMsg,this.baseClass)});this.isFeatColl||this.classificationData.push({name:this.i18n.classifyStandardDeviation,key:"standard-deviation",label:a(this.i18n.classifyStandardDeviation,this.i18n.classifyStandardDeviationMsg,this.baseClass)});this.classificationData.push({name:this.i18n.classifyQuantile,key:"quantile",label:a(this.i18n.classifyQuantile,
this.i18n.classifyQuantileMsg,this.baseClass)});this.classificationData.push({name:this.i18n.classifyManualBreaks,key:"manual",label:a(this.i18n.classifyManualBreaks,this.i18n.classifyManualBreaksMsg,this.baseClass)});this.classificationStore=new y({data:this.classificationData,idProperty:"name"});this._rendererSizeClassifyMethods.set("store",this.classificationStore);this._rendererSizeClassifyMethods.set("labelAttr","label");this._rendererSizeClassifyMethods.set("labelType","html");this._rendererSizeClassifyMethods.textbox.readOnly=
!0;b.set(this._rendererSizeClassifyMethods.textbox,"cursor","pointer");this._rendererSizeClassifyMethods.textbox.onclick=c.hitch(this,function(){this._rendererSizeClassifyMethods.loadDropDown()});this.renderer.authoringInfo&&this.renderer.authoringInfo.classificationMethod?this._rendererSizeClassifyMethods.set("value",this.getClassificationMethod(this.fromClassificationMethodConstant(this.renderer.authoringInfo.classificationMethod))):this._rendererSizeClassifyMethods.set("value",this.i18n.classifyManualBreaks);
b.set(this._rendererSizeClassifyClassesTitle,"display","");b.set(this._rendererSizeClassifyStdDevIntervalTitle,"display","none");B.after(this._rendererSizeClassifyMethods,"openDropDown",c.hitch(this,function(){this.adjustHeight()}))},_onChangeDividedByAttribute:function(){this.disableAllEvents||this.getParams().then(c.hitch(this,function(a){this.clearZoom();this.buildSizeRenderer(a).then(c.hitch(this,function(d){var b=d.renderer;d=d.statistics;this.renderer=b;a.statistics=d;this._rendererSizeDividedByAttribute.setStore(this.attributesStore,
a.normalizationField||this.i18n.none,{query:"(type:'esriFieldTypeSingle' OR type:'esriFieldTypeDouble' OR type:'esriFieldTypeInteger' OR type:'esriFieldTypeSmallInteger' OR type:'none') AND NOT name:'"+this.layer.objectIdField+"' AND NOT name:'"+this.attributeItem.name+"'"});esri.isDefined(a.numClasses)&&a.numClasses!==b.infos.length&&(this.disableAllEvents=!0,this._rendererSizeClassifyClasses.set("value",b.infos.length),setTimeout(c.hitch(this,function(){this.disableAllEvents=!1}),1E3));this.drawSymbol(this._rendererSizeOtherSymbol,
this.defaultInfo.defaultSymbol,null,null,null,1);this.applySizeRenderer(this.renderer);this._rendererSizeClassifyCheck.get("checked")?this.createClassedSizeInfoSlider(a).then(c.hitch(this,function(){this.hideBusy()}),c.hitch(this,function(){this.hideBusy()})):this.createSizeInfoSlider(a).then(c.hitch(this,function(){this.hideBusy()}),c.hitch(this,function(){this.hideBusy()}))}),c.hitch(this,function(){this.hideBusy()}),c.hitch(this,function(a){this.showBusy("rendererSizeStack",a)}))}))},_onClickSymbols:function(a,
d){var b=v.getSchemes({theme:"default",basemap:this.getBasemapType(),geometryType:"esriGeometryPolygon"===this.geometryType?"esriGeometryPoint":this.geometryType}),w=this.renderer.infos&&this.renderer.infos.length?this.getSymbolFromClassedSizeRenderer(this.renderer):this.getDefaultSymbol(this.geometryType),z=null;this.isMultiAttributesRenderer&&(z={excluded:["fill"],symbolDisplayMode:"default"});this.showSymbolStyler(w,{externalSizing:!0,schemes:b,tabOptions:z},c.hitch(this,"onSymbolsChange"))},onSymbolsChange:function(a,
d,c){this.scheme=c||this.scheme;d=a.toJson();if("esriPMS"==a.type&&(0==d.url.length||"http://"==d.url))a=l.fromJson(this.getMarkerJson());a=l.fromJson(a.toJson());this.isSymbolTransparent(a)?this.drawTransparentSymbol(this._rendererSizeSymbol):(this.drawSymbol(this._rendererSizeSymbol,"simplelinesymbol"===a.type?a:this.switchSizeKeepSymbol(a,28),null,null,null,1),this.updateBackgroundForAlmostWhite(a,this._rendererSizeSymbol));a={symbol:l.fromJson(a.toJson())};this.updateSymbolOnSizeRenderer(a);a=
a.symbol;this.isSymbolTransparent(a)?this.drawTransparentSymbol(this._rendererSizeSymbol):(this.drawSymbol(this._rendererSizeSymbol,"simplelinesymbol"===a.type?a:this.switchSizeKeepSymbol(a,28),null,null,null,1),this.updateBackgroundForAlmostWhite(a,this._rendererSizeSymbol));this.updateSizeRenderer(null)},_onClickZoom:function(){this.disableAllEvents||(this.sizeSlider.get("zoomOptions")?(this.zoomOutSlider(),f.remove(this._rendererSizeZoomIcon,"active"),this._rendererSizeZoomLabel.innerHTML=this.i18n.zoomIn):
this.getParams().then(c.hitch(this,function(a){this.zoomInSlider(a).then(c.hitch(this,function(a){f.add(this._rendererSizeZoomIcon,"active");this._rendererSizeZoomLabel.innerHTML=this.i18n.zoomOut}),c.hitch(this,function(a){}))})))},clearZoom:function(){"size"===this.getRendererStyle(this.renderer)&&this.sizeSlider&&(this.sizeSlider.get("zoomOptions")&&this.zoomOutSlider(),f.remove(this._rendererSizeZoomIcon,"active"),this._rendererSizeZoomLabel.innerHTML=this.i18n.zoomIn)},_onClickLegendClasses:function(){-1===
this._rendererSizeLegendClassesIcon.className.indexOf("active")?(f.add(this._rendererSizeLegendClassesIcon,"active"),this._rendererSizeLegendClassesText.innerHTML=this.i18n.classes,this.legendClassesTooltip.set("label",this.wrapTooltipText(this.i18n.classesTooltip)),b.set(this._rendererSizeSliderDiv,"display","none"),b.set(this._rendererSizeGridDiv,"display",""),this.updateSizeRendererGrid()):(f.remove(this._rendererSizeLegendClassesIcon,"active"),this._rendererSizeLegendClassesText.innerHTML=this.i18n.legend,
this.legendClassesTooltip.set("label",this.wrapTooltipText(this.i18n.legendTooltip)),b.set(this._rendererSizeSliderDiv,"display",""),b.set(this._rendererSizeGridDiv,"display","none"))},_onClickPolygons:function(a,d){var b=v.getSchemes({theme:"default",basemap:this.getBasemapType(),geometryType:this.geometryType});this.showSymbolStyler(this.renderer.backgroundFillSymbol,{externalSizing:!1,optimizeOutline:this.hasOptimizeOutline(this.renderer.visualVariables),schemes:b},c.hitch(this,"onPolygonSymbolChange"))},
onPolygonSymbolChange:function(a,c,b,w){this.renderer.backgroundFillSymbol=l.fromJson(a.toJson());this.updateSizeRenderer(w)},_onChangeSizing:function(a){this.disableAllEvents?"object"===typeof this.getVisualVariableByType("sizeInfo",null,this.renderer.visualVariables).minSize?(this._rendererSizeAutomaticRadio.set("checked",!0),this.disableSizeInput()):(this._rendererSizeManualRadio.set("checked",!0),this.enableSizeInput()):(this._rendererSizeManualRadio.get("checked")?this.enableSizeInput():this.disableSizeInput(),
a&&this.updateClassifyInfo())},_onChangeMin:function(a){if(!this.disableAllEvents){!this._rendererSizeManualRadio.get("checked")&&(!this.hasDynamic&&"esriGeometryPolygon"===this.geometryType&&"size"===this.getRendererStyle(this.renderer))&&(this.disableAllEvents=!0,this._rendererSizeManualRadio.set("checked",!0),this.enableSizeInput(),setTimeout(c.hitch(this,function(){this.disableAllEvents=!1}),1E3));var b=this._rendererSizeMin.get("value"),h=this._rendererSizeMax.get("value");setTimeout(c.hitch(this,
function(b,c){var d=this._rendererSizeMin.get("value"),h=this._rendererSizeMax.get("value");b!==d||c!==h||this._onChangeMinAction(a)},b,h),1E3)}},_onChangeMinAction:function(a){a=this._rendererSizeMin.get("value");var b=this._rendererSizeMax.get("value");a>b&&(this._rendererSizeMin.set("value",b),a=b);a<this._rendererSizeMin.get("constraints").min?(this._rendererSizeMin.set("value",this._rendererSizeMin.get("constraints").min),a=this._rendererSizeMin.get("constraints").min):a>this._rendererSizeMin.get("constraints").max&&
(this._rendererSizeMin.set("value",this._rendererSizeMin.get("constraints").max),a=this._rendererSizeMin.get("constraints").max);this.updateSizeOnSizeRenderer(a,b);this.applySizeRenderer(this.renderer)},_onChangeMax:function(a){if(!this.disableAllEvents){!this._rendererSizeManualRadio.get("checked")&&(!this.hasDynamic&&"esriGeometryPolygon"===this.geometryType&&"size"===this.getRendererStyle(this.renderer))&&(this.disableAllEvents=!0,this._rendererSizeManualRadio.set("checked",!0),this.enableSizeInput(),
setTimeout(c.hitch(this,function(){this.disableAllEvents=!1}),1E3));var b=this._rendererSizeMin.get("value"),h=this._rendererSizeMax.get("value");setTimeout(c.hitch(this,function(b,c){var d=this._rendererSizeMin.get("value"),h=this._rendererSizeMax.get("value");b!==d||c!==h||this._onChangeMaxAction(a)},b,h),1E3)}},_onChangeMaxAction:function(a){a=this._rendererSizeMin.get("value");var b=this._rendererSizeMax.get("value");a>b&&(this._rendererSizeMax.set("value",a),b=a);b<this._rendererSizeMax.get("constraints").min?
(this._rendererSizeMax.set("value",this._rendererSizeMax.get("constraints").min),b=this._rendererSizeMax.get("constraints").min):b>this._rendererSizeMax.get("constraints").max&&(this._rendererSizeMax.set("value",this._rendererSizeMax.get("constraints").max),b=this._rendererSizeMax.get("constraints").max);this.updateSizeOnSizeRenderer(a,b);this.applySizeRenderer(this.renderer)},_onChangeClassify:function(a){this.disableAllEvents?"size"===this.getRendererStyle(this.renderer)?this._rendererSizeClassifyCheck.set("checked",
!1):this._rendererSizeClassifyCheck.set("checked",!0):(a?(b.set(this._rendererSizeClassifyContent,"display",""),b.set(this._rendererSizeZoomTitle,"display","none"),b.set(this._rendererSizeClassifyClassesTitle,"display",""),b.set(this._rendererSizeClassifyStdDevIntervalTitle,"display","none"),f.remove(this._rendererSizeLegendClassesIcon,"active"),b.set(this._rendererSizeLegendClassesTitle,"display",""),this._rendererSizeLegendClassesText.innerHTML=this.i18n.legend,this.legendClassesTooltip.set("label",
this.wrapTooltipText(this.i18n.legendTooltip)),b.set(this._rendererSizeSliderDiv,"display",""),b.set(this._rendererSizeGridDiv,"display","none"),this.disableAllEvents=!0,this._rendererSizeClassifyMethods.set("value",this.i18n.classifyNaturalBreaks),this._rendererSizeOtherTxt.innerHTML=this.i18n.drawClassifiedOthers,this.otherTooltip.set("label",this.wrapTooltipText(this.i18n.drawClassifiedOthers))):(b.set(this._rendererSizeClassifyContent,"display","none"),b.set(this._rendererSizeLegendClassesTitle,
"display","none"),b.set(this._rendererSizeZoomTitle,"display",""),this._rendererSizeOtherTxt.innerHTML=this.i18n.drawOthers,this.otherTooltip.set("label",this.wrapTooltipText(this.i18n.drawOthers)),"_total_"===this._rendererSizeDividedByAttribute.get("value")&&(this.disableAllEvents=!0,this._rendererSizeDividedByAttribute.setStore(this.attributesStore,this.i18n.none,{query:"(type:'esriFieldTypeSingle' OR type:'esriFieldTypeDouble' OR type:'esriFieldTypeInteger' OR type:'esriFieldTypeSmallInteger' OR type:'none') AND NOT name:'"+
this.layer.objectIdField+"' AND NOT name:'"+this.attributeItem.name+"'"}))),this.updateClassifyInfo(),setTimeout(c.hitch(this,function(){this.disableAllEvents=!1}),1E3))},_onChangeClassifyMethod:function(a){this.disableAllEvents||(this._rendererSizeClassifyMethods.get("value")===this.i18n.classifyManualBreaks?(this.disableAllEvents=!0,10<this.renderer.infos.length?(this._rendererSizeClassifyMethods.set("value",this.i18n.classifyNaturalBreaks),this.updateClassifyInfo()):(this._rendererSizeClassifyClasses.set("value",
this.renderer.infos.length),delete this.authoringInfo.classificationMethod,delete this.renderer.authoringInfo.classificationMethod,delete this.authoringInfo.standardDeviationInterval,delete this.renderer.authoringInfo.standardDeviationInterval),setTimeout(c.hitch(this,function(){this.disableAllEvents=!1}),1E3),b.set(this._rendererSizeClassifyClassesTitle,"display",""),b.set(this._rendererSizeClassifyStdDevIntervalTitle,"display","none")):(this._rendererSizeClassifyMethods.get("value")===this.i18n.classifyStandardDeviation?
(b.set(this._rendererSizeClassifyClassesTitle,"display","none"),b.set(this._rendererSizeClassifyStdDevIntervalTitle,"display","")):(b.set(this._rendererSizeClassifyClassesTitle,"display",""),b.set(this._rendererSizeClassifyStdDevIntervalTitle,"display","none")),this.updateClassifyInfo()))},_onChangeClassifyClasses:function(a){this.disableAllEvents||(this.waitingHandler&&clearTimeout(this.waitingHandler),this.waitingHandler=setTimeout(c.hitch(this,function(){clearTimeout(this.waitingHandler);this.waitingHandler=
null;this.updateClassifyInfo()}),500))},_onChangeClassifyStdDevInterval:function(){this.disableAllEvents||this.updateClassifyInfo()},updateClassifyInfo:function(){var a=this.disableAllEvents,d=this.getRendererDataRange("sizeInfo");this._rendererSizeClassifyCheck.get("checked")?(g(".sizingTypes").forEach(function(a){b.set(a,"display","none")}),g(".sizingTypes2").forEach(function(a){f.remove(a,"esriLeadingMargin107")}),this.getParams().then(c.hitch(this,function(b){10<b.numClasses&&(b.numClasses=4,
this.disableAllEvents=!0,this._rendererSizeClassifyClasses.set("value",4));this.getVisualVariableByType("sizeInfo",null,this.renderer.visualVariables)||(b.minValue=d.min,b.maxValue=d.max);this.buildSizeRenderer(b).then(c.hitch(this,function(d){var e=d.renderer;d=d.statistics;this.renderer=e;b.statistics=d;this.disableAllEvents=!0;this._rendererSizeClassifyMethods.get("value")!==this.i18n.classifyStandardDeviation&&(esri.isDefined(b.numClasses)&&b.numClasses!==e.infos.length)&&this._rendererSizeClassifyClasses.set("value",
e.infos.length);this._rendererSizeMin.set("value",this.renderer.infos&&this.renderer.infos.length?this.getSymbolSize(this.renderer.infos[0].symbol):8);this._rendererSizeMax.set("value",this.renderer.infos&&this.renderer.infos.length?this.getSymbolSize(this.renderer.infos[this.renderer.infos.length-1].symbol):50);this.enableSizeInput();a||setTimeout(c.hitch(this,function(){this.disableAllEvents=!1}),1E3);this.applySizeRenderer(this.renderer);this.createClassedSizeInfoSlider(b).then(c.hitch(this,function(){this.hideBusy();
this.adjustHeight()}),c.hitch(this,function(){this.hideBusy()}))}),c.hitch(this,function(){this.hideBusy()}),c.hitch(this,function(a){this.showBusy("rendererSizeStack",a)}))}))):(!this.hasDynamic&&"esriGeometryPolygon"===this.geometryType&&(g(".sizingTypes").forEach(function(a){b.set(a,"display","")}),g(".sizingTypes2").forEach(function(a){f.add(a,"esriLeadingMargin107")})),this.getParams().then(c.hitch(this,function(a){this.getVisualVariableByType("sizeInfo",null,this.renderer.visualVariables)&&
(a.minValue=d.min,a.maxValue=d.max);this.buildSizeRenderer(a).then(c.hitch(this,function(d){var e=d.renderer;d=d.statistics;this.renderer=e;a.statistics=d;d=this.getSymbolFromClassedSizeRenderer(this.renderer);this.drawSymbol(this._rendererSizeSymbol,"simplelinesymbol"===d.type?d:this.switchSizeKeepSymbol(d,28),null,null,null,1);this.disableAllEvents=!0;d=this.getVisualVariableByType("sizeInfo",null,this.renderer.visualVariables);"object"===typeof d.minSize?(this._rendererSizeMin.set("value",d.minSize.stops[1].size),
this._rendererSizeMax.set("value",d.maxSize.stops[1].size)):"number"===typeof d.minSize&&(this._rendererSizeMin.set("value",d.minSize),this._rendererSizeMax.set("value",d.maxSize));"object"===typeof this.getVisualVariableByType("sizeInfo",null,this.renderer.visualVariables).minSize?(this._rendererSizeAutomaticRadio.set("checked",!0),this.disableSizeInput()):(this._rendererSizeManualRadio.set("checked",!0),this.enableSizeInput());setTimeout(c.hitch(this,function(){this.disableAllEvents=!1}),1E3);this.applySizeRenderer(e);
f.remove(this._rendererSizeLegendClassesIcon,"active");this._rendererSizeLegendClassesText.innerHTML=this.i18n.legend;this.legendClassesTooltip.set("label",this.wrapTooltipText(this.i18n.legendTooltip));b.set(this._rendererSizeSliderDiv,"display","");b.set(this._rendererSizeGridDiv,"display","none");f.remove(this._rendererSizeZoomIcon,"active");this._rendererSizeZoomLabel.innerHTML=this.i18n.zoomIn;this.createSizeInfoSlider(a).then(c.hitch(this,function(){this.hideBusy();this.adjustHeight()}),c.hitch(this,
function(){this.hideBusy()}))}),c.hitch(this,function(){this.hideBusy()}),c.hitch(this,function(a){this.showBusy("rendererSizeStack",a)}))})))},_onChangeOther:function(a){this.disableAllEvents||(a?(b.set(this._rendererSizeOther,"display",""),this.renderer.defaultSymbol=this.defaultInfo.defaultSymbol,this.renderer.defaultLabel=this.defaultInfo.defaultLabel):(b.set(this._rendererSizeOther,"display","none"),delete this.renderer.defaultSymbol,delete this.renderer.defaultLabel),this.applySizeRenderer(this.renderer))},
onClickOtherSymbol:function(a,b){var h=v.getSchemes({theme:"default",basemap:this.getBasemapType(),geometryType:"esriGeometryPolygon"===this.geometryType?"esriGeometryPoint":this.geometryType});this.showSymbolStyler(this.defaultInfo.defaultSymbol,{externalSizing:!1,optimizeOutline:this.hasOptimizeOutline(this.renderer.visualVariables),schemes:h},c.hitch(this,"onOtherSymbolChange",a))},onOtherSymbolChange:function(a,b,c,e,f){a=b.toJson();if("esriPMS"===b.type&&(0===a.url.length||"http://"===a.url))b=
l.fromJson(this.getMarkerJson());this.defaultInfo.defaultSymbol=b;this.renderer.defaultSymbol&&(this.renderer.defaultSymbol=l.fromJson(b.toJson()));"uniquesize"===this.getRendererStyle(this.renderer)&&(this.lastUniqueDefaultSymbol=l.fromJson(b.toJson()));this.updateSizeRenderer(f);this.adjustHeight()},_onChangeRotation:function(a){this.disableAllEvents||(b.set(this._rendererSizeRotationContent,"display",a?"":"none"),this.adjustHeight(),this.updateRotationInfo())},_onChangeRotationAttribute:function(a){this.disableAllEvents||
this.updateRotationInfo()},_onChangeRotationDirection:function(){this.disableAllEvents||this.updateRotationInfo()},updateRotationInfo:function(){if(this._rendererSizeRotationCheck.get("checked")){var a={field:this._rendererSizeRotationAttribute.get("value"),type:this._rendererSizeRotationClockwiseRadio.get("checked")?"geographic":"arithmetic"};this.renderer.setRotationInfo(a)}else this.renderer.setRotationInfo(null);this.applySizeRenderer(this.renderer)},onSizeSliderChange:function(a){"classedSize"===
this.getRendererStyle(this.renderer)&&(this.disableAllEvents=!0,this.authoringInfo&&delete this.authoringInfo.classificationMethod,this.renderer.authoringInfo&&delete this.renderer.authoringInfo.classificationMethod,this.renderer.classificationMethod=null,this._rendererSizeClassifyMethods.set("value",this.getClassificationMethod(null)),this._rendererSizeClassifyClasses.set("value",this.renderer.infos.length),b.set(this._rendererSizeClassifyClassesTitle,"display",""),b.set(this._rendererSizeClassifyStdDevIntervalTitle,
"display","none"),"precisionChange"===a?this.disableOptionsBelow(this._rendererSizePrecision,parseFloat(this._rendererSizePrecision.get("value"))):(this.enableAllOptions(this._rendererSizePrecision),this._rendererSizePrecision.set("value",this.i18n.selectAnOptions)),setTimeout(c.hitch(this,function(){this.disableAllEvents=!1}),1E3))},onUpdateInfo:function(a,b){if("_default_"===a.minValue)this.renderer.defaultLabel=a.label,this.renderer.defaultSymbol=a.symbol,this.defaultInfo={defaultSymbol:this.renderer.defaultSymbol,
defaultLabel:this.renderer.defaultLabel},this.updateSizeRenderer(b);else{var c=this.renderer.infos;this.renderer.clearBreaks();q.forEach(c,function(b,c){a.minValue===b.minValue&&a.maxValue===b.maxValue?this.renderer.addBreak({minValue:b.minValue,maxValue:b.maxValue,symbol:a.symbol,label:a.label}):this.renderer.addBreak({minValue:b.minValue,maxValue:b.maxValue,symbol:b.symbol,label:b.label})},this);this.updateSizeRenderer(null)}},_onChangeSizePrecision:function(){if(!this.disableAllEvents){var a=this._rendererSizePrecision.get("value");
"select"!==a&&(this.updateValues(parseFloat(a)),this.applySizeRenderer(this.renderer),"block"===b.get(this._rendererSizeGridDiv,"display")&&this.updateSizeRendererGrid(),this.updateSizeSlider(),this.onSizeSliderChange("precisionChange"))}},_onClickScaleSuggest:function(){this.suggestScale(this.scaleSlider)},_onClickAttributeTransparency:function(){this.getVisualVariableByType("opacityInfo",null,this.renderer.visualVariables);this.attributeTransparencyDlg=(new D({id:"attributeTransparencyDlg",style:"visibility:hidden;"})).placeAt(document.body);
this.attributeTransparencyDlgContent=new K({id:"attributeTransparencyDlgContent",dialog:this.attributeTransparencyDlg,style:"width:100%;"});this.attributeTransparencyDlgHideHandler=k.connect(this.attributeTransparencyDlg,"onHide",c.hitch(this,function(){this.destroyAttributeTransparencyDlg()}));this.attributeTransparency=new L({attributesStore:this.attributesStore,layer:this.layer,mapLayer:this.mapLayer},"attributeTransparencyDlgContent");this.attributeTransparencyDlg.set({title:this.i18n.attributeTransparencyDlgTitle,
content:this.attributeTransparency});this.attributeTransparencyCommitHandler=k.subscribe("attribute-transparency-commit",c.hitch(this,function(a){this.hideAttributeTransparencyDlg();if(a.opacityInfo)this.replaceVisualVariable("opacityInfo",null,a.opacityInfo,this.renderer),this.renderer.authoringInfo=c.clone(a.authoringInfo),this.authoringInfo=c.clone(this.renderer.authoringInfo),this.applySizeRenderer(this.renderer),this.attributesStore.fetchItemByIdentity({identity:a.opacityInfo.field,onItem:c.hitch(this,
function(b){a.opacityInfo.normalizationField?this.attributesStore.fetchItemByIdentity({identity:a.opacityInfo.normalizationField,onItem:c.hitch(this,function(a){this._rendererSizeAttributeTransparencyLabel_part2.innerHTML=r.substitute(this.i18n.setFromFieldDividedBy,{field1:b.alias||b.name,field2:a.alias||a.name})})}):this._rendererSizeAttributeTransparencyLabel_part2.innerHTML=b.alias||b.name})});else{var b=this.getVisualVariablesExceptType("opacityInfo",null,this.renderer.visualVariables);this.renderer.setVisualVariables(b);
this.applySizeRenderer(this.renderer);this._rendererSizeAttributeTransparencyLabel_part2.innerHTML=this.i18n.attributeValues}}));this.attributeTransparencyStopHandler=k.subscribe("attribute-transparency-stop",c.hitch(this,function(){this.hideAttributeTransparencyDlg()}));this.attributeTransparencyDlg.show().then(c.hitch(this,function(){b.set(this.attributeTransparencyDlg.domNode,"top","95px");esriGeowConfig.isRightToLeft?b.set(this.attributeTransparencyDlg.domNode,"right",arcgisonline.map.leftPanel.leftPanelWidth+
18+"px"):b.set(this.attributeTransparencyDlg.domNode,"left",arcgisonline.map.leftPanel.leftPanelWidth+18+"px");b.set(this.attributeTransparencyDlg.domNode,"visibility","visible")}))},hideAttributeTransparencyDlg:function(){this.attributeTransparencyDlg&&this.attributeTransparencyDlg.hide()},destroyAttributeTransparencyDlg:function(){this.attributeTransparencyDlgHideHandler&&k.disconnect(this.attributeTransparencyDlgHideHandler);this.attributeTransparencyDlgHideHandler=null;this.attributeTransparencyCommitHandler&&
this.attributeTransparencyCommitHandler.remove();this.attributeTransparencyCommitHandler=null;this.attributeTransparencyStopHandler&&this.attributeTransparencyStopHandler.remove();this.attributeTransparencyStopHandler=null;this.attributeTransparency&&this.attributeTransparency.destroy();this.attributeTransparency=null;this.attributeTransparencyDlgContent&&this.attributeTransparencyDlgContent.destroy();this.attributeTransparencyDlgContent=null;this.attributeTransparencyDlg&&this.attributeTransparencyDlg.destroy();
this.attributeTransparencyDlg=null;s.byId("attributeTransparencyDlg")&&s.byId("attributeTransparencyDlg").destroy()},getParams:function(){var a=new C,b={};this.attributesStore.fetchItemByIdentity({identity:this._rendererSizeDividedByAttribute.get("value"),onItem:c.hitch(this,function(c){c&&"total"===c.type[0]?b.normalizationType="percent-of-total":c&&"none"!==c.type[0]&&(b.normalizationType="field",b.normalizationField=c.name[0]);if(this._rendererSizeClassifyCheck.get("checked")){b.numClasses=this._rendererSizeClassifyClasses.get("value");
switch(this._rendererSizeClassifyMethods.get("value")){case this.i18n.classifyNaturalBreaks:b.classificationMethod="natural-breaks";break;case this.i18n.classifyEqualInterval:b.classificationMethod="equal-interval";break;case this.i18n.classifyStandardDeviation:b.classificationMethod="standard-deviation";break;case this.i18n.classifyQuantile:b.classificationMethod="quantile"}"standard-deviation"===b.classificationMethod&&(b.standardDeviationInterval=this._rendererSizeClassifyStdDevInterval.get("value"))}b.showOthers=
this._rendererSizeOtherCheck.get("checked");b.classified=this._rendererSizeClassifyCheck.get("checked");b.symbol=this.getSymbolFromClassedSizeRenderer(this.renderer);b.rotationInfo=this.renderer.rotationInfo;b.defaultSymbol=this.defaultInfo&&this.defaultInfo.defaultSymbol;b.defaultLabel=this.defaultInfo&&this.defaultInfo.defaultLabel;b.backgroundFillSymbol=this.renderer.backgroundFillSymbol;b.optimizeForScale=this._rendererSizeAutomaticRadio.get("checked")?"visible-scale-range":!0;b.optimizeOutline=
this.getVisualVariableByType("sizeInfo","outline",this.renderer.visualVariables)?!0:!1;a.resolve(b)})});return a},enableSizeInput:function(){this._rendererSizeMin.set("disabled",!1);this._rendererSizeMax.set("disabled",!1);g(".sizingTypes2").forEach(function(a){f.remove(a,"disabledText")})},disableSizeInput:function(){this._rendererSizeMin.set("disabled",!0);this._rendererSizeMax.set("disabled",!0);g(".sizingTypes2").forEach(function(a){f.add(a,"disabledText")})},adjustHeight:function(a){if(!("undefined"===
typeof leftPanel||"rendererSizeStack"!==leftPanel.visibleStack)){a=m.coords(n.byId("leftContentStackContainer")).h;var c=m.coords(n.byId("rendererSizeTop")).h,e=m.coords(this._doneChangingButton.domNode).h-5,f=m.coords(n.byId("rendererSizeFooter_links")).h+10;b.set(n.byId("rendererSizeFooterDiv"),"height",f+"px");a=a-c-e-f-18;0<a&&b.set(n.byId("renderer-size-content"),"height",a+"px");var k=60;q.forEach(g(".firstColumnLabel",this.domNode),function(a){k=Math.max(k,m.coords(a).w)});var l=40;g(".toolsLabel").forEach(function(a){l=
Math.max(l,m.coords(a).w)});g(".toolsColumnTD").style("width",l+4+"px");c=m.coords(n.byId("leftContentStackContainer")).w;a=c-k-40;0<a&&b.set(this._rendererSizeDividedByAttribute.domNode,"width",a+"px");b.set(this._rendererSizeGridDiv,"width",c-l-42+"px");this.sizeRendererGrid&&this.sizeRendererGrid.resize();a=c-35;if(0<a&&(b.set(this._rendererSizeRotationAttribute.domNode,"width",a-21+"px"),this.transparencySlider&&b.set(this.transparencySlider.domNode,"width",a-30+"px"),this.scaleSlider&&b.set(this.scaleSlider.domNode,
"width",a-15+"px"),c=m.coords(this._rendererSizePrecisionLabel).w,b.set(this._rendererSizePrecision.domNode,"width",a-c-38+"px"),c=m.coords(this._rendererSizeClassifyMethodPart1).w,e=m.coords(this._rendererSizeClassifyMethodPart2).w,a=Math.max(a-c-(0<e?e+5:0)-25,30),b.set(this._rendererSizeClassifyMethods.domNode,"width",a+"px"),c=n.byId("widget_rendererSizeClassifyMethodDropdown_dropdown")))g(".dijitMenuItem",c).style("width",a-28+"px"),b.set(c,"width",a+2+"px"),b.set(n.byId("rendererSizeClassifyMethodDropdown_popup"),
"width",a+"px"),b.set(n.byId("rendererSizeClassifyMethodDropdown_popup"),"height","100%")}}});u("extend-esri")&&c.setObject("arcgisonline.map.dijit.renderer.Size",p);return p});