// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/4.0beta2/esri/copyright.txt for details.
//>>built
define("esri/core/declare dojo/_base/lang dojo/dom-class dojo/dom-construct dojo/on dojo/dom dojo/query webSceneViewer/assertUtils webSceneViewer/webScene/Presentation webSceneViewer/widgets/ScrollBar/ScrollBar".split(" "),function(h,k,f,b,l,m,n,p,q,r){var g=p.assert;return h(null,{name:"SlideDeck",baseClass:"SlideDeck",constructor:function(a,b){g(a.view);g(a.webScene);this.view=a.view;this.webScene=a.webScene;this.cls=a["class"];this.mainContainerNode=b;f.add(b,"slideDeck");this.slideNodes=[];this._init()},
_init:function(){this.webScene.presentation&&this.webScene.presentation.slides&&this._ui();this.webScene.watch("presentation",function(){this._update()}.bind(this))},_ui:function(){this.innerContainer&&b.destroy(this.outerContainer);var a=this.webScene.presentation.slides.get("length");if(0!==a){this.outerContainer=b.create("div",{"class":"Slidebar"});this.innerContainer=b.create("ul",{"class":"slideDeckInner"});b.place(this.outerContainer,this.mainContainerNode,"first");b.place(this.innerContainer,
this.outerContainer,"first");this.cls&&f.add(this.innerContainer,this.cls);for(var e=0;e<a;e++){var c=this.webScene.presentation.slides.getItemAt(e),d=b.create("li",{"class":"slide",nr:e,bmid:c.id},this.innerContainer);this.slideNodes.push(d);d=b.create("div",{"class":"slideButton",id:this.mainContainerNode.id+"slideButton"+c.id},d);b.create("p",{"class":"smallTitle",innerHTML:c.title.text,title:c.title.text},d);b.create("div",{"class":"homeIcon"},d);b.create("img",{src:c.thumbnail.url},d);l(d,"click",
k.partial(function(a){q.applySlideToView(a,this.view);this._highlightBookmark(this.mainContainerNode.id+"slideButton"+a.id)}.bind(this),c))}"SlideDeck"===this.name&&(this.horizontalScrollbar=new r({scrollTarget:this.innerContainer,view:this.view}),this.horizontalScrollbar.startup(),this.horizontalScrollbar.placeAt(this.outerContainer),this.horizontalScrollbar.updateWidth(),this.horizontalScrollbar.enableScrollTargetDrag())}},_update:function(){this.slideNodes=[];this._ui()},_clearHighlight:function(){n(".slideButton.highlight").forEach(function(a,
b,c){a.className="slideButton"})},_highlightBookmark:function(a){this._clearHighlight();(a=m.byId(a))&&f.add(a,"highlight")}})});