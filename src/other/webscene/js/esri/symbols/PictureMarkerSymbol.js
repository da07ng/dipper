// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/4.0beta2/esri/copyright.txt for details.
//>>built
define("../core/declare dojo/_base/lang ../core/lang ../core/screenUtils ../core/urlUtils ./MarkerSymbol".split(" "),function(c,g,k,e,l,m){var h={width:16,height:16,angle:0,xoffset:0,yoffset:0};c=c(m,{declaredClass:"esri.symbols.PictureMarkerSymbol",type:"picturemarkersymbol",classMetadata:{computed:{url:["source"]},reader:{exclude:["contentType","imageData","size","url","color"],add:["source"]}},getDefaults:function(){return g.mixin(this.inherited(arguments),h)},normalizeCtorArgs:function(b,a,c){if(b&&
"string"!==typeof b&&null==b.imageData)return b;var d={};b&&(d.url=b);null!=a&&(d.width=a);null!=c&&(d.height=c);return d},_urlGetter:function(){return this.source?this.source.url:void 0},_urlSetter:function(b){var a;b&&0===b.indexOf("data:")?(a=b.substring(5,b.indexOf(";")),this.source={value:b,contentType:a,imageData:b.substring(13+a.length)}):this.source={url:b};return b},_sourceReader:function(b,a){return a.imageData?{url:a.url,contentType:a.contentType,imageData:a.imageData}:{url:a.url}},_heightReader:function(b,
a){return a.size?a.size:e.pt2px(b)},_widthReader:function(b,a){return a.size?a.size:e.pt2px(b)},toJSON:function(){var b=this.source,a=this.url,c=b&&b.imageData,b=b&&b.contentType;if(g.isString(a)&&(0===a.indexOf("/")||0===a.indexOf("//")||0===a.indexOf("./")||0===a.indexOf("../")))a=l.getAbsoluteUrl(a);var d=e.px2pt(this.width),d=isNaN(d)?void 0:d,f=e.px2pt(this.height),f=isNaN(f)?void 0:f,a=k.fixJson(g.mixin(this.inherited(arguments),{type:"esriPMS",url:a,imageData:c,contentType:b,width:d,height:f}));
delete a.color;delete a.size;return a}});c.defaultProps=h;return c});