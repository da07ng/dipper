// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/4.0beta2/esri/copyright.txt for details.
//>>built
define("esri/core/declare dojo/dom-construct dojo/on dojo/dom-class esri/core/watchUtils esri/Viewpoint esri/views/3d/navigation/EventController esri/widgets/Zoom dojo/Evented dojo/i18n!../nls/widgets".split(" "),function(r,c,h,b,k,s,e,t,u,l){return r(u,{constructor:function(a){function n(m){m?(b.add(d.navRotate,"active"),b.add(d.tumbleContainerRotate,"active"),b.remove(d.navPan,"active"),b.remove(d.tumbleContainerPan,"active")):(b.add(d.navPan,"active"),b.add(d.tumbleContainerPan,"active"),b.remove(d.navRotate,
"active"),b.remove(d.tumbleContainerRotate,"active"));var c=a.navigationController.getControls();k.whenOnce(a,"navigationController",function(a){c===e.PRO_PAN||c===e.PRO_TUMBLE?a.setControls(m?e.PRO_TUMBLE:e.PRO_PAN):a.setControls(m?e.TUMBLE:e.PAN)})}var f=c.create("div",{className:"mapControlsContainer"},a.container);this._domNode=f;var p=c.create("div",{className:"iconContainer"},f);this.homeBtn=c.create("div",{className:"home",title:l.mapControls.home},p);var g=c.create("div",{className:"iconContainer"},
f);(new t({view:a},g)).startup();var g=[],d=this;this.tumbleContainerPan=c.create("div",{className:"iconContainer active",title:l.mapControls.panRotateToggle},f);this.navPan=c.create("div",{className:"navPan active"},this.tumbleContainerPan);this.tumbleContainerRotate=c.create("div",{className:"iconContainer",title:l.mapControls.panRotateToggle},f);this.navRotate=c.create("div",{className:"navTumble"},this.tumbleContainerRotate);h(this.tumbleContainerPan,"click",function(){var a=b.contains(this.navPan,
"active");n(a);this.emit("pan-tumble-change",{tumble:a})}.bind(this));h(this.tumbleContainerRotate,"click",function(){var a=b.contains(this.navPan,"active");n(a);this.emit("pan-tumble-change",{tumble:a})}.bind(this));g.push(this.navPan);g.push(this.navRotate);k.whenOnce(a,"navigationController",function(a){a.setControls(e.PAN)});var q=s.fromJSON({camera:{position:{x:0,y:0,z:2.1591669419719264E7,spatialReference:{wkid:102100}},heading:0,tilt:0}});this.homeBtn.viewpoint=q;k.whenOnce(a,"ready",function(){this.homeBtn.viewpoint===
q&&(this.homeBtn.viewpoint=a.viewpoint.clone())}.bind(this));h(p,"click",function(){this.homeBtn.viewpoint.camera.fov=a.camera.fov;a.animateTo(this.homeBtn.viewpoint)}.bind(this))},addStyleClass:function(a){b.add(this._domNode,a)},removeStyleClass:function(a){b.remove(this._domNode,a)},setHomeViewpoint:function(a){this.homeBtn.viewpoint=a.clone()},setHomeExtent:function(a){this._homeWidget.extent=a.clone()}})});