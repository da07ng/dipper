// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/4.0beta2/esri/copyright.txt for details.
//>>built
define("esri/core/declare dijit/_WidgetBase dojo/dom dojo/dom-class dojo/dom-construct dojo/on dojo/i18n!../nls/widgets".split(" "),function(d,e,f,b,c,g,h){var k=["circle","square","cross","x","kite"],l="sphere cube cylinder cone tetrahedron diamond".split(" ");return d([e],{name:"ShapePicker",baseClass:"ShapePicker",geometryType:void 0,symbolLayerDimensionType:void 0,_setSymbolLayerDimensionTypeAttr:function(a){a!==this.symbolLayerDimensionType&&("2d"==a?(this.shapes2dDomNode&&b.remove(this.shapes2dDomNode,
"hide"),this.shapes3dDomNode&&b.add(this.shapes3dDomNode,"hide"),b.remove(this.domNode,"longer"),this._select(this._lastShape2d)):(this.shapes3dDomNode&&b.remove(this.shapes3dDomNode,"hide"),this.shapes2dDomNode&&b.add(this.shapes2dDomNode,"hide"),b.add(this.domNode,"longer"),this._select(this._lastShape3d)),this._set("symbolLayerDimensionType",a))},constructor:function(a,b){this._onHandles=[];this._lastShape2d="circle";this._lastShape3d="sphere";this._selectedShape=this._selectedButton=null},destroy:function(){this.inherited(arguments);
this.layer=null;this._onHandles.forEach(function(a){a.remove()});this._onHandles.length=0},postCreate:function(){this.inherited(arguments);this.shapes2dDomNode=c.create("div",{className:"2d"===this.symbolLayerDimensionType?"":"hide"},this.domNode);this.shapes3dDomNode=c.create("div",{className:"3d"===this.symbolLayerDimensionType?"":"hide"},this.domNode);l.forEach(function(a){a=this._createShapeButton(a);c.place(a,this.shapes3dDomNode)}.bind(this));k.forEach(function(a){a=this._createShapeButton(a);
c.place(a,this.shapes2dDomNode)}.bind(this))},_createShapeButton:function(a){var b=h.symbologyEditor.shapes[a],b=c.create("div",{id:this.id+"_"+a,className:"shapeIcon"+a.charAt(0).toUpperCase()+a.slice(1),title:b}),d=g(b,"click",function(b){this._select(a)}.bind(this));this._onHandles.push(d);return b},_select:function(a){this._selectedButton&&b.remove(this._selectedButton,"selected");"2d"===this.symbolLayerDimensionType?this._lastShape2d=this._selectedShape||this._lastShape2d:this._lastShape3d=this._selectedShape||
this._lastShape3d;this._selectedButton=f.byId(this.id+"_"+a);this._selectedShape=a;b.add(this._selectedButton,"selected");this.emit("selection-change",{shape:a})}})});