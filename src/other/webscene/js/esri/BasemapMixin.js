// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/4.0beta2/esri/copyright.txt for details.
//>>built
define("./core/declare dojo/_base/lang ./core/Accessor ./core/Promise ./Basemap ./basemaps".split(" "),function(k,f,l,m,n,d){return k([l,m],{declaredClass:"esri.BasemapMixin",constructor:function(){this._basemapCache={}},destroy:function(){this._basemapCache={}},_cachedServices:{},basemap:null,_basemapSetter:function(a,g){var c=this._basemapCache,e=this._cachedServices,b;if("string"===typeof a){if(!d[a]){c=[];for(b in d)d.hasOwnProperty(b)&&c.push(b);console.log(f.replace('Map.basemap: Unable to find basemap definition for: "{basemapName}". Try one of these: {list}',
{basemapName:a,list:c.join(", ")}));return}b=a;a=c[b]?c[b]:d[b]}else b=a&&a.id;if(g===a)return g;if(a){if("esri.Basemap"!==a.declaredClass)try{a=n.fromJSON(a),a.id=b,c[b]=a}catch(h){console.error("Map.basemap: "+h.message,h);return}a.elevationLayers=a.elevationLayers.map(function(a){return!e[a.id]?e[a.id]=a:e[a.id]},this);if(0===a.baseLayers.length&&0===a.elevationLayers.length){console.log(f.replace('Map.basemap: Unable to add basemap: "{basemapName}".',{basemapName:b}));return}}else a=null;return a}})});