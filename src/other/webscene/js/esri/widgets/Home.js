// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/4.0beta2/esri/copyright.txt for details.
//>>built
require({cache:{"url:esri/widgets/Home/templates/Home.html":'\x3cdiv class\x3d"${css.root}" role\x3d"presentation"\x3e\r\n  \x3cdiv role\x3d"button" tabindex\x3d"0" data-dojo-attach-point\x3d"_homeNode" class\x3d"${css.container}"\x3e\r\n    \x3cspan aria-hidden\x3d"true" data-dojo-attach-point\x3d"_homeIconNode" class\x3d"${css.homeIcon}"\x3e\x3c/span\x3e\r\n    \x3cspan class\x3d"${css.text}"\x3e${_i18n.button}\x3c/span\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e'}});
define("./Widget ../core/declare dojo/_base/lang dijit/a11yclick dijit/_TemplatedMixin dojo/on dojo/Deferred dojo/i18n!../nls/jsapi dojo/text!./Home/templates/Home.html dojo/dom-class".split(" "),function(e,f,g,h,k,l,m,n,p,d){return f([e,k],{declaredClass:"esri.widgets.Home",templateString:p,options:{view:null,extent:null,visible:!0},constructor:function(b){b=g.mixin({},this.options,b);this._i18n=n.widgets.home;this.set(b);this.css={root:"esri-home",text:"esri-icon-font-fallback-text",container:"esri-container",
visible:"esri-visible",homeIcon:"esri-icon esri-icon-home",loadingIcon:"esri-rotating esri-icon-loading-indicator"}},postCreate:function(){this.inherited(arguments);this.own(l(this._homeNode,h,this.goHome.bind(this)))},startup:function(){this.inherited(arguments);this.view||console.log(this.declaredClass+"::view required");this.view.then(this._init.bind(this))},goHome:function(){var b=new m,a=this.get("extent");this._showLoading();var c={extent:a};a?this.view.extent!==a?this.view.animateTo(a).then(function(){this._hideLoading();
this.emit("home-set",c);b.resolve(c)}.bind(this),function(a){a||(a=Error(this.declaredClass+"::Error setting view extent"));c.error=a;this.emit("home-set",c);b.reject(a)}.bind(this)):(this._hideLoading(),this.emit("home-set",c),b.resolve(c)):(this._hideLoading(),a=Error(this.declaredClass+"::home extent is undefined"),c.error=a,this.emit("home-set",c),b.reject(a));return b.promise},_init:function(){this._visible();this.get("extent")||this.set("extent",this.view.map.extent);this.set("loaded",!0);this.emit("load")},
_showLoading:function(){d.add(this._homeIconNode,this.css.loadingIcon)},_hideLoading:function(){d.remove(this._homeIconNode,this.css.loadingIcon)},_visible:function(){this.get("visible")?d.add(this._homeNode,this.css.visible):d.remove(this._homeNode,this.css.visible)},_setVisibleAttr:function(b){this._set("visible",b);this._created&&this._visible()}})});