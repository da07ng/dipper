// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.15/esri/copyright.txt for details.
//>>built
define("arcgisonline/sharing/dijit/dialog/ExtentDlg",["dijit","dojo","dojox","dojo/require!dijit/Dialog,esri/dijit/Search,esri/toolbars/draw,dijit/form/TextBox,dijit/_Widget,dijit/_Templated,esri/geometry/webMercatorUtils,esri/geometry/Point"],function(d,c,n){c.provide("arcgisonline.sharing.dijit.dialog.ExtentDlg");c.require("dijit.Dialog");c.require("esri.dijit.Search");c.require("esri.toolbars.draw");c.require("dijit.form.TextBox");c.require("dijit._Widget");c.require("dijit._Templated");c.require("esri.geometry.webMercatorUtils");
c.require("esri.geometry.Point");c.declare("arcgisonline.sharing.dijit.dialog.ExtentDlg",[d._Widget,d._Templated],{widgetsInTemplate:!0,templateString:'\x3cdiv class\x3d"widgetContent" \x3e\r\n  \x3cdiv data-dojo-type\x3d"dijit.Dialog" data-dojo-attach-point\x3d"_extentDialog" title\x3d"${i18n.extentDlgTitle}" data-dojo-attach-event\x3d"onHide:destroyMap" execute\x3d"" style\x3d"width: 430px;"\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"_extentErrorDiv"\x3e\x3c/div\x3e\r\n    \x3cdiv\x3e\r\n      \x3cdiv class\x3d"esriLeadingMargin05" id\x3d"extentSearchDiv"\x3e\x3c/div\x3e\r\n      \x3cdiv data-dojo-type\x3d"dijit.layout.BorderContainer" data-dojo-props\x3d"design:\'headline\', gutters:false" class\x3d"esriLeadingPadding05" style\x3d"width:400px; height:450px;"\x3e\r\n        \x3cdiv data-dojo-type\x3d"dijit.layout.ContentPane" data-dojo-props\x3d"region:\'top\'" style\x3d"padding: 10px 0;"\x3e\r\n          \x3cdiv class\x3d"calcite light small" data-dojo-attach-point\x3d"_buttonSetExtent" data-dojo-attach-event\x3d"onClick:toggleMapNavigation" data-dojo-props\x3d"type:\'button\'" data-dojo-type\x3d"dijit.form.Button"\x3e\r\n            ${i18n.drawExtent}\r\n          \x3c/div\x3e\r\n        \x3c/div\x3e\r\n\r\n        \x3cdiv data-dojo-type\x3d"dijit.layout.BorderContainer" data-dojo-props\x3d"region:\'center\', design:\'headline\', gutters:false" style\x3d"width:400px; height:300px;"\x3e\r\n          \x3cdiv id\x3d"extentMapDiv" data-dojo-type\x3d"dijit.layout.ContentPane" data-dojo-props\x3d"region:\'center\'" style\x3d"width:400px; height:300px; border:1px solid #000;"\x3e\x3c/div\x3e\r\n        \x3c/div\x3e\r\n\r\n        \x3cdiv data-dojo-type\x3d"dijit.layout.ContentPane" data-dojo-props\x3d"region:\'bottom\'" style\x3d"padding-bottom:0 !important;"\x3e\r\n          \x3ctable cellspacing\x3d"5" cellpadding\x3d"0"\x3e\r\n            \x3ctr\x3e\r\n              \x3ctd rowspan\x3d"3"\x3e\r\n              \x3cdiv style\x3d"width:20px;"/\x3e\r\n              \x3c/td\x3e\r\n              \x3ctd\x3e\x26nbsp; \x3c/td\x3e\r\n              \x3ctd\x3e\x3cspan class\x3d"esriAlignTrailing esriFloatTrailing"\x3e\x3clabel for\x3d"extent-top"\x3e${i18n.topLabel}\x3c/label\x3e\x3c/span\x3e\x3c/td\x3e\r\n              \x3ctd align\x3d"center"\x3e\x3cdiv id\x3d"extent-top" data-dojo-type\x3d"dijit.form.TextBox" data-dojo-props\x3d"trim:true, required:true" style\x3d"width:80px;"\x3e\x3c/div\x3e\x3c/td\x3e\r\n              \x3ctd align\x3d"center" valign\x3d"middle"\x3e\x26nbsp; \x3c/td\x3e\r\n            \x3c/tr\x3e\r\n            \x3ctr id\x3d"ltr_row"\x3e\r\n              \x3ctd valign\x3d"middle"\x3e\x3cspan class\x3d"esriAlignTrailing esriFloatTrailing"\x3e\x3clabel for\x3d"extent-left"\x3e${i18n.leftLabel}\x3c/label\x3e\x3c/span\x3e\x3c/td\x3e\r\n              \x3ctd align\x3d"center" valign\x3d"middle"\x3e\x3cdiv id\x3d"extent-left" data-dojo-type\x3d"dijit.form.TextBox" data-dojo-props\x3d"trim:true, required:true" style\x3d"width:80px;"\x3e\x3c/div\x3e\x3c/td\x3e\r\n              \x3ctd valign\x3d"middle"\x3e\x3cspan class\x3d"esriAlignTrailing esriFloatTrailing"\x3e\x3clabel for\x3d"extent-right"\x3e${i18n.rightLabel}\x3c/label\x3e\x3c/span\x3e\x3c/td\x3e\r\n              \x3ctd\x3e\x3cdiv id\x3d"extent-right" data-dojo-type\x3d"dijit.form.TextBox" data-dojo-props\x3d"trim:true, required:true" style\x3d"width:80px;"\x3e\x3c/div\x3e\x3c/td\x3e\r\n            \x3c/tr\x3e\r\n            \x3ctr id\x3d"rtl_row" style\x3d"display:none;"\x3e\r\n              \x3ctd valign\x3d"middle"\x3e\x3cspan class\x3d"esriAlignTrailing esriFloatTrailing"\x3e\x3clabel for\x3d"extent-left-rtl"\x3e${i18n.leftLabel}\x3c/label\x3e\x3c/span\x3e\x3c/td\x3e\r\n              \x3ctd align\x3d"center" valign\x3d"middle"\x3e\x3cdiv id\x3d"extent-left-rtl" data-dojo-type\x3d"dijit.form.TextBox" data-dojo-props\x3d"trim:true, required:true" style\x3d"width:80px;"\x3e\x3c/div\x3e\x3c/td\x3e\r\n              \x3ctd valign\x3d"middle"\x3e\x3cspan class\x3d"esriAlignTrailing esriFloatTrailing"\x3e\x3clabel for\x3d"extent-right-rtl"\x3e${i18n.rightLabel}\x3c/label\x3e\x3c/span\x3e\x3c/td\x3e\r\n              \x3ctd\x3e\x3cdiv id\x3d"extent-right-rtl" data-dojo-type\x3d"dijit.form.TextBox" data-dojo-props\x3d"trim:true, required:true" style\x3d"width:80px;"\x3e\x3c/div\x3e\r\n              \x3c/td\x3e\r\n            \x3c/tr\x3e\r\n            \x3ctr\x3e\r\n              \x3ctd\x3e\x26nbsp; \x3c/td\x3e\r\n              \x3ctd\x3e\x3cspan class\x3d"esriAlignTrailing esriFloatTrailing"\x3e\x3clabel for\x3d"extent-bottom"\x3e${i18n.bottomLabel}\x3c/label\x3e\x3c/span\x3e\x3c/td\x3e\r\n              \x3ctd align\x3d"center"\x3e\x3cdiv id\x3d"extent-bottom" data-dojo-type\x3d"dijit.form.TextBox" data-dojo-props\x3d"trim:true, required:true" style\x3d"width:80px;"\x3e\x3c/div\x3e\x3c/td\x3e\r\n              \x3ctd\x3e\x26nbsp; \x3c/td\x3e\r\n            \x3c/tr\x3e\r\n          \x3c/table\x3e\r\n          \x3cdiv\x3e\r\n            \x3cbutton id\x3d"button_extent-cancel" data-dojo-attach-event\x3d"onClick:_handleCancelBtnClick" type\x3d"button" data-dojo-type\x3d"dijit.form.Button" class\x3d"esriFloatTrailing cancel"\x3e\r\n              ${i18n.cancel}\r\n            \x3c/button\x3e\r\n            \x3cbutton id\x3d"button_extent-ok" data-dojo-attach-event\x3d"onClick:_handleOkBtnClick" data-dojo-type\x3d"dijit.form.Button" class\x3d"esriFloatTrailing primary"\x3e\r\n              ${i18n.ok}\r\n            \x3c/button\x3e\r\n          \x3c/div\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e',
util:arcgisonline.sharing.util,extent:null,map:null,geocoder:null,toolbar:null,mapNavigation:!0,symbol:null,defaultExtent:null,numberPattern:"#.#",i18n:null,_extentDialog:null,_extentErrorDiv:null,_buttonSetExtent:null,statics:{_instance:null,getInstance:function(){null==this._instance&&(this._instance=new arcgisonline.sharing.dijit.dialog.ExtentDlg);return this._instance}},postMixInProperties:function(){this.inherited(arguments);this.i18n=c.i18n.getLocalization("arcgisonline","arcgisonline").common;
c.mixin(this.i18n,c.i18n.getLocalization("arcgisonline","arcgisonline").viewer.geocode);c.mixin(this.i18n,c.i18n.getLocalization("arcgisonline","arcgisonline").generalDlg);c.mixin(this.i18n,c.i18n.getLocalization("arcgisonline","arcgisonline").extentDlg)},postCreate:function(){this.symbol=new esri.symbol.SimpleLineSymbol(esri.symbol.SimpleLineSymbol.STYLE_SOLID,new c.Color([255,0,0]),2);this.defaultExtent=new esri.geometry.Extent(-121,21.72,-76,61.28,new esri.SpatialReference({wkid:4326}));this.loadConnections()},
loadConnections:function(){esriGeowConfig.isRightToLeft?(c.style(c.byId("ltr_row"),"display","none"),c.style(c.byId("rtl_row"),"display",""),this.extentRight="extent-right-rtl",this.extentLeft="extent-left-rtl"):(this.extentRight="extent-right",this.extentLeft="extent-left");c.connect(c.byId("extent-top"),"onblur",this,"checkRange");c.connect(c.byId(this.extentLeft),"onblur",this,"checkRange");c.connect(c.byId(this.extentRight),"onblur",this,"checkRange");c.connect(c.byId("extent-bottom"),"onblur",
this,"checkRange")},_handleCancelBtnClick:function(b){b.preventDefault();this._extentDialog.hide()},_handleOkBtnClick:function(b){b.preventDefault();this.setExtent()},destroyMap:function(){if(this.map){try{this.map.destroy()}catch(b){}var a=this.map.infoWindow;a&&a.destroy();this.map=null}if(this.geocoder){try{this.geocoder.destroy()}catch(d){}this.geocoder=null}c.byId("extentMapDiv").innerHTML=""},hide:function(){this._extentDialog.hide()},show:function(b){this._extentDialog.show();(this.extent=
b)&&2==b.length&&2==b[0].length&&2==b[1].length?(this.initMap(b),d.byId("extent-top").setValue(c.number.format(Math.round(1E3*this.extent[1][1])/1E3,this.numberPattern)),d.byId(this.extentLeft).setValue(c.number.format(Math.round(1E3*this.extent[0][0])/1E3,this.numberPattern)),d.byId(this.extentRight).setValue(c.number.format(Math.round(1E3*this.extent[1][0])/1E3,this.numberPattern)),d.byId("extent-bottom").setValue(c.number.format(Math.round(1E3*this.extent[0][1])/1E3,this.numberPattern))):(this.initMap(null),
d.byId("extent-top").setValue(""),d.byId(this.extentLeft).setValue(""),d.byId(this.extentRight).setValue(""),d.byId("extent-bottom").setValue(""))},setExtent:function(b){b=[[],[]];var a=d.byId("extent-top").getValue(),f=d.byId(this.extentLeft).getValue(),e=d.byId("extent-bottom").getValue(),g=d.byId(this.extentRight).getValue(),h=c.number.parse(a),k=c.number.parse(f),l=c.number.parse(e),m=c.number.parse(g);0==a.length||0==f.length||0==g.length||0==e.length||isNaN(h)||isNaN(k)||isNaN(m)||isNaN(l)?
(b=arcgisonline.sharing.dijit.dialog.GeneralDlg.prototype.statics.getInstance(),b.show({title:this.i18n.errorDlgTitle,message:this.i18n.error.errorUseNumeric+"\x3cbr/\x3e"+this.i18n.error.errorRange+"\x3cbr\x3e"+this.i18n.error.errorValueBigger})):(b[1][1]=h,b[0][0]=k,b[1][0]=m,b[0][1]=l,-90>b[1][1]||90<b[1][1]||-180>b[1][0]||180<b[1][0]||-180>b[0][0]||180<b[0][0]||-90>b[0][1]||90<b[0][1]||b[1][0]<=b[0][0]||b[1][1]<=b[0][1]?(b=arcgisonline.sharing.dijit.dialog.GeneralDlg.prototype.statics.getInstance(),
b.show({title:this.i18n.errorDlgTitle,message:this.i18n.error.errorRange+"\x3cbr\x3e"+this.i18n.error.errorValueBigger})):(c.publish("onExtentUpdate",[b]),this._extentDialog.hide()))},checkRange:function(b){var a=b.target.value,f=c.number.parse(a);b=b.target.id;var e=!1;if(b==this.extentLeft){if(0==a.length||isNaN(f))a=arcgisonline.sharing.dijit.dialog.GeneralDlg.prototype.statics.getInstance(),a.show({title:this.i18n.errorDlgTitle,message:this.i18n.error.errorLonNotNumber}),e=!0;else if(-180>f||
180<f)a=arcgisonline.sharing.dijit.dialog.GeneralDlg.prototype.statics.getInstance(),a.show({title:this.i18n.errorDlgTitle,message:this.i18n.error.errorRangeLong}),e=!0;e&&(this.extent&&2==this.extent.length&&2==this.extent[0].length&&2==this.extent[1].length?d.byId(this.extentLeft).setValue(c.number.format(Math.round(1E3*this.extent[0][0])/1E3,this.numberPattern)):d.byId(this.extentLeft).setValue(""))}else if(b==this.extentRight){if(0==a.length||isNaN(f))a=arcgisonline.sharing.dijit.dialog.GeneralDlg.prototype.statics.getInstance(),
a.show({title:this.i18n.errorDlgTitle,message:this.i18n.error.errorLonNotNumber}),e=!0;else if(-180>f||180<f)a=arcgisonline.sharing.dijit.dialog.GeneralDlg.prototype.statics.getInstance(),a.show({title:this.i18n.errorDlgTitle,message:this.i18n.error.errorRangeLong}),e=!0;e&&(this.extent&&2==this.extent.length&&2==this.extent[0].length&&2==this.extent[1].length?d.byId(this.extentRight).setValue(c.number.format(Math.round(1E3*this.extent[1][0])/1E3,this.numberPattern)):d.byId(this.extentRight).setValue(""))}else if("extent-top"==
b){if(0==a.length||isNaN(f))a=arcgisonline.sharing.dijit.dialog.GeneralDlg.prototype.statics.getInstance(),a.show({title:this.i18n.errorDlgTitle,message:this.i18n.error.errorLatNotNumber}),e=!0;else if(-90>f||90<f)a=arcgisonline.sharing.dijit.dialog.GeneralDlg.prototype.statics.getInstance(),a.show({title:this.i18n.errorDlgTitle,message:this.i18n.error.errorRangeLat}),e=!0;e&&(this.extent&&2==this.extent.length&&2==this.extent[0].length&&2==this.extent[1].length?d.byId("extent-top").setValue(c.number.format(Math.round(1E3*
this.extent[1][1])/1E3,this.numberPattern)):d.byId("extent-top").setValue(""))}else{if(0==a.length||isNaN(f))a=arcgisonline.sharing.dijit.dialog.GeneralDlg.prototype.statics.getInstance(),a.show({title:this.i18n.errorDlgTitle,message:this.i18n.error.errorLatNotNumber}),e=!0;else if(-90>f||90<f)a=arcgisonline.sharing.dijit.dialog.GeneralDlg.prototype.statics.getInstance(),a.show({title:this.i18n.errorDlgTitle,message:this.i18n.error.errorRangeLat}),e=!0;e&&(this.extent&&2==this.extent.length&&2==this.extent[0].length&&
2==this.extent[1].length?d.byId("extent-bottom").setValue(c.number.format(Math.round(1E3*this.extent[0][1])/1E3,this.numberPattern)):d.byId("extent-bottom").setValue(""))}null!=this.map&&0<d.byId("extent-top").getValue().length&&0<d.byId(this.extentLeft).getValue().length&&0<d.byId(this.extentRight).getValue().length&&0<d.byId("extent-bottom").getValue().length?(a=[[],[]],a[1][1]=c.number.parse(d.byId("extent-top").getValue()),a[0][0]=c.number.parse(d.byId(this.extentLeft).getValue()),a[1][0]=c.number.parse(d.byId(this.extentRight).getValue()),
a[0][1]=c.number.parse(d.byId("extent-bottom").getValue()),-90<=a[1][1]||90>=a[1][1]||-180<=a[1][0]||180>=a[1][0]||-180<=a[0][0]||180>=a[0][0]||-90<=a[0][1]||90>=a[0][1]||a[1][0]>a[0][0]||a[1][1]>a[0][1]?(a=new esri.geometry.Extent(a[0][0],a[0][1],a[1][0],a[1][1],new esri.SpatialReference({wkid:4326})),arcgisonline.map.main.doProject(a,this.map.spatialReference,c.hitch(this,function(b){b=arcgisonline.map.main.clipOnHorizon(b[0]);this.drawBox(b);this.map.setExtent(b,!0)}))):this.deleteBox()):null!=
this.map&&this.deleteBox()},initMap:function(b){var a=this.defaultExtent;null!=b&&(a=new esri.geometry.Extent(b[0][0],b[0][1],b[1][0],b[1][1],new esri.SpatialReference({wkid:4326})));if(this.map)null!=b&&this.drawBox(a),this.map.setExtent(a,!0);else{this.map=new esri.Map("extentMapDiv",{showAttribution:!1,wrapAround180:!1});var d;d=new esri.layers.ImageParameters;d.format="png24";d=new esri.layers.ArcGISTiledMapServiceLayer(esriGeowConfig.extentService,{imageParameters:d});this.map.addLayer(d);null!=
b&&c.connect(this.map,"onLoad",c.hitch(this,"onMapLoad",a));c.connect(d,"onUpdate",c.hitch(this,"onUpdate"));this.toolbar=new esri.toolbars.Draw(this.map,{showTooltips:!1});c.connect(this.toolbar,"onDrawEnd",c.hitch(this,"onDrawEnd"));this.mapNavigation=!0;this._buttonSetExtent.set("label",this.i18n.drawExtent);this.geocoder||(b=arcgisonline.map.geocode.createSearchOptions("extent"),b.map=this.map,b.showInfoWindowOnSelect=!1,this.geocoder=new esri.dijit.Search(b,c.create("div",{id:"extentSearch"},
c.byId("extentSearchDiv"),"only")),this.geocoder.startup(),this.geocoder.on("select-result",c.hitch(this,this.onSearchResult)))}},createPortalOptions:function(){var b=!1,a=c.clone(esriGeowConfig.self.helperServices.geocode);c.forEach(a,c.hitch(this,function(a,c){if(-1<a.url.indexOf(".arcgis.com/arcgis/rest/services/World/GeocodeServer")||a.suggest)b=!0,-1<a.url.indexOf(".arcgis.com/arcgis/rest/services/World/GeocodeServer")&&(a.name=esri.i18nBundle.common.esriWorldGeocoder),a.outFields="Match_addr,StAddr,City",
a.placeholder=esri.i18nBundle.viewer.findLocationText,a.suggest=a.placefinding=a.batch=a.esri=!0,a.singleLineFieldName="SingleLine";a.distance=200}));var a=c.filter(a,function(a){return esri.isDefined(a.singleLineFieldName)&&esri.isDefined(a.placefinding)&&a.placefinding}),d;if(b)for(var e=0;e<a.length;e++)if(esri.isDefined(a[e].esri)&&!0===a[e].esri){d=e;break}e={map:this.map,autoComplete:!1};b&&0===d?e.arcgisGeocoder=a[0]:(e.arcgisGeocoder=!1,e.geocoders=a.splice(0,1));return e},onMapLoad:function(b){arcgisonline.map.main.doProject(b,
this.map.spatialReference,c.hitch(this,function(a){b=arcgisonline.map.main.clipOnHorizon(a[0]);this.drawBox(b);this.map.setExtent(b,!0)}))},drawBox:function(b){this.map.graphics.clear();null!=b&&this.map.graphics.add(new esri.Graphic(b,this.symbol))},deleteBox:function(){this.map.graphics.clear()},onUpdate:function(){this.map.reposition()},toggleMapNavigation:function(){this.mapNavigation?(this.toolbar.activate(esri.toolbars.Draw.EXTENT),this.map.hideZoomSlider(),this.map.disableMapNavigation(),this.mapNavigation=
!1,this._buttonSetExtent.set("label",this.i18n.enableMapNavigation)):(this.toolbar.deactivate(),this.map.showZoomSlider(),this.map.enableMapNavigation(),this.mapNavigation=!0,this._buttonSetExtent.set("label",this.i18n.drawExtent))},onSearchResult:function(b){if(b.result){var a=b.result,f=a.feature.geometry;b=a.extent;var e;"polygon"===f.type?(b=f.getExtent().expand(1.1),e=f.getCentroid()):"polyline"===f.type?(b=f.getExtent().expand(1.1),e=f.getPoint(0,0)):"multipoint"===f.type?(b=f.getExtent().expand(1.1),
e=f.getPoint(0)):(b=b||arcgisonline.map.main.map.extent.centerAt(f).expand(0.0625),e=f);this.deleteBox();this.popup||(this.popup=new esri.dijit.Popup(null,c.create("div",{"class":"blueTheme"},c.byId("extentMapDiv"))),this.popup.resize(150,100),this.popup.map=this.map);a="\x3cdiv\x3e\x3cspan\x3e"+a.name;this.popup.setContent(a+"\x3c/span\x3e\x3c/div\x3e");var g=c.connect(this.map,"onExtentChange",c.hitch(this,function(){c.disconnect(g);this.popup.show(e);setTimeout(c.hitch(this,function(){this.popup.hide()}),
3E3)}));this.drawBox(b);this.map.setExtent(b,!0);a=b;4326!==b.spatialReference.wkid&&(a=esri.geometry.webMercatorToGeographic(b));d.byId("extent-top").setValue(c.number.format(Math.round(1E3*a.ymax)/1E3,this.numberPattern));d.byId(this.extentLeft).setValue(c.number.format(Math.round(1E3*a.xmin)/1E3,this.numberPattern));d.byId(this.extentRight).setValue(c.number.format(Math.round(1E3*a.xmax)/1E3,this.numberPattern));d.byId("extent-bottom").setValue(c.number.format(Math.round(1E3*a.ymin)/1E3,this.numberPattern));
this.extent=[];this.extent[0]=[];this.extent[1]=[];this.extent[1][1]=parseFloat(a.ymax);this.extent[0][0]=parseFloat(a.xmin);this.extent[1][0]=parseFloat(a.xmax);this.extent[0][1]=parseFloat(a.ymin)}},onDrawEnd:function(b){this.deleteBox();if(0.01>b.width){var a=0.01;b=new esri.geometry.Extent(b.xmin-a,b.ymin,b.xmin+a,b.ymax,new esri.SpatialReference({wkid:4326}))}0.01>b.height&&(a=0.01,b=new esri.geometry.Extent(b.xmin,b.ymin-a,b.xmax,b.ymin+a,new esri.SpatialReference({wkid:4326})));b=arcgisonline.map.main.clipOnHorizon(b);
this.drawBox(b);this.map.setExtent(b,!0);a=b;4326!==b.spatialReference.wkid&&(a=esri.geometry.webMercatorToGeographic(b));d.byId("extent-top").setValue(c.number.format(Math.round(1E3*a.ymax)/1E3,this.numberPattern));d.byId(this.extentLeft).setValue(c.number.format(Math.round(1E3*a.xmin)/1E3,this.numberPattern));d.byId(this.extentRight).setValue(c.number.format(Math.round(1E3*a.xmax)/1E3,this.numberPattern));d.byId("extent-bottom").setValue(c.number.format(Math.round(1E3*a.ymin)/1E3,this.numberPattern));
this.extent=[];this.extent[0]=[];this.extent[1]=[];this.extent[1][1]=parseFloat(a.ymax);this.extent[0][0]=parseFloat(a.xmin);this.extent[1][0]=parseFloat(a.xmax);this.extent[0][1]=parseFloat(a.ymin)}})});