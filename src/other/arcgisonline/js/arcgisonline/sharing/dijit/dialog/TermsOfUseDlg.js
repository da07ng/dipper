// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.15/esri/copyright.txt for details.
//>>built
define("arcgisonline/sharing/dijit/dialog/TermsOfUseDlg",["dijit","dojo","dojox","dojo/require!dijit/_Widget,dijit/_Templated,arcgisonline/sharing/util,dijit/Dialog"],function(b,a,c){a.provide("arcgisonline.sharing.dijit.dialog.TermsOfUseDlg");a.require("dijit._Widget");a.require("dijit._Templated");a.require("arcgisonline.sharing.util");a.require("dijit.Dialog");a.declare("arcgisonline.sharing.dijit.dialog.TermsOfUseDlg",[b._Widget,b._Templated],{util:arcgisonline.sharing.util,widgetsInTemplate:!0,
templateString:'\x3cdiv class\x3d"widgetContainer"\x3e\r\n  \x3cdiv data-dojo-type\x3d"dijit.Dialog" id\x3d"terms-of-use-dialog" title\x3d"${i18n.title}" execute\x3d"" style\x3d"overflow-y:auto;"\x3e\r\n    \x3cform id\x3d"terms-of-use-form" method\x3d"POST" action\x3d"" style\x3d"height:100%;overflow-y:auto;padding-left:10px;"\x3e\r\n      \x3cdiv style\x3d"height:30px; text-align:center;"\x3e\r\n        \x3cspan style\x3d"font-size:1.1em; font-weight:bold"\x3e${i18n.termsOfUseTitle}\x3c/span\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv data-dojo-type\x3d"dijit.layout.ContentPane" id\x3d"tos" style\x3d"background:#FFF;border:solid 1px #000;overflow-x:hidden;overflow-y:hidden;width:400px;height:250px;"\x3e\r\n        \x3ca href\x3d\'\'\x3e\x3c/a\x3e\r\n        \x3ciframe id\x3d"termsFrame" src\x3d"termsofuse.html" style\x3d"width:100%;height:250px;max-width:100%;max-height:250px;"\x3e\x3c/iframe\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv style\x3d"padding-top:10px;"\x3e\r\n        \x3cspan class\x3d"esriItemLinks"\x3e\x3ca href\x3d"http://www.esri.com/legal/software-license" target\x3d"_blank"\x3e${i18n.otherLanguages}\x3c/a\x3e\x3c/span\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv style\x3d"height:40px; padding-top:10px;"\x3e\r\n        \x3cbutton id\x3d"button_accept" type\x3d"submit" class\x3d"primary" data-dojo-type\x3d"dijit.form.Button"\x3e\r\n            ${i18n.accept}\r\n        \x3c/button\x3e\r\n        \x3cbutton id\x3d"button_decline" class\x3d"jevent cancel" type\x3d"cancel" data-dojo-type\x3d"dijit.form.Button"\x3e\r\n            ${i18n.noaccept}\r\n        \x3c/button\x3e\r\n      \x3c/div\x3e\r\n    \x3c/form\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
_firstLoad:!0,statics:{_instance:null,getInstance:function(){null==this._instance&&(this._instance=new arcgisonline.sharing.dijit.dialog.TermsOfUseDlg);return this._instance}},postMixInProperties:function(){this.inherited(arguments);this.i18n=a.i18n.getLocalization("arcgisonline","arcgisonline").common;a.mixin(this.i18n,a.i18n.getLocalization("arcgisonline","arcgisonline").termsOfUseDlg)},postCreate:function(){this.loadConnections()},show:function(d){b.byId("terms-of-use-dialog").show();esri.isTouchEnabled?
(a.style(a.byId("terms-of-use-dialog"),"width","500px"),a.style(a.byId("tos"),"width","455px"),a.style(a.byId("tos"),"overflow-y","scroll")):this._firstLoad&&(a.style(a.byId("terms-of-use-dialog"),"width","455px"),a.isFF||10>a.isIE?(a.isFF&&a.style(a.byId("tos"),"height",parseInt(a.style(a.byId("terms-of-use-dialog"),"height"))-169+"px"),9>a.isIE&&a.style(a.byId("tos"),"height",parseInt(a.style(a.byId("terms-of-use-dialog"),"height"))-208+"px"),8>a.isIE&&a.style(a.byId("tos"),"height",parseInt(a.style(a.byId("terms-of-use-dialog"),
"height"))-133+"px")):a.style(a.byId("tos"),"height",parseInt(a.style(a.byId("terms-of-use-dialog"),"height"))-169+"px"),a.style(a.byId("terms-of-use-form"),"overflow-y","hidden"),this._firstLoad=!1)},loadConnections:function(){a.query(".jevent").connect("onclick",function(a){a.preventDefault()});a.connect(a.byId("button_decline"),"onclick",this,"declineTerms");a.connect(a.byId("terms-of-use-form"),"onsubmit",this,"registerUser")},hide:function(){b.byId("terms-of-use-dialog").hide()},registerUser:function(b){b.preventDefault();
this.hide();a.publish("registerUser",["true"])},declineTerms:function(b){b.preventDefault();this.hide();a.publish("declineTermsOfUse",["true"])}})});