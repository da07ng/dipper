// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/4.0beta2/esri/copyright.txt for details.
//>>built
define("../core/declare dojo/_base/lang ../core/lang ./Point ./Polygon ./support/geodesicUtils ./support/webMercatorUtils ./support/WKIDUnitConversion ./support/units".split(" "),function(r,l,m,s,k,t,n,h,u){var p={esriCentimeters:0.01,esriDecimeters:0.1,esriFeet:0.3048,esriInches:0.0254,esriKilometers:1E3,esriMeters:1,esriMiles:1609.34,esriMillimeters:0.0010,esriNauticalMiles:1852,esriYards:0.9144,esriDecimalDegrees:111320},v={radius:1E3,radiusUnit:u.METERS,geodesic:!1,numberOfPoints:60},q=r(k,{declaredClass:"esri.geometry.Circle",
classMetadata:{properties:{center:{type:s}}},getDefaults:function(){return l.mixin(this.inherited(arguments,[]),v)},normalizeCtorArgs:function(a,e){var b;if(a&&a.center)b=a;else{if(a&&a.rings)return this.inherited(arguments);b={center:a}}return l.mixin(this.inherited(arguments,[]),b,e)},initialize:function(){var a=this.center,e=this.numberOfPoints;if(0===this.rings.length&&a){var b=this.radius*p[this.radiusUnit],c=a.spatialReference,d="geographic";if(c.isWebMercator())d="webMercator";else if(m.isDefined(h[c.wkid])||
c.wkt&&0===c.wkt.indexOf("PROJCS"))d="projected";if(this.geodesic){var f;switch(d){case "webMercator":f=n.webMercatorToGeographic(a);break;case "projected":console.error("Creating a geodesic circle requires the center to be specified in web mercator or geographic coordinate system");break;case "geographic":f=a}a=this._createGeodesicCircle(f,b,e);"webMercator"===d&&(a=n.geographicToWebMercator(a))}else{var g;"webMercator"===d||"projected"===d?g=b/this._convert2Meters(1,a.spatialReference):"geographic"===
d&&(g=b/p.esriDecimalDegrees);a=this._createPlanarCircle(a,g,e)}this.spatialReference=a.spatialReference;this.addRing(a.rings[0])}},center:null,geodesic:!1,_hasMGetter:function(){return!1},_hasZGetter:function(){return!1},numberOfPoints:60,radius:null,radiusUnit:null,clone:function(){return new q({rings:this.rings,hasZ:this.hasZ,hasM:this.hasM,spatialReference:this.spatialReference})},_createGeodesicCircle:function(a,e,b){for(var c=0,d=Math.PI/180,f=[],g;c<2*Math.PI;)g=t._directGeodeticSolver(a.y*
d,a.x*d,c,e),f.push(g.toArray()),c+=Math.PI/(b/2);f.push(f[0]);return new k(f)},_createPlanarCircle:function(a,e,b){for(var c=0,d=[],f,g;c<2*Math.PI;)f=a.x+Math.cos(c)*e,g=a.y+Math.sin(c)*e,d.push([f,g]),c+=Math.PI/(b/2);d.push(d[0]);return new k({spatialReference:a.spatialReference,rings:[d]})},_convert2Meters:function(a,e){var b;if(m.isDefined(h[e.wkid]))b=h.values[h[e.wkid]];else{b=e.wkt;var c=b.lastIndexOf(",")+1,d=b.lastIndexOf("]]");b=parseFloat(b.substring(c,d))}return a*b}});return q});