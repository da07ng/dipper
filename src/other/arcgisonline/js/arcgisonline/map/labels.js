// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.15/esri/copyright.txt for details.
//>>built
define("arcgisonline/map/labels",["dijit","dojo","dojox","dojo/require!arcgisonline/map/main,esri/layers/LabelLayer"],function(g,b,h){b.provide("arcgisonline.map.labels");b.require("arcgisonline.map.main");b.require("esri.layers.LabelLayer");arcgisonline.map.labels={labelLayer:null,updateLabelsForLayer:function(a){a.labelingInfo?(arcgisonline.map.labels.createLabelLayer(),arcgisonline.map.labels.hasLayer(a)||(arcgisonline.map.labels.labelLayer.addFeatureLayer(a),arcgisonline.map.labels.orderLayers())):
arcgisonline.map.labels.hasLayer(a)&&arcgisonline.map.labels.removeLabelsForLayer(a)},addLabelsForLayer:function(a){a.labelingInfo&&(arcgisonline.map.labels.createLabelLayer(),arcgisonline.map.labels.labelLayer.addFeatureLayer(a),arcgisonline.map.labels.orderLayers())},removeLabelsForLayer:function(a){arcgisonline.map.labels.hasLayer(a)&&arcgisonline.map.labels.labelLayer.removeFeatureLayer(a.id)},createLabelLayer:function(){arcgisonline.map.labels.labelLayer||(arcgisonline.map.labels.labelLayer=
new esri.layers.LabelLayer({id:"LabelLayer"}),arcgisonline.map.main.map.addLayer(arcgisonline.map.labels.labelLayer))},hasLayer:function(a){return arcgisonline.map.labels.labelLayer&&arcgisonline.map.labels.labelLayer.getFeatureLayer(a.id)?!0:!1},orderLayers:function(){if(arcgisonline.map.labels.labelLayer){-1<b.indexOf(arcgisonline.map.main.map.graphicsLayerIds,"LabelLayer")&&arcgisonline.map.main.map.reorderLayer("LabelLayer",arcgisonline.map.main.map.graphicsLayerIds.length);var a=!1,d=0;b.forEach(arcgisonline.map.main.map.graphicsLayerIds,
function(c){var f=arcgisonline.map.main.map.getLayer(c);if(f.labelingInfo&&arcgisonline.map.labels.hasLayer(f)){var e=0;b.forEach(arcgisonline.map.labels.labelLayer.featureLayers,function(a,b){a.id===f.id&&(e=b)});e!==d&&(c=arcgisonline.map.labels.labelLayer.featureLayers.splice(e,1)[0],arcgisonline.map.labels.labelLayer.featureLayers.splice(d,0,c),c=arcgisonline.map.labels.labelLayer._featureLayerInfos.splice(e,1)[0],arcgisonline.map.labels.labelLayer._featureLayerInfos.splice(d,0,c),a=!0);d++}});
a&&arcgisonline.map.labels.labelLayer.refresh()}},hideAllLabels:function(){arcgisonline.map.labels.labelLayer&&arcgisonline.map.labels.labelLayer.hide()},showAllLabels:function(){arcgisonline.map.labels.labelLayer&&arcgisonline.map.labels.labelLayer.show()}}});