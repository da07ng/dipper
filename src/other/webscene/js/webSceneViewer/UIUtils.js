// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/4.0beta2/esri/copyright.txt for details.
//>>built
define(["dojo/dom-class","dojo/_base/window","dojo/NodeList-traverse","dojo/query"],function(e,d,B,f){var h={fadeIn:function(a){e.add(a,"navFadeIn");e.remove(a,"navFadeOut")},fadeOut:function(a){e.add(a,"navFadeOut");e.remove(a,"navFadeIn")},autoHide:function(a,k,t,u){function n(){p();c=setTimeout(function(){c=void 0;v()},q?z:A)}function p(){c&&(clearTimeout(c),c=void 0)}function l(){p();u&&u();a.forEach(function(a,e){a?h.fadeIn(a):0<f("."+a.id).length&&f("."+a.id).forEach(function(a){h.fadeIn(a)})})}
function v(){p();t&&t();a.forEach(function(a){a?h.fadeOut(a):0<f("."+a.id).length&&f("."+a.id).forEach(function(a){h.fadeOut(a)})})}function m(g){var d=r-g.clientY;if(0!==s-g.clientX||0!==d||"mousedown"===g.type){s=g.clientX;r=g.clientY;var b=document.elementFromPoint(s,r),c=!1;(q=b&&(b.id==k.id||1==f(b).parents("#"+k.id).length))&&l();b&&a.forEach(function(a){c=c||b.id==a.id&&""!==b.id||e.contains(b,"navFadeIn")||e.contains(b,"navFadeOut")||0<f(b).parents(".navFadeOut").length||0<f(b).parents(".navFadeIn").length});
c||n()}}function w(a){null==a.toElement&&null==a.relatedTarget&&(q=!1,n())}function x(a){l();n()}a=a||[];var y=/Firefox/i.test(navigator.userAgent),A=100,z=2500,c,s=-100,r=-100,q=!1;return{start:function(){this.stop();d.doc.addEventListener("mousedown",m);d.doc.addEventListener("mousemove",m);d.doc.addEventListener("mouseout",w);k.addEventListener(y?"DOMMouseScroll":"mousewheel",x)},stop:function(){d.doc.removeEventListener("mousedown",m);d.doc.removeEventListener("mousemove",m);d.doc.removeEventListener("mouseout",
w);k.removeEventListener(y?"DOMMouseScroll":"mousewheel",x);l()},forceHide:function(){v()},show:function(){l()}}},toggleFullScreen:function(a){!document.fullscreenElement&&!document.msFullscreenElement&&!document.mozFullScreenElement&&!document.webkitFullscreenElement?(a.msRequestFullscreen?a.msRequestFullscreen():a.requestFullscreen&&a.requestFullscreen(),a.mozRequestFullScreen?a.mozRequestFullScreen():a.webkitRequestFullscreen&&a.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT)):(document.msExitFullscreen?
document.msExitFullscreen():document.exitFullscreen&&document.exitFullscreen(),document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen())},isFullScreenEnabled:function(){return document.msFullscreenEnabled||document.mozFullScreenEnabled||document.mozFullscreenEnabled||document.webkitFullscreenEnabled?!0:!1}};return h});