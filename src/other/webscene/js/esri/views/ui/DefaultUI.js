// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/4.0beta2/esri/copyright.txt for details.
//>>built
define("../../widgets/Attribution ../../widgets/Compass ../../widgets/Logo ../../widgets/Zoom ./Component ./UI dojo/_base/lang".split(" "),function(d,e,f,g,h,k,l){return k.createSubclass({declaredClass:"esri.views.ui.DefaultUI",constructor:function(){this._handles=[];this._addComponents=this._addComponents.bind(this);this._componentsWatcher=this._componentsWatcher.bind(this)},getDefaults:function(){return l.mixin(this.inherited(arguments),{components:["logo","attribution","zoom","compass"]})},initialize:function(){this._addComponents(this.components);
this._handles.push(this.watch("components",this._componentsWatcher))},destroy:function(){this._handles.forEach(function(a){a.remove()});this._handles.length=0},_defaultPositionLookup:{attribution:"bottom-right",logo:"bottom-right",compass:"top-left",zoom:"top-left"},_handles:null,_removeComponents:function(a){a.forEach(function(a){if(a=this.find(a))this.remove(a),a.destroy()},this)},_componentsSetter:function(a,b){return a||[]},_viewSetter:function(a,b){if(a===b)return a;this._updateViewAwareWidgets(a);
return this.inherited(arguments)},resize:function(a,b){this.inherited(arguments);this._layout(a,b)},_updateViewAwareWidgets:function(a){this.components.forEach(function(b){(b=this.find(b))&&b._widget.hasOwnProperty("view")&&b._widget.set("view",a)},this)},_layout:function(a,b){var c=this.find("attribution");c&&c._widget.set("maxWidth",0.45*a);(c=this.find("logo"))&&c._widget.set("size",25E4>a*b?"small":"medium")},_componentsWatcher:function(a,b){this._removeComponents(b);this._addComponents(a)},_addComponents:function(a){this._accessorProps.initialized&&
a.forEach(function(a){this.add(this._createComponent(a),this._defaultPositionLookup[a])},this)},_createComponent:function(a){var b=this._createWidget(a);if(b)return new h({id:a,node:b})},_createWidget:function(a){if("attribution"===a)return this._createAttribution();if("compass"===a)return this._createCompass();if("logo"===a)return this._createLogo();if("zoom"===a)return this._createZoom()},_createAttribution:function(){var a=new d({view:this.view});a.startup();return a},_createCompass:function(){var a=
new e({view:this.view});a.startup();return a},_createLogo:function(){var a=new f;a.startup();return a},_createZoom:function(){var a=new g({view:this.view});a.startup();return a}})});