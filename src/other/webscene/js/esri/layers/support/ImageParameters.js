// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/4.0beta2/esri/copyright.txt for details.
//>>built
define(["../../core/declare","dojo/_base/lang","../../core/lang","./layerUtils"],function(b,f,g,e){b=b(null,{declaredClass:"esri.layers.support.ImageParameters",constructor:function(){this.layerDefinitions=[]},extent:null,width:null,height:null,dpi:null,format:null,imageSpatialReference:null,layerOption:null,layerIds:null,transparent:null,timeExtent:null,layerTimeOptions:null,toJson:function(){try{throw Error("toJson is deprecated, use toJSON instead");}catch(a){console.warn(a.stack)}return this.toJSON()},
toJSON:function(){var a=this.extent,a=a&&a._normalize(!0),c=this.layerOption,b=a?a.spatialReference.wkid||JSON.stringify(a.spatialReference.toJSON()):null,d=this.imageSpatialReference,a={dpi:this.dpi,format:this.format,transparent:this.transparent,size:null!==this.width&&null!==this.height?this.width+","+this.height:null,bbox:a?a.xmin+","+a.ymin+","+a.xmax+","+a.ymax:null,bboxSR:b,layers:c?c+":"+this.layerIds.join(","):null,imageSR:d?d.wkid||JSON.stringify(d.toJSON()):b};a.layerDefs=e._serializeLayerDefinitions(this.layerDefinitions);
c=this.timeExtent;a.time=c?c.toJSON().join(","):null;a.layerTimeOptions=e._serializeTimeOptions(this.layerTimeOptions);return g.filter(a,function(a){if(null!==a)return!0})}});f.mixin(b,{LAYER_OPTION_SHOW:"show",LAYER_OPTION_HIDE:"hide",LAYER_OPTION_INCLUDE:"include",LAYER_OPTION_EXCLUDE:"exclude"});return b});