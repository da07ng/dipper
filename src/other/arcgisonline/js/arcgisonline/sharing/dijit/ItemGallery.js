// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.15/esri/copyright.txt for details.
//>>built
define("arcgisonline/sharing/dijit/ItemGallery","dojo/_base/declare arcgisonline/map/mapUtil dojox/widget/Standby dojo/dom-class dojo/hash dojo/dom-style dojo/topic dojo/on dojo/_base/connect dojo/aspect dojo/dom dojo/io-query dojo/dom-attr dojo/_base/window dojo/_base/lang dojo/_base/array dojo/dom-construct dojo/query dgrid/util/mouse dijit/_WidgetBase dijit/focus dojo/string dojo/store/Memory dojo/store/Observable dojo/store/Cache dojo/_base/Deferred dojo/promise/all dojo/when ../dijit/Grid esri/lang esri/arcgis/Portal ../dijit/_GalleryFiltersMixin dojo/i18n!arcgisonline/nls/arcgisonline dojo/NodeList-dom dojo/NodeList-traverse".split(" "),
function(v,J,K,l,z,t,L,h,M,B,g,A,u,C,c,p,m,e,N,D,E,w,O,F,P,G,q,x,H,Q,r,k,n){esri.i18nBundle=n;var I=v(null,{idProperty:"id",constructor:function(a){v.safeMixin(this,a)},get:function(a,b){return r.PortalUtil.request(this.portalUrl+"content/items/"+a,b).then(function(a){return new r.PortalItem(c.mixin(a,{portal:this.portal}))})},getIdentity:function(a){return a[this.idProperty]},query:function(a,b){var d=c.isObject(a)?a:{q:a};if(b&&(d=c.mixin(d,{num:b.count,start:(b.start||0)+1}),b.sort&&b.sort.length))var f=
b.sort[0],d=c.mixin(d,{sortField:encodeURIComponent("created"===f.attribute?"uploaded":f.attribute),sortOrder:f.descending?"desc":"asc"});d=this.portal.queryItems(d).then(function(a){a.results.total=a.total;return a.results});return r.PortalResult(d)}});return v([D],{_account:arcgisonline.sharing.geow.Account,_util:arcgisonline.sharing.util,baseClass:"esriGallery",postMixInProperties:function(){this.inherited(arguments);this._noFavoritesTemplate='\x3cdiv class\x3d"no-favorite"\x3e\x3ch1\x3e${i18n.gallery.noFavoritesHeader}\x3c/h1\x3e\x3cdiv class\x3d"fav-box"\x3e\x3cimg src\x3d"./images/no-fav.png" /\x3e\x3cp\x3e${i18n.gallery.noFavoritesMsg1}\x3c/p\x3e\x3cp\x3e${i18n.gallery.noFavoritesMsg2}\x3c/p\x3e\x3c/div\x3e\x3c/div\x3e';
this._template='\x3cdiv class\x3d"sub-nav"\x3e\x3cdiv class\x3d"container clearfix"\x3e\x3ch1 class\x3d"sub-nav-title"\x3e${i18n.gallery.galleryHeader}\x3c/h1\x3e\x3cdiv id\x3d"nav"\x3e${nav}\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"gallery-top-bar"\x3e\x3cdiv id\x3d"gallery-title"\x3e\x3ch2 id\x3d"gallery-title-text"\x3e\x3c/h2\x3e\x3c/div\x3e\x3cdiv id\x3d"gallery-sort"\x3e\x3cp\x3e${i18n.gallery.sortBy}\x3c/p\x3e\x3cselect id\x3d"sortField"\x3e\x3coption value\x3d"modified"\x3e${i18n.gallery.mostRecent}\x3c/option\x3e\x3coption value\x3d"numviews"\x3e${i18n.gallery.mostViewed}\x3c/option \x3e\x3coption value\x3d"avgrating"\x3e${i18n.gallery.highestRated}\x3c/option\x3e\x3coption value\x3d"title"\x3e${i18n.myOrganization.sortFields.title}\x3c/option \x3e\x3coption value\x3d"owner"\x3e${i18n.myOrganization.sortFields.owner}\x3c/option\x3e\x3c/select \x3e\x3ca id\x3d"gallery-view" class\x3d"thumbView selected" href\x3d"#"\x3e\x3c/a\x3e\x3ca id\x3d"details-view" class\x3d"detailView" href\x3d"#"\x3e\x3c/a \x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d"gallery"\x3e\x3cdiv id\x3d"gallery-left"\x3e\x3cdiv class\x3d"other"\x3e\x3ch4 id\x3d"filter-title"\x3e\x3c/h4\x3e\x3cul id\x3d"filters" class\x3d"filters"\x3e\x3c/ul\x3e\x3c/div\x3e\x3cdiv class\x3d"accordion"\x3e\x3ca id\x3d"maps" class\x3d"gallery-switch" href\x3d"#"\x3e${i18n.gallery.maps_esri}\x3cspan\x3e\x3c/span\x3e\x3c/a\x3e\x3cdiv class\x3d"maps-section" style\x3d"display:none;"\x3e\x3ch4 id\x3d"filter-title-maps"\x3e\x3c/h4\x3e\x3cul id\x3d"filters-maps" class\x3d"filters"\x3e\x3c/ul\x3e\x3ch4 class\x3d"featured area"\x3e${i18n.gallery.area}\x3c/h4\x3e\x3cul class\x3d"featured area" id\x3d"areas"\x3e\x3cli\x3e\x3ca id\x3d"all-area" href\x3d"#"\x3e${i18n.gallery.filters.all}\x3c/a\x3e\x3c/li\x3e\x3cli\x3e\x3ca id\x3d"world-area" href\x3d"#"\x3e${i18n.gallery.filters.world}\x3c/a\x3e\x3c/li\x3e\x3c/ul\x3e\x3c/div\x3e\x3ca id\x3d"apps" class\x3d"gallery-switch" href\x3d"#"\x3e${i18n.gallery.apps_esri}\x3cspan\x3e\x3c/span\x3e\x3c/a\x3e\x3cdiv class\x3d"apps-section" style\x3d"display:none;"\x3e\x3ch4 id\x3d"filter-title-apps"\x3e\x3c/h4\x3e\x3cul id\x3d"filters-apps" class\x3d"filters"\x3e\x3c/ul\x3e\x3c/div\x3e\x3c/div\x3e\x3ch4 class\x3d"accordionFooter"\x3e\x3ca id\x3d"search-website" href\x3d"#"\x3e${i18n.gallery.searchWebsite}\x3c/a\x3e ${i18n.gallery.orVisit} \x3ca href\x3d"'+
esriGeowConfig.marketplaceUrl+'"\x3e${i18n.gallery.marketplace}\x3c/a\x3e\x3c/h4\x3e\x3cimg id\x3d"filter-logo" style\x3d"display:none;" /\x3e\x3c/div\x3e\x3cdiv id\x3d"gallery-right" style\x3d"display:none;"\x3e\x3c/div\x3e\x3c/div\x3e'},postCreate:function(){this.inherited(arguments);esriGeowConfig.sceneViewerEnabled||(delete k.rootNodes.favorites.scenes,delete k.rootNodes.organization.scenes,delete k.weblayers.scenelayers);this._account.getSelf(c.hitch(this,function(a){this._canSearchPublic=a.canSearchPublic;
a.canSearchPublic=!0;this._portal=new r.Portal({url:esriGeowConfig.restBaseUrl,self:a});this._portal.on("load",c.hitch(this,function(b){var d=C.doc.createDocumentFragment(),f;this._user=this._portal.getPortalUser();this._orgId=b.user&&b.user.orgId||b.id;this._countryCode=a&&a.region||b.user&&b.user.region||b.ipCntryCode||"US";f=c.mixin({nav:w.substitute(this._createNav(),{i18n:n.gallery})},{i18n:n,organization:{orgName:b.name||n.gallery.esri}});m.place(w.substitute(this._template,f),d,"first");this.domNode.appendChild(d);
a.isPortal&&e(".accordionFooter").forEach(c.hitch(this,function(a){t.set(a,"display","none")}));this._getHashParams();this._loadConnections();this._addArea();this._user?(this._favGroupId=this._user.favGroupId,l.add(g.byId(this._selected),"is-active"),b="esri"!==this._selected?this._selected:this._type):(this._selected=this._orgId||a.isPortal?"organization":"esri",b=b.id||a.isPortal?"organization":this._type);g.byId("sortField").value=this._sortAttribute;this._createFilters(b);e(".accordion").style("display",
"esri"===this._selected?"":"none");e(".other").style("display","esri"===this._selected?"none":"");e(".apps-section").style("display","apps"===this._type?"":"none");e(".maps-section").style("display","apps"===this._type?"none":"");this._fetchItems(this._selected)}))}))},_loadConnections:function(){this.own(h(this.domNode,"#nav:click",c.hitch(this,function(a){a.preventDefault();if(a.target.id){if(a.target.id!==this._selected){var b=g.byId("filters"+(!("apps"!==this._selected&&"maps"!==this._selected)?
"-"+this._selected:""));m.empty(b);this._selected=a.target.id;this._selectedFilter="all";this._sortDescending="title"!==this._sortAttribute&&"owner"!==this._sortAttribute}this._grid._closePopup();e("a",g.byId("nav")).removeClass("is-active");e(a.target.parentNode,this.domNode).addClass("is-active");e(a.target,this.domNode).addClass("is-active");e(".accordion").style("display","esri"===this._selected?"":"none");e(".other").style("display","esri"===this._selected?"none":"");this._createFilters("esri"!==
this._selected?this._selected:this._type);this._grid._grid.set("noDataMessage","favorites"===this._selected?this._noFavoritesMessage:"");this._fetchItems(this._selected,1);e(".accordion").style("display","esri"===this._selected?"":"none");e(".other").style("display","esri"===this._selected?"none":"")}})),h(g.byId("gallery-left"),".gallery-switch:click",c.hitch(this,function(a){a.preventDefault();this._type=a.target.id||a.target.parentNode.id;this._selectedFilter="apps"===this._type?"readytouse":"all";
this._createFilters(this._type);e(".apps-section").style("display","apps"===this._type?"":"none");e(".maps-section").style("display","apps"===this._type?"none":"");this._fetchItems("esri",1)})),h(g.byId("gallery-left"),".filters:click, .esrifeatured:click",c.hitch(this,function(a){a.preventDefault();var b=a.target;if(!(b&&"A"!==b.tagName)){e(".filters a, .esrifeatured a",g.byId("gallery-left")).removeClass("selected");l.add(b,"selected");e(".filters .expanded",g.byId("gallery-left")).removeClass("expanded").style("display",
"none");if("by_esri"!==b.id&&"most_recent"!==b.id){var d=a.target.id.split("-");a=p.map(d,function(){var a=".filters #"+d.join("-");d.splice(-1,1);return a});e(a.join(", ")).siblings("ul").forEach(function(a){t.set(a,"display","block");l.add(a,"expanded")})}this._selectedFilter=b.id;this._fetchItems(this._selected,1)}})),h(g.byId("gallery-left"),"#areas:click",c.hitch(this,function(a){a.preventDefault();e("#areas a",g.byId("gallery-left")).removeClass("selected");l.add(a.target,"selected");this._area=
a.target.id.split("-area")[0];this._fetchItems("esri",1)})),h(g.byId("gallery-sort"),"a:click",c.hitch(this,function(a){a.preventDefault();e("a",g.byId("gallery-sort")).removeClass("selected");l.add(a.target,"selected");this._page=1;this._grid.set("view",a.target.id.split("-")[0]);this._grid.refresh()})),h(g.byId("sortField"),"change",c.hitch(this,function(a){this._sortAttribute=a=a.target.options[a.target.selectedIndex].value;this._sortDescending="title"!==a&&"owner"!==a;this._fetchItems(this._selected,
1)})),h(g.byId("search-website"),"click",c.hitch(this,function(a){a.preventDefault();E.focus(g.byId("search-box"))})),h(this.domNode,"touchstart",c.hitch(this,function(){this._grid._closePopup()})))},_addArea:function(){var a="WO"===this._countryCode?"WORLD":this._countryCode,b='\x3ca href\x3d"#" id\x3d"'+a+'-area"\x3e'+n.countryCodes[a]+"\x3c/a\x3e";"WORLD"!==a&&m.create("li",{innerHTML:b},g.byId("areas"),1)},_createGrid:function(){this._noFavoritesMessage=w.substitute(this._noFavoritesTemplate,
{i18n:n});var a={noDataMessage:"favorites"===this._selected?this._noFavoritesMessage:"",view:"gallery",portal:this.portal,store:new F(new I({portal:this._portal})),query:this._currentFilter||"",sort:[{attribute:this._sortAttribute,descending:this._sortDescending}],pagingLinks:2,selectionMode:"none",rowsPerPage:12};this._grid=new H(a,m.create("div",{},g.byId("gallery-right")));t.set(g.byId("gallery-right"),"display","");this.own(this._grid._grid.on(".fav-icon a:click",c.hitch(this,function(a){a.preventDefault();
if("favorites"===this._selected){var d=this._grid._grid.row(a);l.contains(a.target.parentNode,"fav-on")&&(this._grid._closePopup(),this._grid._grid.removeRow(d))}})),this._grid.on("refresh",c.hitch(this,function(a){this._img_connect&&(this._img_connect.remove(),this._img_connect_error.remove(),this._img_connect_error=this._img_connect=null);this._img_connect=e(".grid-item-thumb",this._grid._grid.domNode).on("load",c.hitch(this,function(a){(a=this._grid._grid.row(a))&&a.element&&e(".grid-item",a.element).addClass("fadeIn").style("opacity",
"1")}));this._img_connect_error=e("img",this._grid._grid.domNode).on("error",c.hitch(this,function(a){u.set(a.target,"src",this._util.getStaticImagesUrl()+"/desktopapp.png")}))})),B.before(this._grid._grid,"gotoPage",c.hitch(this,function(a){this._isStarting||(this._page=a,this._setHashParams());this._isStarting=!1})))},_createFilters:function(a){var b=k.rootNodes[a],d,f,c,y=n.gallery.filters,h,s,q=!("apps"!==a&&"maps"!==a)?"-"+a:"";(!esriGeowConfig.webAppBuilderEnabled||!this._user||!this._user.accountId)&&
delete b.appbuilder;h=g.byId("filters"+q);m.empty(h);for(d in b)for(f in s=m.create("li",{innerHTML:"\x3ca id\x3d'"+d+"'  href\x3d'#'\x3e"+y[d.split("_")[0]]+"\x3c/a\x3e"},h),b=m.create("ul",{style:{display:"none"}},s),k[d])if(s=m.create("li",{innerHTML:"\x3ca id\x3d'"+d+"-"+f+"' href\x3d'#'\x3e"+y[f]+"\x3c/a\x3e"},b),k[f])for(c in s=m.create("ul",{className:"inner-menu",style:{display:"none"}},s),k[f])m.create("li",{innerHTML:"\x3ca id\x3d'"+d+"-"+f+"-"+c+"' href\x3d'#'\x3e"+y[c]+"\x3c/a\x3e"},s);
u.set("filter-title"+q,"innerHTML",n.searchPage.show);"favorites"===this._selected?d=this._user.thumbnailUrl:(d="organization"===this._selected?this._portal.thumbnail&&0<this._portal.thumbnail.length?this._portal.thumbnailUrl:null:this._util.relativeToExplicitUrl("images/logo-pod.jpg"),u.set("gallery-title-text","innerHTML","organization"===this._selected?this._portal.name+" "+n.gallery.featuredContent:n.gallery["maps"===a?"featuredMapsEsri":"featuredAppsEsri"]));d&&u.set("filter-logo","src",d);e(".filters .expanded",
g.byId("gallery-left")).removeClass("expanded").style("display","none");var r=this._selectedFilter.split("-");f=p.map(r,function(){var a=".filters #"+r.join("-");r.splice(-1);return a});e(f.join(", ")).siblings("ul").forEach(function(a){t.set(a,"display","block");l.add(a,"expanded")});e(".featured",g.byId("gallery-left")).style("display","esri"===this._selected?"":"none");e(".area",g.byId("gallery-left")).style("display","maps"===a?"":"none");e(".filters #"+this._selectedFilter).addClass("selected");
e("#"+this._selectedFilter).addClass("selected");"esri"===this._selected&&(l.remove(g.byId("maps"===this._type?"apps":"maps"),"active"),l.add(g.byId(this._type),"active"),l.add(g.byId(this._area+"-area"),"selected"),"apps"===this._type&&(!this._selectedFilter||"all"===this._selectedFilter)&&g.byId("readytouse").click());e(".gallery-switch",this.domNode).style("display","favorites"!==a&&"organization"!==a?"":"none");e("#filter-logo",this.domNode).style("display",!d?"none":"");e("#gallery-title-text",
this.domNode).style("display","favorites"===this._selected?"none":"")},_createNav:function(){if(this._user){var a='\x3cdiv class\x3d"sub-nav-list"\x3e',b=esriGeowConfig.userRole&&esriGeowConfig.userRole.isCustom(),b=!b||b&&esriGeowConfig.userRole.canShareItemToGroup();this._user&&(b&&(a+='\x3ca id\x3d"favorites" href\x3d"#" class\x3d"sub-nav-link"\x3e${i18n.favorites}\x3c/a\x3e'),this._user.orgId&&(a+='\x3ca id\x3d"organization" href\x3d"#" class\x3d"sub-nav-link"\x3e${i18n.featuredOrg}\x3c/a\x3e'));
this._portal.isPortal||(a+='\x3ca id\x3d"esri" href\x3d"#" class\x3d"sub-nav-link"\x3e${i18n.featuredEsri}\x3c/a\x3e');return a+"\x3c/div\x3e"}return""},_filterContent:function(){var a=this._selectedFilter||"all",b=esriGeowConfig&&esriGeowConfig.filterQueries,d=b&&b[a];d&&(a=b[a]||{},a=a.f||d.f||"all");return"all"===a?"":a},_filterEsriContent:function(){var a=this._type,b=this._selectedFilter,d="apps"!==a?' -type:"Service" AND -type: "Feature Collection" AND -type: "Shapefile"':"",f=c.mixin({},k[a+
"-"+b]||k[b]||{}),a=[];if(f&&(f.tags||f.typekeywords))f&&f.tags&&(a=p.map(f.tags,function(a){return'tags:"'+a+'"'})),f&&f.typekeywords&&(a=p.map(f.typekeywords,function(a){return'typekeywords:"'+a+'"'}));else{if("most_recent"===b)return b=new Date,"(uploaded:[000000"+(new Date(b.getTime()-2592E6)).getTime()+"000 TO 000000"+b.getTime()+"000])";if("by_esri"===b)return'(owner:"esri")';f.root={};for(var e in f)(f=k[b+"-"+e])&&f.tags&&(a=a.concat(p.map(f.tags,function(a){return'tags:"'+a+'"'}))),f&&f.typekeywords&&
(a=a.concat(p.map(f.typekeywords,function(a){return'typekeywords:"'+a+'"'})))}a=a&&a.length?"("+a.join(" OR ")+")":"";"readytouse-desktop"===b&&(a+=" -typekeywords:'Web Mapping Application' -typekeywords:'Mobile Application'");!1===this._canSearchPublic&&(a+=' owner:"esri*"');return a+d},_filter:function(a){var b={sort:[{attribute:this._sortAttribute||"modified",descending:this._sortDescending}]},d;d="esri"===this._selected?this._filterEsriContent():this._filterContent();this._setHashParams();this._currentFilter=
a&&a.length?a+" "+d:"";this._grid?this._grid.set("query",this._currentFilter,b):(this._isStarting=!0,this._createGrid());1<this._page?this._grid.gotoPage(parseInt(this._page,10)):this._grid.refresh()},_setHashParams:function(){var a=c.mixin(this._hashParams,{c:this._selected,f:this._selectedFilter,t:this._type,a:this._area,o:this._sortAttribute,page:this._page});"esri"!==this._selected&&(delete a.t,delete a.a);1>=this._page&&delete a.page;for(var b in a)"all"===a[b]&&delete a[b];z(A.objectToQuery(a))},
_getHashParams:function(){var a=this._hashParams=c.mixin({},A.queryToObject(z()));c.mixin(this,{_selected:this._user&&a.c?a.c:this._user&&this._user.accountId?"organization":"esri",_selectedFilter:a.f&&k.mappings[a.f]?k.mappings[a.f].mappedCategory:a.f||"all",_type:a.t||"maps",_area:"world"!==a.a&&a.a!==this._countryCode?"all":a.a,_sortAttribute:a.o||"modified",_sortDescending:"owner"!==a.o&&"title"!==a.o,_page:a.page||1});"organization"===this._selected&&this._user&&(this._orgId?this._sortAttribute=
a.o?this._sortAttribute:null:(this._selected="esri",this._selectedFilter="all"))},_fetchItems:function(a,b){this._page=b||this._page;switch(a){case "favorites":return this._fetchGroupItems('group:"'+this._favGroupId+'"',esriGeowConfig.viewQueries.none);case "organization":if(this._portal.featuredItemsGroupQuery)return x(this._fetchGroup("orgGroup",{q:this._portal.featuredItemsGroupQuery}),c.hitch(this,function(a){if(a&&a.id)return this._sortAttribute=this._hashParams.o?this._sortAttribute:a.sortField||
"numviews",this._sortDescending="title"!==this._sortAttribute&&"owner"!==this._sortAttribute,g.byId("sortField").value=this._sortAttribute||"numviews",this._fetchGroupItems('group:"'+a.id+'"',esriGeowConfig.viewQueries.none);this._sortAttribute=this._sortAttribute||"numviews";g.byId("sortField").value=this._sortAttribute;return this._fetchMostRecent(this._orgId)}));this._sortAttribute=this._sortAttribute||"numviews";g.byId("sortField").value=this._sortAttribute;return this._fetchMostRecent(this._orgId);
default:return this._fetchEsri(this._type)}},_fetchEsri:function(a){var b;return"maps"===a?this._fetchEsriMaps():"appbuilder"===this._selectedFilter?this._fetchAppBuilder():("configurable"===this._selectedFilter?this._fetchEsriConfigurableApps():this._fetchEsriApps()).then(c.hitch(this,function(a){b=p.map(a||[],function(a){if(a)return'group:"'+a.id+'"'}).join(" OR ");"configurable"===this._selectedFilter&&(this._user&&this._user.accountId)&&(b+=' OR typekeywords: "appStudioEsri"');return this._fetchGroupItems(b)}))},
_fetchEsriMaps:function(){var a=this._area||"all",b=[];return"world"===a||"WO"===a?q([this._fetchEsriWorldMaps()]).then(c.hitch(this,function(a){return this._fetchGroupItems('group:"'+a[0].id+'"')})):"all"===a?q([this._fetchEsriWorldMaps(),this._fetchEsriMapsForArea(this._countryCode)]).then(c.hitch(this,function(a){p.forEach(a,function(a){a&&a.id&&b.push('group:"'+a.id+'"')});return this._fetchGroupItems(b.join(" OR "))})):q([this._fetchEsriMapsForArea(a)]).then(c.hitch(this,function(a){return this._fetchGroupItems('group:"'+
a[0].id+'"')}))},_fetchEsriMapsForArea:function(a){return"WO"===a?(a=new G,a.resolve({}),a):x(this._fetchGroup("esriMaps_"+a,{q:'tags:"gallery" AND owner:"Esri_cy_'+a+'"'}),c.hitch(this,function(a){return a}))},_fetchEsriWorldMaps:function(){return x(this._fetchGroup("esriMaps",{q:'title:"Featured Maps And Apps" AND owner:esri'}),c.hitch(this,function(a){return a}))},_fetchEsriConfigurableApps:function(){var a=this._user&&this._user.culture||this._portal&&this._portal.culture||dojoConfig.locale||
"en",b={q:'title:"Web Application Templates" AND owner:"esri_'+a.split("-")[0].toLowerCase()+'"'},d={q:'title:"Gallery Templates" AND owner:"esri_'+a.split("-")[0].toLowerCase()+'"'};return q([this._fetchGroup("esriGallery_"+a,b),this._fetchGroup("esriApps_"+a,d)]).then(c.hitch(this,function(a){return a||[]}))},_fetchAppBuilder:function(){return this._filter('(owner: "esri_'+(this._user&&this._user.culture||this._portal&&this._portal.culture||dojoConfig.locale||"en").split("-")[0].toLowerCase()+'")')},
_fetchEsriApps:function(){return q([this._fetchGroup("esriApps",{q:'title:"Featured Apps" AND owner:esri'})])},_fetchGroup:function(a,b){this._groups=this._groups||[];return this._groups[a]||this._portal.queryGroups(b).then(c.hitch(this,function(b){b=b.total&&b.results&&b.results[0]||null;return(this._groups[a]=b)||{}}))},_fetchMostRecent:function(a){this._filter("orgid:"+a+esriGeowConfig.viewQueries.web+esriGeowConfig.viewQueries.none)},_fetchGroupItems:function(a,b){this._filter("("+a+")"+(b?" "+
b:""))}})});